!function (a) {
  function k(a, b) {
    f += '<p style = "' + b + '" >' + a + "</p>", e && (j.innerHTML = f)
  }

  function l() {
    var a = document.createElement("style");
    a.id = d, a.type = "text/css";
    var g = "";
    g += "#" + b + "{position: absolute; top: 0; left: 0; z-index: 100000; background: rgba(0, 0, 0, 0.8); color: rgba(255, 255, 255, .7); width: 50%; height: 100%; overflow: auto; font-size: 10px; line-height: 1.3; padding: 10px; font-weight: normal; display: none;}", g += "#" + b + ".active {display: block;}", g += "#" + c + "{width: 12vmin; height: 12vmin; position: absolute; bottom: 0; right: 0; border: 3vmin solid rgba(255, 255, 255, .3); box-sizing: border-box; z-index: 100001;}", a.styleSheet ? a.styleSheet.cssText = g : a.appendChild(document.createTextNode(g)), document.body.appendChild(a);
    var h = document.createElement("div");
    h.id = c, document.body.appendChild(h);
    var i = document.createElement("div");
    return i.id = b, document.body.appendChild(i), document.getElementById(c).addEventListener("click", function () {
      document.getElementById(b).classList.toggle("active"), e = !e, j.innerHTML = e ? f : ""
    }), i
  }

  function m() {
    var a = document.getElementById(b);
    a.parentNode.removeChild(a);
    var e = document.getElementById(c);
    e.parentNode.removeChild(e);
    var g = document.getElementById(d);
    g.parentNode.removeChild(g), f = "", j = null
  }

  var b = "__debug__", c = "__debug-toggle__", d = "__debug-style__", e = !1, f = "", g = {},
    h = Object.keys(a.console);
  for (var i in h) i = h[i], g[i] = a.console[i];
  a.console.enable = function (b) {
    if (b) for (var c in h) c = h[c], a.console[c] = g[c]; else for (var c in h) c = h[c], a.console[c] = function () {
    }
  };
  var j = null;
  a.console.enableHtmlLog = function (b) {
    if (!(b && j || !b && !j)) if (b) {
      j = l();
      var c = function (a) {
        var b = void 0 !== a[0] ? a[0].toString() : "";
        return b = "string" == typeof b ? b.split("%c").join("") : ""
      };
      a.console.log = function () {
        k("LOG: " + c(arguments), "color: #FFFFFF")
      }, a.console.warn = function () {
        k("WARNING: " + c(arguments), "background-color: #FFF000; color: #000000")
      }, a.console.error = function () {
        k("ERROR: " + c(arguments), "background-color: #FF0000; color: #000000")
      }, a.console.group = a.console.groupCollapsed = function () {
        k("GROUP START: " + c(arguments), "color: #00d185")
      }, a.console.groupEnd = function () {
        k("GROUP END: " + c(arguments), "color: #00d185")
      };
      for (var d in h) d = h[d], "log" !== d && "warn" !== d && "error" !== d && "group" !== d && "groupEnd" !== d && "groupCollapsed" !== d && (a.console[d] = a.console.log)
    } else {
      m();
      for (var d in h) d = h[d], a.console[d] = function () {
      }
    }
  }
}(this);

(function () {
  var e, n, o, i, t, r, a, d, c, s;
  n = window.device, e = {}, window.device = e, i = window.document.documentElement, s = window.navigator.userAgent.toLowerCase(), e.ios = function () {
    return e.iphone() || e.ipod() || e.ipad()
  }, e.iphone = function () {
    return !e.windows() && t("iphone")
  }, e.iOSVersion = function () {
    var e = window.navigator.userAgent, n = e.indexOf("OS ");
    return e.indexOf("iPhone") > -1 && n > -1 ? window.Number(e.substr(n + 3, 3).replace("_", ".")) : 0
  }, e.isIphone5 = function () {
    return e.iOSVersion() >= 6 && window.devicePixelRatio >= 2 && 548 == screen.availHeight
  }, e.isIphoneX = function () {
    var n = window.devicePixelRatio || 1, o = window.screen.width * n, i = window.screen.height * n;
    return e.iphone() && 1125 == o && 2436 === i || 1125 == i && 2436 === o
  }, e.iphoneVersion = function () {
    return e.isIphone5() ? "iphone5" : ""
  }, e.firefox = function () {
    return navigator.userAgent.toLowerCase().indexOf("firefox") > -1
  }, e.chrome = function () {
    return navigator.userAgent.toLowerCase().indexOf("chrome") > -1
  }, e.ipod = function () {
    return t("ipod")
  }, e.ipad = function () {
    return t("ipad")
  }, e.android = function () {
    return !e.windows() && t("android")
  }, e.androidPhone = function () {
    return e.android() && t("mobile")
  }, e.androidTablet = function () {
    return e.android() && !t("mobile")
  }, e.blackberry = function () {
    return t("blackberry") || t("bb10") || t("rim") || -1 !== window.navigator.platform.toLowerCase().indexOf("blackberry")
  }, e.blackberryPhone = function () {
    return e.blackberry() && !t("tablet")
  }, e.blackberryTablet = function () {
    return e.blackberry() && t("tablet")
  }, e.windows = function () {
    return t("windows")
  }, e.windowsPhone = function () {
    return e.windows() && t("phone")
  }, e.windowsTablet = function () {
    return e.windows() && t("touch") && !e.windowsPhone()
  }, e.fxos = function () {
    return (t("(mobile;") || t("(tablet;")) && t("; rv:")
  }, e.fxosPhone = function () {
    return e.fxos() && t("mobile")
  }, e.fxosTablet = function () {
    return e.fxos() && t("tablet")
  }, e.meego = function () {
    return t("meego")
  }, e.cordova = function () {
    return window.cordova && "file:" === location.protocol
  }, e.nodeWebkit = function () {
    return "object" == typeof window.process
  }, e.mobile = function () {
    return e.androidPhone() || e.iphone() || e.ipod() || e.windowsPhone() || e.blackberryPhone() || e.fxosPhone() || e.meego()
  }, e.tablet = function () {
    return e.ipad() || e.androidTablet() || e.blackberryTablet() || e.windowsTablet() || e.fxosTablet()
  }, e.desktop = function () {
    return !e.tablet() && !e.mobile()
  }, e.television = function () {
    var e;
    for (television = ["googletv", "viera", "smarttv", "internet.tv", "netcast", "nettv", "appletv", "boxee", "kylo", "roku", "dlnadoc", "roku", "pov_tv", "hbbtv", "ce-html"], e = 0; e < television.length;) {
      if (t(television[e])) return !0;
      e++
    }
    return !1
  }, e.safari = function () {
    var e = window.navigator.userAgent, n = this.ios, o = !!e.match(/Safari/i),
      i = !e.match(/Chrome|CriOS|OPiOS|mercury|FxiOS|Firefox/i), t = !1;
    n ? t = !!e.match(/WebKit/i) && o && i : t = void 0 !== window.safari || o && i;
    return t
  }, e.portrait = function () {
    return window.innerHeight / window.innerWidth > 1 && !e.desktop()
  }, e.landscape = function () {
    return window.innerHeight / window.innerWidth < 1
  }, e.noConflict = function () {
    return window.device = n, this
  }, t = function (e) {
    return -1 !== s.indexOf(e)
  }, a = function (e) {
    var n;
    return n = new RegExp(e, "i"), i.className.match(n)
  }, o = function (e) {
    var n = null;
    a(e) || (n = i.className.replace(/^\s+|\s+$/g, ""), i.className = n + " " + e)
  }, c = function (e) {
    a(e) && (i.className = i.className.replace(" " + e, ""))
  }, e.ios() ? e.ipad() ? o("ios ipad tablet") : e.iphone() ? o("ios iphone mobile " + e.iphoneVersion()) : e.ipod() && o("ios ipod mobile") : e.android() ? e.androidTablet() ? o("android tablet") : o("android mobile") : e.blackberry() ? e.blackberryTablet() ? o("blackberry tablet") : o("blackberry mobile") : e.windows() ? e.windowsTablet() ? o("windows tablet") : e.windowsPhone() ? o("windows mobile") : o("desktop") : e.fxos() ? e.fxosTablet() ? o("fxos tablet") : o("fxos mobile") : e.meego() ? o("meego mobile") : e.nodeWebkit() ? o("node-webkit") : e.television() ? o("television") : e.desktop() && o("desktop"), e.cordova() && o("cordova"), e.firefox() && o("firefox"), r = function () {
    e.landscape() ? (c("portrait"), o("landscape")) : (c("landscape"), o("portrait"))
  }, d = Object.prototype.hasOwnProperty.call(window, "onorientationchange") ? "orientationchange" : "resize", window.addEventListener ? window.addEventListener(d, r, !1) : window.attachEvent ? window.attachEvent(d, r) : window[d] = r, r(), "function" == typeof define && "object" == typeof define.amd && define.amd ? define(function () {
    return e
  }) : "undefined" != typeof module && module.exports ? module.exports = e : window.device = e
}).call(this);
var PIXI = function (t) {
  "use strict";
  var e = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};

  function r(t, e) {
    return t(e = {exports: {}}, e.exports), e.exports
  }

  var i = r(function (t, r) {
      !function (t) {
        var e = t.Promise, i = e && "resolve" in e && "reject" in e && "all" in e && "race" in e && function () {
          var t;
          return new e(function (e) {
            t = e
          }), "function" == typeof t
        }();
        r ? (r.Promise = i ? e : T, r.Polyfill = T) : i || (t.Promise = T);
        var n = "pending", o = "sealed", s = "fulfilled", a = "rejected", h = function () {
        };

        function u(t) {
          return "[object Array]" === Object.prototype.toString.call(t)
        }

        var l, c = "undefined" != typeof setImmediate ? setImmediate : setTimeout, d = [];

        function p() {
          for (var t = 0; t < d.length; t++) d[t][0](d[t][1]);
          d = [], l = !1
        }

        function f(t, e) {
          d.push([t, e]), l || (l = !0, c(p, 0))
        }

        function m(t) {
          var e = t.owner, r = e.state_, i = e.data_, n = t[r], o = t.then;
          if ("function" == typeof n) {
            r = s;
            try {
              i = n(i)
            } catch (t) {
              _(o, t)
            }
          }
          v(o, i) || (r === s && y(o, i), r === a && _(o, i))
        }

        function v(t, e) {
          var r;
          try {
            if (t === e) throw new TypeError("A promises callback cannot return that same promise.");
            if (e && ("function" == typeof e || "object" == typeof e)) {
              var i = e.then;
              if ("function" == typeof i) return i.call(e, function (i) {
                r || (r = !0, e !== i ? y(t, i) : g(t, i))
              }, function (e) {
                r || (r = !0, _(t, e))
              }), !0
            }
          } catch (e) {
            return r || _(t, e), !0
          }
          return !1
        }

        function y(t, e) {
          t !== e && v(t, e) || g(t, e)
        }

        function g(t, e) {
          t.state_ === n && (t.state_ = o, t.data_ = e, f(b, t))
        }

        function _(t, e) {
          t.state_ === n && (t.state_ = o, t.data_ = e, f(E, t))
        }

        function x(t) {
          var e = t.then_;
          t.then_ = void 0;
          for (var r = 0; r < e.length; r++) m(e[r])
        }

        function b(t) {
          t.state_ = s, x(t)
        }

        function E(t) {
          t.state_ = a, x(t)
        }

        function T(t) {
          if ("function" != typeof t) throw new TypeError("Promise constructor takes a function argument");
          if (this instanceof T == !1) throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
          this.then_ = [], function (t, e) {
            function r(t) {
              _(e, t)
            }

            try {
              t(function (t) {
                y(e, t)
              }, r)
            } catch (t) {
              r(t)
            }
          }(t, this)
        }

        T.prototype = {
          constructor: T, state_: n, then_: null, data_: void 0, then: function (t, e) {
            var r = {owner: this, then: new this.constructor(h), fulfilled: t, rejected: e};
            return this.state_ === s || this.state_ === a ? f(m, r) : this.then_.push(r), r.then
          }, catch: function (t) {
            return this.then(null, t)
          }
        }, T.all = function (t) {
          if (!u(t)) throw new TypeError("You must pass an array to Promise.all().");
          return new this(function (e, r) {
            var i = [], n = 0;

            function o(t) {
              return n++, function (r) {
                i[t] = r, --n || e(i)
              }
            }

            for (var s, a = 0; a < t.length; a++) (s = t[a]) && "function" == typeof s.then ? s.then(o(a), r) : i[a] = s;
            n || e(i)
          })
        }, T.race = function (t) {
          if (!u(t)) throw new TypeError("You must pass an array to Promise.race().");
          return new this(function (e, r) {
            for (var i, n = 0; n < t.length; n++) (i = t[n]) && "function" == typeof i.then ? i.then(e, r) : e(i)
          })
        }, T.resolve = function (t) {
          return t && "object" == typeof t && t.constructor === this ? t : new this(function (e) {
            e(t)
          })
        }, T.reject = function (t) {
          return new this(function (e, r) {
            r(t)
          })
        }
      }("undefined" != typeof window ? window : void 0 !== e ? e : "undefined" != typeof self ? self : e)
    }), n = (i.Promise, i.Polyfill), o = Object.getOwnPropertySymbols, s = Object.prototype.hasOwnProperty,
    a = Object.prototype.propertyIsEnumerable;
  var h = function () {
    try {
      if (!Object.assign) return !1;
      var t = new String("abc");
      if (t[5] = "de", "5" === Object.getOwnPropertyNames(t)[0]) return !1;
      for (var e = {}, r = 0; r < 10; r++) e["_" + String.fromCharCode(r)] = r;
      if ("0123456789" !== Object.getOwnPropertyNames(e).map(function (t) {
        return e[t]
      }).join("")) return !1;
      var i = {};
      return "abcdefghijklmnopqrst".split("").forEach(function (t) {
        i[t] = t
      }), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, i)).join("")
    } catch (t) {
      return !1
    }
  }() ? Object.assign : function (t, e) {
    for (var r, i, n = arguments, h = function (t) {
      if (null == t) throw new TypeError("Object.assign cannot be called with null or undefined");
      return Object(t)
    }(t), u = 1; u < arguments.length; u++) {
      for (var l in r = Object(n[u])) s.call(r, l) && (h[l] = r[l]);
      if (o) {
        i = o(r);
        for (var c = 0; c < i.length; c++) a.call(r, i[c]) && (h[i[c]] = r[i[c]])
      }
    }
    return h
  };
  window.Promise || (window.Promise = n), Object.assign || (Object.assign = h);
  if (Date.now && Date.prototype.getTime || (Date.now = function () {
    return (new Date).getTime()
  }), !window.performance || !window.performance.now) {
    var u = Date.now();
    window.performance || (window.performance = {}), window.performance.now = function () {
      return Date.now() - u
    }
  }
  for (var l = Date.now(), c = ["ms", "moz", "webkit", "o"], d = 0; d < c.length && !window.requestAnimationFrame; ++d) {
    var p = c[d];
    window.requestAnimationFrame = window[p + "RequestAnimationFrame"], window.cancelAnimationFrame = window[p + "CancelAnimationFrame"] || window[p + "CancelRequestAnimationFrame"]
  }
  window.requestAnimationFrame || (window.requestAnimationFrame = function (t) {
    if ("function" != typeof t) throw new TypeError(t + "is not a function");
    var e = Date.now(), r = 16 + l - e;
    return r < 0 && (r = 0), l = e, window.setTimeout(function () {
      l = Date.now(), t(performance.now())
    }, r)
  }), window.cancelAnimationFrame || (window.cancelAnimationFrame = function (t) {
    return clearTimeout(t)
  }), Math.sign || (Math.sign = function (t) {
    return 0 === (t = Number(t)) || isNaN(t) ? t : t > 0 ? 1 : -1
  }), Number.isInteger || (Number.isInteger = function (t) {
    return "number" == typeof t && isFinite(t) && Math.floor(t) === t
  }), window.ArrayBuffer || (window.ArrayBuffer = Array), window.Float32Array || (window.Float32Array = Array), window.Uint32Array || (window.Uint32Array = Array), window.Uint16Array || (window.Uint16Array = Array), window.Uint8Array || (window.Uint8Array = Array), window.Int32Array || (window.Int32Array = Array);
  var f = /iPhone/i, m = /iPod/i, v = /iPad/i, y = /\biOS-universal(?:.+)Mac\b/i, g = /\bAndroid(?:.+)Mobile\b/i,
    _ = /Android/i, x = /(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i, b = /Silk/i, E = /Windows Phone/i,
    T = /\bWindows(?:.+)ARM\b/i, P = /BlackBerry/i, S = /BB10/i, w = /Opera Mini/i, I = /\b(CriOS|Chrome)(?:.+)Mobile/i,
    A = /Mobile(?:.+)Firefox\b/i, O = function (t) {
      return void 0 !== t && "MacIntel" === t.platform && "number" == typeof t.maxTouchPoints && t.maxTouchPoints > 1 && "undefined" == typeof MSStream
    };
  var M = function (t) {
    var e = {userAgent: "", platform: "", maxTouchPoints: 0};
    t || "undefined" == typeof navigator ? "string" == typeof t ? e.userAgent = t : t && t.userAgent && (e = {
      userAgent: t.userAgent,
      platform: t.platform,
      maxTouchPoints: t.maxTouchPoints || 0
    }) : e = {
      userAgent: navigator.userAgent,
      platform: navigator.platform,
      maxTouchPoints: navigator.maxTouchPoints || 0
    };
    var r = e.userAgent, i = r.split("[FBAN");
    void 0 !== i[1] && (r = i[0]), void 0 !== (i = r.split("Twitter"))[1] && (r = i[0]);
    var n = function (t) {
      return function (e) {
        return e.test(t)
      }
    }(r), o = {
      apple: {
        phone: n(f) && !n(E),
        ipod: n(m),
        tablet: !n(f) && (n(v) || O(e)) && !n(E),
        universal: n(y),
        device: (n(f) || n(m) || n(v) || n(y) || O(e)) && !n(E)
      },
      amazon: {phone: n(x), tablet: !n(x) && n(b), device: n(x) || n(b)},
      android: {
        phone: !n(E) && n(x) || !n(E) && n(g),
        tablet: !n(E) && !n(x) && !n(g) && (n(b) || n(_)),
        device: !n(E) && (n(x) || n(b) || n(g) || n(_)) || n(/\bokhttp\b/i)
      },
      windows: {phone: n(E), tablet: n(T), device: n(E) || n(T)},
      other: {
        blackberry: n(P),
        blackberry10: n(S),
        opera: n(w),
        firefox: n(A),
        chrome: n(I),
        device: n(P) || n(S) || n(w) || n(A) || n(I)
      },
      any: !1,
      phone: !1,
      tablet: !1
    };
    return o.any = o.apple.device || o.android.device || o.windows.device || o.other.device, o.phone = o.apple.phone || o.android.phone || o.windows.phone, o.tablet = o.apple.tablet || o.android.tablet || o.windows.tablet, o
  }(window.navigator);
  var C = {
    MIPMAP_TEXTURES: 1,
    ANISOTROPIC_LEVEL: 0,
    RESOLUTION: 1,
    FILTER_RESOLUTION: 1,
    SPRITE_MAX_TEXTURES: function (t) {
      var e = !0;
      if (M.tablet || M.phone) {
        var r;
        M.apple.device && (r = navigator.userAgent.match(/OS (\d+)_(\d+)?/)) && parseInt(r[1], 10) < 11 && (e = !1), M.android.device && (r = navigator.userAgent.match(/Android\s([0-9.]*)/)) && parseInt(r[1], 10) < 7 && (e = !1)
      }
      return e ? t : 4
    }(32),
    SPRITE_BATCH_SIZE: 4096,
    RENDER_OPTIONS: {
      view: null,
      antialias: !1,
      autoDensity: !1,
      transparent: !1,
      backgroundColor: 0,
      clearBeforeRender: !0,
      preserveDrawingBuffer: !1,
      width: 800,
      height: 600,
      legacy: !1
    },
    GC_MODE: 0,
    GC_MAX_IDLE: 3600,
    GC_MAX_CHECK_COUNT: 600,
    WRAP_MODE: 33071,
    SCALE_MODE: 1,
    PRECISION_VERTEX: "highp",
    PRECISION_FRAGMENT: M.apple.device ? "highp" : "mediump",
    CAN_UPLOAD_SAME_BUFFER: !M.apple.device,
    CREATE_IMAGE_BITMAP: !1,
    ROUND_PIXELS: !1
  }, D = r(function (t) {
    var e = Object.prototype.hasOwnProperty, r = "~";

    function i() {
    }

    function n(t, e, r) {
      this.fn = t, this.context = e, this.once = r || !1
    }

    function o(t, e, i, o, s) {
      if ("function" != typeof i) throw new TypeError("The listener must be a function");
      var a = new n(i, o || t, s), h = r ? r + e : e;
      return t._events[h] ? t._events[h].fn ? t._events[h] = [t._events[h], a] : t._events[h].push(a) : (t._events[h] = a, t._eventsCount++), t
    }

    function s(t, e) {
      0 == --t._eventsCount ? t._events = new i : delete t._events[e]
    }

    function a() {
      this._events = new i, this._eventsCount = 0
    }

    Object.create && (i.prototype = Object.create(null), (new i).__proto__ || (r = !1)), a.prototype.eventNames = function () {
      var t, i, n = [];
      if (0 === this._eventsCount) return n;
      for (i in t = this._events) e.call(t, i) && n.push(r ? i.slice(1) : i);
      return Object.getOwnPropertySymbols ? n.concat(Object.getOwnPropertySymbols(t)) : n
    }, a.prototype.listeners = function (t) {
      var e = r ? r + t : t, i = this._events[e];
      if (!i) return [];
      if (i.fn) return [i.fn];
      for (var n = 0, o = i.length, s = new Array(o); n < o; n++) s[n] = i[n].fn;
      return s
    }, a.prototype.listenerCount = function (t) {
      var e = r ? r + t : t, i = this._events[e];
      return i ? i.fn ? 1 : i.length : 0
    }, a.prototype.emit = function (t, e, i, n, o, s) {
      var a = arguments, h = r ? r + t : t;
      if (!this._events[h]) return !1;
      var u, l, c = this._events[h], d = arguments.length;
      if (c.fn) {
        switch (c.once && this.removeListener(t, c.fn, void 0, !0), d) {
          case 1:
            return c.fn.call(c.context), !0;
          case 2:
            return c.fn.call(c.context, e), !0;
          case 3:
            return c.fn.call(c.context, e, i), !0;
          case 4:
            return c.fn.call(c.context, e, i, n), !0;
          case 5:
            return c.fn.call(c.context, e, i, n, o), !0;
          case 6:
            return c.fn.call(c.context, e, i, n, o, s), !0
        }
        for (l = 1, u = new Array(d - 1); l < d; l++) u[l - 1] = a[l];
        c.fn.apply(c.context, u)
      } else {
        var p, f = c.length;
        for (l = 0; l < f; l++) switch (c[l].once && this.removeListener(t, c[l].fn, void 0, !0), d) {
          case 1:
            c[l].fn.call(c[l].context);
            break;
          case 2:
            c[l].fn.call(c[l].context, e);
            break;
          case 3:
            c[l].fn.call(c[l].context, e, i);
            break;
          case 4:
            c[l].fn.call(c[l].context, e, i, n);
            break;
          default:
            if (!u) for (p = 1, u = new Array(d - 1); p < d; p++) u[p - 1] = a[p];
            c[l].fn.apply(c[l].context, u)
        }
      }
      return !0
    }, a.prototype.on = function (t, e, r) {
      return o(this, t, e, r, !1)
    }, a.prototype.once = function (t, e, r) {
      return o(this, t, e, r, !0)
    }, a.prototype.removeListener = function (t, e, i, n) {
      var o = r ? r + t : t;
      if (!this._events[o]) return this;
      if (!e) return s(this, o), this;
      var a = this._events[o];
      if (a.fn) a.fn !== e || n && !a.once || i && a.context !== i || s(this, o); else {
        for (var h = 0, u = [], l = a.length; h < l; h++) (a[h].fn !== e || n && !a[h].once || i && a[h].context !== i) && u.push(a[h]);
        u.length ? this._events[o] = 1 === u.length ? u[0] : u : s(this, o)
      }
      return this
    }, a.prototype.removeAllListeners = function (t) {
      var e;
      return t ? (e = r ? r + t : t, this._events[e] && s(this, e)) : (this._events = new i, this._eventsCount = 0), this
    }, a.prototype.off = a.prototype.removeListener, a.prototype.addListener = a.prototype.on, a.prefixed = r, a.EventEmitter = a, t.exports = a
  }), R = N, L = N;

  function N(t, e, r) {
    r = r || 2;
    var i, n, o, s, a, h, u, l = e && e.length, c = l ? e[0] * r : t.length, d = F(t, 0, c, r, !0), p = [];
    if (!d || d.next === d.prev) return p;
    if (l && (d = function (t, e, r, i) {
      var n, o, s, a, h, u = [];
      for (n = 0, o = e.length; n < o; n++) s = e[n] * i, a = n < o - 1 ? e[n + 1] * i : t.length, (h = F(t, s, a, i, !1)) === h.next && (h.steiner = !0), u.push(W(h));
      for (u.sort(H), n = 0; n < u.length; n++) Y(u[n], r), r = B(r, r.next);
      return r
    }(t, e, d, r)), t.length > 80 * r) {
      i = o = t[0], n = s = t[1];
      for (var f = r; f < c; f += r) (a = t[f]) < i && (i = a), (h = t[f + 1]) < n && (n = h), a > o && (o = a), h > s && (s = h);
      u = 0 !== (u = Math.max(o - i, s - n)) ? 1 / u : 0
    }
    return U(d, p, r, i, n, u), p
  }

  function F(t, e, r, i, n) {
    var o, s;
    if (n === st(t, e, r, i) > 0) for (o = e; o < r; o += i) s = it(o, t[o], t[o + 1], s); else for (o = r - i; o >= e; o -= i) s = it(o, t[o], t[o + 1], s);
    return s && J(s, s.next) && (nt(s), s = s.next), s
  }

  function B(t, e) {
    if (!t) return t;
    e || (e = t);
    var r, i = t;
    do {
      if (r = !1, i.steiner || !J(i, i.next) && 0 !== Z(i.prev, i, i.next)) i = i.next; else {
        if (nt(i), (i = e = i.prev) === i.next) break;
        r = !0
      }
    } while (r || i !== e);
    return e
  }

  function U(t, e, r, i, n, o, s) {
    if (t) {
      !s && o && function (t, e, r, i) {
        var n = t;
        do {
          null === n.z && (n.z = V(n.x, n.y, e, r, i)), n.prevZ = n.prev, n.nextZ = n.next, n = n.next
        } while (n !== t);
        n.prevZ.nextZ = null, n.prevZ = null, function (t) {
          var e, r, i, n, o, s, a, h, u = 1;
          do {
            for (r = t, t = null, o = null, s = 0; r;) {
              for (s++, i = r, a = 0, e = 0; e < u && (a++, i = i.nextZ); e++) ;
              for (h = u; a > 0 || h > 0 && i;) 0 !== a && (0 === h || !i || r.z <= i.z) ? (n = r, r = r.nextZ, a--) : (n = i, i = i.nextZ, h--), o ? o.nextZ = n : t = n, n.prevZ = o, o = n;
              r = i
            }
            o.nextZ = null, u *= 2
          } while (s > 1)
        }(n)
      }(t, i, n, o);
      for (var a, h, u = t; t.prev !== t.next;) if (a = t.prev, h = t.next, o ? X(t, i, n, o) : k(t)) e.push(a.i / r), e.push(t.i / r), e.push(h.i / r), nt(t), t = h.next, u = h.next; else if ((t = h) === u) {
        s ? 1 === s ? U(t = j(B(t), e, r), e, r, i, n, o, 2) : 2 === s && G(t, e, r, i, n, o) : U(B(t), e, r, i, n, o, 1);
        break
      }
    }
  }

  function k(t) {
    var e = t.prev, r = t, i = t.next;
    if (Z(e, r, i) >= 0) return !1;
    for (var n = t.next.next; n !== t.prev;) {
      if (q(e.x, e.y, r.x, r.y, i.x, i.y, n.x, n.y) && Z(n.prev, n, n.next) >= 0) return !1;
      n = n.next
    }
    return !0
  }

  function X(t, e, r, i) {
    var n = t.prev, o = t, s = t.next;
    if (Z(n, o, s) >= 0) return !1;
    for (var a = n.x < o.x ? n.x < s.x ? n.x : s.x : o.x < s.x ? o.x : s.x, h = n.y < o.y ? n.y < s.y ? n.y : s.y : o.y < s.y ? o.y : s.y, u = n.x > o.x ? n.x > s.x ? n.x : s.x : o.x > s.x ? o.x : s.x, l = n.y > o.y ? n.y > s.y ? n.y : s.y : o.y > s.y ? o.y : s.y, c = V(a, h, e, r, i), d = V(u, l, e, r, i), p = t.prevZ, f = t.nextZ; p && p.z >= c && f && f.z <= d;) {
      if (p !== t.prev && p !== t.next && q(n.x, n.y, o.x, o.y, s.x, s.y, p.x, p.y) && Z(p.prev, p, p.next) >= 0) return !1;
      if (p = p.prevZ, f !== t.prev && f !== t.next && q(n.x, n.y, o.x, o.y, s.x, s.y, f.x, f.y) && Z(f.prev, f, f.next) >= 0) return !1;
      f = f.nextZ
    }
    for (; p && p.z >= c;) {
      if (p !== t.prev && p !== t.next && q(n.x, n.y, o.x, o.y, s.x, s.y, p.x, p.y) && Z(p.prev, p, p.next) >= 0) return !1;
      p = p.prevZ
    }
    for (; f && f.z <= d;) {
      if (f !== t.prev && f !== t.next && q(n.x, n.y, o.x, o.y, s.x, s.y, f.x, f.y) && Z(f.prev, f, f.next) >= 0) return !1;
      f = f.nextZ
    }
    return !0
  }

  function j(t, e, r) {
    var i = t;
    do {
      var n = i.prev, o = i.next.next;
      !J(n, o) && Q(n, i, i.next, o) && et(n, o) && et(o, n) && (e.push(n.i / r), e.push(i.i / r), e.push(o.i / r), nt(i), nt(i.next), i = t = o), i = i.next
    } while (i !== t);
    return B(i)
  }

  function G(t, e, r, i, n, o) {
    var s = t;
    do {
      for (var a = s.next.next; a !== s.prev;) {
        if (s.i !== a.i && K(s, a)) {
          var h = rt(s, a);
          return s = B(s, s.next), h = B(h, h.next), U(s, e, r, i, n, o), void U(h, e, r, i, n, o)
        }
        a = a.next
      }
      s = s.next
    } while (s !== t)
  }

  function H(t, e) {
    return t.x - e.x
  }

  function Y(t, e) {
    if (e = function (t, e) {
      var r, i = e, n = t.x, o = t.y, s = -1 / 0;
      do {
        if (o <= i.y && o >= i.next.y && i.next.y !== i.y) {
          var a = i.x + (o - i.y) * (i.next.x - i.x) / (i.next.y - i.y);
          if (a <= n && a > s) {
            if (s = a, a === n) {
              if (o === i.y) return i;
              if (o === i.next.y) return i.next
            }
            r = i.x < i.next.x ? i : i.next
          }
        }
        i = i.next
      } while (i !== e);
      if (!r) return null;
      if (n === s) return r;
      var h, u = r, l = r.x, c = r.y, d = 1 / 0;
      i = r;
      do {
        n >= i.x && i.x >= l && n !== i.x && q(o < c ? n : s, o, l, c, o < c ? s : n, o, i.x, i.y) && (h = Math.abs(o - i.y) / (n - i.x), et(i, t) && (h < d || h === d && (i.x > r.x || i.x === r.x && z(r, i))) && (r = i, d = h)), i = i.next
      } while (i !== u);
      return r
    }(t, e)) {
      var r = rt(e, t);
      B(e, e.next), B(r, r.next)
    }
  }

  function z(t, e) {
    return Z(t.prev, t, e.prev) < 0 && Z(e.next, t, t.next) < 0
  }

  function V(t, e, r, i, n) {
    return (t = 1431655765 & ((t = 858993459 & ((t = 252645135 & ((t = 16711935 & ((t = 32767 * (t - r) * n) | t << 8)) | t << 4)) | t << 2)) | t << 1)) | (e = 1431655765 & ((e = 858993459 & ((e = 252645135 & ((e = 16711935 & ((e = 32767 * (e - i) * n) | e << 8)) | e << 4)) | e << 2)) | e << 1)) << 1
  }

  function W(t) {
    var e = t, r = t;
    do {
      (e.x < r.x || e.x === r.x && e.y < r.y) && (r = e), e = e.next
    } while (e !== t);
    return r
  }

  function q(t, e, r, i, n, o, s, a) {
    return (n - s) * (e - a) - (t - s) * (o - a) >= 0 && (t - s) * (i - a) - (r - s) * (e - a) >= 0 && (r - s) * (o - a) - (n - s) * (i - a) >= 0
  }

  function K(t, e) {
    return t.next.i !== e.i && t.prev.i !== e.i && !function (t, e) {
      var r = t;
      do {
        if (r.i !== t.i && r.next.i !== t.i && r.i !== e.i && r.next.i !== e.i && Q(r, r.next, t, e)) return !0;
        r = r.next
      } while (r !== t);
      return !1
    }(t, e) && (et(t, e) && et(e, t) && function (t, e) {
      var r = t, i = !1, n = (t.x + e.x) / 2, o = (t.y + e.y) / 2;
      do {
        r.y > o != r.next.y > o && r.next.y !== r.y && n < (r.next.x - r.x) * (o - r.y) / (r.next.y - r.y) + r.x && (i = !i), r = r.next
      } while (r !== t);
      return i
    }(t, e) && (Z(t.prev, t, e.prev) || Z(t, e.prev, e)) || J(t, e) && Z(t.prev, t, t.next) > 0 && Z(e.prev, e, e.next) > 0)
  }

  function Z(t, e, r) {
    return (e.y - t.y) * (r.x - e.x) - (e.x - t.x) * (r.y - e.y)
  }

  function J(t, e) {
    return t.x === e.x && t.y === e.y
  }

  function Q(t, e, r, i) {
    var n = tt(Z(t, e, r)), o = tt(Z(t, e, i)), s = tt(Z(r, i, t)), a = tt(Z(r, i, e));
    return n !== o && s !== a || (!(0 !== n || !$(t, r, e)) || (!(0 !== o || !$(t, i, e)) || (!(0 !== s || !$(r, t, i)) || !(0 !== a || !$(r, e, i)))))
  }

  function $(t, e, r) {
    return e.x <= Math.max(t.x, r.x) && e.x >= Math.min(t.x, r.x) && e.y <= Math.max(t.y, r.y) && e.y >= Math.min(t.y, r.y)
  }

  function tt(t) {
    return t > 0 ? 1 : t < 0 ? -1 : 0
  }

  function et(t, e) {
    return Z(t.prev, t, t.next) < 0 ? Z(t, e, t.next) >= 0 && Z(t, t.prev, e) >= 0 : Z(t, e, t.prev) < 0 || Z(t, t.next, e) < 0
  }

  function rt(t, e) {
    var r = new ot(t.i, t.x, t.y), i = new ot(e.i, e.x, e.y), n = t.next, o = e.prev;
    return t.next = e, e.prev = t, r.next = n, n.prev = r, i.next = r, r.prev = i, o.next = i, i.prev = o, i
  }

  function it(t, e, r, i) {
    var n = new ot(t, e, r);
    return i ? (n.next = i.next, n.prev = i, i.next.prev = n, i.next = n) : (n.prev = n, n.next = n), n
  }

  function nt(t) {
    t.next.prev = t.prev, t.prev.next = t.next, t.prevZ && (t.prevZ.nextZ = t.nextZ), t.nextZ && (t.nextZ.prevZ = t.prevZ)
  }

  function ot(t, e, r) {
    this.i = t, this.x = e, this.y = r, this.prev = null, this.next = null, this.z = null, this.prevZ = null, this.nextZ = null, this.steiner = !1
  }

  function st(t, e, r, i) {
    for (var n = 0, o = e, s = r - i; o < r; o += i) n += (t[s] - t[o]) * (t[o + 1] + t[s + 1]), s = o;
    return n
  }

  N.deviation = function (t, e, r, i) {
    var n = e && e.length, o = n ? e[0] * r : t.length, s = Math.abs(st(t, 0, o, r));
    if (n) for (var a = 0, h = e.length; a < h; a++) {
      var u = e[a] * r, l = a < h - 1 ? e[a + 1] * r : t.length;
      s -= Math.abs(st(t, u, l, r))
    }
    var c = 0;
    for (a = 0; a < i.length; a += 3) {
      var d = i[a] * r, p = i[a + 1] * r, f = i[a + 2] * r;
      c += Math.abs((t[d] - t[f]) * (t[p + 1] - t[d + 1]) - (t[d] - t[p]) * (t[f + 1] - t[d + 1]))
    }
    return 0 === s && 0 === c ? 0 : Math.abs((c - s) / s)
  }, N.flatten = function (t) {
    for (var e = t[0][0].length, r = {vertices: [], holes: [], dimensions: e}, i = 0, n = 0; n < t.length; n++) {
      for (var o = 0; o < t[n].length; o++) for (var s = 0; s < e; s++) r.vertices.push(t[n][o][s]);
      n > 0 && (i += t[n - 1].length, r.holes.push(i))
    }
    return r
  }, R.default = L;
  var at = r(function (t, r) {
    !function (i) {
      var n = r && !r.nodeType && r, o = t && !t.nodeType && t, s = "object" == typeof e && e;
      s.global !== s && s.window !== s && s.self !== s || (i = s);
      var a, h, u = 2147483647, l = 36, c = 1, d = 26, p = 38, f = 700, m = 72, v = 128, y = "-", g = /^xn--/,
        _ = /[^\x20-\x7E]/, x = /[\x2E\u3002\uFF0E\uFF61]/g, b = {
          overflow: "Overflow: input needs wider integers to process",
          "not-basic": "Illegal input >= 0x80 (not a basic code point)",
          "invalid-input": "Invalid input"
        }, E = l - c, T = Math.floor, P = String.fromCharCode;

      function S(t) {
        throw RangeError(b[t])
      }

      function w(t, e) {
        for (var r = t.length, i = []; r--;) i[r] = e(t[r]);
        return i
      }

      function I(t, e) {
        var r = t.split("@"), i = "";
        return r.length > 1 && (i = r[0] + "@", t = r[1]), i + w((t = t.replace(x, ".")).split("."), e).join(".")
      }

      function A(t) {
        for (var e, r, i = [], n = 0, o = t.length; n < o;) (e = t.charCodeAt(n++)) >= 55296 && e <= 56319 && n < o ? 56320 == (64512 & (r = t.charCodeAt(n++))) ? i.push(((1023 & e) << 10) + (1023 & r) + 65536) : (i.push(e), n--) : i.push(e);
        return i
      }

      function O(t) {
        return w(t, function (t) {
          var e = "";
          return t > 65535 && (e += P((t -= 65536) >>> 10 & 1023 | 55296), t = 56320 | 1023 & t), e += P(t)
        }).join("")
      }

      function M(t, e) {
        return t + 22 + 75 * (t < 26) - ((0 != e) << 5)
      }

      function C(t, e, r) {
        var i = 0;
        for (t = r ? T(t / f) : t >> 1, t += T(t / e); t > E * d >> 1; i += l) t = T(t / E);
        return T(i + (E + 1) * t / (t + p))
      }

      function D(t) {
        var e, r, i, n, o, s, a, h, p, f, g, _ = [], x = t.length, b = 0, E = v, P = m;
        for ((r = t.lastIndexOf(y)) < 0 && (r = 0), i = 0; i < r; ++i) t.charCodeAt(i) >= 128 && S("not-basic"), _.push(t.charCodeAt(i));
        for (n = r > 0 ? r + 1 : 0; n < x;) {
          for (o = b, s = 1, a = l; n >= x && S("invalid-input"), ((h = (g = t.charCodeAt(n++)) - 48 < 10 ? g - 22 : g - 65 < 26 ? g - 65 : g - 97 < 26 ? g - 97 : l) >= l || h > T((u - b) / s)) && S("overflow"), b += h * s, !(h < (p = a <= P ? c : a >= P + d ? d : a - P)); a += l) s > T(u / (f = l - p)) && S("overflow"), s *= f;
          P = C(b - o, e = _.length + 1, 0 == o), T(b / e) > u - E && S("overflow"), E += T(b / e), b %= e, _.splice(b++, 0, E)
        }
        return O(_)
      }

      function R(t) {
        var e, r, i, n, o, s, a, h, p, f, g, _, x, b, E, w = [];
        for (_ = (t = A(t)).length, e = v, r = 0, o = m, s = 0; s < _; ++s) (g = t[s]) < 128 && w.push(P(g));
        for (i = n = w.length, n && w.push(y); i < _;) {
          for (a = u, s = 0; s < _; ++s) (g = t[s]) >= e && g < a && (a = g);
          for (a - e > T((u - r) / (x = i + 1)) && S("overflow"), r += (a - e) * x, e = a, s = 0; s < _; ++s) if ((g = t[s]) < e && ++r > u && S("overflow"), g == e) {
            for (h = r, p = l; !(h < (f = p <= o ? c : p >= o + d ? d : p - o)); p += l) E = h - f, b = l - f, w.push(P(M(f + E % b, 0))), h = T(E / b);
            w.push(P(M(h, 0))), o = C(r, x, i == n), r = 0, ++i
          }
          ++r, ++e
        }
        return w.join("")
      }

      if (a = {
        version: "1.3.2", ucs2: {decode: A, encode: O}, decode: D, encode: R, toASCII: function (t) {
          return I(t, function (t) {
            return _.test(t) ? "xn--" + R(t) : t
          })
        }, toUnicode: function (t) {
          return I(t, function (t) {
            return g.test(t) ? D(t.slice(4).toLowerCase()) : t
          })
        }
      }, n && o) if (t.exports == n) o.exports = a; else for (h in a) a.hasOwnProperty(h) && (n[h] = a[h]); else i.punycode = a
    }(e)
  }), ht = {
    isString: function (t) {
      return "string" == typeof t
    }, isObject: function (t) {
      return "object" == typeof t && null !== t
    }, isNull: function (t) {
      return null === t
    }, isNullOrUndefined: function (t) {
      return null == t
    }
  };
  ht.isString, ht.isObject, ht.isNull, ht.isNullOrUndefined;

  function ut(t, e) {
    return Object.prototype.hasOwnProperty.call(t, e)
  }

  var lt = function (t, e, r, i) {
    e = e || "&", r = r || "=";
    var n = {};
    if ("string" != typeof t || 0 === t.length) return n;
    var o = /\+/g;
    t = t.split(e);
    var s = 1e3;
    i && "number" == typeof i.maxKeys && (s = i.maxKeys);
    var a = t.length;
    s > 0 && a > s && (a = s);
    for (var h = 0; h < a; ++h) {
      var u, l, c, d, p = t[h].replace(o, "%20"), f = p.indexOf(r);
      f >= 0 ? (u = p.substr(0, f), l = p.substr(f + 1)) : (u = p, l = ""), c = decodeURIComponent(u), d = decodeURIComponent(l), ut(n, c) ? Array.isArray(n[c]) ? n[c].push(d) : n[c] = [n[c], d] : n[c] = d
    }
    return n
  }, ct = function (t) {
    switch (typeof t) {
      case"string":
        return t;
      case"boolean":
        return t ? "true" : "false";
      case"number":
        return isFinite(t) ? t : "";
      default:
        return ""
    }
  }, dt = function (t, e, r, i) {
    return e = e || "&", r = r || "=", null === t && (t = void 0), "object" == typeof t ? Object.keys(t).map(function (i) {
      var n = encodeURIComponent(ct(i)) + r;
      return Array.isArray(t[i]) ? t[i].map(function (t) {
        return n + encodeURIComponent(ct(t))
      }).join(e) : n + encodeURIComponent(ct(t[i]))
    }).join(e) : i ? encodeURIComponent(ct(i)) + r + encodeURIComponent(ct(t)) : ""
  }, pt = r(function (t, e) {
    e.decode = e.parse = lt, e.encode = e.stringify = dt
  }), ft = (pt.decode, pt.parse, pt.encode, pt.stringify, Dt), mt = function (t, e) {
    return Dt(t, !1, !0).resolve(e)
  }, vt = function (t, e) {
    if (!t) return e;
    return Dt(t, !1, !0).resolveObject(e)
  }, yt = function (t) {
    ht.isString(t) && (t = Dt(t));
    if (!(t instanceof _t)) return _t.prototype.format.call(t);
    return t.format()
  }, gt = _t;

  function _t() {
    this.protocol = null, this.slashes = null, this.auth = null, this.host = null, this.port = null, this.hostname = null, this.hash = null, this.search = null, this.query = null, this.pathname = null, this.path = null, this.href = null
  }

  var xt = /^([a-z0-9.+-]+:)/i, bt = /:[0-9]*$/, Et = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,
    Tt = ["{", "}", "|", "\\", "^", "`"].concat(["<", ">", '"', "`", " ", "\r", "\n", "\t"]), Pt = ["'"].concat(Tt),
    St = ["%", "/", "?", ";", "#"].concat(Pt), wt = ["/", "?", "#"], It = /^[+a-z0-9A-Z_-]{0,63}$/,
    At = /^([+a-z0-9A-Z_-]{0,63})(.*)$/, Ot = {javascript: !0, "javascript:": !0},
    Mt = {javascript: !0, "javascript:": !0}, Ct = {
      http: !0,
      https: !0,
      ftp: !0,
      gopher: !0,
      file: !0,
      "http:": !0,
      "https:": !0,
      "ftp:": !0,
      "gopher:": !0,
      "file:": !0
    };

  function Dt(t, e, r) {
    if (t && ht.isObject(t) && t instanceof _t) return t;
    var i = new _t;
    return i.parse(t, e, r), i
  }

  _t.prototype.parse = function (t, e, r) {
    if (!ht.isString(t)) throw new TypeError("Parameter 'url' must be a string, not " + typeof t);
    var i = t.indexOf("?"), n = -1 !== i && i < t.indexOf("#") ? "?" : "#", o = t.split(n);
    o[0] = o[0].replace(/\\/g, "/");
    var s = t = o.join(n);
    if (s = s.trim(), !r && 1 === t.split("#").length) {
      var a = Et.exec(s);
      if (a) return this.path = s, this.href = s, this.pathname = a[1], a[2] ? (this.search = a[2], this.query = e ? pt.parse(this.search.substr(1)) : this.search.substr(1)) : e && (this.search = "", this.query = {}), this
    }
    var h = xt.exec(s);
    if (h) {
      var u = (h = h[0]).toLowerCase();
      this.protocol = u, s = s.substr(h.length)
    }
    if (r || h || s.match(/^\/\/[^@\/]+@[^@\/]+/)) {
      var l = "//" === s.substr(0, 2);
      !l || h && Mt[h] || (s = s.substr(2), this.slashes = !0)
    }
    if (!Mt[h] && (l || h && !Ct[h])) {
      for (var c, d, p = -1, f = 0; f < wt.length; f++) {
        -1 !== (m = s.indexOf(wt[f])) && (-1 === p || m < p) && (p = m)
      }
      -1 !== (d = -1 === p ? s.lastIndexOf("@") : s.lastIndexOf("@", p)) && (c = s.slice(0, d), s = s.slice(d + 1), this.auth = decodeURIComponent(c)), p = -1;
      for (f = 0; f < St.length; f++) {
        var m;
        -1 !== (m = s.indexOf(St[f])) && (-1 === p || m < p) && (p = m)
      }
      -1 === p && (p = s.length), this.host = s.slice(0, p), s = s.slice(p), this.parseHost(), this.hostname = this.hostname || "";
      var v = "[" === this.hostname[0] && "]" === this.hostname[this.hostname.length - 1];
      if (!v) for (var y = this.hostname.split(/\./), g = (f = 0, y.length); f < g; f++) {
        var _ = y[f];
        if (_ && !_.match(It)) {
          for (var x = "", b = 0, E = _.length; b < E; b++) _.charCodeAt(b) > 127 ? x += "x" : x += _[b];
          if (!x.match(It)) {
            var T = y.slice(0, f), P = y.slice(f + 1), S = _.match(At);
            S && (T.push(S[1]), P.unshift(S[2])), P.length && (s = "/" + P.join(".") + s), this.hostname = T.join(".");
            break
          }
        }
      }
      this.hostname.length > 255 ? this.hostname = "" : this.hostname = this.hostname.toLowerCase(), v || (this.hostname = at.toASCII(this.hostname));
      var w = this.port ? ":" + this.port : "", I = this.hostname || "";
      this.host = I + w, this.href += this.host, v && (this.hostname = this.hostname.substr(1, this.hostname.length - 2), "/" !== s[0] && (s = "/" + s))
    }
    if (!Ot[u]) for (f = 0, g = Pt.length; f < g; f++) {
      var A = Pt[f];
      if (-1 !== s.indexOf(A)) {
        var O = encodeURIComponent(A);
        O === A && (O = escape(A)), s = s.split(A).join(O)
      }
    }
    var M = s.indexOf("#");
    -1 !== M && (this.hash = s.substr(M), s = s.slice(0, M));
    var C = s.indexOf("?");
    if (-1 !== C ? (this.search = s.substr(C), this.query = s.substr(C + 1), e && (this.query = pt.parse(this.query)), s = s.slice(0, C)) : e && (this.search = "", this.query = {}), s && (this.pathname = s), Ct[u] && this.hostname && !this.pathname && (this.pathname = "/"), this.pathname || this.search) {
      w = this.pathname || "";
      var D = this.search || "";
      this.path = w + D
    }
    return this.href = this.format(), this
  }, _t.prototype.format = function () {
    var t = this.auth || "";
    t && (t = (t = encodeURIComponent(t)).replace(/%3A/i, ":"), t += "@");
    var e = this.protocol || "", r = this.pathname || "", i = this.hash || "", n = !1, o = "";
    this.host ? n = t + this.host : this.hostname && (n = t + (-1 === this.hostname.indexOf(":") ? this.hostname : "[" + this.hostname + "]"), this.port && (n += ":" + this.port)), this.query && ht.isObject(this.query) && Object.keys(this.query).length && (o = pt.stringify(this.query));
    var s = this.search || o && "?" + o || "";
    return e && ":" !== e.substr(-1) && (e += ":"), this.slashes || (!e || Ct[e]) && !1 !== n ? (n = "//" + (n || ""), r && "/" !== r.charAt(0) && (r = "/" + r)) : n || (n = ""), i && "#" !== i.charAt(0) && (i = "#" + i), s && "?" !== s.charAt(0) && (s = "?" + s), e + n + (r = r.replace(/[?#]/g, function (t) {
      return encodeURIComponent(t)
    })) + (s = s.replace("#", "%23")) + i
  }, _t.prototype.resolve = function (t) {
    return this.resolveObject(Dt(t, !1, !0)).format()
  }, _t.prototype.resolveObject = function (t) {
    if (ht.isString(t)) {
      var e = new _t;
      e.parse(t, !1, !0), t = e
    }
    for (var r = new _t, i = Object.keys(this), n = 0; n < i.length; n++) {
      var o = i[n];
      r[o] = this[o]
    }
    if (r.hash = t.hash, "" === t.href) return r.href = r.format(), r;
    if (t.slashes && !t.protocol) {
      for (var s = Object.keys(t), a = 0; a < s.length; a++) {
        var h = s[a];
        "protocol" !== h && (r[h] = t[h])
      }
      return Ct[r.protocol] && r.hostname && !r.pathname && (r.path = r.pathname = "/"), r.href = r.format(), r
    }
    if (t.protocol && t.protocol !== r.protocol) {
      if (!Ct[t.protocol]) {
        for (var u = Object.keys(t), l = 0; l < u.length; l++) {
          var c = u[l];
          r[c] = t[c]
        }
        return r.href = r.format(), r
      }
      if (r.protocol = t.protocol, t.host || Mt[t.protocol]) r.pathname = t.pathname; else {
        for (var d = (t.pathname || "").split("/"); d.length && !(t.host = d.shift());) ;
        t.host || (t.host = ""), t.hostname || (t.hostname = ""), "" !== d[0] && d.unshift(""), d.length < 2 && d.unshift(""), r.pathname = d.join("/")
      }
      if (r.search = t.search, r.query = t.query, r.host = t.host || "", r.auth = t.auth, r.hostname = t.hostname || t.host, r.port = t.port, r.pathname || r.search) {
        var p = r.pathname || "", f = r.search || "";
        r.path = p + f
      }
      return r.slashes = r.slashes || t.slashes, r.href = r.format(), r
    }
    var m = r.pathname && "/" === r.pathname.charAt(0), v = t.host || t.pathname && "/" === t.pathname.charAt(0),
      y = v || m || r.host && t.pathname, g = y, _ = r.pathname && r.pathname.split("/") || [],
      x = (d = t.pathname && t.pathname.split("/") || [], r.protocol && !Ct[r.protocol]);
    if (x && (r.hostname = "", r.port = null, r.host && ("" === _[0] ? _[0] = r.host : _.unshift(r.host)), r.host = "", t.protocol && (t.hostname = null, t.port = null, t.host && ("" === d[0] ? d[0] = t.host : d.unshift(t.host)), t.host = null), y = y && ("" === d[0] || "" === _[0])), v) r.host = t.host || "" === t.host ? t.host : r.host, r.hostname = t.hostname || "" === t.hostname ? t.hostname : r.hostname, r.search = t.search, r.query = t.query, _ = d; else if (d.length) _ || (_ = []), _.pop(), _ = _.concat(d), r.search = t.search, r.query = t.query; else if (!ht.isNullOrUndefined(t.search)) {
      if (x) r.hostname = r.host = _.shift(), (S = !!(r.host && r.host.indexOf("@") > 0) && r.host.split("@")) && (r.auth = S.shift(), r.host = r.hostname = S.shift());
      return r.search = t.search, r.query = t.query, ht.isNull(r.pathname) && ht.isNull(r.search) || (r.path = (r.pathname ? r.pathname : "") + (r.search ? r.search : "")), r.href = r.format(), r
    }
    if (!_.length) return r.pathname = null, r.search ? r.path = "/" + r.search : r.path = null, r.href = r.format(), r;
    for (var b = _.slice(-1)[0], E = (r.host || t.host || _.length > 1) && ("." === b || ".." === b) || "" === b, T = 0, P = _.length; P >= 0; P--) "." === (b = _[P]) ? _.splice(P, 1) : ".." === b ? (_.splice(P, 1), T++) : T && (_.splice(P, 1), T--);
    if (!y && !g) for (; T--; T) _.unshift("..");
    !y || "" === _[0] || _[0] && "/" === _[0].charAt(0) || _.unshift(""), E && "/" !== _.join("/").substr(-1) && _.push("");
    var S, w = "" === _[0] || _[0] && "/" === _[0].charAt(0);
    x && (r.hostname = r.host = w ? "" : _.length ? _.shift() : "", (S = !!(r.host && r.host.indexOf("@") > 0) && r.host.split("@")) && (r.auth = S.shift(), r.host = r.hostname = S.shift()));
    return (y = y || r.host && _.length) && !w && _.unshift(""), _.length ? r.pathname = _.join("/") : (r.pathname = null, r.path = null), ht.isNull(r.pathname) && ht.isNull(r.search) || (r.path = (r.pathname ? r.pathname : "") + (r.search ? r.search : "")), r.auth = t.auth || r.auth, r.slashes = r.slashes || t.slashes, r.href = r.format(), r
  }, _t.prototype.parseHost = function () {
    var t = this.host, e = bt.exec(t);
    e && (":" !== (e = e[0]) && (this.port = e.substr(1)), t = t.substr(0, t.length - e.length)), t && (this.hostname = t)
  };
  var Rt = {parse: ft, resolve: mt, resolveObject: vt, format: yt, Url: gt};
  !function (t) {
    t[t.WEBGL_LEGACY = 0] = "WEBGL_LEGACY", t[t.WEBGL = 1] = "WEBGL", t[t.WEBGL2 = 2] = "WEBGL2"
  }(t.ENV || (t.ENV = {})), function (t) {
    t[t.UNKNOWN = 0] = "UNKNOWN", t[t.WEBGL = 1] = "WEBGL", t[t.CANVAS = 2] = "CANVAS"
  }(t.RENDERER_TYPE || (t.RENDERER_TYPE = {})), function (t) {
    t[t.COLOR = 16384] = "COLOR", t[t.DEPTH = 256] = "DEPTH", t[t.STENCIL = 1024] = "STENCIL"
  }(t.BUFFER_BITS || (t.BUFFER_BITS = {})), function (t) {
    t[t.NORMAL = 0] = "NORMAL", t[t.ADD = 1] = "ADD", t[t.MULTIPLY = 2] = "MULTIPLY", t[t.SCREEN = 3] = "SCREEN", t[t.OVERLAY = 4] = "OVERLAY", t[t.DARKEN = 5] = "DARKEN", t[t.LIGHTEN = 6] = "LIGHTEN", t[t.COLOR_DODGE = 7] = "COLOR_DODGE", t[t.COLOR_BURN = 8] = "COLOR_BURN", t[t.HARD_LIGHT = 9] = "HARD_LIGHT", t[t.SOFT_LIGHT = 10] = "SOFT_LIGHT", t[t.DIFFERENCE = 11] = "DIFFERENCE", t[t.EXCLUSION = 12] = "EXCLUSION", t[t.HUE = 13] = "HUE", t[t.SATURATION = 14] = "SATURATION", t[t.COLOR = 15] = "COLOR", t[t.LUMINOSITY = 16] = "LUMINOSITY", t[t.NORMAL_NPM = 17] = "NORMAL_NPM", t[t.ADD_NPM = 18] = "ADD_NPM", t[t.SCREEN_NPM = 19] = "SCREEN_NPM", t[t.NONE = 20] = "NONE", t[t.SRC_OVER = 0] = "SRC_OVER", t[t.SRC_IN = 21] = "SRC_IN", t[t.SRC_OUT = 22] = "SRC_OUT", t[t.SRC_ATOP = 23] = "SRC_ATOP", t[t.DST_OVER = 24] = "DST_OVER", t[t.DST_IN = 25] = "DST_IN", t[t.DST_OUT = 26] = "DST_OUT", t[t.DST_ATOP = 27] = "DST_ATOP", t[t.ERASE = 26] = "ERASE", t[t.SUBTRACT = 28] = "SUBTRACT", t[t.XOR = 29] = "XOR"
  }(t.BLEND_MODES || (t.BLEND_MODES = {})), function (t) {
    t[t.POINTS = 0] = "POINTS", t[t.LINES = 1] = "LINES", t[t.LINE_LOOP = 2] = "LINE_LOOP", t[t.LINE_STRIP = 3] = "LINE_STRIP", t[t.TRIANGLES = 4] = "TRIANGLES", t[t.TRIANGLE_STRIP = 5] = "TRIANGLE_STRIP", t[t.TRIANGLE_FAN = 6] = "TRIANGLE_FAN"
  }(t.DRAW_MODES || (t.DRAW_MODES = {})), function (t) {
    t[t.RGBA = 6408] = "RGBA", t[t.RGB = 6407] = "RGB", t[t.ALPHA = 6406] = "ALPHA", t[t.LUMINANCE = 6409] = "LUMINANCE", t[t.LUMINANCE_ALPHA = 6410] = "LUMINANCE_ALPHA", t[t.DEPTH_COMPONENT = 6402] = "DEPTH_COMPONENT", t[t.DEPTH_STENCIL = 34041] = "DEPTH_STENCIL"
  }(t.FORMATS || (t.FORMATS = {})), function (t) {
    t[t.TEXTURE_2D = 3553] = "TEXTURE_2D", t[t.TEXTURE_CUBE_MAP = 34067] = "TEXTURE_CUBE_MAP", t[t.TEXTURE_2D_ARRAY = 35866] = "TEXTURE_2D_ARRAY", t[t.TEXTURE_CUBE_MAP_POSITIVE_X = 34069] = "TEXTURE_CUBE_MAP_POSITIVE_X", t[t.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070] = "TEXTURE_CUBE_MAP_NEGATIVE_X", t[t.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071] = "TEXTURE_CUBE_MAP_POSITIVE_Y", t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072] = "TEXTURE_CUBE_MAP_NEGATIVE_Y", t[t.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073] = "TEXTURE_CUBE_MAP_POSITIVE_Z", t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074] = "TEXTURE_CUBE_MAP_NEGATIVE_Z"
  }(t.TARGETS || (t.TARGETS = {})), function (t) {
    t[t.UNSIGNED_BYTE = 5121] = "UNSIGNED_BYTE", t[t.UNSIGNED_SHORT = 5123] = "UNSIGNED_SHORT", t[t.UNSIGNED_SHORT_5_6_5 = 33635] = "UNSIGNED_SHORT_5_6_5", t[t.UNSIGNED_SHORT_4_4_4_4 = 32819] = "UNSIGNED_SHORT_4_4_4_4", t[t.UNSIGNED_SHORT_5_5_5_1 = 32820] = "UNSIGNED_SHORT_5_5_5_1", t[t.FLOAT = 5126] = "FLOAT", t[t.HALF_FLOAT = 36193] = "HALF_FLOAT"
  }(t.TYPES || (t.TYPES = {})), function (t) {
    t[t.NEAREST = 0] = "NEAREST", t[t.LINEAR = 1] = "LINEAR"
  }(t.SCALE_MODES || (t.SCALE_MODES = {})), function (t) {
    t[t.CLAMP = 33071] = "CLAMP", t[t.REPEAT = 10497] = "REPEAT", t[t.MIRRORED_REPEAT = 33648] = "MIRRORED_REPEAT"
  }(t.WRAP_MODES || (t.WRAP_MODES = {})), function (t) {
    t[t.OFF = 0] = "OFF", t[t.POW2 = 1] = "POW2", t[t.ON = 2] = "ON"
  }(t.MIPMAP_MODES || (t.MIPMAP_MODES = {})), function (t) {
    t[t.NPM = 0] = "NPM", t[t.UNPACK = 1] = "UNPACK", t[t.PMA = 2] = "PMA", t[t.NO_PREMULTIPLIED_ALPHA = 0] = "NO_PREMULTIPLIED_ALPHA", t[t.PREMULTIPLY_ON_UPLOAD = 1] = "PREMULTIPLY_ON_UPLOAD", t[t.PREMULTIPLY_ALPHA = 2] = "PREMULTIPLY_ALPHA"
  }(t.ALPHA_MODES || (t.ALPHA_MODES = {})), function (t) {
    t[t.NO = 0] = "NO", t[t.YES = 1] = "YES", t[t.AUTO = 2] = "AUTO", t[t.BLEND = 0] = "BLEND", t[t.CLEAR = 1] = "CLEAR", t[t.BLIT = 2] = "BLIT"
  }(t.CLEAR_MODES || (t.CLEAR_MODES = {})), function (t) {
    t[t.AUTO = 0] = "AUTO", t[t.MANUAL = 1] = "MANUAL"
  }(t.GC_MODES || (t.GC_MODES = {})), function (t) {
    t.LOW = "lowp", t.MEDIUM = "mediump", t.HIGH = "highp"
  }(t.PRECISION || (t.PRECISION = {})), function (t) {
    t[t.NONE = 0] = "NONE", t[t.SCISSOR = 1] = "SCISSOR", t[t.STENCIL = 2] = "STENCIL", t[t.SPRITE = 3] = "SPRITE"
  }(t.MASK_TYPES || (t.MASK_TYPES = {})), function (t) {
    t[t.NONE = 0] = "NONE", t[t.LOW = 2] = "LOW", t[t.MEDIUM = 4] = "MEDIUM", t[t.HIGH = 8] = "HIGH"
  }(t.MSAA_QUALITY || (t.MSAA_QUALITY = {})), C.RETINA_PREFIX = /@([0-9\.]+)x/, C.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT = !0;
  var Lt, Nt = !1, Ft = "5.3.2";

  function Bt(t) {
    var e;
    if (!Nt) {
      if (navigator.userAgent.toLowerCase().indexOf("chrome") > -1) {
        var r = ["\n %c %c %c PixiJS " + Ft + " - ✰ " + t + " ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n", "background: #ff66a5; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff66a5; background: #030307; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "background: #ffc3dc; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;"];
        (e = window.console).log.apply(e, r)
      } else window.console && window.console.log("PixiJS " + Ft + " - " + t + " - http://www.pixijs.com/");
      Nt = !0
    }
  }

  function Ut() {
    return void 0 === Lt && (Lt = function () {
      var t = {stencil: !0, failIfMajorPerformanceCaveat: C.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};
      try {
        if (!window.WebGLRenderingContext) return !1;
        var e = document.createElement("canvas"), r = e.getContext("webgl", t) || e.getContext("experimental-webgl", t),
          i = !(!r || !r.getContextAttributes().stencil);
        if (r) {
          var n = r.getExtension("WEBGL_lose_context");
          n && n.loseContext()
        }
        return r = null, i
      } catch (t) {
        return !1
      }
    }()), Lt
  }

  function kt(t, e) {
    return void 0 === e && (e = []), e[0] = (t >> 16 & 255) / 255, e[1] = (t >> 8 & 255) / 255, e[2] = (255 & t) / 255, e
  }

  function Xt(t) {
    var e = t.toString(16);
    return "#" + (e = "000000".substr(0, 6 - e.length) + e)
  }

  function jt(t) {
    return "string" == typeof t && "#" === t[0] && (t = t.substr(1)), parseInt(t, 16)
  }

  var Gt = function () {
    for (var e = [], r = [], i = 0; i < 32; i++) e[i] = i, r[i] = i;
    e[t.BLEND_MODES.NORMAL_NPM] = t.BLEND_MODES.NORMAL, e[t.BLEND_MODES.ADD_NPM] = t.BLEND_MODES.ADD, e[t.BLEND_MODES.SCREEN_NPM] = t.BLEND_MODES.SCREEN, r[t.BLEND_MODES.NORMAL] = t.BLEND_MODES.NORMAL_NPM, r[t.BLEND_MODES.ADD] = t.BLEND_MODES.ADD_NPM, r[t.BLEND_MODES.SCREEN] = t.BLEND_MODES.SCREEN_NPM;
    var n = [];
    return n.push(r), n.push(e), n
  }();

  function Ht(t, e) {
    return Gt[e ? 1 : 0][t]
  }

  function Yt(t, e, r, i) {
    return r = r || new Float32Array(4), i || void 0 === i ? (r[0] = t[0] * e, r[1] = t[1] * e, r[2] = t[2] * e) : (r[0] = t[0], r[1] = t[1], r[2] = t[2]), r[3] = e, r
  }

  function zt(t, e) {
    if (1 === e) return (255 * e << 24) + t;
    if (0 === e) return 0;
    var r = t >> 16 & 255, i = t >> 8 & 255, n = 255 & t;
    return (255 * e << 24) + ((r = r * e + .5 | 0) << 16) + ((i = i * e + .5 | 0) << 8) + (n = n * e + .5 | 0)
  }

  function Vt(t, e, r, i) {
    return (r = r || new Float32Array(4))[0] = (t >> 16 & 255) / 255, r[1] = (t >> 8 & 255) / 255, r[2] = (255 & t) / 255, (i || void 0 === i) && (r[0] *= e, r[1] *= e, r[2] *= e), r[3] = e, r
  }

  function Wt(t, e) {
    void 0 === e && (e = null);
    var r = 6 * t;
    if ((e = e || new Uint16Array(r)).length !== r) throw new Error("Out buffer length is incorrect, got " + e.length + " and expected " + r);
    for (var i = 0, n = 0; i < r; i += 6, n += 4) e[i + 0] = n + 0, e[i + 1] = n + 1, e[i + 2] = n + 2, e[i + 3] = n + 0, e[i + 4] = n + 2, e[i + 5] = n + 3;
    return e
  }

  function qt(t) {
    if (4 === t.BYTES_PER_ELEMENT) return t instanceof Float32Array ? "Float32Array" : t instanceof Uint32Array ? "Uint32Array" : "Int32Array";
    if (2 === t.BYTES_PER_ELEMENT) {
      if (t instanceof Uint16Array) return "Uint16Array"
    } else if (1 === t.BYTES_PER_ELEMENT && t instanceof Uint8Array) return "Uint8Array";
    return null
  }

  var Kt = {Float32Array: Float32Array, Uint32Array: Uint32Array, Int32Array: Int32Array, Uint8Array: Uint8Array};

  function Zt(t) {
    return t += 0 === t ? 1 : 0, --t, t |= t >>> 1, t |= t >>> 2, t |= t >>> 4, t |= t >>> 8, (t |= t >>> 16) + 1
  }

  function Jt(t) {
    return !(t & t - 1 || !t)
  }

  function Qt(t) {
    var e = (t > 65535 ? 1 : 0) << 4, r = ((t >>>= e) > 255 ? 1 : 0) << 3;
    return e |= r, e |= r = ((t >>>= r) > 15 ? 1 : 0) << 2, (e |= r = ((t >>>= r) > 3 ? 1 : 0) << 1) | (t >>>= r) >> 1
  }

  function $t(t, e, r) {
    var i, n = t.length;
    if (!(e >= n || 0 === r)) {
      var o = n - (r = e + r > n ? n - e : r);
      for (i = e; i < o; ++i) t[i] = t[i + r];
      t.length = o
    }
  }

  function te(t) {
    return 0 === t ? 0 : t < 0 ? -1 : 1
  }

  var ee = 0;

  function re() {
    return ++ee
  }

  var ie = {};

  function ne(t, e, r) {
    if (void 0 === r && (r = 3), !ie[e]) {
      var i = (new Error).stack;
      void 0 === i ? console.warn("PixiJS Deprecation Warning: ", e + "\nDeprecated since v" + t) : (i = i.split("\n").splice(r).join("\n"), console.groupCollapsed ? (console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s", "color:#614108;background:#fffbe6", "font-weight:normal;color:#614108;background:#fffbe6", e + "\nDeprecated since v" + t), console.warn(i), console.groupEnd()) : (console.warn("PixiJS Deprecation Warning: ", e + "\nDeprecated since v" + t), console.warn(i))), ie[e] = !0
    }
  }

  var oe = {}, se = Object.create(null), ae = Object.create(null);
  var he = function () {
    function t(t, e, r) {
      this.canvas = document.createElement("canvas"), this.context = this.canvas.getContext("2d"), this.resolution = r || C.RESOLUTION, this.resize(t, e)
    }

    return t.prototype.clear = function () {
      this.context.setTransform(1, 0, 0, 1, 0, 0), this.context.clearRect(0, 0, this.canvas.width, this.canvas.height)
    }, t.prototype.resize = function (t, e) {
      this.canvas.width = t * this.resolution, this.canvas.height = e * this.resolution
    }, t.prototype.destroy = function () {
      this.context = null, this.canvas = null
    }, Object.defineProperty(t.prototype, "width", {
      get: function () {
        return this.canvas.width
      }, set: function (t) {
        this.canvas.width = t
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "height", {
      get: function () {
        return this.canvas.height
      }, set: function (t) {
        this.canvas.height = t
      }, enumerable: !1, configurable: !0
    }), t
  }();

  function ue(t) {
    var e, r, i, n = t.width, o = t.height, s = t.getContext("2d"), a = s.getImageData(0, 0, n, o).data, h = a.length,
      u = {top: null, left: null, right: null, bottom: null}, l = null;
    for (e = 0; e < h; e += 4) 0 !== a[e + 3] && (r = e / 4 % n, i = ~~(e / 4 / n), null === u.top && (u.top = i), null === u.left ? u.left = r : r < u.left && (u.left = r), null === u.right ? u.right = r + 1 : u.right < r && (u.right = r + 1), null === u.bottom ? u.bottom = i : u.bottom < i && (u.bottom = i));
    return null !== u.top && (n = u.right - u.left, o = u.bottom - u.top + 1, l = s.getImageData(u.left, u.top, n, o)), {
      height: o,
      width: n,
      data: l
    }
  }

  var le, ce = /^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;

  function de(t, e) {
    if (void 0 === e && (e = window.location), 0 === t.indexOf("data:")) return "";
    e = e || window.location, le || (le = document.createElement("a")), le.href = t;
    var r = ft(le.href), i = !r.port && "" === e.port || r.port === e.port;
    return r.hostname === e.hostname && i && r.protocol === e.protocol ? "" : "anonymous"
  }

  function pe(t, e) {
    var r = C.RETINA_PREFIX.exec(t);
    return r ? parseFloat(r[1]) : void 0 !== e ? e : 1
  }

  var fe, me = {
    BaseTextureCache: ae,
    CanvasRenderTarget: he,
    DATA_URI: ce,
    ProgramCache: oe,
    TextureCache: se,
    clearTextureCache: function () {
      var t;
      for (t in se) delete se[t];
      for (t in ae) delete ae[t]
    },
    correctBlendMode: Ht,
    createIndicesForQuads: Wt,
    decomposeDataUri: function (t) {
      var e = ce.exec(t);
      if (e) return {
        mediaType: e[1] ? e[1].toLowerCase() : void 0,
        subType: e[2] ? e[2].toLowerCase() : void 0,
        charset: e[3] ? e[3].toLowerCase() : void 0,
        encoding: e[4] ? e[4].toLowerCase() : void 0,
        data: e[5]
      }
    },
    deprecation: ne,
    destroyTextureCache: function () {
      var t;
      for (t in se) se[t].destroy();
      for (t in ae) ae[t].destroy()
    },
    determineCrossOrigin: de,
    getBufferType: qt,
    getResolutionOfUrl: pe,
    hex2rgb: kt,
    hex2string: Xt,
    interleaveTypedArrays: function (t, e) {
      for (var r = 0, i = 0, n = {}, o = 0; o < t.length; o++) i += e[o], r += t[o].length;
      var s = new ArrayBuffer(4 * r), a = null, h = 0;
      for (o = 0; o < t.length; o++) {
        var u = e[o], l = t[o], c = qt(l);
        n[c] || (n[c] = new Kt[c](s)), a = n[c];
        for (var d = 0; d < l.length; d++) a[(d / u | 0) * i + h + d % u] = l[d];
        h += u
      }
      return new Float32Array(s)
    },
    isPow2: Jt,
    isWebGLSupported: Ut,
    log2: Qt,
    nextPow2: Zt,
    premultiplyBlendMode: Gt,
    premultiplyRgba: Yt,
    premultiplyTint: zt,
    premultiplyTintToRgba: Vt,
    removeItems: $t,
    rgb2hex: function (t) {
      return (255 * t[0] << 16) + (255 * t[1] << 8) + (255 * t[2] | 0)
    },
    sayHello: Bt,
    sign: te,
    skipHello: function () {
      Nt = !0
    },
    string2hex: jt,
    trimCanvas: ue,
    uid: re,
    isMobile: M,
    EventEmitter: D,
    earcut: R,
    url: Rt
  }, ve = 2 * Math.PI, ye = 180 / Math.PI, ge = Math.PI / 180;
  (fe = t.SHAPES || (t.SHAPES = {}))[fe.POLY = 0] = "POLY", fe[fe.RECT = 1] = "RECT", fe[fe.CIRC = 2] = "CIRC", fe[fe.ELIP = 3] = "ELIP", fe[fe.RREC = 4] = "RREC";
  var _e = function () {
      function e(e, r, i, n) {
        void 0 === e && (e = 0), void 0 === r && (r = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), this.x = Number(e), this.y = Number(r), this.width = Number(i), this.height = Number(n), this.type = t.SHAPES.RECT
      }

      return Object.defineProperty(e.prototype, "left", {
        get: function () {
          return this.x
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(e.prototype, "right", {
        get: function () {
          return this.x + this.width
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(e.prototype, "top", {
        get: function () {
          return this.y
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(e.prototype, "bottom", {
        get: function () {
          return this.y + this.height
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(e, "EMPTY", {
        get: function () {
          return new e(0, 0, 0, 0)
        }, enumerable: !1, configurable: !0
      }), e.prototype.clone = function () {
        return new e(this.x, this.y, this.width, this.height)
      }, e.prototype.copyFrom = function (t) {
        return this.x = t.x, this.y = t.y, this.width = t.width, this.height = t.height, this
      }, e.prototype.copyTo = function (t) {
        return t.x = this.x, t.y = this.y, t.width = this.width, t.height = this.height, t
      }, e.prototype.contains = function (t, e) {
        return !(this.width <= 0 || this.height <= 0) && (t >= this.x && t < this.x + this.width && e >= this.y && e < this.y + this.height)
      }, e.prototype.pad = function (t, e) {
        return void 0 === t && (t = 0), void 0 === e && (e = t), this.x -= t, this.y -= e, this.width += 2 * t, this.height += 2 * e, this
      }, e.prototype.fit = function (t) {
        var e = Math.max(this.x, t.x), r = Math.min(this.x + this.width, t.x + t.width), i = Math.max(this.y, t.y),
          n = Math.min(this.y + this.height, t.y + t.height);
        return this.x = e, this.width = Math.max(r - e, 0), this.y = i, this.height = Math.max(n - i, 0), this
      }, e.prototype.ceil = function (t, e) {
        void 0 === t && (t = 1), void 0 === e && (e = .001);
        var r = Math.ceil((this.x + this.width - e) * t) / t, i = Math.ceil((this.y + this.height - e) * t) / t;
        return this.x = Math.floor((this.x + e) * t) / t, this.y = Math.floor((this.y + e) * t) / t, this.width = r - this.x, this.height = i - this.y, this
      }, e.prototype.enlarge = function (t) {
        var e = Math.min(this.x, t.x), r = Math.max(this.x + this.width, t.x + t.width), i = Math.min(this.y, t.y),
          n = Math.max(this.y + this.height, t.y + t.height);
        return this.x = e, this.width = r - e, this.y = i, this.height = n - i, this
      }, e
    }(), xe = function () {
      function e(e, r, i) {
        void 0 === e && (e = 0), void 0 === r && (r = 0), void 0 === i && (i = 0), this.x = e, this.y = r, this.radius = i, this.type = t.SHAPES.CIRC
      }

      return e.prototype.clone = function () {
        return new e(this.x, this.y, this.radius)
      }, e.prototype.contains = function (t, e) {
        if (this.radius <= 0) return !1;
        var r = this.radius * this.radius, i = this.x - t, n = this.y - e;
        return (i *= i) + (n *= n) <= r
      }, e.prototype.getBounds = function () {
        return new _e(this.x - this.radius, this.y - this.radius, 2 * this.radius, 2 * this.radius)
      }, e
    }(), be = function () {
      function e(e, r, i, n) {
        void 0 === e && (e = 0), void 0 === r && (r = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), this.x = e, this.y = r, this.width = i, this.height = n, this.type = t.SHAPES.ELIP
      }

      return e.prototype.clone = function () {
        return new e(this.x, this.y, this.width, this.height)
      }, e.prototype.contains = function (t, e) {
        if (this.width <= 0 || this.height <= 0) return !1;
        var r = (t - this.x) / this.width, i = (e - this.y) / this.height;
        return (r *= r) + (i *= i) <= 1
      }, e.prototype.getBounds = function () {
        return new _e(this.x - this.width, this.y - this.height, this.width, this.height)
      }, e
    }(), Ee = function () {
      function e() {
        for (var e = arguments, r = [], i = 0; i < arguments.length; i++) r[i] = e[i];
        var n = Array.isArray(r[0]) ? r[0] : r;
        if ("number" != typeof n[0]) {
          for (var o = [], s = 0, a = n.length; s < a; s++) o.push(n[s].x, n[s].y);
          n = o
        }
        this.points = n, this.type = t.SHAPES.POLY, this.closeStroke = !0
      }

      return e.prototype.clone = function () {
        var t = new e(this.points.slice());
        return t.closeStroke = this.closeStroke, t
      }, e.prototype.contains = function (t, e) {
        for (var r = !1, i = this.points.length / 2, n = 0, o = i - 1; n < i; o = n++) {
          var s = this.points[2 * n], a = this.points[2 * n + 1], h = this.points[2 * o], u = this.points[2 * o + 1];
          a > e != u > e && t < (e - a) / (u - a) * (h - s) + s && (r = !r)
        }
        return r
      }, e
    }(), Te = function () {
      function e(e, r, i, n, o) {
        void 0 === e && (e = 0), void 0 === r && (r = 0), void 0 === i && (i = 0), void 0 === n && (n = 0), void 0 === o && (o = 20), this.x = e, this.y = r, this.width = i, this.height = n, this.radius = o, this.type = t.SHAPES.RREC
      }

      return e.prototype.clone = function () {
        return new e(this.x, this.y, this.width, this.height, this.radius)
      }, e.prototype.contains = function (t, e) {
        if (this.width <= 0 || this.height <= 0) return !1;
        if (t >= this.x && t <= this.x + this.width && e >= this.y && e <= this.y + this.height) {
          if (e >= this.y + this.radius && e <= this.y + this.height - this.radius || t >= this.x + this.radius && t <= this.x + this.width - this.radius) return !0;
          var r = t - (this.x + this.radius), i = e - (this.y + this.radius), n = this.radius * this.radius;
          if (r * r + i * i <= n) return !0;
          if ((r = t - (this.x + this.width - this.radius)) * r + i * i <= n) return !0;
          if (r * r + (i = e - (this.y + this.height - this.radius)) * i <= n) return !0;
          if ((r = t - (this.x + this.radius)) * r + i * i <= n) return !0
        }
        return !1
      }, e
    }(), Pe = function () {
      function t(t, e) {
        void 0 === t && (t = 0), void 0 === e && (e = 0), this.x = t, this.y = e
      }

      return t.prototype.clone = function () {
        return new t(this.x, this.y)
      }, t.prototype.copyFrom = function (t) {
        return this.set(t.x, t.y), this
      }, t.prototype.copyTo = function (t) {
        return t.set(this.x, this.y), t
      }, t.prototype.equals = function (t) {
        return t.x === this.x && t.y === this.y
      }, t.prototype.set = function (t, e) {
        return void 0 === t && (t = 0), void 0 === e && (e = t), this.x = t, this.y = e, this
      }, t
    }(), Se = function () {
      function t(t, e, r, i) {
        void 0 === r && (r = 0), void 0 === i && (i = 0), this._x = r, this._y = i, this.cb = t, this.scope = e
      }

      return t.prototype.clone = function (e, r) {
        return void 0 === e && (e = this.cb), void 0 === r && (r = this.scope), new t(e, r, this._x, this._y)
      }, t.prototype.set = function (t, e) {
        return void 0 === t && (t = 0), void 0 === e && (e = t), this._x === t && this._y === e || (this._x = t, this._y = e, this.cb.call(this.scope)), this
      }, t.prototype.copyFrom = function (t) {
        return this._x === t.x && this._y === t.y || (this._x = t.x, this._y = t.y, this.cb.call(this.scope)), this
      }, t.prototype.copyTo = function (t) {
        return t.set(this._x, this._y), t
      }, t.prototype.equals = function (t) {
        return t.x === this._x && t.y === this._y
      }, Object.defineProperty(t.prototype, "x", {
        get: function () {
          return this._x
        }, set: function (t) {
          this._x !== t && (this._x = t, this.cb.call(this.scope))
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(t.prototype, "y", {
        get: function () {
          return this._y
        }, set: function (t) {
          this._y !== t && (this._y = t, this.cb.call(this.scope))
        }, enumerable: !1, configurable: !0
      }), t
    }(), we = function () {
      function t(t, e, r, i, n, o) {
        void 0 === t && (t = 1), void 0 === e && (e = 0), void 0 === r && (r = 0), void 0 === i && (i = 1), void 0 === n && (n = 0), void 0 === o && (o = 0), this.array = null, this.a = t, this.b = e, this.c = r, this.d = i, this.tx = n, this.ty = o
      }

      return t.prototype.fromArray = function (t) {
        this.a = t[0], this.b = t[1], this.c = t[3], this.d = t[4], this.tx = t[2], this.ty = t[5]
      }, t.prototype.set = function (t, e, r, i, n, o) {
        return this.a = t, this.b = e, this.c = r, this.d = i, this.tx = n, this.ty = o, this
      }, t.prototype.toArray = function (t, e) {
        this.array || (this.array = new Float32Array(9));
        var r = e || this.array;
        return t ? (r[0] = this.a, r[1] = this.b, r[2] = 0, r[3] = this.c, r[4] = this.d, r[5] = 0, r[6] = this.tx, r[7] = this.ty, r[8] = 1) : (r[0] = this.a, r[1] = this.c, r[2] = this.tx, r[3] = this.b, r[4] = this.d, r[5] = this.ty, r[6] = 0, r[7] = 0, r[8] = 1), r
      }, t.prototype.apply = function (t, e) {
        e = e || new Pe;
        var r = t.x, i = t.y;
        return e.x = this.a * r + this.c * i + this.tx, e.y = this.b * r + this.d * i + this.ty, e
      }, t.prototype.applyInverse = function (t, e) {
        e = e || new Pe;
        var r = 1 / (this.a * this.d + this.c * -this.b), i = t.x, n = t.y;
        return e.x = this.d * r * i + -this.c * r * n + (this.ty * this.c - this.tx * this.d) * r, e.y = this.a * r * n + -this.b * r * i + (-this.ty * this.a + this.tx * this.b) * r, e
      }, t.prototype.translate = function (t, e) {
        return this.tx += t, this.ty += e, this
      }, t.prototype.scale = function (t, e) {
        return this.a *= t, this.d *= e, this.c *= t, this.b *= e, this.tx *= t, this.ty *= e, this
      }, t.prototype.rotate = function (t) {
        var e = Math.cos(t), r = Math.sin(t), i = this.a, n = this.c, o = this.tx;
        return this.a = i * e - this.b * r, this.b = i * r + this.b * e, this.c = n * e - this.d * r, this.d = n * r + this.d * e, this.tx = o * e - this.ty * r, this.ty = o * r + this.ty * e, this
      }, t.prototype.append = function (t) {
        var e = this.a, r = this.b, i = this.c, n = this.d;
        return this.a = t.a * e + t.b * i, this.b = t.a * r + t.b * n, this.c = t.c * e + t.d * i, this.d = t.c * r + t.d * n, this.tx = t.tx * e + t.ty * i + this.tx, this.ty = t.tx * r + t.ty * n + this.ty, this
      }, t.prototype.setTransform = function (t, e, r, i, n, o, s, a, h) {
        return this.a = Math.cos(s + h) * n, this.b = Math.sin(s + h) * n, this.c = -Math.sin(s - a) * o, this.d = Math.cos(s - a) * o, this.tx = t - (r * this.a + i * this.c), this.ty = e - (r * this.b + i * this.d), this
      }, t.prototype.prepend = function (t) {
        var e = this.tx;
        if (1 !== t.a || 0 !== t.b || 0 !== t.c || 1 !== t.d) {
          var r = this.a, i = this.c;
          this.a = r * t.a + this.b * t.c, this.b = r * t.b + this.b * t.d, this.c = i * t.a + this.d * t.c, this.d = i * t.b + this.d * t.d
        }
        return this.tx = e * t.a + this.ty * t.c + t.tx, this.ty = e * t.b + this.ty * t.d + t.ty, this
      }, t.prototype.decompose = function (t) {
        var e = this.a, r = this.b, i = this.c, n = this.d, o = -Math.atan2(-i, n), s = Math.atan2(r, e),
          a = Math.abs(o + s);
        return a < 1e-5 || Math.abs(ve - a) < 1e-5 ? (t.rotation = s, t.skew.x = t.skew.y = 0) : (t.rotation = 0, t.skew.x = o, t.skew.y = s), t.scale.x = Math.sqrt(e * e + r * r), t.scale.y = Math.sqrt(i * i + n * n), t.position.x = this.tx, t.position.y = this.ty, t
      }, t.prototype.invert = function () {
        var t = this.a, e = this.b, r = this.c, i = this.d, n = this.tx, o = t * i - e * r;
        return this.a = i / o, this.b = -e / o, this.c = -r / o, this.d = t / o, this.tx = (r * this.ty - i * n) / o, this.ty = -(t * this.ty - e * n) / o, this
      }, t.prototype.identity = function () {
        return this.a = 1, this.b = 0, this.c = 0, this.d = 1, this.tx = 0, this.ty = 0, this
      }, t.prototype.clone = function () {
        var e = new t;
        return e.a = this.a, e.b = this.b, e.c = this.c, e.d = this.d, e.tx = this.tx, e.ty = this.ty, e
      }, t.prototype.copyTo = function (t) {
        return t.a = this.a, t.b = this.b, t.c = this.c, t.d = this.d, t.tx = this.tx, t.ty = this.ty, t
      }, t.prototype.copyFrom = function (t) {
        return this.a = t.a, this.b = t.b, this.c = t.c, this.d = t.d, this.tx = t.tx, this.ty = t.ty, this
      }, Object.defineProperty(t, "IDENTITY", {
        get: function () {
          return new t
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(t, "TEMP_MATRIX", {
        get: function () {
          return new t
        }, enumerable: !1, configurable: !0
      }), t
    }(), Ie = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1],
    Ae = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1],
    Oe = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1],
    Me = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1], Ce = [], De = [], Re = Math.sign;
  !function () {
    for (var t = 0; t < 16; t++) {
      var e = [];
      Ce.push(e);
      for (var r = 0; r < 16; r++) for (var i = Re(Ie[t] * Ie[r] + Oe[t] * Ae[r]), n = Re(Ae[t] * Ie[r] + Me[t] * Ae[r]), o = Re(Ie[t] * Oe[r] + Oe[t] * Me[r]), s = Re(Ae[t] * Oe[r] + Me[t] * Me[r]), a = 0; a < 16; a++) if (Ie[a] === i && Ae[a] === n && Oe[a] === o && Me[a] === s) {
        e.push(a);
        break
      }
    }
    for (t = 0; t < 16; t++) {
      var h = new we;
      h.set(Ie[t], Ae[t], Oe[t], Me[t], 0, 0), De.push(h)
    }
  }();
  var Le = {
    E: 0,
    SE: 1,
    S: 2,
    SW: 3,
    W: 4,
    NW: 5,
    N: 6,
    NE: 7,
    MIRROR_VERTICAL: 8,
    MAIN_DIAGONAL: 10,
    MIRROR_HORIZONTAL: 12,
    REVERSE_DIAGONAL: 14,
    uX: function (t) {
      return Ie[t]
    },
    uY: function (t) {
      return Ae[t]
    },
    vX: function (t) {
      return Oe[t]
    },
    vY: function (t) {
      return Me[t]
    },
    inv: function (t) {
      return 8 & t ? 15 & t : 7 & -t
    },
    add: function (t, e) {
      return Ce[t][e]
    },
    sub: function (t, e) {
      return Ce[t][Le.inv(e)]
    },
    rotate180: function (t) {
      return 4 ^ t
    },
    isVertical: function (t) {
      return 2 == (3 & t)
    },
    byDirection: function (t, e) {
      return 2 * Math.abs(t) <= Math.abs(e) ? e >= 0 ? Le.S : Le.N : 2 * Math.abs(e) <= Math.abs(t) ? t > 0 ? Le.E : Le.W : e > 0 ? t > 0 ? Le.SE : Le.SW : t > 0 ? Le.NE : Le.NW
    },
    matrixAppendRotationInv: function (t, e, r, i) {
      void 0 === r && (r = 0), void 0 === i && (i = 0);
      var n = De[Le.inv(e)];
      n.tx = r, n.ty = i, t.append(n)
    }
  }, Ne = function () {
    function t() {
      this.worldTransform = new we, this.localTransform = new we, this.position = new Se(this.onChange, this, 0, 0), this.scale = new Se(this.onChange, this, 1, 1), this.pivot = new Se(this.onChange, this, 0, 0), this.skew = new Se(this.updateSkew, this, 0, 0), this._rotation = 0, this._cx = 1, this._sx = 0, this._cy = 0, this._sy = 1, this._localID = 0, this._currentLocalID = 0, this._worldID = 0, this._parentID = 0
    }

    return t.prototype.onChange = function () {
      this._localID++
    }, t.prototype.updateSkew = function () {
      this._cx = Math.cos(this._rotation + this.skew.y), this._sx = Math.sin(this._rotation + this.skew.y), this._cy = -Math.sin(this._rotation - this.skew.x), this._sy = Math.cos(this._rotation - this.skew.x), this._localID++
    }, t.prototype.updateLocalTransform = function () {
      var t = this.localTransform;
      this._localID !== this._currentLocalID && (t.a = this._cx * this.scale.x, t.b = this._sx * this.scale.x, t.c = this._cy * this.scale.y, t.d = this._sy * this.scale.y, t.tx = this.position.x - (this.pivot.x * t.a + this.pivot.y * t.c), t.ty = this.position.y - (this.pivot.x * t.b + this.pivot.y * t.d), this._currentLocalID = this._localID, this._parentID = -1)
    }, t.prototype.updateTransform = function (t) {
      var e = this.localTransform;
      if (this._localID !== this._currentLocalID && (e.a = this._cx * this.scale.x, e.b = this._sx * this.scale.x, e.c = this._cy * this.scale.y, e.d = this._sy * this.scale.y, e.tx = this.position.x - (this.pivot.x * e.a + this.pivot.y * e.c), e.ty = this.position.y - (this.pivot.x * e.b + this.pivot.y * e.d), this._currentLocalID = this._localID, this._parentID = -1), this._parentID !== t._worldID) {
        var r = t.worldTransform, i = this.worldTransform;
        i.a = e.a * r.a + e.b * r.c, i.b = e.a * r.b + e.b * r.d, i.c = e.c * r.a + e.d * r.c, i.d = e.c * r.b + e.d * r.d, i.tx = e.tx * r.a + e.ty * r.c + r.tx, i.ty = e.tx * r.b + e.ty * r.d + r.ty, this._parentID = t._worldID, this._worldID++
      }
    }, t.prototype.setFromMatrix = function (t) {
      t.decompose(this), this._localID++
    }, Object.defineProperty(t.prototype, "rotation", {
      get: function () {
        return this._rotation
      }, set: function (t) {
        this._rotation !== t && (this._rotation = t, this.updateSkew())
      }, enumerable: !1, configurable: !0
    }), t.IDENTITY = new t, t
  }();
  C.SORTABLE_CHILDREN = !1;
  var Fe = function () {
    function t() {
      this.minX = 1 / 0, this.minY = 1 / 0, this.maxX = -1 / 0, this.maxY = -1 / 0, this.rect = null, this.updateID = -1
    }

    return t.prototype.isEmpty = function () {
      return this.minX > this.maxX || this.minY > this.maxY
    }, t.prototype.clear = function () {
      this.minX = 1 / 0, this.minY = 1 / 0, this.maxX = -1 / 0, this.maxY = -1 / 0
    }, t.prototype.getRectangle = function (t) {
      return this.minX > this.maxX || this.minY > this.maxY ? _e.EMPTY : ((t = t || new _e(0, 0, 1, 1)).x = this.minX, t.y = this.minY, t.width = this.maxX - this.minX, t.height = this.maxY - this.minY, t)
    }, t.prototype.addPoint = function (t) {
      this.minX = Math.min(this.minX, t.x), this.maxX = Math.max(this.maxX, t.x), this.minY = Math.min(this.minY, t.y), this.maxY = Math.max(this.maxY, t.y)
    }, t.prototype.addQuad = function (t) {
      var e = this.minX, r = this.minY, i = this.maxX, n = this.maxY, o = t[0], s = t[1];
      e = o < e ? o : e, r = s < r ? s : r, i = o > i ? o : i, n = s > n ? s : n, e = (o = t[2]) < e ? o : e, r = (s = t[3]) < r ? s : r, i = o > i ? o : i, n = s > n ? s : n, e = (o = t[4]) < e ? o : e, r = (s = t[5]) < r ? s : r, i = o > i ? o : i, n = s > n ? s : n, e = (o = t[6]) < e ? o : e, r = (s = t[7]) < r ? s : r, i = o > i ? o : i, n = s > n ? s : n, this.minX = e, this.minY = r, this.maxX = i, this.maxY = n
    }, t.prototype.addFrame = function (t, e, r, i, n) {
      this.addFrameMatrix(t.worldTransform, e, r, i, n)
    }, t.prototype.addFrameMatrix = function (t, e, r, i, n) {
      var o = t.a, s = t.b, a = t.c, h = t.d, u = t.tx, l = t.ty, c = this.minX, d = this.minY, p = this.maxX,
        f = this.maxY, m = o * e + a * r + u, v = s * e + h * r + l;
      c = m < c ? m : c, d = v < d ? v : d, p = m > p ? m : p, f = v > f ? v : f, c = (m = o * i + a * r + u) < c ? m : c, d = (v = s * i + h * r + l) < d ? v : d, p = m > p ? m : p, f = v > f ? v : f, c = (m = o * e + a * n + u) < c ? m : c, d = (v = s * e + h * n + l) < d ? v : d, p = m > p ? m : p, f = v > f ? v : f, c = (m = o * i + a * n + u) < c ? m : c, d = (v = s * i + h * n + l) < d ? v : d, p = m > p ? m : p, f = v > f ? v : f, this.minX = c, this.minY = d, this.maxX = p, this.maxY = f
    }, t.prototype.addVertexData = function (t, e, r) {
      for (var i = this.minX, n = this.minY, o = this.maxX, s = this.maxY, a = e; a < r; a += 2) {
        var h = t[a], u = t[a + 1];
        i = h < i ? h : i, n = u < n ? u : n, o = h > o ? h : o, s = u > s ? u : s
      }
      this.minX = i, this.minY = n, this.maxX = o, this.maxY = s
    }, t.prototype.addVertices = function (t, e, r, i) {
      this.addVerticesMatrix(t.worldTransform, e, r, i)
    }, t.prototype.addVerticesMatrix = function (t, e, r, i, n, o) {
      void 0 === n && (n = 0), void 0 === o && (o = n);
      for (var s = t.a, a = t.b, h = t.c, u = t.d, l = t.tx, c = t.ty, d = this.minX, p = this.minY, f = this.maxX, m = this.maxY, v = r; v < i; v += 2) {
        var y = e[v], g = e[v + 1], _ = s * y + h * g + l, x = u * g + a * y + c;
        d = Math.min(d, _ - n), f = Math.max(f, _ + n), p = Math.min(p, x - o), m = Math.max(m, x + o)
      }
      this.minX = d, this.minY = p, this.maxX = f, this.maxY = m
    }, t.prototype.addBounds = function (t) {
      var e = this.minX, r = this.minY, i = this.maxX, n = this.maxY;
      this.minX = t.minX < e ? t.minX : e, this.minY = t.minY < r ? t.minY : r, this.maxX = t.maxX > i ? t.maxX : i, this.maxY = t.maxY > n ? t.maxY : n
    }, t.prototype.addBoundsMask = function (t, e) {
      var r = t.minX > e.minX ? t.minX : e.minX, i = t.minY > e.minY ? t.minY : e.minY,
        n = t.maxX < e.maxX ? t.maxX : e.maxX, o = t.maxY < e.maxY ? t.maxY : e.maxY;
      if (r <= n && i <= o) {
        var s = this.minX, a = this.minY, h = this.maxX, u = this.maxY;
        this.minX = r < s ? r : s, this.minY = i < a ? i : a, this.maxX = n > h ? n : h, this.maxY = o > u ? o : u
      }
    }, t.prototype.addBoundsMatrix = function (t, e) {
      this.addFrameMatrix(e, t.minX, t.minY, t.maxX, t.maxY)
    }, t.prototype.addBoundsArea = function (t, e) {
      var r = t.minX > e.x ? t.minX : e.x, i = t.minY > e.y ? t.minY : e.y,
        n = t.maxX < e.x + e.width ? t.maxX : e.x + e.width, o = t.maxY < e.y + e.height ? t.maxY : e.y + e.height;
      if (r <= n && i <= o) {
        var s = this.minX, a = this.minY, h = this.maxX, u = this.maxY;
        this.minX = r < s ? r : s, this.minY = i < a ? i : a, this.maxX = n > h ? n : h, this.maxY = o > u ? o : u
      }
    }, t.prototype.pad = function (t, e) {
      void 0 === t && (t = 0), void 0 === e && (e = t), this.isEmpty() || (this.minX -= t, this.maxX += t, this.minY -= e, this.maxY += e)
    }, t.prototype.addFramePad = function (t, e, r, i, n, o) {
      t -= n, e -= o, r += n, i += o, this.minX = this.minX < t ? this.minX : t, this.maxX = this.maxX > r ? this.maxX : r, this.minY = this.minY < e ? this.minY : e, this.maxY = this.maxY > i ? this.maxY : i
    }, t
  }(), Be = function (t, e) {
    return (Be = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, e) {
      t.__proto__ = e
    } || function (t, e) {
      for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r])
    })(t, e)
  };

  function Ue(t, e) {
    function r() {
      this.constructor = t
    }

    Be(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r)
  }

  var ke = function (t) {
    function e() {
      var e = t.call(this) || this;
      return e.tempDisplayObjectParent = null, e.transform = new Ne, e.alpha = 1, e.visible = !0, e.renderable = !0, e.parent = null, e.worldAlpha = 1, e._lastSortedIndex = 0, e._zIndex = 0, e.filterArea = null, e.filters = null, e._enabledFilters = null, e._bounds = new Fe, e._localBounds = null, e._boundsID = 0, e._boundsRect = null, e._localBoundsRect = null, e._mask = null, e._destroyed = !1, e.isSprite = !1, e.isMask = !1, e
    }

    return Ue(e, t), e.mixin = function (t) {
      for (var r = Object.keys(t), i = 0; i < r.length; ++i) {
        var n = r[i];
        Object.defineProperty(e.prototype, n, Object.getOwnPropertyDescriptor(t, n))
      }
    }, e.prototype._recursivePostUpdateTransform = function () {
      this.parent ? (this.parent._recursivePostUpdateTransform(), this.transform.updateTransform(this.parent.transform)) : this.transform.updateTransform(this._tempDisplayObjectParent.transform)
    }, e.prototype.updateTransform = function () {
      this._boundsID++, this.transform.updateTransform(this.parent.transform), this.worldAlpha = this.alpha * this.parent.worldAlpha
    }, e.prototype.getBounds = function (t, e) {
      return t || (this.parent ? (this._recursivePostUpdateTransform(), this.updateTransform()) : (this.parent = this._tempDisplayObjectParent, this.updateTransform(), this.parent = null)), this._bounds.updateID !== this._boundsID && (this.calculateBounds(), this._bounds.updateID = this._boundsID), e || (this._boundsRect || (this._boundsRect = new _e), e = this._boundsRect), this._bounds.getRectangle(e)
    }, e.prototype.getLocalBounds = function (t) {
      t || (this._localBoundsRect || (this._localBoundsRect = new _e), t = this._localBoundsRect), this._localBounds || (this._localBounds = new Fe);
      var e = this.transform, r = this.parent;
      this.parent = null, this.transform = this._tempDisplayObjectParent.transform;
      var i = this._bounds, n = this._boundsID;
      this._bounds = this._localBounds;
      var o = this.getBounds(!1, t);
      return this.parent = r, this.transform = e, this._bounds = i, this._bounds.updateID += this._boundsID - n, o
    }, e.prototype.toGlobal = function (t, e, r) {
      return void 0 === r && (r = !1), r || (this._recursivePostUpdateTransform(), this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent, this.displayObjectUpdateTransform(), this.parent = null)), this.worldTransform.apply(t, e)
    }, e.prototype.toLocal = function (t, e, r, i) {
      return e && (t = e.toGlobal(t, r, i)), i || (this._recursivePostUpdateTransform(), this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent, this.displayObjectUpdateTransform(), this.parent = null)), this.worldTransform.applyInverse(t, r)
    }, e.prototype.setParent = function (t) {
      if (!t || !t.addChild) throw new Error("setParent: Argument must be a Container");
      return t.addChild(this), t
    }, e.prototype.setTransform = function (t, e, r, i, n, o, s, a, h) {
      return void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === r && (r = 1), void 0 === i && (i = 1), void 0 === n && (n = 0), void 0 === o && (o = 0), void 0 === s && (s = 0), void 0 === a && (a = 0), void 0 === h && (h = 0), this.position.x = t, this.position.y = e, this.scale.x = r || 1, this.scale.y = i || 1, this.rotation = n, this.skew.x = o, this.skew.y = s, this.pivot.x = a, this.pivot.y = h, this
    }, e.prototype.destroy = function (t) {
      this.parent && this.parent.removeChild(this), this.removeAllListeners(), this.transform = null, this.parent = null, this._bounds = null, this._mask = null, this.filters = null, this.filterArea = null, this.hitArea = null, this.interactive = !1, this.interactiveChildren = !1, this._destroyed = !0
    }, Object.defineProperty(e.prototype, "_tempDisplayObjectParent", {
      get: function () {
        return null === this.tempDisplayObjectParent && (this.tempDisplayObjectParent = new Xe), this.tempDisplayObjectParent
      }, enumerable: !1, configurable: !0
    }), e.prototype.enableTempParent = function () {
      var t = this.parent;
      return this.parent = this._tempDisplayObjectParent, t
    }, e.prototype.disableTempParent = function (t) {
      this.parent = t
    }, Object.defineProperty(e.prototype, "x", {
      get: function () {
        return this.position.x
      }, set: function (t) {
        this.transform.position.x = t
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "y", {
      get: function () {
        return this.position.y
      }, set: function (t) {
        this.transform.position.y = t
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "worldTransform", {
      get: function () {
        return this.transform.worldTransform
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "localTransform", {
      get: function () {
        return this.transform.localTransform
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "position", {
      get: function () {
        return this.transform.position
      }, set: function (t) {
        this.transform.position.copyFrom(t)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "scale", {
      get: function () {
        return this.transform.scale
      }, set: function (t) {
        this.transform.scale.copyFrom(t)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "pivot", {
      get: function () {
        return this.transform.pivot
      }, set: function (t) {
        this.transform.pivot.copyFrom(t)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "skew", {
      get: function () {
        return this.transform.skew
      }, set: function (t) {
        this.transform.skew.copyFrom(t)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "rotation", {
      get: function () {
        return this.transform.rotation
      }, set: function (t) {
        this.transform.rotation = t
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "angle", {
      get: function () {
        return this.transform.rotation * ye
      }, set: function (t) {
        this.transform.rotation = t * ge
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "zIndex", {
      get: function () {
        return this._zIndex
      }, set: function (t) {
        this._zIndex = t, this.parent && (this.parent.sortDirty = !0)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "worldVisible", {
      get: function () {
        var t = this;
        do {
          if (!t.visible) return !1;
          t = t.parent
        } while (t);
        return !0
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "mask", {
      get: function () {
        return this._mask
      }, set: function (t) {
        var e;
        this._mask && ((e = this._mask.maskObject || this._mask).renderable = !0, e.isMask = !1);
        (this._mask = t, this._mask) && ((e = this._mask.maskObject || this._mask).renderable = !1, e.isMask = !0)
      }, enumerable: !1, configurable: !0
    }), e
  }(D), Xe = function (t) {
    function e() {
      var e = null !== t && t.apply(this, arguments) || this;
      return e.sortDirty = null, e
    }

    return Ue(e, t), e
  }(ke);

  function je(t, e) {
    return t.zIndex === e.zIndex ? t._lastSortedIndex - e._lastSortedIndex : t.zIndex - e.zIndex
  }

  ke.prototype.displayObjectUpdateTransform = ke.prototype.updateTransform;
  var Ge = function (t) {
    function e() {
      var e = t.call(this) || this;
      return e.children = [], e.sortableChildren = C.SORTABLE_CHILDREN, e.sortDirty = !1, e
    }

    return Ue(e, t), e.prototype.onChildrenChange = function (t) {
    }, e.prototype.addChild = function () {
      for (var t = arguments, e = [], r = 0; r < arguments.length; r++) e[r] = t[r];
      if (e.length > 1) for (var i = 0; i < e.length; i++) this.addChild(e[i]); else {
        var n = e[0];
        n.parent && n.parent.removeChild(n), n.parent = this, this.sortDirty = !0, n.transform._parentID = -1, this.children.push(n), this._boundsID++, this.onChildrenChange(this.children.length - 1), this.emit("childAdded", n, this, this.children.length - 1), n.emit("added", this)
      }
      return e[0]
    }, e.prototype.addChildAt = function (t, e) {
      if (e < 0 || e > this.children.length) throw new Error(t + "addChildAt: The index " + e + " supplied is out of bounds " + this.children.length);
      return t.parent && t.parent.removeChild(t), t.parent = this, this.sortDirty = !0, t.transform._parentID = -1, this.children.splice(e, 0, t), this._boundsID++, this.onChildrenChange(e), t.emit("added", this), this.emit("childAdded", t, this, e), t
    }, e.prototype.swapChildren = function (t, e) {
      if (t !== e) {
        var r = this.getChildIndex(t), i = this.getChildIndex(e);
        this.children[r] = e, this.children[i] = t, this.onChildrenChange(r < i ? r : i)
      }
    }, e.prototype.getChildIndex = function (t) {
      var e = this.children.indexOf(t);
      if (-1 === e) throw new Error("The supplied DisplayObject must be a child of the caller");
      return e
    }, e.prototype.setChildIndex = function (t, e) {
      if (e < 0 || e >= this.children.length) throw new Error("The index " + e + " supplied is out of bounds " + this.children.length);
      var r = this.getChildIndex(t);
      $t(this.children, r, 1), this.children.splice(e, 0, t), this.onChildrenChange(e)
    }, e.prototype.getChildAt = function (t) {
      if (t < 0 || t >= this.children.length) throw new Error("getChildAt: Index (" + t + ") does not exist.");
      return this.children[t]
    }, e.prototype.removeChild = function () {
      for (var t = arguments, e = [], r = 0; r < arguments.length; r++) e[r] = t[r];
      if (e.length > 1) for (var i = 0; i < e.length; i++) this.removeChild(e[i]); else {
        var n = e[0], o = this.children.indexOf(n);
        if (-1 === o) return null;
        n.parent = null, n.transform._parentID = -1, $t(this.children, o, 1), this._boundsID++, this.onChildrenChange(o), n.emit("removed", this), this.emit("childRemoved", n, this, o)
      }
      return e[0]
    }, e.prototype.removeChildAt = function (t) {
      var e = this.getChildAt(t);
      return e.parent = null, e.transform._parentID = -1, $t(this.children, t, 1), this._boundsID++, this.onChildrenChange(t), e.emit("removed", this), this.emit("childRemoved", e, this, t), e
    }, e.prototype.removeChildren = function (t, e) {
      void 0 === t && (t = 0), void 0 === e && (e = this.children.length);
      var r, i = t, n = e - i;
      if (n > 0 && n <= e) {
        r = this.children.splice(i, n);
        for (var o = 0; o < r.length; ++o) r[o].parent = null, r[o].transform && (r[o].transform._parentID = -1);
        this._boundsID++, this.onChildrenChange(t);
        for (o = 0; o < r.length; ++o) r[o].emit("removed", this), this.emit("childRemoved", r[o], this, o);
        return r
      }
      if (0 === n && 0 === this.children.length) return [];
      throw new RangeError("removeChildren: numeric values are outside the acceptable range.")
    }, e.prototype.sortChildren = function () {
      for (var t = !1, e = 0, r = this.children.length; e < r; ++e) {
        var i = this.children[e];
        i._lastSortedIndex = e, t || 0 === i.zIndex || (t = !0)
      }
      t && this.children.length > 1 && this.children.sort(je), this.sortDirty = !1
    }, e.prototype.updateTransform = function () {
      this.sortableChildren && this.sortDirty && this.sortChildren(), this._boundsID++, this.transform.updateTransform(this.parent.transform), this.worldAlpha = this.alpha * this.parent.worldAlpha;
      for (var t = 0, e = this.children.length; t < e; ++t) {
        var r = this.children[t];
        r.visible && r.updateTransform()
      }
    }, e.prototype.calculateBounds = function () {
      this._bounds.clear(), this._calculateBounds();
      for (var t = 0; t < this.children.length; t++) {
        var e = this.children[t];
        if (e.visible && e.renderable) if (e.calculateBounds(), e._mask) {
          var r = e._mask.maskObject || e._mask;
          r.calculateBounds(), this._bounds.addBoundsMask(e._bounds, r._bounds)
        } else e.filterArea ? this._bounds.addBoundsArea(e._bounds, e.filterArea) : this._bounds.addBounds(e._bounds)
      }
      this._bounds.updateID = this._boundsID
    }, e.prototype.getLocalBounds = function (e, r) {
      void 0 === r && (r = !1);
      var i = t.prototype.getLocalBounds.call(this, e);
      if (!r) for (var n = 0, o = this.children.length; n < o; ++n) {
        var s = this.children[n];
        s.visible && s.updateTransform()
      }
      return i
    }, e.prototype._calculateBounds = function () {
    }, e.prototype.render = function (t) {
      if (this.visible && !(this.worldAlpha <= 0) && this.renderable) if (this._mask || this.filters && this.filters.length) this.renderAdvanced(t); else {
        this._render(t);
        for (var e = 0, r = this.children.length; e < r; ++e) this.children[e].render(t)
      }
    }, e.prototype.renderAdvanced = function (t) {
      t.batch.flush();
      var e = this.filters, r = this._mask;
      if (e) {
        this._enabledFilters || (this._enabledFilters = []), this._enabledFilters.length = 0;
        for (var i = 0; i < e.length; i++) e[i].enabled && this._enabledFilters.push(e[i]);
        this._enabledFilters.length && t.filter.push(this, this._enabledFilters)
      }
      r && t.mask.push(this, this._mask), this._render(t);
      i = 0;
      for (var n = this.children.length; i < n; i++) this.children[i].render(t);
      t.batch.flush(), r && t.mask.pop(this), e && this._enabledFilters && this._enabledFilters.length && t.filter.pop()
    }, e.prototype._render = function (t) {
    }, e.prototype.destroy = function (e) {
      t.prototype.destroy.call(this), this.sortDirty = !1;
      var r = "boolean" == typeof e ? e : e && e.children, i = this.removeChildren(0, this.children.length);
      if (r) for (var n = 0; n < i.length; ++n) i[n].destroy(e)
    }, Object.defineProperty(e.prototype, "width", {
      get: function () {
        return this.scale.x * this.getLocalBounds().width
      }, set: function (t) {
        var e = this.getLocalBounds().width;
        this.scale.x = 0 !== e ? t / e : 1, this._width = t
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "height", {
      get: function () {
        return this.scale.y * this.getLocalBounds().height
      }, set: function (t) {
        var e = this.getLocalBounds().height;
        this.scale.y = 0 !== e ? t / e : 1, this._height = t
      }, enumerable: !1, configurable: !0
    }), e
  }(ke);
  Ge.prototype.containerUpdateTransform = Ge.prototype.updateTransform;
  var He = {
    accessible: !1,
    accessibleTitle: null,
    accessibleHint: null,
    tabIndex: 0,
    _accessibleActive: !1,
    _accessibleDiv: null,
    accessibleType: "button",
    accessiblePointerEvents: "auto",
    accessibleChildren: !0,
    renderId: -1
  };
  ke.mixin(He);
  var Ye, ze = 100, Ve = 0, We = 0, qe = 2, Ke = function () {
    function t(t) {
      this._hookDiv = null, (M.tablet || M.phone) && this.createTouchHook();
      var e = document.createElement("div");
      e.style.width = ze + "px", e.style.height = ze + "px", e.style.position = "absolute", e.style.top = Ve + "px", e.style.left = We + "px", e.style.zIndex = qe.toString(), this.div = e, this.pool = [], this.renderId = 0, this.debug = !1, this.renderer = t, this.children = [], this._onKeyDown = this._onKeyDown.bind(this), this._onMouseMove = this._onMouseMove.bind(this), this._isActive = !1, this._isMobileAccessibility = !1, this.androidUpdateCount = 0, this.androidUpdateFrequency = 500, window.addEventListener("keydown", this._onKeyDown, !1)
    }

    return Object.defineProperty(t.prototype, "isActive", {
      get: function () {
        return this._isActive
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "isMobileAccessibility", {
      get: function () {
        return this._isMobileAccessibility
      }, enumerable: !1, configurable: !0
    }), t.prototype.createTouchHook = function () {
      var t = this, e = document.createElement("button");
      e.style.width = "1px", e.style.height = "1px", e.style.position = "absolute", e.style.top = "-1000px", e.style.left = "-1000px", e.style.zIndex = 2..toString(), e.style.backgroundColor = "#FF0000", e.title = "select to enable accessability for this content", e.addEventListener("focus", function () {
        t._isMobileAccessibility = !0, t.activate(), t.destroyTouchHook()
      }), document.body.appendChild(e), this._hookDiv = e
    }, t.prototype.destroyTouchHook = function () {
      this._hookDiv && (document.body.removeChild(this._hookDiv), this._hookDiv = null)
    }, t.prototype.activate = function () {
      this._isActive || (this._isActive = !0, window.document.addEventListener("mousemove", this._onMouseMove, !0), window.removeEventListener("keydown", this._onKeyDown, !1), this.renderer.on("postrender", this.update, this), this.renderer.view.parentNode && this.renderer.view.parentNode.appendChild(this.div))
    }, t.prototype.deactivate = function () {
      this._isActive && !this._isMobileAccessibility && (this._isActive = !1, window.document.removeEventListener("mousemove", this._onMouseMove, !0), window.addEventListener("keydown", this._onKeyDown, !1), this.renderer.off("postrender", this.update), this.div.parentNode && this.div.parentNode.removeChild(this.div))
    }, t.prototype.updateAccessibleObjects = function (t) {
      if (t.visible && t.accessibleChildren) {
        t.accessible && t.interactive && (t._accessibleActive || this.addChild(t), t.renderId = this.renderId);
        for (var e = t.children, r = 0; r < e.length; r++) this.updateAccessibleObjects(e[r])
      }
    }, t.prototype.update = function () {
      var t = performance.now();
      if (!(M.android.device && t < this.androidUpdateCount) && (this.androidUpdateCount = t + this.androidUpdateFrequency, this.renderer.renderingToScreen)) {
        this.renderer._lastObjectRendered && this.updateAccessibleObjects(this.renderer._lastObjectRendered);
        var e = this.renderer.view.getBoundingClientRect(), r = this.renderer.resolution,
          i = e.width / this.renderer.width * r, n = e.height / this.renderer.height * r, o = this.div;
        o.style.left = e.left + "px", o.style.top = e.top + "px", o.style.width = this.renderer.width + "px", o.style.height = this.renderer.height + "px";
        for (var s = 0; s < this.children.length; s++) {
          var a = this.children[s];
          if (a.renderId !== this.renderId) a._accessibleActive = !1, $t(this.children, s, 1), this.div.removeChild(a._accessibleDiv), this.pool.push(a._accessibleDiv), a._accessibleDiv = null, s--; else {
            o = a._accessibleDiv;
            var h = a.hitArea, u = a.worldTransform;
            a.hitArea ? (o.style.left = (u.tx + h.x * u.a) * i + "px", o.style.top = (u.ty + h.y * u.d) * n + "px", o.style.width = h.width * u.a * i + "px", o.style.height = h.height * u.d * n + "px") : (h = a.getBounds(), this.capHitArea(h), o.style.left = h.x * i + "px", o.style.top = h.y * n + "px", o.style.width = h.width * i + "px", o.style.height = h.height * n + "px", o.title !== a.accessibleTitle && null !== a.accessibleTitle && (o.title = a.accessibleTitle), o.getAttribute("aria-label") !== a.accessibleHint && null !== a.accessibleHint && o.setAttribute("aria-label", a.accessibleHint)), a.accessibleTitle === o.title && a.tabIndex === o.tabIndex || (o.title = a.accessibleTitle, o.tabIndex = a.tabIndex, this.debug && this.updateDebugHTML(o))
          }
        }
        this.renderId++
      }
    }, t.prototype.updateDebugHTML = function (t) {
      t.innerHTML = "type: " + t.type + "</br> title : " + t.title + "</br> tabIndex: " + t.tabIndex
    }, t.prototype.capHitArea = function (t) {
      t.x < 0 && (t.width += t.x, t.x = 0), t.y < 0 && (t.height += t.y, t.y = 0), t.x + t.width > this.renderer.width && (t.width = this.renderer.width - t.x), t.y + t.height > this.renderer.height && (t.height = this.renderer.height - t.y)
    }, t.prototype.addChild = function (t) {
      var e = this.pool.pop();
      e || ((e = document.createElement("button")).style.width = ze + "px", e.style.height = ze + "px", e.style.backgroundColor = this.debug ? "rgba(255,255,255,0.5)" : "transparent", e.style.position = "absolute", e.style.zIndex = qe.toString(), e.style.borderStyle = "none", navigator.userAgent.toLowerCase().indexOf("chrome") > -1 ? e.setAttribute("aria-live", "off") : e.setAttribute("aria-live", "polite"), navigator.userAgent.match(/rv:.*Gecko\//) ? e.setAttribute("aria-relevant", "additions") : e.setAttribute("aria-relevant", "text"), e.addEventListener("click", this._onClick.bind(this)), e.addEventListener("focus", this._onFocus.bind(this)), e.addEventListener("focusout", this._onFocusOut.bind(this))), e.style.pointerEvents = t.accessiblePointerEvents, e.type = t.accessibleType, t.accessibleTitle && null !== t.accessibleTitle ? e.title = t.accessibleTitle : t.accessibleHint && null !== t.accessibleHint || (e.title = "displayObject " + t.tabIndex), t.accessibleHint && null !== t.accessibleHint && e.setAttribute("aria-label", t.accessibleHint), this.debug && this.updateDebugHTML(e), t._accessibleActive = !0, t._accessibleDiv = e, e.displayObject = t, this.children.push(t), this.div.appendChild(t._accessibleDiv), t._accessibleDiv.tabIndex = t.tabIndex
    }, t.prototype._onClick = function (t) {
      var e = this.renderer.plugins.interaction;
      e.dispatchEvent(t.target.displayObject, "click", e.eventData), e.dispatchEvent(t.target.displayObject, "pointertap", e.eventData), e.dispatchEvent(t.target.displayObject, "tap", e.eventData)
    }, t.prototype._onFocus = function (t) {
      t.target.getAttribute("aria-live") || t.target.setAttribute("aria-live", "assertive");
      var e = this.renderer.plugins.interaction;
      e.dispatchEvent(t.target.displayObject, "mouseover", e.eventData)
    }, t.prototype._onFocusOut = function (t) {
      t.target.getAttribute("aria-live") || t.target.setAttribute("aria-live", "polite");
      var e = this.renderer.plugins.interaction;
      e.dispatchEvent(t.target.displayObject, "mouseout", e.eventData)
    }, t.prototype._onKeyDown = function (t) {
      9 === t.keyCode && this.activate()
    }, t.prototype._onMouseMove = function (t) {
      0 === t.movementX && 0 === t.movementY || this.deactivate()
    }, t.prototype.destroy = function () {
      this.destroyTouchHook(), this.div = null, window.document.removeEventListener("mousemove", this._onMouseMove, !0), window.removeEventListener("keydown", this._onKeyDown), this.pool = null, this.children = null, this.renderer = null
    }, t
  }();
  C.TARGET_FPMS = .06, (Ye = t.UPDATE_PRIORITY || (t.UPDATE_PRIORITY = {}))[Ye.INTERACTION = 50] = "INTERACTION", Ye[Ye.HIGH = 25] = "HIGH", Ye[Ye.NORMAL = 0] = "NORMAL", Ye[Ye.LOW = -25] = "LOW", Ye[Ye.UTILITY = -50] = "UTILITY";
  var Ze = function () {
    function t(t, e, r, i) {
      void 0 === e && (e = null), void 0 === r && (r = 0), void 0 === i && (i = !1), this.fn = t, this.context = e, this.priority = r, this.once = i, this.next = null, this.previous = null, this._destroyed = !1
    }

    return t.prototype.match = function (t, e) {
      return void 0 === e && (e = null), this.fn === t && this.context === e
    }, t.prototype.emit = function (t) {
      this.fn && (this.context ? this.fn.call(this.context, t) : this.fn(t));
      var e = this.next;
      return this.once && this.destroy(!0), this._destroyed && (this.next = null), e
    }, t.prototype.connect = function (t) {
      this.previous = t, t.next && (t.next.previous = this), this.next = t.next, t.next = this
    }, t.prototype.destroy = function (t) {
      void 0 === t && (t = !1), this._destroyed = !0, this.fn = null, this.context = null, this.previous && (this.previous.next = this.next), this.next && (this.next.previous = this.previous);
      var e = this.next;
      return this.next = t ? null : e, this.previous = null, e
    }, t
  }(), Je = function () {
    function e() {
      var t = this;
      this._head = new Ze(null, null, 1 / 0), this._requestId = null, this._maxElapsedMS = 100, this._minElapsedMS = 0, this.autoStart = !1, this.deltaTime = 1, this.deltaMS = 1 / C.TARGET_FPMS, this.elapsedMS = 1 / C.TARGET_FPMS, this.lastTime = -1, this.speed = 1, this.started = !1, this._protected = !1, this._lastFrame = -1, this._tick = function (e) {
        t._requestId = null, t.started && (t.update(e), t.started && null === t._requestId && t._head.next && (t._requestId = requestAnimationFrame(t._tick)))
      }
    }

    return e.prototype._requestIfNeeded = function () {
      null === this._requestId && this._head.next && (this.lastTime = performance.now(), this._lastFrame = this.lastTime, this._requestId = requestAnimationFrame(this._tick))
    }, e.prototype._cancelIfNeeded = function () {
      null !== this._requestId && (cancelAnimationFrame(this._requestId), this._requestId = null)
    }, e.prototype._startIfPossible = function () {
      this.started ? this._requestIfNeeded() : this.autoStart && this.start()
    }, e.prototype.add = function (e, r, i) {
      return void 0 === i && (i = t.UPDATE_PRIORITY.NORMAL), this._addListener(new Ze(e, r, i))
    }, e.prototype.addOnce = function (e, r, i) {
      return void 0 === i && (i = t.UPDATE_PRIORITY.NORMAL), this._addListener(new Ze(e, r, i, !0))
    }, e.prototype._addListener = function (t) {
      var e = this._head.next, r = this._head;
      if (e) {
        for (; e;) {
          if (t.priority > e.priority) {
            t.connect(r);
            break
          }
          r = e, e = e.next
        }
        t.previous || t.connect(r)
      } else t.connect(r);
      return this._startIfPossible(), this
    }, e.prototype.remove = function (t, e) {
      for (var r = this._head.next; r;) r = r.match(t, e) ? r.destroy() : r.next;
      return this._head.next || this._cancelIfNeeded(), this
    }, Object.defineProperty(e.prototype, "count", {
      get: function () {
        if (!this._head) return 0;
        for (var t = 0, e = this._head; e = e.next;) t++;
        return t
      }, enumerable: !1, configurable: !0
    }), e.prototype.start = function () {
      this.started || (this.started = !0, this._requestIfNeeded())
    }, e.prototype.stop = function () {
      this.started && (this.started = !1, this._cancelIfNeeded())
    }, e.prototype.destroy = function () {
      if (!this._protected) {
        this.stop();
        for (var t = this._head.next; t;) t = t.destroy(!0);
        this._head.destroy(), this._head = null
      }
    }, e.prototype.update = function (t) {
      var e;
      if (void 0 === t && (t = performance.now()), t > this.lastTime) {
        if ((e = this.elapsedMS = t - this.lastTime) > this._maxElapsedMS && (e = this._maxElapsedMS), e *= this.speed, this._minElapsedMS) {
          var r = t - this._lastFrame | 0;
          if (r < this._minElapsedMS) return;
          this._lastFrame = t - r % this._minElapsedMS
        }
        this.deltaMS = e, this.deltaTime = this.deltaMS * C.TARGET_FPMS;
        for (var i = this._head, n = i.next; n;) n = n.emit(this.deltaTime);
        i.next || this._cancelIfNeeded()
      } else this.deltaTime = this.deltaMS = this.elapsedMS = 0;
      this.lastTime = t
    }, Object.defineProperty(e.prototype, "FPS", {
      get: function () {
        return 1e3 / this.elapsedMS
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "minFPS", {
      get: function () {
        return 1e3 / this._maxElapsedMS
      }, set: function (t) {
        var e = Math.min(this.maxFPS, t), r = Math.min(Math.max(0, e) / 1e3, C.TARGET_FPMS);
        this._maxElapsedMS = 1 / r
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "maxFPS", {
      get: function () {
        return this._minElapsedMS ? Math.round(1e3 / this._minElapsedMS) : 0
      }, set: function (t) {
        if (0 === t) this._minElapsedMS = 0; else {
          var e = Math.max(this.minFPS, t);
          this._minElapsedMS = 1 / (e / 1e3)
        }
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e, "shared", {
      get: function () {
        if (!e._shared) {
          var t = e._shared = new e;
          t.autoStart = !0, t._protected = !0
        }
        return e._shared
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e, "system", {
      get: function () {
        if (!e._system) {
          var t = e._system = new e;
          t.autoStart = !0, t._protected = !0
        }
        return e._system
      }, enumerable: !1, configurable: !0
    }), e
  }(), Qe = function () {
    function e() {
    }

    return e.init = function (e) {
      var r = this;
      e = Object.assign({
        autoStart: !0,
        sharedTicker: !1
      }, e), Object.defineProperty(this, "ticker", {
        set: function (e) {
          this._ticker && this._ticker.remove(this.render, this), this._ticker = e, e && e.add(this.render, this, t.UPDATE_PRIORITY.LOW)
        }, get: function () {
          return this._ticker
        }
      }), this.stop = function () {
        r._ticker.stop()
      }, this.start = function () {
        r._ticker.start()
      }, this._ticker = null, this.ticker = e.sharedTicker ? Je.shared : new Je, e.autoStart && this.start()
    }, e.destroy = function () {
      if (this._ticker) {
        var t = this._ticker;
        this.ticker = null, t.destroy()
      }
    }, e
  }(), $e = function () {
    function t() {
      this.pressure = 0, this.rotationAngle = 0, this.twist = 0, this.tangentialPressure = 0, this.global = new Pe, this.target = null, this.originalEvent = null, this.identifier = null, this.isPrimary = !1, this.button = 0, this.buttons = 0, this.width = 0, this.height = 0, this.tiltX = 0, this.tiltY = 0, this.pointerType = null, this.pressure = 0, this.rotationAngle = 0, this.twist = 0, this.tangentialPressure = 0
    }

    return Object.defineProperty(t.prototype, "pointerId", {
      get: function () {
        return this.identifier
      }, enumerable: !1, configurable: !0
    }), t.prototype.getLocalPosition = function (t, e, r) {
      return t.worldTransform.applyInverse(r || this.global, e)
    }, t.prototype.copyEvent = function (t) {
      "isPrimary" in t && t.isPrimary && (this.isPrimary = !0), this.button = "button" in t && t.button;
      var e = "buttons" in t && t.buttons;
      this.buttons = Number.isInteger(e) ? e : "which" in t && t.which, this.width = "width" in t && t.width, this.height = "height" in t && t.height, this.tiltX = "tiltX" in t && t.tiltX, this.tiltY = "tiltY" in t && t.tiltY, this.pointerType = "pointerType" in t && t.pointerType, this.pressure = "pressure" in t && t.pressure, this.rotationAngle = "rotationAngle" in t && t.rotationAngle, this.twist = "twist" in t && t.twist || 0, this.tangentialPressure = "tangentialPressure" in t && t.tangentialPressure || 0
    }, t.prototype.reset = function () {
      this.isPrimary = !1
    }, t
  }(), tr = function (t, e) {
    return (tr = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, e) {
      t.__proto__ = e
    } || function (t, e) {
      for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r])
    })(t, e)
  };
  var er = function () {
    function t() {
      this.stopped = !1, this.stopsPropagatingAt = null, this.stopPropagationHint = !1, this.target = null, this.currentTarget = null, this.type = null, this.data = null
    }

    return t.prototype.stopPropagation = function () {
      this.stopped = !0, this.stopPropagationHint = !0, this.stopsPropagatingAt = this.currentTarget
    }, t.prototype.reset = function () {
      this.stopped = !1, this.stopsPropagatingAt = null, this.stopPropagationHint = !1, this.currentTarget = null, this.target = null
    }, t
  }(), rr = function () {
    function t(e) {
      this._pointerId = e, this._flags = t.FLAGS.NONE
    }

    return t.prototype._doSet = function (t, e) {
      this._flags = e ? this._flags | t : this._flags & ~t
    }, Object.defineProperty(t.prototype, "pointerId", {
      get: function () {
        return this._pointerId
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "flags", {
      get: function () {
        return this._flags
      }, set: function (t) {
        this._flags = t
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "none", {
      get: function () {
        return this._flags === t.FLAGS.NONE
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "over", {
      get: function () {
        return 0 != (this._flags & t.FLAGS.OVER)
      }, set: function (e) {
        this._doSet(t.FLAGS.OVER, e)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "rightDown", {
      get: function () {
        return 0 != (this._flags & t.FLAGS.RIGHT_DOWN)
      }, set: function (e) {
        this._doSet(t.FLAGS.RIGHT_DOWN, e)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "leftDown", {
      get: function () {
        return 0 != (this._flags & t.FLAGS.LEFT_DOWN)
      }, set: function (e) {
        this._doSet(t.FLAGS.LEFT_DOWN, e)
      }, enumerable: !1, configurable: !0
    }), t.FLAGS = Object.freeze({NONE: 0, OVER: 1, LEFT_DOWN: 2, RIGHT_DOWN: 4}), t
  }(), ir = function () {
    function t() {
      this._tempPoint = new Pe
    }

    return t.prototype.recursiveFindHit = function (t, e, r, i, n) {
      if (!e || !e.visible) return !1;
      var o = t.data.global, s = !1, a = n = e.interactive || n, h = !0;
      if (e.hitArea ? (i && (e.worldTransform.applyInverse(o, this._tempPoint), e.hitArea.contains(this._tempPoint.x, this._tempPoint.y) ? s = !0 : (i = !1, h = !1)), a = !1) : e._mask && i && (e._mask.containsPoint && e._mask.containsPoint(o) || (i = !1)), h && e.interactiveChildren && e.children) for (var u = e.children, l = u.length - 1; l >= 0; l--) {
        var c = u[l], d = this.recursiveFindHit(t, c, r, i, a);
        if (d) {
          if (!c.parent) continue;
          a = !1, d && (t.target && (i = !1), s = !0)
        }
      }
      return n && (i && !t.target && !e.hitArea && e.containsPoint && e.containsPoint(o) && (s = !0), e.interactive && (s && !t.target && (t.target = e), r && r(t, e, !!s))), s
    }, t.prototype.findHit = function (t, e, r, i) {
      this.recursiveFindHit(t, e, r, i, !1)
    }, t
  }(), nr = {
    interactive: !1, interactiveChildren: !0, hitArea: null, get buttonMode() {
      return "pointer" === this.cursor
    }, set buttonMode(t) {
      t ? this.cursor = "pointer" : "pointer" === this.cursor && (this.cursor = null)
    }, cursor: null, get trackedPointers() {
      return void 0 === this._trackedPointers && (this._trackedPointers = {}), this._trackedPointers
    }, _trackedPointers: void 0
  };
  ke.mixin(nr);
  var or = 1, sr = {target: null, data: {global: null}}, ar = function (e) {
    function r(t, r) {
      var i = e.call(this) || this;
      return r = r || {}, i.renderer = t, i.autoPreventDefault = void 0 === r.autoPreventDefault || r.autoPreventDefault, i.interactionFrequency = r.interactionFrequency || 10, i.mouse = new $e, i.mouse.identifier = or, i.mouse.global.set(-999999), i.activeInteractionData = {}, i.activeInteractionData[or] = i.mouse, i.interactionDataPool = [], i.eventData = new er, i.interactionDOMElement = null, i.moveWhenInside = !1, i.eventsAdded = !1, i.tickerAdded = !1, i.mouseOverRenderer = !1, i.supportsTouchEvents = "ontouchstart" in window, i.supportsPointerEvents = !!window.PointerEvent, i.onPointerUp = i.onPointerUp.bind(i), i.processPointerUp = i.processPointerUp.bind(i), i.onPointerCancel = i.onPointerCancel.bind(i), i.processPointerCancel = i.processPointerCancel.bind(i), i.onPointerDown = i.onPointerDown.bind(i), i.processPointerDown = i.processPointerDown.bind(i), i.onPointerMove = i.onPointerMove.bind(i), i.processPointerMove = i.processPointerMove.bind(i), i.onPointerOut = i.onPointerOut.bind(i), i.processPointerOverOut = i.processPointerOverOut.bind(i), i.onPointerOver = i.onPointerOver.bind(i), i.cursorStyles = {
        default: "inherit",
        pointer: "pointer"
      }, i.currentCursorMode = null, i.cursor = null, i.resolution = 1, i.delayedEvents = [], i.search = new ir, i._tempDisplayObject = new Xe, i._useSystemTicker = void 0 === r.useSystemTicker || r.useSystemTicker, i.setTargetElement(i.renderer.view, i.renderer.resolution), i
    }

    return function (t, e) {
      function r() {
        this.constructor = t
      }

      tr(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r)
    }(r, e), Object.defineProperty(r.prototype, "useSystemTicker", {
      get: function () {
        return this._useSystemTicker
      }, set: function (t) {
        this._useSystemTicker = t, t ? this.addTickerListener() : this.removeTickerListener()
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(r.prototype, "lastObjectRendered", {
      get: function () {
        return this.renderer._lastObjectRendered || this._tempDisplayObject
      }, enumerable: !1, configurable: !0
    }), r.prototype.hitTest = function (t, e) {
      return sr.target = null, sr.data.global = t, e || (e = this.lastObjectRendered), this.processInteractive(sr, e, null, !0), sr.target
    }, r.prototype.setTargetElement = function (t, e) {
      void 0 === e && (e = 1), this.removeTickerListener(), this.removeEvents(), this.interactionDOMElement = t, this.resolution = e, this.addEvents(), this.addTickerListener()
    }, r.prototype.addTickerListener = function () {
      !this.tickerAdded && this.interactionDOMElement && this._useSystemTicker && (Je.system.add(this.tickerUpdate, this, t.UPDATE_PRIORITY.INTERACTION), this.tickerAdded = !0)
    }, r.prototype.removeTickerListener = function () {
      this.tickerAdded && (Je.system.remove(this.tickerUpdate, this), this.tickerAdded = !1)
    }, r.prototype.addEvents = function () {
      if (!this.eventsAdded && this.interactionDOMElement) {
        var t = this.interactionDOMElement.style;
        window.navigator.msPointerEnabled ? (t.msContentZooming = "none", t.msTouchAction = "none") : this.supportsPointerEvents && (t.touchAction = "none"), this.supportsPointerEvents ? (window.document.addEventListener("pointermove", this.onPointerMove, !0), this.interactionDOMElement.addEventListener("pointerdown", this.onPointerDown, !0), this.interactionDOMElement.addEventListener("pointerleave", this.onPointerOut, !0), this.interactionDOMElement.addEventListener("pointerover", this.onPointerOver, !0), window.addEventListener("pointercancel", this.onPointerCancel, !0), window.addEventListener("pointerup", this.onPointerUp, !0)) : (window.document.addEventListener("mousemove", this.onPointerMove, !0), this.interactionDOMElement.addEventListener("mousedown", this.onPointerDown, !0), this.interactionDOMElement.addEventListener("mouseout", this.onPointerOut, !0), this.interactionDOMElement.addEventListener("mouseover", this.onPointerOver, !0), window.addEventListener("mouseup", this.onPointerUp, !0)), this.supportsTouchEvents && (this.interactionDOMElement.addEventListener("touchstart", this.onPointerDown, !0), this.interactionDOMElement.addEventListener("touchcancel", this.onPointerCancel, !0), this.interactionDOMElement.addEventListener("touchend", this.onPointerUp, !0), this.interactionDOMElement.addEventListener("touchmove", this.onPointerMove, !0)), this.eventsAdded = !0
      }
    }, r.prototype.removeEvents = function () {
      if (this.eventsAdded && this.interactionDOMElement) {
        var t = this.interactionDOMElement.style;
        window.navigator.msPointerEnabled ? (t.msContentZooming = "", t.msTouchAction = "") : this.supportsPointerEvents && (t.touchAction = ""), this.supportsPointerEvents ? (window.document.removeEventListener("pointermove", this.onPointerMove, !0), this.interactionDOMElement.removeEventListener("pointerdown", this.onPointerDown, !0), this.interactionDOMElement.removeEventListener("pointerleave", this.onPointerOut, !0), this.interactionDOMElement.removeEventListener("pointerover", this.onPointerOver, !0), window.removeEventListener("pointercancel", this.onPointerCancel, !0), window.removeEventListener("pointerup", this.onPointerUp, !0)) : (window.document.removeEventListener("mousemove", this.onPointerMove, !0), this.interactionDOMElement.removeEventListener("mousedown", this.onPointerDown, !0), this.interactionDOMElement.removeEventListener("mouseout", this.onPointerOut, !0), this.interactionDOMElement.removeEventListener("mouseover", this.onPointerOver, !0), window.removeEventListener("mouseup", this.onPointerUp, !0)), this.supportsTouchEvents && (this.interactionDOMElement.removeEventListener("touchstart", this.onPointerDown, !0), this.interactionDOMElement.removeEventListener("touchcancel", this.onPointerCancel, !0), this.interactionDOMElement.removeEventListener("touchend", this.onPointerUp, !0), this.interactionDOMElement.removeEventListener("touchmove", this.onPointerMove, !0)), this.interactionDOMElement = null, this.eventsAdded = !1
      }
    }, r.prototype.tickerUpdate = function (t) {
      this._deltaTime += t, this._deltaTime < this.interactionFrequency || (this._deltaTime = 0, this.update())
    }, r.prototype.update = function () {
      if (this.interactionDOMElement) if (this._didMove) this._didMove = !1; else {
        for (var t in this.cursor = null, this.activeInteractionData) if (this.activeInteractionData.hasOwnProperty(t)) {
          var e = this.activeInteractionData[t];
          if (e.originalEvent && "touch" !== e.pointerType) {
            var r = this.configureInteractionEventForDOMEvent(this.eventData, e.originalEvent, e);
            this.processInteractive(r, this.lastObjectRendered, this.processPointerOverOut, !0)
          }
        }
        this.setCursorMode(this.cursor)
      }
    }, r.prototype.setCursorMode = function (t) {
      if (t = t || "default", this.currentCursorMode !== t) {
        this.currentCursorMode = t;
        var e = this.cursorStyles[t];
        if (e) switch (typeof e) {
          case"string":
            this.interactionDOMElement.style.cursor = e;
            break;
          case"function":
            e(t);
            break;
          case"object":
            Object.assign(this.interactionDOMElement.style, e)
        } else "string" != typeof t || Object.prototype.hasOwnProperty.call(this.cursorStyles, t) || (this.interactionDOMElement.style.cursor = t)
      }
    }, r.prototype.dispatchEvent = function (t, e, r) {
      r.stopPropagationHint && t !== r.stopsPropagatingAt || (r.currentTarget = t, r.type = e, t.emit(e, r), t[e] && t[e](r))
    }, r.prototype.delayDispatchEvent = function (t, e, r) {
      this.delayedEvents.push({displayObject: t, eventString: e, eventData: r})
    }, r.prototype.mapPositionToPoint = function (t, e, r) {
      var i;
      i = this.interactionDOMElement.parentElement ? this.interactionDOMElement.getBoundingClientRect() : {
        x: 0,
        y: 0,
        width: 0,
        height: 0
      };
      var n = 1 / this.resolution;
      t.x = (e - i.left) * (this.interactionDOMElement.width / i.width) * n, t.y = (r - i.top) * (this.interactionDOMElement.height / i.height) * n
    }, r.prototype.processInteractive = function (t, e, r, i) {
      var n = this.search.findHit(t, e, r, i), o = this.delayedEvents;
      if (!o.length) return n;
      t.stopPropagationHint = !1;
      var s = o.length;
      this.delayedEvents = [];
      for (var a = 0; a < s; a++) {
        var h = o[a], u = h.displayObject, l = h.eventString, c = h.eventData;
        c.stopsPropagatingAt === u && (c.stopPropagationHint = !0), this.dispatchEvent(u, l, c)
      }
      return n
    }, r.prototype.onPointerDown = function (t) {
      if (!this.supportsTouchEvents || "touch" !== t.pointerType) {
        var e = this.normalizeToPointerData(t);
        if (this.autoPreventDefault && e[0].isNormalized) (t.cancelable || !("cancelable" in t)) && t.preventDefault();
        for (var r = e.length, i = 0; i < r; i++) {
          var n = e[i], o = this.getInteractionDataForPointerId(n),
            s = this.configureInteractionEventForDOMEvent(this.eventData, n, o);
          if (s.data.originalEvent = t, this.processInteractive(s, this.lastObjectRendered, this.processPointerDown, !0), this.emit("pointerdown", s), "touch" === n.pointerType) this.emit("touchstart", s); else if ("mouse" === n.pointerType || "pen" === n.pointerType) {
            var a = 2 === n.button;
            this.emit(a ? "rightdown" : "mousedown", this.eventData)
          }
        }
      }
    }, r.prototype.processPointerDown = function (t, e, r) {
      var i = t.data, n = t.data.identifier;
      if (r) if (e.trackedPointers[n] || (e.trackedPointers[n] = new rr(n)), this.dispatchEvent(e, "pointerdown", t), "touch" === i.pointerType) this.dispatchEvent(e, "touchstart", t); else if ("mouse" === i.pointerType || "pen" === i.pointerType) {
        var o = 2 === i.button;
        o ? e.trackedPointers[n].rightDown = !0 : e.trackedPointers[n].leftDown = !0, this.dispatchEvent(e, o ? "rightdown" : "mousedown", t)
      }
    }, r.prototype.onPointerComplete = function (t, e, r) {
      for (var i = this.normalizeToPointerData(t), n = i.length, o = t.target !== this.interactionDOMElement ? "outside" : "", s = 0; s < n; s++) {
        var a = i[s], h = this.getInteractionDataForPointerId(a),
          u = this.configureInteractionEventForDOMEvent(this.eventData, a, h);
        if (u.data.originalEvent = t, this.processInteractive(u, this.lastObjectRendered, r, e || !o), this.emit(e ? "pointercancel" : "pointerup" + o, u), "mouse" === a.pointerType || "pen" === a.pointerType) {
          var l = 2 === a.button;
          this.emit(l ? "rightup" + o : "mouseup" + o, u)
        } else "touch" === a.pointerType && (this.emit(e ? "touchcancel" : "touchend" + o, u), this.releaseInteractionDataForPointerId(a.pointerId))
      }
    }, r.prototype.onPointerCancel = function (t) {
      this.supportsTouchEvents && "touch" === t.pointerType || this.onPointerComplete(t, !0, this.processPointerCancel)
    }, r.prototype.processPointerCancel = function (t, e) {
      var r = t.data, i = t.data.identifier;
      void 0 !== e.trackedPointers[i] && (delete e.trackedPointers[i], this.dispatchEvent(e, "pointercancel", t), "touch" === r.pointerType && this.dispatchEvent(e, "touchcancel", t))
    }, r.prototype.onPointerUp = function (t) {
      this.supportsTouchEvents && "touch" === t.pointerType || this.onPointerComplete(t, !1, this.processPointerUp)
    }, r.prototype.processPointerUp = function (t, e, r) {
      var i = t.data, n = t.data.identifier, o = e.trackedPointers[n], s = "touch" === i.pointerType,
        a = "mouse" === i.pointerType || "pen" === i.pointerType, h = !1;
      if (a) {
        var u = 2 === i.button, l = rr.FLAGS, c = u ? l.RIGHT_DOWN : l.LEFT_DOWN, d = void 0 !== o && o.flags & c;
        r ? (this.dispatchEvent(e, u ? "rightup" : "mouseup", t), d && (this.dispatchEvent(e, u ? "rightclick" : "click", t), h = !0)) : d && this.dispatchEvent(e, u ? "rightupoutside" : "mouseupoutside", t), o && (u ? o.rightDown = !1 : o.leftDown = !1)
      }
      r ? (this.dispatchEvent(e, "pointerup", t), s && this.dispatchEvent(e, "touchend", t), o && (a && !h || this.dispatchEvent(e, "pointertap", t), s && (this.dispatchEvent(e, "tap", t), o.over = !1))) : o && (this.dispatchEvent(e, "pointerupoutside", t), s && this.dispatchEvent(e, "touchendoutside", t)), o && o.none && delete e.trackedPointers[n]
    }, r.prototype.onPointerMove = function (t) {
      if (!this.supportsTouchEvents || "touch" !== t.pointerType) {
        var e = this.normalizeToPointerData(t);
        "mouse" !== e[0].pointerType && "pen" !== e[0].pointerType || (this._didMove = !0, this.cursor = null);
        for (var r = e.length, i = 0; i < r; i++) {
          var n = e[i], o = this.getInteractionDataForPointerId(n),
            s = this.configureInteractionEventForDOMEvent(this.eventData, n, o);
          s.data.originalEvent = t, this.processInteractive(s, this.lastObjectRendered, this.processPointerMove, !0), this.emit("pointermove", s), "touch" === n.pointerType && this.emit("touchmove", s), "mouse" !== n.pointerType && "pen" !== n.pointerType || this.emit("mousemove", s)
        }
        "mouse" === e[0].pointerType && this.setCursorMode(this.cursor)
      }
    }, r.prototype.processPointerMove = function (t, e, r) {
      var i = t.data, n = "touch" === i.pointerType, o = "mouse" === i.pointerType || "pen" === i.pointerType;
      o && this.processPointerOverOut(t, e, r), this.moveWhenInside && !r || (this.dispatchEvent(e, "pointermove", t), n && this.dispatchEvent(e, "touchmove", t), o && this.dispatchEvent(e, "mousemove", t))
    }, r.prototype.onPointerOut = function (t) {
      if (!this.supportsTouchEvents || "touch" !== t.pointerType) {
        var e = this.normalizeToPointerData(t)[0];
        "mouse" === e.pointerType && (this.mouseOverRenderer = !1, this.setCursorMode(null));
        var r = this.getInteractionDataForPointerId(e),
          i = this.configureInteractionEventForDOMEvent(this.eventData, e, r);
        i.data.originalEvent = e, this.processInteractive(i, this.lastObjectRendered, this.processPointerOverOut, !1), this.emit("pointerout", i), "mouse" === e.pointerType || "pen" === e.pointerType ? this.emit("mouseout", i) : this.releaseInteractionDataForPointerId(r.identifier)
      }
    }, r.prototype.processPointerOverOut = function (t, e, r) {
      var i = t.data, n = t.data.identifier, o = "mouse" === i.pointerType || "pen" === i.pointerType,
        s = e.trackedPointers[n];
      r && !s && (s = e.trackedPointers[n] = new rr(n)), void 0 !== s && (r && this.mouseOverRenderer ? (s.over || (s.over = !0, this.delayDispatchEvent(e, "pointerover", t), o && this.delayDispatchEvent(e, "mouseover", t)), o && null === this.cursor && (this.cursor = e.cursor)) : s.over && (s.over = !1, this.dispatchEvent(e, "pointerout", this.eventData), o && this.dispatchEvent(e, "mouseout", t), s.none && delete e.trackedPointers[n]))
    }, r.prototype.onPointerOver = function (t) {
      var e = this.normalizeToPointerData(t)[0], r = this.getInteractionDataForPointerId(e),
        i = this.configureInteractionEventForDOMEvent(this.eventData, e, r);
      i.data.originalEvent = e, "mouse" === e.pointerType && (this.mouseOverRenderer = !0), this.emit("pointerover", i), "mouse" !== e.pointerType && "pen" !== e.pointerType || this.emit("mouseover", i)
    }, r.prototype.getInteractionDataForPointerId = function (t) {
      var e, r = t.pointerId;
      return r === or || "mouse" === t.pointerType ? e = this.mouse : this.activeInteractionData[r] ? e = this.activeInteractionData[r] : ((e = this.interactionDataPool.pop() || new $e).identifier = r, this.activeInteractionData[r] = e), e.copyEvent(t), e
    }, r.prototype.releaseInteractionDataForPointerId = function (t) {
      var e = this.activeInteractionData[t];
      e && (delete this.activeInteractionData[t], e.reset(), this.interactionDataPool.push(e))
    }, r.prototype.configureInteractionEventForDOMEvent = function (t, e, r) {
      return t.data = r, this.mapPositionToPoint(r.global, e.clientX, e.clientY), "touch" === e.pointerType && (e.globalX = r.global.x, e.globalY = r.global.y), r.originalEvent = e, t.reset(), t
    }, r.prototype.normalizeToPointerData = function (t) {
      var e = [];
      if (this.supportsTouchEvents && t instanceof TouchEvent) for (var r = 0, i = t.changedTouches.length; r < i; r++) {
        var n = t.changedTouches[r];
        void 0 === n.button && (n.button = t.touches.length ? 1 : 0), void 0 === n.buttons && (n.buttons = t.touches.length ? 1 : 0), void 0 === n.isPrimary && (n.isPrimary = 1 === t.touches.length && "touchstart" === t.type), void 0 === n.width && (n.width = n.radiusX || 1), void 0 === n.height && (n.height = n.radiusY || 1), void 0 === n.tiltX && (n.tiltX = 0), void 0 === n.tiltY && (n.tiltY = 0), void 0 === n.pointerType && (n.pointerType = "touch"), void 0 === n.pointerId && (n.pointerId = n.identifier || 0), void 0 === n.pressure && (n.pressure = n.force || .5), void 0 === n.twist && (n.twist = 0), void 0 === n.tangentialPressure && (n.tangentialPressure = 0), void 0 === n.layerX && (n.layerX = n.offsetX = n.clientX), void 0 === n.layerY && (n.layerY = n.offsetY = n.clientY), n.isNormalized = !0, e.push(n)
      } else if (!(t instanceof MouseEvent) || this.supportsPointerEvents && t instanceof window.PointerEvent) e.push(t); else {
        var o = t;
        void 0 === o.isPrimary && (o.isPrimary = !0), void 0 === o.width && (o.width = 1), void 0 === o.height && (o.height = 1), void 0 === o.tiltX && (o.tiltX = 0), void 0 === o.tiltY && (o.tiltY = 0), void 0 === o.pointerType && (o.pointerType = "mouse"), void 0 === o.pointerId && (o.pointerId = or), void 0 === o.pressure && (o.pressure = .5), void 0 === o.twist && (o.twist = 0), void 0 === o.tangentialPressure && (o.tangentialPressure = 0), o.isNormalized = !0, e.push(o)
      }
      return e
    }, r.prototype.destroy = function () {
      this.removeEvents(), this.removeTickerListener(), this.removeAllListeners(), this.renderer = null, this.mouse = null, this.eventData = null, this.interactionDOMElement = null, this.onPointerDown = null, this.processPointerDown = null, this.onPointerUp = null, this.processPointerUp = null, this.onPointerCancel = null, this.processPointerCancel = null, this.onPointerMove = null, this.processPointerMove = null, this.onPointerOut = null, this.processPointerOverOut = null, this.onPointerOver = null, this.search = null
    }, r
  }(D), hr = function () {
    function t(t) {
      this.items = [], this._name = t, this._aliasCount = 0
    }

    return t.prototype.emit = function (t, e, r, i, n, o, s, a) {
      if (arguments.length > 8) throw new Error("max arguments reached");
      var h = this.name, u = this.items;
      this._aliasCount++;
      for (var l = 0, c = u.length; l < c; l++) u[l][h](t, e, r, i, n, o, s, a);
      return u === this.items && this._aliasCount--, this
    }, t.prototype.ensureNonAliasedItems = function () {
      this._aliasCount > 0 && this.items.length > 1 && (this._aliasCount = 0, this.items = this.items.slice(0))
    }, t.prototype.add = function (t) {
      return t[this._name] && (this.ensureNonAliasedItems(), this.remove(t), this.items.push(t)), this
    }, t.prototype.remove = function (t) {
      var e = this.items.indexOf(t);
      return -1 !== e && (this.ensureNonAliasedItems(), this.items.splice(e, 1)), this
    }, t.prototype.contains = function (t) {
      return -1 !== this.items.indexOf(t)
    }, t.prototype.removeAll = function () {
      return this.ensureNonAliasedItems(), this.items.length = 0, this
    }, t.prototype.destroy = function () {
      this.removeAll(), this.items = null, this._name = null
    }, Object.defineProperty(t.prototype, "empty", {
      get: function () {
        return 0 === this.items.length
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "name", {
      get: function () {
        return this._name
      }, enumerable: !1, configurable: !0
    }), t
  }();
  Object.defineProperties(hr.prototype, {
    dispatch: {value: hr.prototype.emit},
    run: {value: hr.prototype.emit}
  }), C.PREFER_ENV = M.any ? t.ENV.WEBGL : t.ENV.WEBGL2, C.STRICT_TEXTURE_CACHE = !1;
  var ur = [];

  function lr(t, e) {
    if (!t) return null;
    var r = "";
    if ("string" == typeof t) {
      var i = /\.(\w{3,4})(?:$|\?|#)/i.exec(t);
      i && (r = i[1].toLowerCase())
    }
    for (var n = ur.length - 1; n >= 0; --n) {
      var o = ur[n];
      if (o.test && o.test(t, r)) return new o(t, e)
    }
    throw new Error("Unrecognized source type to auto-detect Resource")
  }

  var cr = function (t, e) {
    return (cr = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, e) {
      t.__proto__ = e
    } || function (t, e) {
      for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r])
    })(t, e)
  };

  function dr(t, e) {
    function r() {
      this.constructor = t
    }

    cr(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r)
  }

  var pr = function () {
      function t(t, e) {
        void 0 === t && (t = 0), void 0 === e && (e = 0), this._width = t, this._height = e, this.destroyed = !1, this.internal = !1, this.onResize = new hr("setRealSize"), this.onUpdate = new hr("update"), this.onError = new hr("onError")
      }

      return t.prototype.bind = function (t) {
        this.onResize.add(t), this.onUpdate.add(t), this.onError.add(t), (this._width || this._height) && this.onResize.emit(this._width, this._height)
      }, t.prototype.unbind = function (t) {
        this.onResize.remove(t), this.onUpdate.remove(t), this.onError.remove(t)
      }, t.prototype.resize = function (t, e) {
        t === this._width && e === this._height || (this._width = t, this._height = e, this.onResize.emit(t, e))
      }, Object.defineProperty(t.prototype, "valid", {
        get: function () {
          return !!this._width && !!this._height
        }, enumerable: !1, configurable: !0
      }), t.prototype.update = function () {
        this.destroyed || this.onUpdate.emit()
      }, t.prototype.load = function () {
        return Promise.resolve(this)
      }, Object.defineProperty(t.prototype, "width", {
        get: function () {
          return this._width
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(t.prototype, "height", {
        get: function () {
          return this._height
        }, enumerable: !1, configurable: !0
      }), t.prototype.style = function (t, e, r) {
        return !1
      }, t.prototype.dispose = function () {
      }, t.prototype.destroy = function () {
        this.destroyed || (this.destroyed = !0, this.dispose(), this.onError.removeAll(), this.onError = null, this.onResize.removeAll(), this.onResize = null, this.onUpdate.removeAll(), this.onUpdate = null)
      }, t.test = function (t, e) {
        return !1
      }, t
    }(), fr = function (e) {
      function r(t, r) {
        var i = this, n = r || {}, o = n.width, s = n.height;
        if (!o || !s) throw new Error("BufferResource width or height invalid");
        return (i = e.call(this, o, s) || this).data = t, i
      }

      return dr(r, e), r.prototype.upload = function (e, r, i) {
        var n = e.gl;
        return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL, r.alphaMode === t.ALPHA_MODES.UNPACK), i.width === r.width && i.height === r.height ? n.texSubImage2D(r.target, 0, 0, 0, r.width, r.height, r.format, r.type, this.data) : (i.width = r.width, i.height = r.height, n.texImage2D(r.target, 0, i.internalFormat, r.width, r.height, 0, r.format, i.type, this.data)), !0
      }, r.prototype.dispose = function () {
        this.data = null
      }, r.test = function (t) {
        return t instanceof Float32Array || t instanceof Uint8Array || t instanceof Uint32Array
      }, r
    }(pr), mr = {scaleMode: t.SCALE_MODES.NEAREST, format: t.FORMATS.RGBA, alphaMode: t.ALPHA_MODES.NPM},
    vr = function (e) {
      function r(r, i) {
        void 0 === r && (r = null), void 0 === i && (i = null);
        var n = e.call(this) || this, o = (i = i || {}).alphaMode, s = i.mipmap, a = i.anisotropicLevel,
          h = i.scaleMode, u = i.width, l = i.height, c = i.wrapMode, d = i.format, p = i.type, f = i.target,
          m = i.resolution, v = i.resourceOptions;
        return !r || r instanceof pr || ((r = lr(r, v)).internal = !0), n.width = u || 0, n.height = l || 0, n.resolution = m || C.RESOLUTION, n.mipmap = void 0 !== s ? s : C.MIPMAP_TEXTURES, n.anisotropicLevel = void 0 !== a ? a : C.ANISOTROPIC_LEVEL, n.wrapMode = c || C.WRAP_MODE, n.scaleMode = void 0 !== h ? h : C.SCALE_MODE, n.format = d || t.FORMATS.RGBA, n.type = p || t.TYPES.UNSIGNED_BYTE, n.target = f || t.TARGETS.TEXTURE_2D, n.alphaMode = void 0 !== o ? o : t.ALPHA_MODES.UNPACK, void 0 !== i.premultiplyAlpha && (n.premultiplyAlpha = i.premultiplyAlpha), n.uid = re(), n.touched = 0, n.isPowerOfTwo = !1, n._refreshPOT(), n._glTextures = {}, n.dirtyId = 0, n.dirtyStyleId = 0, n.cacheId = null, n.valid = u > 0 && l > 0, n.textureCacheIds = [], n.destroyed = !1, n.resource = null, n._batchEnabled = 0, n._batchLocation = 0, n.parentTextureArray = null, n.setResource(r), n
      }

      return dr(r, e), Object.defineProperty(r.prototype, "realWidth", {
        get: function () {
          return Math.ceil(this.width * this.resolution - 1e-4)
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(r.prototype, "realHeight", {
        get: function () {
          return Math.ceil(this.height * this.resolution - 1e-4)
        }, enumerable: !1, configurable: !0
      }), r.prototype.setStyle = function (t, e) {
        var r;
        return void 0 !== t && t !== this.scaleMode && (this.scaleMode = t, r = !0), void 0 !== e && e !== this.mipmap && (this.mipmap = e, r = !0), r && this.dirtyStyleId++, this
      }, r.prototype.setSize = function (t, e, r) {
        return this.resolution = r || this.resolution, this.width = t, this.height = e, this._refreshPOT(), this.update(), this
      }, r.prototype.setRealSize = function (t, e, r) {
        return this.resolution = r || this.resolution, this.width = t / this.resolution, this.height = e / this.resolution, this._refreshPOT(), this.update(), this
      }, r.prototype._refreshPOT = function () {
        this.isPowerOfTwo = Jt(this.realWidth) && Jt(this.realHeight)
      }, r.prototype.setResolution = function (t) {
        var e = this.resolution;
        return e === t ? this : (this.resolution = t, this.valid && (this.width = this.width * e / t, this.height = this.height * e / t, this.emit("update", this)), this._refreshPOT(), this)
      }, r.prototype.setResource = function (t) {
        if (this.resource === t) return this;
        if (this.resource) throw new Error("Resource can be set only once");
        return t.bind(this), this.resource = t, this
      }, r.prototype.update = function () {
        this.valid ? (this.dirtyId++, this.dirtyStyleId++, this.emit("update", this)) : this.width > 0 && this.height > 0 && (this.valid = !0, this.emit("loaded", this), this.emit("update", this))
      }, r.prototype.onError = function (t) {
        this.emit("error", this, t)
      }, r.prototype.destroy = function () {
        this.resource && (this.resource.unbind(this), this.resource.internal && this.resource.destroy(), this.resource = null), this.cacheId && (delete ae[this.cacheId], delete se[this.cacheId], this.cacheId = null), this.dispose(), r.removeFromCache(this), this.textureCacheIds = null, this.destroyed = !0
      }, r.prototype.dispose = function () {
        this.emit("dispose", this)
      }, r.prototype.castToBaseTexture = function () {
        return this
      }, r.from = function (t, e, i) {
        void 0 === i && (i = C.STRICT_TEXTURE_CACHE);
        var n = "string" == typeof t, o = null;
        n ? o = t : (t._pixiId || (t._pixiId = "pixiid_" + re()), o = t._pixiId);
        var s = ae[o];
        if (n && i && !s) throw new Error('The cacheId "' + o + '" does not exist in BaseTextureCache.');
        return s || ((s = new r(t, e)).cacheId = o, r.addToCache(s, o)), s
      }, r.fromBuffer = function (e, i, n, o) {
        e = e || new Float32Array(i * n * 4);
        var s = new fr(e, {width: i, height: n}), a = e instanceof Float32Array ? t.TYPES.FLOAT : t.TYPES.UNSIGNED_BYTE;
        return new r(s, Object.assign(mr, o || {width: i, height: n, type: a}))
      }, r.addToCache = function (t, e) {
        e && (-1 === t.textureCacheIds.indexOf(e) && t.textureCacheIds.push(e), ae[e] && console.warn("BaseTexture added to the cache with an id [" + e + "] that already had an entry"), ae[e] = t)
      }, r.removeFromCache = function (t) {
        if ("string" == typeof t) {
          var e = ae[t];
          if (e) {
            var r = e.textureCacheIds.indexOf(t);
            return r > -1 && e.textureCacheIds.splice(r, 1), delete ae[t], e
          }
        } else if (t && t.textureCacheIds) {
          for (var i = 0; i < t.textureCacheIds.length; ++i) delete ae[t.textureCacheIds[i]];
          return t.textureCacheIds.length = 0, t
        }
        return null
      }, r._globalBatch = 0, r
    }(D), yr = function (t) {
      function e(e, r) {
        var i = this, n = r || {}, o = n.width, s = n.height;
        (i = t.call(this, o, s) || this).items = [], i.itemDirtyIds = [];
        for (var a = 0; a < e; a++) {
          var h = new vr;
          i.items.push(h), i.itemDirtyIds.push(-2)
        }
        return i.length = e, i._load = null, i.baseTexture = null, i
      }

      return dr(e, t), e.prototype.initFromArray = function (t, e) {
        for (var r = 0; r < this.length; r++) t[r] && (t[r].castToBaseTexture ? this.addBaseTextureAt(t[r].castToBaseTexture(), r) : t[r] instanceof pr ? this.addResourceAt(t[r], r) : this.addResourceAt(lr(t[r], e), r))
      }, e.prototype.dispose = function () {
        for (var t = 0, e = this.length; t < e; t++) this.items[t].destroy();
        this.items = null, this.itemDirtyIds = null, this._load = null
      }, e.prototype.addResourceAt = function (t, e) {
        if (!this.items[e]) throw new Error("Index " + e + " is out of bounds");
        return t.valid && !this.valid && this.resize(t.width, t.height), this.items[e].setResource(t), this
      }, e.prototype.bind = function (e) {
        if (null !== this.baseTexture) throw new Error("Only one base texture per TextureArray is allowed");
        t.prototype.bind.call(this, e);
        for (var r = 0; r < this.length; r++) this.items[r].parentTextureArray = e, this.items[r].on("update", e.update, e)
      }, e.prototype.unbind = function (e) {
        t.prototype.unbind.call(this, e);
        for (var r = 0; r < this.length; r++) this.items[r].parentTextureArray = null, this.items[r].off("update", e.update, e)
      }, e.prototype.load = function () {
        var t = this;
        if (this._load) return this._load;
        var e = this.items.map(function (t) {
          return t.resource
        }).filter(function (t) {
          return t
        }).map(function (t) {
          return t.load()
        });
        return this._load = Promise.all(e).then(function () {
          var e = t.items[0], r = e.realWidth, i = e.realHeight;
          return t.resize(r, i), Promise.resolve(t)
        }), this._load
      }, e
    }(pr), gr = function (e) {
      function r(t, r) {
        var i, n, o = this, s = r || {}, a = s.width, h = s.height;
        return Array.isArray(t) ? (i = t, n = t.length) : n = t, o = e.call(this, n, {
          width: a,
          height: h
        }) || this, i && o.initFromArray(i, r), o
      }

      return dr(r, e), r.prototype.addBaseTextureAt = function (t, e) {
        if (!t.resource) throw new Error("ArrayResource does not support RenderTexture");
        return this.addResourceAt(t.resource, e), this
      }, r.prototype.bind = function (r) {
        e.prototype.bind.call(this, r), r.target = t.TARGETS.TEXTURE_2D_ARRAY
      }, r.prototype.upload = function (t, e, r) {
        var i = this.length, n = this.itemDirtyIds, o = this.items, s = t.gl;
        r.dirtyId < 0 && s.texImage3D(s.TEXTURE_2D_ARRAY, 0, e.format, this._width, this._height, i, 0, e.format, e.type, null);
        for (var a = 0; a < i; a++) {
          var h = o[a];
          n[a] < h.dirtyId && (n[a] = h.dirtyId, h.valid && s.texSubImage3D(s.TEXTURE_2D_ARRAY, 0, 0, 0, a, h.resource.width, h.resource.height, 1, e.format, e.type, h.resource.source))
        }
        return !0
      }, r
    }(yr), _r = function (e) {
      function r(t) {
        var r = this, i = t, n = i.naturalWidth || i.videoWidth || i.width,
          o = i.naturalHeight || i.videoHeight || i.height;
        return (r = e.call(this, n, o) || this).source = t, r.noSubImage = !1, r
      }

      return dr(r, e), r.crossOrigin = function (t, e, r) {
        void 0 === r && 0 !== e.indexOf("data:") ? t.crossOrigin = de(e) : !1 !== r && (t.crossOrigin = "string" == typeof r ? r : "anonymous")
      }, r.prototype.upload = function (e, r, i, n) {
        var o = e.gl, s = r.realWidth, a = r.realHeight;
        return n = n || this.source, o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL, r.alphaMode === t.ALPHA_MODES.UNPACK), this.noSubImage || r.target !== o.TEXTURE_2D || i.width !== s || i.height !== a ? (i.width = s, i.height = a, o.texImage2D(r.target, 0, r.format, r.format, r.type, n)) : o.texSubImage2D(o.TEXTURE_2D, 0, 0, 0, r.format, r.type, n), !0
      }, r.prototype.update = function () {
        if (!this.destroyed) {
          var t = this.source, r = t.naturalWidth || t.videoWidth || t.width,
            i = t.naturalHeight || t.videoHeight || t.height;
          this.resize(r, i), e.prototype.update.call(this)
        }
      }, r.prototype.dispose = function () {
        this.source = null
      }, r
    }(pr), xr = function (t) {
      function e() {
        return null !== t && t.apply(this, arguments) || this
      }

      return dr(e, t), e.test = function (t) {
        var e = window.OffscreenCanvas;
        return !!(e && t instanceof e) || t instanceof HTMLCanvasElement
      }, e
    }(_r), br = function (e) {
      function r(i, n) {
        var o = this, s = n || {}, a = s.width, h = s.height, u = s.autoLoad, l = s.linkBaseTexture;
        if (i && i.length !== r.SIDES) throw new Error("Invalid length. Got " + i.length + ", expected 6");
        o = e.call(this, 6, {width: a, height: h}) || this;
        for (var c = 0; c < r.SIDES; c++) o.items[c].target = t.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X + c;
        return o.linkBaseTexture = !1 !== l, i && o.initFromArray(i, n), !1 !== u && o.load(), o
      }

      return dr(r, e), r.prototype.bind = function (r) {
        e.prototype.bind.call(this, r), r.target = t.TARGETS.TEXTURE_CUBE_MAP
      }, r.prototype.addBaseTextureAt = function (e, r, i) {
        if (void 0 === i && (i = this.linkBaseTexture), !this.items[r]) throw new Error("Index " + r + " is out of bounds");
        if (!this.linkBaseTexture || e.parentTextureArray || Object.keys(e._glTextures).length > 0) {
          if (!e.resource) throw new Error("CubeResource does not support copying of renderTexture.");
          this.addResourceAt(e.resource, r)
        } else e.target = t.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X + r, e.parentTextureArray = this.baseTexture, this.items[r] = e;
        return e.valid && !this.valid && this.resize(e.realWidth, e.realHeight), this.items[r] = e, this
      }, r.prototype.upload = function (t, e, i) {
        for (var n = this.itemDirtyIds, o = 0; o < r.SIDES; o++) {
          var s = this.items[o];
          n[o] < s.dirtyId && (s.valid && s.resource ? (s.resource.upload(t, s, i), n[o] = s.dirtyId) : n[o] < -1 && (t.gl.texImage2D(s.target, 0, i.internalFormat, e.realWidth, e.realHeight, 0, e.format, i.type, null), n[o] = -1))
        }
        return !0
      }, r.test = function (t) {
        return Array.isArray(t) && t.length === r.SIDES
      }, r.SIDES = 6, r
    }(yr), Er = function (e) {
      function r(t, r) {
        var i = this;
        if (r = r || {}, !(t instanceof HTMLImageElement)) {
          var n = new Image;
          _r.crossOrigin(n, t, r.crossorigin), n.src = t, t = n
        }
        return i = e.call(this, t) || this, !t.complete && i._width && i._height && (i._width = 0, i._height = 0), i.url = t.src, i._process = null, i.preserveBitmap = !1, i.createBitmap = (void 0 !== r.createBitmap ? r.createBitmap : C.CREATE_IMAGE_BITMAP) && !!window.createImageBitmap, i.alphaMode = "number" == typeof r.alphaMode ? r.alphaMode : null, void 0 !== r.premultiplyAlpha && (i.premultiplyAlpha = r.premultiplyAlpha), i.bitmap = null, i._load = null, !1 !== r.autoLoad && i.load(), i
      }

      return dr(r, e), r.prototype.load = function (t) {
        var e = this;
        return this._load ? this._load : (void 0 !== t && (this.createBitmap = t), this._load = new Promise(function (t, r) {
          var i = e.source;
          e.url = i.src;
          var n = function () {
            e.destroyed || (i.onload = null, i.onerror = null, e.resize(i.width, i.height), e._load = null, e.createBitmap ? t(e.process()) : t(e))
          };
          i.complete && i.src ? n() : (i.onload = n, i.onerror = function (t) {
            r(t), e.onError.emit(t)
          })
        }), this._load)
      }, r.prototype.process = function () {
        var e = this, r = this.source;
        return null !== this._process ? this._process : null === this.bitmap && window.createImageBitmap ? (this._process = window.createImageBitmap(r, 0, 0, r.width, r.height, {premultiplyAlpha: this.alphaMode === t.ALPHA_MODES.UNPACK ? "premultiply" : "none"}).then(function (t) {
          return e.destroyed ? Promise.reject() : (e.bitmap = t, e.update(), e._process = null, Promise.resolve(e))
        }), this._process) : Promise.resolve(this)
      }, r.prototype.upload = function (t, r, i) {
        if ("number" == typeof this.alphaMode && (r.alphaMode = this.alphaMode), !this.createBitmap) return e.prototype.upload.call(this, t, r, i);
        if (!this.bitmap && (this.process(), !this.bitmap)) return !1;
        if (e.prototype.upload.call(this, t, r, i, this.bitmap), !this.preserveBitmap) {
          var n = !0, o = r._glTextures;
          for (var s in o) {
            var a = o[s];
            if (a !== i && a.dirtyId !== r.dirtyId) {
              n = !1;
              break
            }
          }
          n && (this.bitmap.close && this.bitmap.close(), this.bitmap = null)
        }
        return !0
      }, r.prototype.dispose = function () {
        this.source.onload = null, this.source.onerror = null, e.prototype.dispose.call(this), this.bitmap && (this.bitmap.close(), this.bitmap = null), this._process = null, this._load = null
      }, r.test = function (t) {
        return "string" == typeof t || t instanceof HTMLImageElement
      }, r
    }(_r), Tr = function (t) {
      function e(e, r) {
        var i = this;
        return r = r || {}, (i = t.call(this, document.createElement("canvas")) || this)._width = 0, i._height = 0, i.svg = e, i.scale = r.scale || 1, i._overrideWidth = r.width, i._overrideHeight = r.height, i._resolve = null, i._crossorigin = r.crossorigin, i._load = null, !1 !== r.autoLoad && i.load(), i
      }

      return dr(e, t), e.prototype.load = function () {
        var t = this;
        return this._load ? this._load : (this._load = new Promise(function (e) {
          if (t._resolve = function () {
            t.resize(t.source.width, t.source.height), e(t)
          }, /^\<svg/.test(t.svg.trim())) {
            if (!btoa) throw new Error("Your browser doesn't support base64 conversions.");
            t.svg = "data:image/svg+xml;base64," + btoa(unescape(encodeURIComponent(t.svg)))
          }
          t._loadSvg()
        }), this._load)
      }, e.prototype._loadSvg = function () {
        var t = this, e = new Image;
        _r.crossOrigin(e, this.svg, this._crossorigin), e.src = this.svg, e.onerror = function (r) {
          t._resolve && (e.onerror = null, t.onError.emit(r))
        }, e.onload = function () {
          if (t._resolve) {
            var r = e.width, i = e.height;
            if (!r || !i) throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");
            var n = r * t.scale, o = i * t.scale;
            (t._overrideWidth || t._overrideHeight) && (n = t._overrideWidth || t._overrideHeight / i * r, o = t._overrideHeight || t._overrideWidth / r * i), n = Math.round(n), o = Math.round(o);
            var s = t.source;
            s.width = n, s.height = o, s._pixiId = "canvas_" + re(), s.getContext("2d").drawImage(e, 0, 0, r, i, 0, 0, n, o), t._resolve(), t._resolve = null
          }
        }
      }, e.getSize = function (t) {
        var r = e.SVG_SIZE.exec(t), i = {};
        return r && (i[r[1]] = Math.round(parseFloat(r[3])), i[r[5]] = Math.round(parseFloat(r[7]))), i
      }, e.prototype.dispose = function () {
        t.prototype.dispose.call(this), this._resolve = null, this._crossorigin = null
      }, e.test = function (t, e) {
        return "svg" === e || "string" == typeof t && 0 === t.indexOf("data:image/svg+xml;base64") || "string" == typeof t && 0 === t.indexOf("<svg")
      }, e.SVG_SIZE = /<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i, e
    }(_r), Pr = function (t) {
      function e(r, i) {
        var n = this;
        if (i = i || {}, !(r instanceof HTMLVideoElement)) {
          var o = document.createElement("video");
          o.setAttribute("preload", "auto"), o.setAttribute("webkit-playsinline", ""), o.setAttribute("playsinline", ""), "string" == typeof r && (r = [r]);
          var s = r[0].src || r[0];
          _r.crossOrigin(o, s, i.crossorigin);
          for (var a = 0; a < r.length; ++a) {
            var h = document.createElement("source"), u = r[a], l = u.src, c = u.mime,
              d = (l = l || r[a]).split("?").shift().toLowerCase(), p = d.substr(d.lastIndexOf(".") + 1);
            c = c || e.MIME_TYPES[p] || "video/" + p, h.src = l, h.type = c, o.appendChild(h)
          }
          r = o
        }
        return (n = t.call(this, r) || this).noSubImage = !0, n._autoUpdate = !0, n._isConnectedToTicker = !1, n._updateFPS = i.updateFPS || 0, n._msToNextUpdate = 0, n.autoPlay = !1 !== i.autoPlay, n._load = null, n._resolve = null, n._onCanPlay = n._onCanPlay.bind(n), n._onError = n._onError.bind(n), !1 !== i.autoLoad && n.load(), n
      }

      return dr(e, t), e.prototype.update = function (e) {
        if (void 0 === e && (e = 0), !this.destroyed) {
          var r = Je.shared.elapsedMS * this.source.playbackRate;
          this._msToNextUpdate = Math.floor(this._msToNextUpdate - r), (!this._updateFPS || this._msToNextUpdate <= 0) && (t.prototype.update.call(this), this._msToNextUpdate = this._updateFPS ? Math.floor(1e3 / this._updateFPS) : 0)
        }
      }, e.prototype.load = function () {
        var t = this;
        if (this._load) return this._load;
        var e = this.source;
        return (e.readyState === e.HAVE_ENOUGH_DATA || e.readyState === e.HAVE_FUTURE_DATA) && e.width && e.height && (e.complete = !0), e.addEventListener("play", this._onPlayStart.bind(this)), e.addEventListener("pause", this._onPlayStop.bind(this)), this._isSourceReady() ? this._onCanPlay() : (e.addEventListener("canplay", this._onCanPlay), e.addEventListener("canplaythrough", this._onCanPlay), e.addEventListener("error", this._onError, !0)), this._load = new Promise(function (r) {
          t.valid ? r(t) : (t._resolve = r, e.load())
        }), this._load
      }, e.prototype._onError = function (t) {
        this.source.removeEventListener("error", this._onError, !0), this.onError.emit(t)
      }, e.prototype._isSourcePlaying = function () {
        var t = this.source;
        return t.currentTime > 0 && !1 === t.paused && !1 === t.ended && t.readyState > 2
      }, e.prototype._isSourceReady = function () {
        var t = this.source;
        return 3 === t.readyState || 4 === t.readyState
      }, e.prototype._onPlayStart = function () {
        this.valid || this._onCanPlay(), this.autoUpdate && !this._isConnectedToTicker && (Je.shared.add(this.update, this), this._isConnectedToTicker = !0)
      }, e.prototype._onPlayStop = function () {
        this._isConnectedToTicker && (Je.shared.remove(this.update, this), this._isConnectedToTicker = !1)
      }, e.prototype._onCanPlay = function () {
        var t = this.source;
        t.removeEventListener("canplay", this._onCanPlay), t.removeEventListener("canplaythrough", this._onCanPlay);
        var e = this.valid;
        this.resize(t.videoWidth, t.videoHeight), !e && this._resolve && (this._resolve(this), this._resolve = null), this._isSourcePlaying() ? this._onPlayStart() : this.autoPlay && t.play()
      }, e.prototype.dispose = function () {
        this._isConnectedToTicker && Je.shared.remove(this.update, this);
        var e = this.source;
        e && (e.removeEventListener("error", this._onError, !0), e.pause(), e.src = "", e.load()), t.prototype.dispose.call(this)
      }, Object.defineProperty(e.prototype, "autoUpdate", {
        get: function () {
          return this._autoUpdate
        }, set: function (t) {
          t !== this._autoUpdate && (this._autoUpdate = t, !this._autoUpdate && this._isConnectedToTicker ? (Je.shared.remove(this.update, this), this._isConnectedToTicker = !1) : this._autoUpdate && !this._isConnectedToTicker && this._isSourcePlaying() && (Je.shared.add(this.update, this), this._isConnectedToTicker = !0))
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(e.prototype, "updateFPS", {
        get: function () {
          return this._updateFPS
        }, set: function (t) {
          t !== this._updateFPS && (this._updateFPS = t)
        }, enumerable: !1, configurable: !0
      }), e.test = function (t, r) {
        return t instanceof HTMLVideoElement || e.TYPES.indexOf(r) > -1
      }, e.TYPES = ["mp4", "m4v", "webm", "ogg", "ogv", "h264", "avi", "mov"], e.MIME_TYPES = {
        ogv: "video/ogg",
        mov: "video/quicktime",
        m4v: "video/mp4"
      }, e
    }(_r), Sr = function (t) {
      function e() {
        return null !== t && t.apply(this, arguments) || this
      }

      return dr(e, t), e.test = function (t) {
        return !!window.createImageBitmap && t instanceof ImageBitmap
      }, e
    }(_r);
  ur.push(Er, Sr, xr, Pr, Tr, fr, br, gr);
  var wr = {
    Resource: pr,
    BaseImageResource: _r,
    INSTALLED: ur,
    autoDetectResource: lr,
    AbstractMultiResource: yr,
    ArrayResource: gr,
    BufferResource: fr,
    CanvasResource: xr,
    CubeResource: br,
    ImageResource: Er,
    SVGResource: Tr,
    VideoResource: Pr,
    ImageBitmapResource: Sr
  }, Ir = function () {
    function t(t) {
      this.renderer = t
    }

    return t.prototype.destroy = function () {
      this.renderer = null
    }, t
  }(), Ar = function (e) {
    function r() {
      return null !== e && e.apply(this, arguments) || this
    }

    return dr(r, e), r.prototype.upload = function (e, r, i) {
      var n = e.gl;
      return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL, r.alphaMode === t.ALPHA_MODES.UNPACK), i.width === r.width && i.height === r.height ? n.texSubImage2D(r.target, 0, 0, 0, r.width, r.height, r.format, r.type, this.data) : (i.width = r.width, i.height = r.height, n.texImage2D(r.target, 0, 1 === e.context.webGLVersion ? n.DEPTH_COMPONENT : n.DEPTH_COMPONENT16, r.width, r.height, 0, r.format, r.type, this.data)), !0
    }, r
  }(fr), Or = function () {
    function e(e, r) {
      this.width = Math.ceil(e || 100), this.height = Math.ceil(r || 100), this.stencil = !1, this.depth = !1, this.dirtyId = 0, this.dirtyFormat = 0, this.dirtySize = 0, this.depthTexture = null, this.colorTextures = [], this.glFramebuffers = {}, this.disposeRunner = new hr("disposeFramebuffer"), this.multisample = t.MSAA_QUALITY.NONE
    }

    return Object.defineProperty(e.prototype, "colorTexture", {
      get: function () {
        return this.colorTextures[0]
      }, enumerable: !1, configurable: !0
    }), e.prototype.addColorTexture = function (e, r) {
      return void 0 === e && (e = 0), this.colorTextures[e] = r || new vr(null, {
        scaleMode: t.SCALE_MODES.NEAREST,
        resolution: 1,
        mipmap: t.MIPMAP_MODES.OFF,
        width: this.width,
        height: this.height
      }), this.dirtyId++, this.dirtyFormat++, this
    }, e.prototype.addDepthTexture = function (e) {
      return this.depthTexture = e || new vr(new Ar(null, {
        width: this.width,
        height: this.height
      }), {
        scaleMode: t.SCALE_MODES.NEAREST,
        resolution: 1,
        width: this.width,
        height: this.height,
        mipmap: t.MIPMAP_MODES.OFF,
        format: t.FORMATS.DEPTH_COMPONENT,
        type: t.TYPES.UNSIGNED_SHORT
      }), this.dirtyId++, this.dirtyFormat++, this
    }, e.prototype.enableDepth = function () {
      return this.depth = !0, this.dirtyId++, this.dirtyFormat++, this
    }, e.prototype.enableStencil = function () {
      return this.stencil = !0, this.dirtyId++, this.dirtyFormat++, this
    }, e.prototype.resize = function (t, e) {
      if (t = Math.ceil(t), e = Math.ceil(e), t !== this.width || e !== this.height) {
        this.width = t, this.height = e, this.dirtyId++, this.dirtySize++;
        for (var r = 0; r < this.colorTextures.length; r++) {
          var i = this.colorTextures[r], n = i.resolution;
          i.setSize(t / n, e / n)
        }
        if (this.depthTexture) {
          n = this.depthTexture.resolution;
          this.depthTexture.setSize(t / n, e / n)
        }
      }
    }, e.prototype.dispose = function () {
      this.disposeRunner.emit(this, !1)
    }, e.prototype.destroyDepthTexture = function () {
      this.depthTexture && (this.depthTexture.destroy(), this.depthTexture = null, ++this.dirtyId, ++this.dirtyFormat)
    }, e
  }(), Mr = function (t) {
    function e(e) {
      var r = this;
      "number" == typeof e && (e = {
        width: arguments[0],
        height: arguments[1],
        scaleMode: arguments[2],
        resolution: arguments[3]
      });
      r = t.call(this, null, e) || this;
      var i = e || {}, n = i.width, o = i.height;
      return r.mipmap = 0, r.width = Math.ceil(n) || 100, r.height = Math.ceil(o) || 100, r.valid = !0, r.clearColor = [0, 0, 0, 0], r.framebuffer = new Or(r.width * r.resolution, r.height * r.resolution).addColorTexture(0, r), r.maskStack = [], r.filterStack = [{}], r
    }

    return dr(e, t), e.prototype.resize = function (t, e) {
      t = Math.ceil(t), e = Math.ceil(e), this.framebuffer.resize(t * this.resolution, e * this.resolution)
    }, e.prototype.dispose = function () {
      this.framebuffer.dispose(), t.prototype.dispose.call(this)
    }, e.prototype.destroy = function () {
      t.prototype.destroy.call(this), this.framebuffer.destroyDepthTexture(), this.framebuffer = null
    }, e
  }(vr), Cr = function () {
    function t() {
      this.x0 = 0, this.y0 = 0, this.x1 = 1, this.y1 = 0, this.x2 = 1, this.y2 = 1, this.x3 = 0, this.y3 = 1, this.uvsFloat32 = new Float32Array(8)
    }

    return t.prototype.set = function (t, e, r) {
      var i = e.width, n = e.height;
      if (r) {
        var o = t.width / 2 / i, s = t.height / 2 / n, a = t.x / i + o, h = t.y / n + s;
        r = Le.add(r, Le.NW), this.x0 = a + o * Le.uX(r), this.y0 = h + s * Le.uY(r), r = Le.add(r, 2), this.x1 = a + o * Le.uX(r), this.y1 = h + s * Le.uY(r), r = Le.add(r, 2), this.x2 = a + o * Le.uX(r), this.y2 = h + s * Le.uY(r), r = Le.add(r, 2), this.x3 = a + o * Le.uX(r), this.y3 = h + s * Le.uY(r)
      } else this.x0 = t.x / i, this.y0 = t.y / n, this.x1 = (t.x + t.width) / i, this.y1 = t.y / n, this.x2 = (t.x + t.width) / i, this.y2 = (t.y + t.height) / n, this.x3 = t.x / i, this.y3 = (t.y + t.height) / n;
      this.uvsFloat32[0] = this.x0, this.uvsFloat32[1] = this.y0, this.uvsFloat32[2] = this.x1, this.uvsFloat32[3] = this.y1, this.uvsFloat32[4] = this.x2, this.uvsFloat32[5] = this.y2, this.uvsFloat32[6] = this.x3, this.uvsFloat32[7] = this.y3
    }, t
  }(), Dr = new Cr, Rr = function (t) {
    function e(r, i, n, o, s, a) {
      var h = t.call(this) || this;
      if (h.noFrame = !1, i || (h.noFrame = !0, i = new _e(0, 0, 1, 1)), r instanceof e && (r = r.baseTexture), h.baseTexture = r, h._frame = i, h.trim = o, h.valid = !1, h._uvs = Dr, h.uvMatrix = null, h.orig = n || i, h._rotate = Number(s || 0), !0 === s) h._rotate = 2; else if (h._rotate % 2 != 0) throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");
      return h.defaultAnchor = a ? new Pe(a.x, a.y) : new Pe(0, 0), h._updateID = 0, h.textureCacheIds = [], r.valid ? h.noFrame ? r.valid && h.onBaseTextureUpdated(r) : h.frame = i : r.once("loaded", h.onBaseTextureUpdated, h), h.noFrame && r.on("update", h.onBaseTextureUpdated, h), h
    }

    return dr(e, t), e.prototype.update = function () {
      this.baseTexture.resource && this.baseTexture.resource.update()
    }, e.prototype.onBaseTextureUpdated = function (t) {
      if (this.noFrame) {
        if (!this.baseTexture.valid) return;
        this._frame.width = t.width, this._frame.height = t.height, this.valid = !0, this.updateUvs()
      } else this.frame = this._frame;
      this.emit("update", this)
    }, e.prototype.destroy = function (t) {
      if (this.baseTexture) {
        if (t) {
          var r = this.baseTexture;
          r && r.url && se[r.url] && e.removeFromCache(r.url), this.baseTexture.destroy()
        }
        this.baseTexture.off("loaded", this.onBaseTextureUpdated, this), this.baseTexture.off("update", this.onBaseTextureUpdated, this), this.baseTexture = null
      }
      this._frame = null, this._uvs = null, this.trim = null, this.orig = null, this.valid = !1, e.removeFromCache(this), this.textureCacheIds = null
    }, e.prototype.clone = function () {
      return new e(this.baseTexture, this.frame.clone(), this.orig.clone(), this.trim && this.trim.clone(), this.rotate, this.defaultAnchor)
    }, e.prototype.updateUvs = function () {
      this._uvs === Dr && (this._uvs = new Cr), this._uvs.set(this._frame, this.baseTexture, this.rotate), this._updateID++
    }, e.from = function (t, r, i) {
      void 0 === r && (r = {}), void 0 === i && (i = C.STRICT_TEXTURE_CACHE);
      var n = "string" == typeof t, o = null;
      n ? o = t : (t._pixiId || (t._pixiId = "pixiid_" + re()), o = t._pixiId);
      var s = se[o];
      if (n && i && !s) throw new Error('The cacheId "' + o + '" does not exist in TextureCache.');
      return s || (r.resolution || (r.resolution = pe(t)), (s = new e(new vr(t, r))).baseTexture.cacheId = o, vr.addToCache(s.baseTexture, o), e.addToCache(s, o)), s
    }, e.fromURL = function (t, r) {
      var i = Object.assign({autoLoad: !1}, null == r ? void 0 : r.resourceOptions),
        n = e.from(t, Object.assign({resourceOptions: i}, r), !1), o = n.baseTexture.resource;
      return n.baseTexture.valid ? Promise.resolve(n) : o.load().then(function () {
        return Promise.resolve(n)
      })
    }, e.fromBuffer = function (t, r, i, n) {
      return new e(vr.fromBuffer(t, r, i, n))
    }, e.fromLoader = function (t, r, i) {
      var n = new Er(t);
      n.url = r;
      var o = new e(new vr(n, {scaleMode: C.SCALE_MODE, resolution: pe(r)}));
      return i || (i = r), vr.addToCache(o.baseTexture, i), e.addToCache(o, i), i !== r && (vr.addToCache(o.baseTexture, r), e.addToCache(o, r)), o
    }, e.addToCache = function (t, e) {
      e && (-1 === t.textureCacheIds.indexOf(e) && t.textureCacheIds.push(e), se[e] && console.warn("Texture added to the cache with an id [" + e + "] that already had an entry"), se[e] = t)
    }, e.removeFromCache = function (t) {
      if ("string" == typeof t) {
        var e = se[t];
        if (e) {
          var r = e.textureCacheIds.indexOf(t);
          return r > -1 && e.textureCacheIds.splice(r, 1), delete se[t], e
        }
      } else if (t && t.textureCacheIds) {
        for (var i = 0; i < t.textureCacheIds.length; ++i) se[t.textureCacheIds[i]] === t && delete se[t.textureCacheIds[i]];
        return t.textureCacheIds.length = 0, t
      }
      return null
    }, Object.defineProperty(e.prototype, "resolution", {
      get: function () {
        return this.baseTexture.resolution
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "frame", {
      get: function () {
        return this._frame
      }, set: function (t) {
        this._frame = t, this.noFrame = !1;
        var e = t.x, r = t.y, i = t.width, n = t.height, o = e + i > this.baseTexture.width,
          s = r + n > this.baseTexture.height;
        if (o || s) {
          var a = o && s ? "and" : "or", h = "X: " + e + " + " + i + " = " + (e + i) + " > " + this.baseTexture.width,
            u = "Y: " + r + " + " + n + " = " + (r + n) + " > " + this.baseTexture.height;
          throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: " + h + " " + a + " " + u)
        }
        this.valid = i && n && this.baseTexture.valid, this.trim || this.rotate || (this.orig = t), this.valid && this.updateUvs()
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "rotate", {
      get: function () {
        return this._rotate
      }, set: function (t) {
        this._rotate = t, this.valid && this.updateUvs()
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "width", {
      get: function () {
        return this.orig.width
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "height", {
      get: function () {
        return this.orig.height
      }, enumerable: !1, configurable: !0
    }), e.prototype.castToBaseTexture = function () {
      return this.baseTexture
    }, e
  }(D);

  function Lr(t) {
    t.destroy = function () {
    }, t.on = function () {
    }, t.once = function () {
    }, t.emit = function () {
    }
  }

  Rr.EMPTY = new Rr(new vr), Lr(Rr.EMPTY), Lr(Rr.EMPTY.baseTexture), Rr.WHITE = function () {
    var t = document.createElement("canvas");
    t.width = 16, t.height = 16;
    var e = t.getContext("2d");
    return e.fillStyle = "white", e.fillRect(0, 0, 16, 16), new Rr(new vr(new xr(t)))
  }(), Lr(Rr.WHITE), Lr(Rr.WHITE.baseTexture);
  var Nr = function (t) {
    function e(e, r) {
      var i = this, n = null;
      if (!(e instanceof Mr)) {
        var o = arguments[1], s = arguments[2], a = arguments[3], h = arguments[4];
        console.warn("Please use RenderTexture.create(" + o + ", " + s + ") instead of the ctor directly."), n = arguments[0], r = null, e = new Mr({
          width: o,
          height: s,
          scaleMode: a,
          resolution: h
        })
      }
      return (i = t.call(this, e, r) || this).legacyRenderer = n, i.valid = !0, i.filterFrame = null, i.filterPoolKey = null, i.updateUvs(), i
    }

    return dr(e, t), Object.defineProperty(e.prototype, "framebuffer", {
      get: function () {
        return this.baseTexture.framebuffer
      }, enumerable: !1, configurable: !0
    }), e.prototype.resize = function (t, e, r) {
      void 0 === r && (r = !0), t = Math.ceil(t), e = Math.ceil(e), this.valid = t > 0 && e > 0, this._frame.width = this.orig.width = t, this._frame.height = this.orig.height = e, r && this.baseTexture.resize(t, e), this.updateUvs()
    }, e.prototype.setResolution = function (t) {
      var e = this.baseTexture;
      e.resolution !== t && (e.setResolution(t), this.resize(e.width, e.height, !1))
    }, e.create = function (t) {
      return "number" == typeof t && (t = {
        width: t,
        height: arguments[1],
        scaleMode: arguments[2],
        resolution: arguments[3]
      }), new e(new Mr(t))
    }, e
  }(Rr), Fr = function () {
    function t(t) {
      this.texturePool = {}, this.textureOptions = t || {}, this.enableFullScreen = !1, this._pixelsWidth = 0, this._pixelsHeight = 0
    }

    return t.prototype.createTexture = function (t, e) {
      var r = new Mr(Object.assign({width: t, height: e, resolution: 1}, this.textureOptions));
      return new Nr(r)
    }, t.prototype.getOptimalTexture = function (e, r, i) {
      void 0 === i && (i = 1);
      var n = t.SCREEN_KEY;
      e *= i, r *= i, this.enableFullScreen && e === this._pixelsWidth && r === this._pixelsHeight || (n = (65535 & (e = Zt(e))) << 16 | 65535 & (r = Zt(r))), this.texturePool[n] || (this.texturePool[n] = []);
      var o = this.texturePool[n].pop();
      return o || (o = this.createTexture(e, r)), o.filterPoolKey = n, o.setResolution(i), o
    }, t.prototype.getFilterTexture = function (t, e) {
      var r = this.getOptimalTexture(t.width, t.height, e || t.resolution);
      return r.filterFrame = t.filterFrame, r
    }, t.prototype.returnTexture = function (t) {
      var e = t.filterPoolKey;
      t.filterFrame = null, this.texturePool[e].push(t)
    }, t.prototype.returnFilterTexture = function (t) {
      this.returnTexture(t)
    }, t.prototype.clear = function (t) {
      if (t = !1 !== t) for (var e in this.texturePool) {
        var r = this.texturePool[e];
        if (r) for (var i = 0; i < r.length; i++) r[i].destroy(!0)
      }
      this.texturePool = {}
    }, t.prototype.setScreenSize = function (e) {
      if (e.width !== this._pixelsWidth || e.height !== this._pixelsHeight) {
        var r = t.SCREEN_KEY, i = this.texturePool[r];
        if (this.enableFullScreen = e.width > 0 && e.height > 0, i) for (var n = 0; n < i.length; n++) i[n].destroy(!0);
        this.texturePool[r] = [], this._pixelsWidth = e.width, this._pixelsHeight = e.height
      }
    }, t.SCREEN_KEY = "screen", t
  }(), Br = function () {
    function t(t, e, r, i, n, o, s) {
      void 0 === e && (e = 0), void 0 === r && (r = !1), void 0 === i && (i = 5126), this.buffer = t, this.size = e, this.normalized = r, this.type = i, this.stride = n, this.start = o, this.instance = s
    }

    return t.prototype.destroy = function () {
      this.buffer = null
    }, t.from = function (e, r, i, n, o) {
      return new t(e, r, i, n, o)
    }, t
  }(), Ur = 0, kr = function () {
    function t(t, e, r) {
      void 0 === e && (e = !0), void 0 === r && (r = !1), this.data = t || new Float32Array(1), this._glBuffers = {}, this._updateID = 0, this.index = r, this.static = e, this.id = Ur++, this.disposeRunner = new hr("disposeBuffer")
    }

    return t.prototype.update = function (t) {
      this.data = t || this.data, this._updateID++
    }, t.prototype.dispose = function () {
      this.disposeRunner.emit(this, !1)
    }, t.prototype.destroy = function () {
      this.dispose(), this.data = null
    }, t.from = function (e) {
      return e instanceof Array && (e = new Float32Array(e)), new t(e)
    }, t
  }();

  function Xr(t) {
    if (4 === t.BYTES_PER_ELEMENT) return t instanceof Float32Array ? "Float32Array" : t instanceof Uint32Array ? "Uint32Array" : "Int32Array";
    if (2 === t.BYTES_PER_ELEMENT) {
      if (t instanceof Uint16Array) return "Uint16Array"
    } else if (1 === t.BYTES_PER_ELEMENT && t instanceof Uint8Array) return "Uint8Array";
    return null
  }

  var jr = {Float32Array: Float32Array, Uint32Array: Uint32Array, Int32Array: Int32Array, Uint8Array: Uint8Array};
  var Gr = {5126: 4, 5123: 2, 5121: 1}, Hr = 0, Yr = {
    Float32Array: Float32Array,
    Uint32Array: Uint32Array,
    Int32Array: Int32Array,
    Uint8Array: Uint8Array,
    Uint16Array: Uint16Array
  }, zr = function () {
    function t(t, e) {
      void 0 === t && (t = []), void 0 === e && (e = {}), this.buffers = t, this.indexBuffer = null, this.attributes = e, this.glVertexArrayObjects = {}, this.id = Hr++, this.instanced = !1, this.instanceCount = 1, this.disposeRunner = new hr("disposeGeometry"), this.refCount = 0
    }

    return t.prototype.addAttribute = function (t, e, r, i, n, o, s, a) {
      if (void 0 === r && (r = 0), void 0 === i && (i = !1), void 0 === a && (a = !1), !e) throw new Error("You must pass a buffer when creating an attribute");
      e instanceof kr || (e instanceof Array && (e = new Float32Array(e)), e = new kr(e));
      var h = t.split("|");
      if (h.length > 1) {
        for (var u = 0; u < h.length; u++) this.addAttribute(h[u], e, r, i, n);
        return this
      }
      var l = this.buffers.indexOf(e);
      return -1 === l && (this.buffers.push(e), l = this.buffers.length - 1), this.attributes[t] = new Br(l, r, i, n, o, s, a), this.instanced = this.instanced || a, this
    }, t.prototype.getAttribute = function (t) {
      return this.attributes[t]
    }, t.prototype.getBuffer = function (t) {
      return this.buffers[this.getAttribute(t).buffer]
    }, t.prototype.addIndex = function (t) {
      return t instanceof kr || (t instanceof Array && (t = new Uint16Array(t)), t = new kr(t)), t.index = !0, this.indexBuffer = t, -1 === this.buffers.indexOf(t) && this.buffers.push(t), this
    }, t.prototype.getIndex = function () {
      return this.indexBuffer
    }, t.prototype.interleave = function () {
      if (1 === this.buffers.length || 2 === this.buffers.length && this.indexBuffer) return this;
      var t, e = [], r = [], i = new kr;
      for (t in this.attributes) {
        var n = this.attributes[t], o = this.buffers[n.buffer];
        e.push(o.data), r.push(n.size * Gr[n.type] / 4), n.buffer = 0
      }
      for (i.data = function (t, e) {
        for (var r = 0, i = 0, n = {}, o = 0; o < t.length; o++) i += e[o], r += t[o].length;
        var s = new ArrayBuffer(4 * r), a = null, h = 0;
        for (o = 0; o < t.length; o++) {
          var u = e[o], l = t[o], c = Xr(l);
          n[c] || (n[c] = new jr[c](s)), a = n[c];
          for (var d = 0; d < l.length; d++) a[(d / u | 0) * i + h + d % u] = l[d];
          h += u
        }
        return new Float32Array(s)
      }(e, r), t = 0; t < this.buffers.length; t++) this.buffers[t] !== this.indexBuffer && this.buffers[t].destroy();
      return this.buffers = [i], this.indexBuffer && this.buffers.push(this.indexBuffer), this
    }, t.prototype.getSize = function () {
      for (var t in this.attributes) {
        var e = this.attributes[t];
        return this.buffers[e.buffer].data.length / (e.stride / 4 || e.size)
      }
      return 0
    }, t.prototype.dispose = function () {
      this.disposeRunner.emit(this, !1)
    }, t.prototype.destroy = function () {
      this.dispose(), this.buffers = null, this.indexBuffer = null, this.attributes = null
    }, t.prototype.clone = function () {
      for (var e = new t, r = 0; r < this.buffers.length; r++) e.buffers[r] = new kr(this.buffers[r].data.slice(0));
      for (var r in this.attributes) {
        var i = this.attributes[r];
        e.attributes[r] = new Br(i.buffer, i.size, i.normalized, i.type, i.stride, i.start, i.instance)
      }
      return this.indexBuffer && (e.indexBuffer = e.buffers[this.buffers.indexOf(this.indexBuffer)], e.indexBuffer.index = !0), e
    }, t.merge = function (e) {
      for (var r, i = new t, n = [], o = [], s = [], a = 0; a < e.length; a++) {
        r = e[a];
        for (var h = 0; h < r.buffers.length; h++) o[h] = o[h] || 0, o[h] += r.buffers[h].data.length, s[h] = 0
      }
      for (a = 0; a < r.buffers.length; a++) n[a] = new (Yr[Xr(r.buffers[a].data)])(o[a]), i.buffers[a] = new kr(n[a]);
      for (a = 0; a < e.length; a++) {
        r = e[a];
        for (h = 0; h < r.buffers.length; h++) n[h].set(r.buffers[h].data, s[h]), s[h] += r.buffers[h].data.length
      }
      if (i.attributes = r.attributes, r.indexBuffer) {
        i.indexBuffer = i.buffers[r.buffers.indexOf(r.indexBuffer)], i.indexBuffer.index = !0;
        var u = 0, l = 0, c = 0, d = 0;
        for (a = 0; a < r.buffers.length; a++) if (r.buffers[a] !== r.indexBuffer) {
          d = a;
          break
        }
        for (var a in r.attributes) {
          var p = r.attributes[a];
          (0 | p.buffer) === d && (l += p.size * Gr[p.type] / 4)
        }
        for (a = 0; a < e.length; a++) {
          var f = e[a].indexBuffer.data;
          for (h = 0; h < f.length; h++) i.indexBuffer.data[h + c] += u;
          u += r.buffers[d].data.length / l, c += f.length
        }
      }
      return i
    }, t
  }(), Vr = function (t) {
    function e() {
      var e = t.call(this) || this;
      return e.addAttribute("aVertexPosition", new Float32Array([0, 0, 1, 0, 1, 1, 0, 1])).addIndex([0, 1, 3, 2]), e
    }

    return dr(e, t), e
  }(zr), Wr = function (t) {
    function e() {
      var e = t.call(this) || this;
      return e.vertices = new Float32Array([-1, -1, 1, -1, 1, 1, -1, 1]), e.uvs = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]), e.vertexBuffer = new kr(e.vertices), e.uvBuffer = new kr(e.uvs), e.addAttribute("aVertexPosition", e.vertexBuffer).addAttribute("aTextureCoord", e.uvBuffer).addIndex([0, 1, 2, 0, 2, 3]), e
    }

    return dr(e, t), e.prototype.map = function (t, e) {
      var r = 0, i = 0;
      return this.uvs[0] = r, this.uvs[1] = i, this.uvs[2] = r + e.width / t.width, this.uvs[3] = i, this.uvs[4] = r + e.width / t.width, this.uvs[5] = i + e.height / t.height, this.uvs[6] = r, this.uvs[7] = i + e.height / t.height, r = e.x, i = e.y, this.vertices[0] = r, this.vertices[1] = i, this.vertices[2] = r + e.width, this.vertices[3] = i, this.vertices[4] = r + e.width, this.vertices[5] = i + e.height, this.vertices[6] = r, this.vertices[7] = i + e.height, this.invalidate(), this
    }, e.prototype.invalidate = function () {
      return this.vertexBuffer._updateID++, this.uvBuffer._updateID++, this
    }, e
  }(zr), qr = 0, Kr = function () {
    function t(t, e) {
      this.uniforms = t, this.group = !0, this.syncUniforms = {}, this.dirtyId = 0, this.id = qr++, this.static = !!e
    }

    return t.prototype.update = function () {
      this.dirtyId++
    }, t.prototype.add = function (e, r, i) {
      this.uniforms[e] = new t(r, i)
    }, t.from = function (e, r) {
      return new t(e, r)
    }, t
  }(), Zr = function () {
    function t() {
      this.renderTexture = null, this.target = null, this.legacy = !1, this.resolution = 1, this.sourceFrame = new _e, this.destinationFrame = new _e, this.filters = []
    }

    return t.prototype.clear = function () {
      this.target = null, this.filters = null, this.renderTexture = null
    }, t
  }(), Jr = function (e) {
    function r(t) {
      var r = e.call(this, t) || this;
      return r.defaultFilterStack = [{}], r.texturePool = new Fr, r.texturePool.setScreenSize(t.view), r.statePool = [], r.quad = new Vr, r.quadUv = new Wr, r.tempRect = new _e, r.activeState = {}, r.globalUniforms = new Kr({
        outputFrame: r.tempRect,
        inputSize: new Float32Array(4),
        inputPixel: new Float32Array(4),
        inputClamp: new Float32Array(4),
        resolution: 1,
        filterArea: new Float32Array(4),
        filterClamp: new Float32Array(4)
      }, !0), r.forceClear = !1, r.useMaxPadding = !1, r
    }

    return dr(r, e), r.prototype.push = function (t, e) {
      for (var r = this.renderer, i = this.defaultFilterStack, n = this.statePool.pop() || new Zr, o = e[0].resolution, s = e[0].padding, a = e[0].autoFit, h = e[0].legacy, u = 1; u < e.length; u++) {
        var l = e[u];
        o = Math.min(o, l.resolution), s = this.useMaxPadding ? Math.max(s, l.padding) : s + l.padding, a = a || l.autoFit, h = h || l.legacy
      }
      1 === i.length && (this.defaultFilterStack[0].renderTexture = r.renderTexture.current), i.push(n), n.resolution = o, n.legacy = h, n.target = t, n.sourceFrame.copyFrom(t.filterArea || t.getBounds(!0)), n.sourceFrame.pad(s), a && n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame), n.sourceFrame.ceil(o), n.renderTexture = this.getOptimalFilterTexture(n.sourceFrame.width, n.sourceFrame.height, o), n.filters = e, n.destinationFrame.width = n.renderTexture.width, n.destinationFrame.height = n.renderTexture.height;
      var c = this.tempRect;
      c.width = n.sourceFrame.width, c.height = n.sourceFrame.height, n.renderTexture.filterFrame = n.sourceFrame, r.renderTexture.bind(n.renderTexture, n.sourceFrame, c), r.renderTexture.clear()
    }, r.prototype.pop = function () {
      var e = this.defaultFilterStack, r = e.pop(), i = r.filters;
      this.activeState = r;
      var n = this.globalUniforms.uniforms;
      n.outputFrame = r.sourceFrame, n.resolution = r.resolution;
      var o = n.inputSize, s = n.inputPixel, a = n.inputClamp;
      if (o[0] = r.destinationFrame.width, o[1] = r.destinationFrame.height, o[2] = 1 / o[0], o[3] = 1 / o[1], s[0] = o[0] * r.resolution, s[1] = o[1] * r.resolution, s[2] = 1 / s[0], s[3] = 1 / s[1], a[0] = .5 * s[2], a[1] = .5 * s[3], a[2] = r.sourceFrame.width * o[2] - .5 * s[2], a[3] = r.sourceFrame.height * o[3] - .5 * s[3], r.legacy) {
        var h = n.filterArea;
        h[0] = r.destinationFrame.width, h[1] = r.destinationFrame.height, h[2] = r.sourceFrame.x, h[3] = r.sourceFrame.y, n.filterClamp = n.inputClamp
      }
      this.globalUniforms.update();
      var u = e[e.length - 1];
      if (r.renderTexture.framebuffer.multisample > 1 && this.renderer.framebuffer.blit(), 1 === i.length) i[0].apply(this, r.renderTexture, u.renderTexture, t.CLEAR_MODES.BLEND, r), this.returnFilterTexture(r.renderTexture); else {
        var l = r.renderTexture, c = this.getOptimalFilterTexture(l.width, l.height, r.resolution);
        c.filterFrame = l.filterFrame;
        var d = 0;
        for (d = 0; d < i.length - 1; ++d) {
          i[d].apply(this, l, c, t.CLEAR_MODES.CLEAR, r);
          var p = l;
          l = c, c = p
        }
        i[d].apply(this, l, u.renderTexture, t.CLEAR_MODES.BLEND, r), this.returnFilterTexture(l), this.returnFilterTexture(c)
      }
      r.clear(), this.statePool.push(r)
    }, r.prototype.bindAndClear = function (e, r) {
      if (void 0 === r && (r = t.CLEAR_MODES.CLEAR), e && e.filterFrame) {
        var i = this.tempRect;
        i.width = e.filterFrame.width, i.height = e.filterFrame.height, this.renderer.renderTexture.bind(e, e.filterFrame, i)
      } else this.renderer.renderTexture.bind(e);
      "boolean" == typeof r && (r = r ? t.CLEAR_MODES.CLEAR : t.CLEAR_MODES.BLEND, ne("5.2.1", "Use CLEAR_MODES when using clear applyFilter option")), (r === t.CLEAR_MODES.CLEAR || r === t.CLEAR_MODES.BLIT && this.forceClear) && this.renderer.renderTexture.clear()
    }, r.prototype.applyFilter = function (e, r, i, n) {
      var o = this.renderer;
      this.bindAndClear(i, n), e.uniforms.uSampler = r, e.uniforms.filterGlobals = this.globalUniforms, o.state.set(e.state), o.shader.bind(e), e.legacy ? (this.quadUv.map(r._frame, r.filterFrame), o.geometry.bind(this.quadUv), o.geometry.draw(t.DRAW_MODES.TRIANGLES)) : (o.geometry.bind(this.quad), o.geometry.draw(t.DRAW_MODES.TRIANGLE_STRIP))
    }, r.prototype.calculateSpriteMatrix = function (t, e) {
      var r = this.activeState, i = r.sourceFrame, n = r.destinationFrame, o = e._texture.orig,
        s = t.set(n.width, 0, 0, n.height, i.x, i.y), a = e.worldTransform.copyTo(we.TEMP_MATRIX);
      return a.invert(), s.prepend(a), s.scale(1 / o.width, 1 / o.height), s.translate(e.anchor.x, e.anchor.y), s
    }, r.prototype.destroy = function () {
      this.texturePool.clear(!1)
    }, r.prototype.getOptimalFilterTexture = function (t, e, r) {
      return void 0 === r && (r = 1), this.texturePool.getOptimalTexture(t, e, r)
    }, r.prototype.getFilterTexture = function (t, e) {
      if ("number" == typeof t) {
        var r = t;
        t = e, e = r
      }
      t = t || this.activeState.renderTexture;
      var i = this.texturePool.getOptimalTexture(t.width, t.height, e || t.resolution);
      return i.filterFrame = t.filterFrame, i
    }, r.prototype.returnFilterTexture = function (t) {
      this.texturePool.returnTexture(t)
    }, r.prototype.emptyPool = function () {
      this.texturePool.clear(!0)
    }, r.prototype.resize = function () {
      this.texturePool.setScreenSize(this.renderer.view)
    }, r
  }(Ir), Qr = function () {
    function t(t) {
      this.renderer = t
    }

    return t.prototype.flush = function () {
    }, t.prototype.destroy = function () {
      this.renderer = null
    }, t.prototype.start = function () {
    }, t.prototype.stop = function () {
      this.flush()
    }, t.prototype.render = function (t) {
    }, t
  }(), $r = function (t) {
    function e(e) {
      var r = t.call(this, e) || this;
      return r.emptyRenderer = new Qr(e), r.currentRenderer = r.emptyRenderer, r
    }

    return dr(e, t), e.prototype.setObjectRenderer = function (t) {
      this.currentRenderer !== t && (this.currentRenderer.stop(), this.currentRenderer = t, this.currentRenderer.start())
    }, e.prototype.flush = function () {
      this.setObjectRenderer(this.emptyRenderer)
    }, e.prototype.reset = function () {
      this.setObjectRenderer(this.emptyRenderer)
    }, e.prototype.copyBoundTextures = function (t, e) {
      for (var r = this.renderer.texture.boundTextures, i = e - 1; i >= 0; --i) t[i] = r[i] || null, t[i] && (t[i]._batchLocation = i)
    }, e.prototype.boundArray = function (t, e, r, i) {
      for (var n = t.elements, o = t.ids, s = t.count, a = 0, h = 0; h < s; h++) {
        var u = n[h], l = u._batchLocation;
        if (l >= 0 && l < i && e[l] === u) o[h] = l; else for (; a < i;) {
          var c = e[a];
          if (!c || c._batchEnabled !== r || c._batchLocation !== a) {
            o[h] = a, u._batchLocation = a, e[a] = u;
            break
          }
          a++
        }
      }
    }, e
  }(Ir), ti = 0, ei = function (e) {
    function r(t) {
      var r = e.call(this, t) || this;
      return r.webGLVersion = 1, r.extensions = {}, r.supports = {uint32Indices: !1}, r.handleContextLost = r.handleContextLost.bind(r), r.handleContextRestored = r.handleContextRestored.bind(r), t.view.addEventListener("webglcontextlost", r.handleContextLost, !1), t.view.addEventListener("webglcontextrestored", r.handleContextRestored, !1), r
    }

    return dr(r, e), Object.defineProperty(r.prototype, "isLost", {
      get: function () {
        return !this.gl || this.gl.isContextLost()
      }, enumerable: !1, configurable: !0
    }), r.prototype.contextChange = function (t) {
      this.gl = t, this.renderer.gl = t, this.renderer.CONTEXT_UID = ti++, t.isContextLost() && t.getExtension("WEBGL_lose_context") && t.getExtension("WEBGL_lose_context").restoreContext()
    }, r.prototype.initFromContext = function (t) {
      this.gl = t, this.validateContext(t), this.renderer.gl = t, this.renderer.CONTEXT_UID = ti++, this.renderer.runners.contextChange.emit(t)
    }, r.prototype.initFromOptions = function (t) {
      var e = this.createContext(this.renderer.view, t);
      this.initFromContext(e)
    }, r.prototype.createContext = function (e, r) {
      var i;
      if (C.PREFER_ENV >= t.ENV.WEBGL2 && (i = e.getContext("webgl2", r)), i) this.webGLVersion = 2; else if (this.webGLVersion = 1, !(i = e.getContext("webgl", r) || e.getContext("experimental-webgl", r))) throw new Error("This browser does not support WebGL. Try using the canvas renderer");
      return this.gl = i, this.getExtensions(), this.gl
    }, r.prototype.getExtensions = function () {
      var t = this.gl;
      1 === this.webGLVersion ? Object.assign(this.extensions, {
        drawBuffers: t.getExtension("WEBGL_draw_buffers"),
        depthTexture: t.getExtension("WEBGL_depth_texture"),
        loseContext: t.getExtension("WEBGL_lose_context"),
        vertexArrayObject: t.getExtension("OES_vertex_array_object") || t.getExtension("MOZ_OES_vertex_array_object") || t.getExtension("WEBKIT_OES_vertex_array_object"),
        anisotropicFiltering: t.getExtension("EXT_texture_filter_anisotropic"),
        uint32ElementIndex: t.getExtension("OES_element_index_uint"),
        floatTexture: t.getExtension("OES_texture_float"),
        floatTextureLinear: t.getExtension("OES_texture_float_linear"),
        textureHalfFloat: t.getExtension("OES_texture_half_float"),
        textureHalfFloatLinear: t.getExtension("OES_texture_half_float_linear")
      }) : 2 === this.webGLVersion && Object.assign(this.extensions, {
        anisotropicFiltering: t.getExtension("EXT_texture_filter_anisotropic"),
        colorBufferFloat: t.getExtension("EXT_color_buffer_float"),
        floatTextureLinear: t.getExtension("OES_texture_float_linear")
      })
    }, r.prototype.handleContextLost = function (t) {
      t.preventDefault()
    }, r.prototype.handleContextRestored = function () {
      this.renderer.runners.contextChange.emit(this.gl)
    }, r.prototype.destroy = function () {
      var t = this.renderer.view;
      t.removeEventListener("webglcontextlost", this.handleContextLost), t.removeEventListener("webglcontextrestored", this.handleContextRestored), this.gl.useProgram(null), this.extensions.loseContext && this.extensions.loseContext.loseContext()
    }, r.prototype.postrender = function () {
      this.renderer.renderingToScreen && this.gl.flush()
    }, r.prototype.validateContext = function (t) {
      t.getContextAttributes().stencil || console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");
      var e = "WebGL2RenderingContext" in window && t instanceof window.WebGL2RenderingContext || !!t.getExtension("OES_element_index_uint");
      this.supports.uint32Indices = e, e || console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")
    }, r
  }(Ir), ri = function () {
    return function (e) {
      this.framebuffer = e, this.stencil = null, this.dirtyId = 0, this.dirtyFormat = 0, this.dirtySize = 0, this.multisample = t.MSAA_QUALITY.NONE, this.msaaBuffer = null, this.blitFramebuffer = null
    }
  }(), ii = new _e, ni = function (e) {
    function r(t) {
      var r = e.call(this, t) || this;
      return r.managedFramebuffers = [], r.unknownFramebuffer = new Or(10, 10), r.msaaSamples = null, r
    }

    return dr(r, e), r.prototype.contextChange = function () {
      var e = this.gl = this.renderer.gl;
      if (this.CONTEXT_UID = this.renderer.CONTEXT_UID, this.current = this.unknownFramebuffer, this.viewport = new _e, this.hasMRT = !0, this.writeDepthTexture = !0, this.disposeAll(!0), 1 === this.renderer.context.webGLVersion) {
        var r = this.renderer.context.extensions.drawBuffers, i = this.renderer.context.extensions.depthTexture;
        C.PREFER_ENV === t.ENV.WEBGL_LEGACY && (r = null, i = null), r ? e.drawBuffers = function (t) {
          return r.drawBuffersWEBGL(t)
        } : (this.hasMRT = !1, e.drawBuffers = function () {
        }), i || (this.writeDepthTexture = !1)
      } else this.msaaSamples = e.getInternalformatParameter(e.RENDERBUFFER, e.RGBA8, e.SAMPLES)
    }, r.prototype.bind = function (t, e) {
      var r = this.gl;
      if (t) {
        var i = t.glFramebuffers[this.CONTEXT_UID] || this.initFramebuffer(t);
        this.current !== t && (this.current = t, r.bindFramebuffer(r.FRAMEBUFFER, i.framebuffer)), i.dirtyId !== t.dirtyId && (i.dirtyId = t.dirtyId, i.dirtyFormat !== t.dirtyFormat ? (i.dirtyFormat = t.dirtyFormat, this.updateFramebuffer(t)) : i.dirtySize !== t.dirtySize && (i.dirtySize = t.dirtySize, this.resizeFramebuffer(t)));
        for (var n = 0; n < t.colorTextures.length; n++) {
          var o = t.colorTextures[n];
          this.renderer.texture.unbind(o.parentTextureArray || o)
        }
        t.depthTexture && this.renderer.texture.unbind(t.depthTexture), e ? this.setViewport(e.x, e.y, e.width, e.height) : this.setViewport(0, 0, t.width, t.height)
      } else this.current && (this.current = null, r.bindFramebuffer(r.FRAMEBUFFER, null)), e ? this.setViewport(e.x, e.y, e.width, e.height) : this.setViewport(0, 0, this.renderer.width, this.renderer.height)
    }, r.prototype.setViewport = function (t, e, r, i) {
      var n = this.viewport;
      n.width === r && n.height === i && n.x === t && n.y === e || (n.x = t, n.y = e, n.width = r, n.height = i, this.gl.viewport(t, e, r, i))
    }, Object.defineProperty(r.prototype, "size", {
      get: function () {
        return this.current ? {x: 0, y: 0, width: this.current.width, height: this.current.height} : {
          x: 0,
          y: 0,
          width: this.renderer.width,
          height: this.renderer.height
        }
      }, enumerable: !1, configurable: !0
    }), r.prototype.clear = function (e, r, i, n, o) {
      void 0 === o && (o = t.BUFFER_BITS.COLOR | t.BUFFER_BITS.DEPTH);
      var s = this.gl;
      s.clearColor(e, r, i, n), s.clear(o)
    }, r.prototype.initFramebuffer = function (t) {
      var e = this.gl, r = new ri(e.createFramebuffer());
      return r.multisample = this.detectSamples(t.multisample), t.glFramebuffers[this.CONTEXT_UID] = r, this.managedFramebuffers.push(t), t.disposeRunner.add(this), r
    }, r.prototype.resizeFramebuffer = function (t) {
      var e = this.gl, r = t.glFramebuffers[this.CONTEXT_UID];
      r.stencil && (e.bindRenderbuffer(e.RENDERBUFFER, r.stencil), e.renderbufferStorage(e.RENDERBUFFER, e.DEPTH_STENCIL, t.width, t.height));
      for (var i = t.colorTextures, n = 0; n < i.length; n++) this.renderer.texture.bind(i[n], 0);
      t.depthTexture && this.renderer.texture.bind(t.depthTexture, 0)
    }, r.prototype.updateFramebuffer = function (t) {
      var e = this.gl, r = t.glFramebuffers[this.CONTEXT_UID], i = t.colorTextures.length;
      e.drawBuffers || (i = Math.min(i, 1)), r.multisample > 1 && (r.msaaBuffer = e.createRenderbuffer(), e.bindRenderbuffer(e.RENDERBUFFER, r.msaaBuffer), e.renderbufferStorageMultisample(e.RENDERBUFFER, r.multisample, e.RGBA8, t.width, t.height), e.framebufferRenderbuffer(e.FRAMEBUFFER, e.COLOR_ATTACHMENT0, e.RENDERBUFFER, r.msaaBuffer));
      for (var n = [], o = 0; o < i; o++) if (!(0 === o && r.multisample > 1)) {
        var s = t.colorTextures[o], a = s.parentTextureArray || s;
        this.renderer.texture.bind(a, 0), e.framebufferTexture2D(e.FRAMEBUFFER, e.COLOR_ATTACHMENT0 + o, s.target, a._glTextures[this.CONTEXT_UID].texture, 0), n.push(e.COLOR_ATTACHMENT0 + o)
      }
      if ((n.length > 1 && e.drawBuffers(n), t.depthTexture) && this.writeDepthTexture) {
        var h = t.depthTexture;
        this.renderer.texture.bind(h, 0), e.framebufferTexture2D(e.FRAMEBUFFER, e.DEPTH_ATTACHMENT, e.TEXTURE_2D, h._glTextures[this.CONTEXT_UID].texture, 0)
      }
      r.stencil || !t.stencil && !t.depth || (r.stencil = e.createRenderbuffer(), e.bindRenderbuffer(e.RENDERBUFFER, r.stencil), e.renderbufferStorage(e.RENDERBUFFER, e.DEPTH_STENCIL, t.width, t.height), t.depthTexture || e.framebufferRenderbuffer(e.FRAMEBUFFER, e.DEPTH_STENCIL_ATTACHMENT, e.RENDERBUFFER, r.stencil))
    }, r.prototype.detectSamples = function (e) {
      var r = this.msaaSamples, i = t.MSAA_QUALITY.NONE;
      if (e <= 1 || null === r) return i;
      for (var n = 0; n < r.length; n++) if (r[n] <= e) {
        i = r[n];
        break
      }
      return 1 === i && (i = t.MSAA_QUALITY.NONE), i
    }, r.prototype.blit = function (t, e, r) {
      var i = this.current, n = this.renderer, o = this.gl, s = this.CONTEXT_UID;
      if (2 === n.context.webGLVersion && i) {
        var a = i.glFramebuffers[s];
        if (a) {
          if (!t) {
            if (a.multisample <= 1) return;
            a.blitFramebuffer || (a.blitFramebuffer = new Or(i.width, i.height), a.blitFramebuffer.addColorTexture(0, i.colorTextures[0])), (t = a.blitFramebuffer).width = i.width, t.height = i.height
          }
          e || ((e = ii).width = i.width, e.height = i.height), r || (r = e);
          var h = e.width === r.width && e.height === r.height;
          this.bind(t), o.bindFramebuffer(o.READ_FRAMEBUFFER, a.framebuffer), o.blitFramebuffer(e.x, e.y, e.width, e.height, r.x, r.y, r.width, r.height, o.COLOR_BUFFER_BIT, h ? o.NEAREST : o.LINEAR)
        }
      }
    }, r.prototype.disposeFramebuffer = function (t, e) {
      var r = t.glFramebuffers[this.CONTEXT_UID], i = this.gl;
      if (r) {
        delete t.glFramebuffers[this.CONTEXT_UID];
        var n = this.managedFramebuffers.indexOf(t);
        n >= 0 && this.managedFramebuffers.splice(n, 1), t.disposeRunner.remove(this), e || (i.deleteFramebuffer(r.framebuffer), r.stencil && i.deleteRenderbuffer(r.stencil))
      }
    }, r.prototype.disposeAll = function (t) {
      var e = this.managedFramebuffers;
      this.managedFramebuffers = [];
      for (var r = 0; r < e.length; r++) this.disposeFramebuffer(e[r], t)
    }, r.prototype.forceStencil = function () {
      var t = this.current;
      if (t) {
        var e = t.glFramebuffers[this.CONTEXT_UID];
        if (e && !e.stencil) {
          t.enableStencil();
          var r = t.width, i = t.height, n = this.gl, o = n.createRenderbuffer();
          n.bindRenderbuffer(n.RENDERBUFFER, o), n.renderbufferStorage(n.RENDERBUFFER, n.DEPTH_STENCIL, r, i), e.stencil = o, n.framebufferRenderbuffer(n.FRAMEBUFFER, n.DEPTH_STENCIL_ATTACHMENT, n.RENDERBUFFER, o)
        }
      }
    }, r.prototype.reset = function () {
      this.current = this.unknownFramebuffer, this.viewport = new _e
    }, r
  }(Ir), oi = function () {
    return function (t) {
      this.buffer = t || null, this.updateID = -1, this.byteLength = -1, this.refCount = 0
    }
  }(), si = {5126: 4, 5123: 2, 5121: 1}, ai = function (e) {
    function r(t) {
      var r = e.call(this, t) || this;
      return r._activeGeometry = null, r._activeVao = null, r.hasVao = !0, r.hasInstance = !0, r.canUseUInt32ElementIndex = !1, r.managedGeometries = {}, r.managedBuffers = {}, r
    }

    return dr(r, e), r.prototype.contextChange = function () {
      this.disposeAll(!0);
      var e = this.gl = this.renderer.gl, r = this.renderer.context;
      if (this.CONTEXT_UID = this.renderer.CONTEXT_UID, !e.createVertexArray) {
        var i = this.renderer.context.extensions.vertexArrayObject;
        C.PREFER_ENV === t.ENV.WEBGL_LEGACY && (i = null), i ? (e.createVertexArray = function () {
          return i.createVertexArrayOES()
        }, e.bindVertexArray = function (t) {
          return i.bindVertexArrayOES(t)
        }, e.deleteVertexArray = function (t) {
          return i.deleteVertexArrayOES(t)
        }) : (this.hasVao = !1, e.createVertexArray = function () {
          return null
        }, e.bindVertexArray = function () {
          return null
        }, e.deleteVertexArray = function () {
          return null
        })
      }
      if (!e.vertexAttribDivisor) {
        var n = e.getExtension("ANGLE_instanced_arrays");
        n ? (e.vertexAttribDivisor = function (t, e) {
          return n.vertexAttribDivisorANGLE(t, e)
        }, e.drawElementsInstanced = function (t, e, r, i, o) {
          return n.drawElementsInstancedANGLE(t, e, r, i, o)
        }, e.drawArraysInstanced = function (t, e, r, i) {
          return n.drawArraysInstancedANGLE(t, e, r, i)
        }) : this.hasInstance = !1
      }
      this.canUseUInt32ElementIndex = 2 === r.webGLVersion || !!r.extensions.uint32ElementIndex
    }, r.prototype.bind = function (t, e) {
      e = e || this.renderer.shader.shader;
      var r = this.gl, i = t.glVertexArrayObjects[this.CONTEXT_UID];
      i || (this.managedGeometries[t.id] = t, t.disposeRunner.add(this), t.glVertexArrayObjects[this.CONTEXT_UID] = i = {});
      var n = i[e.program.id] || this.initGeometryVao(t, e.program);
      this._activeGeometry = t, this._activeVao !== n && (this._activeVao = n, this.hasVao ? r.bindVertexArray(n) : this.activateVao(t, e.program)), this.updateBuffers()
    }, r.prototype.reset = function () {
      this.unbind()
    }, r.prototype.updateBuffers = function () {
      for (var t = this._activeGeometry, e = this.gl, r = 0; r < t.buffers.length; r++) {
        var i = t.buffers[r], n = i._glBuffers[this.CONTEXT_UID];
        if (i._updateID !== n.updateID) {
          n.updateID = i._updateID;
          var o = i.index ? e.ELEMENT_ARRAY_BUFFER : e.ARRAY_BUFFER;
          if (e.bindBuffer(o, n.buffer), this._boundBuffer = n, n.byteLength >= i.data.byteLength) e.bufferSubData(o, 0, i.data); else {
            var s = i.static ? e.STATIC_DRAW : e.DYNAMIC_DRAW;
            n.byteLength = i.data.byteLength, e.bufferData(o, i.data, s)
          }
        }
      }
    }, r.prototype.checkCompatibility = function (t, e) {
      var r = t.attributes, i = e.attributeData;
      for (var n in i) if (!r[n]) throw new Error('shader and geometry incompatible, geometry missing the "' + n + '" attribute')
    }, r.prototype.getSignature = function (t, e) {
      var r = t.attributes, i = e.attributeData, n = ["g", t.id];
      for (var o in r) i[o] && n.push(o);
      return n.join("-")
    }, r.prototype.initGeometryVao = function (t, e) {
      this.checkCompatibility(t, e);
      var r = this.gl, i = this.CONTEXT_UID, n = this.getSignature(t, e), o = t.glVertexArrayObjects[this.CONTEXT_UID],
        s = o[n];
      if (s) return o[e.id] = s, s;
      var a = t.buffers, h = t.attributes, u = {}, l = {};
      for (var c in a) u[c] = 0, l[c] = 0;
      for (var c in h) !h[c].size && e.attributeData[c] ? h[c].size = e.attributeData[c].size : h[c].size || console.warn("PIXI Geometry attribute '" + c + "' size cannot be determined (likely the bound shader does not have the attribute)"), u[h[c].buffer] += h[c].size * si[h[c].type];
      for (var c in h) {
        var d = h[c], p = d.size;
        void 0 === d.stride && (u[d.buffer] === p * si[d.type] ? d.stride = 0 : d.stride = u[d.buffer]), void 0 === d.start && (d.start = l[d.buffer], l[d.buffer] += p * si[d.type])
      }
      s = r.createVertexArray(), r.bindVertexArray(s);
      for (var f = 0; f < a.length; f++) {
        var m = a[f];
        m._glBuffers[i] || (m._glBuffers[i] = new oi(r.createBuffer()), this.managedBuffers[m.id] = m, m.disposeRunner.add(this)), m._glBuffers[i].refCount++
      }
      return this.activateVao(t, e), this._activeVao = s, o[e.id] = s, o[n] = s, s
    }, r.prototype.disposeBuffer = function (t, e) {
      if (this.managedBuffers[t.id]) {
        delete this.managedBuffers[t.id];
        var r = t._glBuffers[this.CONTEXT_UID], i = this.gl;
        t.disposeRunner.remove(this), r && (e || i.deleteBuffer(r.buffer), delete t._glBuffers[this.CONTEXT_UID])
      }
    }, r.prototype.disposeGeometry = function (t, e) {
      if (this.managedGeometries[t.id]) {
        delete this.managedGeometries[t.id];
        var r = t.glVertexArrayObjects[this.CONTEXT_UID], i = this.gl, n = t.buffers;
        if (t.disposeRunner.remove(this), r) {
          for (var o = 0; o < n.length; o++) {
            var s = n[o]._glBuffers[this.CONTEXT_UID];
            s.refCount--, 0 !== s.refCount || e || this.disposeBuffer(n[o], e)
          }
          if (!e) for (var a in r) if ("g" === a[0]) {
            var h = r[a];
            this._activeVao === h && this.unbind(), i.deleteVertexArray(h)
          }
          delete t.glVertexArrayObjects[this.CONTEXT_UID]
        }
      }
    }, r.prototype.disposeAll = function (t) {
      for (var e = Object.keys(this.managedGeometries), r = 0; r < e.length; r++) this.disposeGeometry(this.managedGeometries[e[r]], t);
      e = Object.keys(this.managedBuffers);
      for (r = 0; r < e.length; r++) this.disposeBuffer(this.managedBuffers[e[r]], t)
    }, r.prototype.activateVao = function (t, e) {
      var r = this.gl, i = this.CONTEXT_UID, n = t.buffers, o = t.attributes;
      t.indexBuffer && r.bindBuffer(r.ELEMENT_ARRAY_BUFFER, t.indexBuffer._glBuffers[i].buffer);
      var s = null;
      for (var a in o) {
        var h = o[a], u = n[h.buffer]._glBuffers[i];
        if (e.attributeData[a]) {
          s !== u && (r.bindBuffer(r.ARRAY_BUFFER, u.buffer), s = u);
          var l = e.attributeData[a].location;
          if (r.enableVertexAttribArray(l), r.vertexAttribPointer(l, h.size, h.type || r.FLOAT, h.normalized, h.stride, h.start), h.instance) {
            if (!this.hasInstance) throw new Error("geometry error, GPU Instancing is not supported on this device");
            r.vertexAttribDivisor(l, 1)
          }
        }
      }
    }, r.prototype.draw = function (t, e, r, i) {
      var n = this.gl, o = this._activeGeometry;
      if (o.indexBuffer) {
        var s = o.indexBuffer.data.BYTES_PER_ELEMENT, a = 2 === s ? n.UNSIGNED_SHORT : n.UNSIGNED_INT;
        2 === s || 4 === s && this.canUseUInt32ElementIndex ? o.instanced ? n.drawElementsInstanced(t, e || o.indexBuffer.data.length, a, (r || 0) * s, i || 1) : n.drawElements(t, e || o.indexBuffer.data.length, a, (r || 0) * s) : console.warn("unsupported index buffer type: uint32")
      } else o.instanced ? n.drawArraysInstanced(t, r, e || o.getSize(), i || 1) : n.drawArrays(t, r, e || o.getSize());
      return this
    }, r.prototype.unbind = function () {
      this.gl.bindVertexArray(null), this._activeVao = null, this._activeGeometry = null
    }, r
  }(Ir), hi = function () {
    function e(e) {
      void 0 === e && (e = null), this.type = t.MASK_TYPES.NONE, this.autoDetect = !0, this.maskObject = e || null, this.pooled = !1, this.isMaskData = !0, this._stencilCounter = 0, this._scissorCounter = 0, this._scissorRect = null, this._target = null
    }

    return e.prototype.reset = function () {
      this.pooled && (this.maskObject = null, this.type = t.MASK_TYPES.NONE, this.autoDetect = !0), this._target = null
    }, e.prototype.copyCountersOrReset = function (t) {
      t ? (this._stencilCounter = t._stencilCounter, this._scissorCounter = t._scissorCounter, this._scissorRect = t._scissorRect) : (this._stencilCounter = 0, this._scissorCounter = 0, this._scissorRect = null)
    }, e
  }();

  function ui(t, e, r) {
    var i = t.createShader(e);
    return t.shaderSource(i, r), t.compileShader(i), i
  }

  function li(t, e, r, i) {
    var n = ui(t, t.VERTEX_SHADER, e), o = ui(t, t.FRAGMENT_SHADER, r), s = t.createProgram();
    if (t.attachShader(s, n), t.attachShader(s, o), i) for (var a in i) t.bindAttribLocation(s, i[a], a);
    return t.linkProgram(s), t.getProgramParameter(s, t.LINK_STATUS) || (t.getShaderParameter(n, t.COMPILE_STATUS) || (console.warn(e), console.error(t.getShaderInfoLog(n))), t.getShaderParameter(o, t.COMPILE_STATUS) || (console.warn(r), console.error(t.getShaderInfoLog(o))), console.error("Pixi.js Error: Could not initialize shader."), console.error("gl.VALIDATE_STATUS", t.getProgramParameter(s, t.VALIDATE_STATUS)), console.error("gl.getError()", t.getError()), "" !== t.getProgramInfoLog(s) && console.warn("Pixi.js Warning: gl.getProgramInfoLog()", t.getProgramInfoLog(s)), t.deleteProgram(s), s = null), t.deleteShader(n), t.deleteShader(o), s
  }

  function ci(t) {
    for (var e = new Array(t), r = 0; r < e.length; r++) e[r] = !1;
    return e
  }

  function di(t, e) {
    switch (t) {
      case"float":
        return 0;
      case"vec2":
        return new Float32Array(2 * e);
      case"vec3":
        return new Float32Array(3 * e);
      case"vec4":
        return new Float32Array(4 * e);
      case"int":
      case"sampler2D":
      case"sampler2DArray":
        return 0;
      case"ivec2":
        return new Int32Array(2 * e);
      case"ivec3":
        return new Int32Array(3 * e);
      case"ivec4":
        return new Int32Array(4 * e);
      case"bool":
        return !1;
      case"bvec2":
        return ci(2 * e);
      case"bvec3":
        return ci(3 * e);
      case"bvec4":
        return ci(4 * e);
      case"mat2":
        return new Float32Array([1, 0, 0, 1]);
      case"mat3":
        return new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
      case"mat4":
        return new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1])
    }
    return null
  }

  var pi, fi = {}, mi = fi;

  function vi() {
    if (mi === fi || mi && mi.isContextLost()) {
      var e = document.createElement("canvas"), r = void 0;
      C.PREFER_ENV >= t.ENV.WEBGL2 && (r = e.getContext("webgl2", {})), r || ((r = e.getContext("webgl", {}) || e.getContext("experimental-webgl", {})) ? r.getExtension("WEBGL_draw_buffers") : r = null), mi = r
    }
    return mi
  }

  function yi(e, r, i) {
    if ("precision" !== e.substring(0, 9)) {
      var n = r;
      return r === t.PRECISION.HIGH && i !== t.PRECISION.HIGH && (n = t.PRECISION.MEDIUM), "precision " + n + " float;\n" + e
    }
    return i !== t.PRECISION.HIGH && "precision highp" === e.substring(0, 15) ? e.replace("precision highp", "precision mediump") : e
  }

  var gi = {
    float: 1,
    vec2: 2,
    vec3: 3,
    vec4: 4,
    int: 1,
    ivec2: 2,
    ivec3: 3,
    ivec4: 4,
    bool: 1,
    bvec2: 2,
    bvec3: 3,
    bvec4: 4,
    mat2: 4,
    mat3: 9,
    mat4: 16,
    sampler2D: 1
  };

  function _i(t) {
    return gi[t]
  }

  var xi = null, bi = {
    FLOAT: "float",
    FLOAT_VEC2: "vec2",
    FLOAT_VEC3: "vec3",
    FLOAT_VEC4: "vec4",
    INT: "int",
    INT_VEC2: "ivec2",
    INT_VEC3: "ivec3",
    INT_VEC4: "ivec4",
    BOOL: "bool",
    BOOL_VEC2: "bvec2",
    BOOL_VEC3: "bvec3",
    BOOL_VEC4: "bvec4",
    FLOAT_MAT2: "mat2",
    FLOAT_MAT3: "mat3",
    FLOAT_MAT4: "mat4",
    SAMPLER_2D: "sampler2D",
    INT_SAMPLER_2D: "sampler2D",
    UNSIGNED_INT_SAMPLER_2D: "sampler2D",
    SAMPLER_CUBE: "samplerCube",
    INT_SAMPLER_CUBE: "samplerCube",
    UNSIGNED_INT_SAMPLER_CUBE: "samplerCube",
    SAMPLER_2D_ARRAY: "sampler2DArray",
    INT_SAMPLER_2D_ARRAY: "sampler2DArray",
    UNSIGNED_INT_SAMPLER_2D_ARRAY: "sampler2DArray"
  };

  function Ei(t, e) {
    if (!xi) {
      var r = Object.keys(bi);
      xi = {};
      for (var i = 0; i < r.length; ++i) {
        var n = r[i];
        xi[t[n]] = bi[n]
      }
    }
    return xi[e]
  }

  var Ti = [{
    test: function (t) {
      return "float" === t.type && 1 === t.size
    }, code: function (t) {
      return '\n            if(uv["' + t + '"] !== ud["' + t + '"].value)\n            {\n                ud["' + t + '"].value = uv["' + t + '"]\n                gl.uniform1f(ud["' + t + '"].location, uv["' + t + '"])\n            }\n            '
    }
  }, {
    test: function (t) {
      return ("sampler2D" === t.type || "samplerCube" === t.type || "sampler2DArray" === t.type) && 1 === t.size && !t.isArray
    }, code: function (t) {
      return 't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["' + t + '"], t);\n\n            if(ud["' + t + '"].value !== t)\n            {\n                ud["' + t + '"].value = t;\n                gl.uniform1i(ud["' + t + '"].location, t);\n; // eslint-disable-line max-len\n            }'
    }
  }, {
    test: function (t, e) {
      return "mat3" === t.type && 1 === t.size && void 0 !== e.a
    }, code: function (t) {
      return '\n            gl.uniformMatrix3fv(ud["' + t + '"].location, false, uv["' + t + '"].toArray(true));\n            '
    }
  }, {
    test: function (t, e) {
      return "vec2" === t.type && 1 === t.size && void 0 !== e.x
    }, code: function (t) {
      return '\n                cv = ud["' + t + '"].value;\n                v = uv["' + t + '"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["' + t + '"].location, v.x, v.y);\n                }'
    }
  }, {
    test: function (t) {
      return "vec2" === t.type && 1 === t.size
    }, code: function (t) {
      return '\n                cv = ud["' + t + '"].value;\n                v = uv["' + t + '"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["' + t + '"].location, v[0], v[1]);\n                }\n            '
    }
  }, {
    test: function (t, e) {
      return "vec4" === t.type && 1 === t.size && void 0 !== e.width
    }, code: function (t) {
      return '\n                cv = ud["' + t + '"].value;\n                v = uv["' + t + '"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["' + t + '"].location, v.x, v.y, v.width, v.height)\n                }'
    }
  }, {
    test: function (t) {
      return "vec4" === t.type && 1 === t.size
    }, code: function (t) {
      return '\n                cv = ud["' + t + '"].value;\n                v = uv["' + t + '"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["' + t + '"].location, v[0], v[1], v[2], v[3])\n                }'
    }
  }], Pi = {
    float: "\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",
    vec2: "\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",
    vec3: "\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",
    vec4: "gl.uniform4f(location, v[0], v[1], v[2], v[3])",
    int: "gl.uniform1i(location, v)",
    ivec2: "gl.uniform2i(location, v[0], v[1])",
    ivec3: "gl.uniform3i(location, v[0], v[1], v[2])",
    ivec4: "gl.uniform4i(location, v[0], v[1], v[2], v[3])",
    bool: "gl.uniform1i(location, v)",
    bvec2: "gl.uniform2i(location, v[0], v[1])",
    bvec3: "gl.uniform3i(location, v[0], v[1], v[2])",
    bvec4: "gl.uniform4i(location, v[0], v[1], v[2], v[3])",
    mat2: "gl.uniformMatrix2fv(location, false, v)",
    mat3: "gl.uniformMatrix3fv(location, false, v)",
    mat4: "gl.uniformMatrix4fv(location, false, v)",
    sampler2D: "gl.uniform1i(location, v)",
    samplerCube: "gl.uniform1i(location, v)",
    sampler2DArray: "gl.uniform1i(location, v)"
  }, Si = {
    float: "gl.uniform1fv(location, v)",
    vec2: "gl.uniform2fv(location, v)",
    vec3: "gl.uniform3fv(location, v)",
    vec4: "gl.uniform4fv(location, v)",
    mat4: "gl.uniformMatrix4fv(location, false, v)",
    mat3: "gl.uniformMatrix3fv(location, false, v)",
    mat2: "gl.uniformMatrix2fv(location, false, v)",
    int: "gl.uniform1iv(location, v)",
    ivec2: "gl.uniform2iv(location, v)",
    ivec3: "gl.uniform3iv(location, v)",
    ivec4: "gl.uniform4iv(location, v)",
    bool: "gl.uniform1iv(location, v)",
    bvec2: "gl.uniform2iv(location, v)",
    bvec3: "gl.uniform3iv(location, v)",
    bvec4: "gl.uniform4iv(location, v)",
    sampler2D: "gl.uniform1iv(location, v)",
    samplerCube: "gl.uniform1iv(location, v)",
    sampler2DArray: "gl.uniform1iv(location, v)"
  };
  var wi,
    Ii = ["precision mediump float;", "void main(void){", "float test = 0.1;", "%forloop%", "gl_FragColor = vec4(0.0);", "}"].join("\n");

  function Ai(t) {
    for (var e = "", r = 0; r < t; ++r) r > 0 && (e += "\nelse "), r < t - 1 && (e += "if(test == " + r + ".0){}");
    return e
  }

  function Oi(t, e) {
    if (0 === t) throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");
    for (var r = e.createShader(e.FRAGMENT_SHADER); ;) {
      var i = Ii.replace(/%forloop%/gi, Ai(t));
      if (e.shaderSource(r, i), e.compileShader(r), e.getShaderParameter(r, e.COMPILE_STATUS)) break;
      t = t / 2 | 0
    }
    return t
  }

  var Mi = 0, Ci = {}, Di = function () {
      function e(r, i, n) {
        void 0 === n && (n = "pixi-shader"), this.id = Mi++, this.vertexSrc = r || e.defaultVertexSrc, this.fragmentSrc = i || e.defaultFragmentSrc, this.vertexSrc = this.vertexSrc.trim(), this.fragmentSrc = this.fragmentSrc.trim(), "#version" !== this.vertexSrc.substring(0, 8) && (n = n.replace(/\s+/g, "-"), Ci[n] ? (Ci[n]++, n += "-" + Ci[n]) : Ci[n] = 1, this.vertexSrc = "#define SHADER_NAME " + n + "\n" + this.vertexSrc, this.fragmentSrc = "#define SHADER_NAME " + n + "\n" + this.fragmentSrc, this.vertexSrc = yi(this.vertexSrc, C.PRECISION_VERTEX, t.PRECISION.HIGH), this.fragmentSrc = yi(this.fragmentSrc, C.PRECISION_FRAGMENT, function () {
          if (!pi) {
            pi = t.PRECISION.MEDIUM;
            var e = vi();
            if (e && e.getShaderPrecisionFormat) {
              var r = e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_FLOAT);
              pi = r.precision ? t.PRECISION.HIGH : t.PRECISION.MEDIUM
            }
          }
          return pi
        }())), this.extractData(this.vertexSrc, this.fragmentSrc), this.glPrograms = {}, this.syncUniforms = null
      }

      return e.prototype.extractData = function (t, e) {
        var r = vi();
        if (r) {
          var i = li(r, t, e);
          this.attributeData = this.getAttributeData(i, r), this.uniformData = this.getUniformData(i, r), r.deleteProgram(i)
        } else this.uniformData = {}, this.attributeData = {}
      }, e.prototype.getAttributeData = function (t, e) {
        for (var r = {}, i = [], n = e.getProgramParameter(t, e.ACTIVE_ATTRIBUTES), o = 0; o < n; o++) {
          var s = e.getActiveAttrib(t, o), a = Ei(e, s.type), h = {type: a, name: s.name, size: _i(a), location: 0};
          r[s.name] = h, i.push(h)
        }
        i.sort(function (t, e) {
          return t.name > e.name ? 1 : -1
        });
        for (o = 0; o < i.length; o++) i[o].location = o;
        return r
      }, e.prototype.getUniformData = function (t, e) {
        for (var r = {}, i = e.getProgramParameter(t, e.ACTIVE_UNIFORMS), n = 0; n < i; n++) {
          var o = e.getActiveUniform(t, n), s = o.name.replace(/\[.*?\]$/, ""), a = o.name.match(/\[.*?\]$/),
            h = Ei(e, o.type);
          r[s] = {type: h, size: o.size, isArray: a, value: di(h, o.size)}
        }
        return r
      }, Object.defineProperty(e, "defaultVertexSrc", {
        get: function () {
          return "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(e, "defaultFragmentSrc", {
        get: function () {
          return "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"
        }, enumerable: !1, configurable: !0
      }), e.from = function (t, r, i) {
        var n = t + r, o = oe[n];
        return o || (oe[n] = o = new e(t, r, i)), o
      }, e
    }(), Ri = function () {
      function t(t, e) {
        for (var r in this.program = t, this.uniformGroup = e ? e instanceof Kr ? e : new Kr(e) : new Kr({}), t.uniformData) this.uniformGroup.uniforms[r] instanceof Array && (this.uniformGroup.uniforms[r] = new Float32Array(this.uniformGroup.uniforms[r]))
      }

      return t.prototype.checkUniformExists = function (t, e) {
        if (e.uniforms[t]) return !0;
        for (var r in e.uniforms) {
          var i = e.uniforms[r];
          if (i.group && this.checkUniformExists(t, i)) return !0
        }
        return !1
      }, t.prototype.destroy = function () {
        this.uniformGroup = null
      }, Object.defineProperty(t.prototype, "uniforms", {
        get: function () {
          return this.uniformGroup.uniforms
        }, enumerable: !1, configurable: !0
      }), t.from = function (e, r, i) {
        return new t(Di.from(e, r), i)
      }, t
    }(), Li = function () {
      function e() {
        this.data = 0, this.blendMode = t.BLEND_MODES.NORMAL, this.polygonOffset = 0, this.blend = !0
      }

      return Object.defineProperty(e.prototype, "blend", {
        get: function () {
          return !!(1 & this.data)
        }, set: function (t) {
          !!(1 & this.data) !== t && (this.data ^= 1)
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(e.prototype, "offsets", {
        get: function () {
          return !!(2 & this.data)
        }, set: function (t) {
          !!(2 & this.data) !== t && (this.data ^= 2)
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(e.prototype, "culling", {
        get: function () {
          return !!(4 & this.data)
        }, set: function (t) {
          !!(4 & this.data) !== t && (this.data ^= 4)
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(e.prototype, "depthTest", {
        get: function () {
          return !!(8 & this.data)
        }, set: function (t) {
          !!(8 & this.data) !== t && (this.data ^= 8)
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(e.prototype, "clockwiseFrontFace", {
        get: function () {
          return !!(16 & this.data)
        }, set: function (t) {
          !!(16 & this.data) !== t && (this.data ^= 16)
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(e.prototype, "blendMode", {
        get: function () {
          return this._blendMode
        }, set: function (e) {
          this.blend = e !== t.BLEND_MODES.NONE, this._blendMode = e
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(e.prototype, "polygonOffset", {
        get: function () {
          return this._polygonOffset
        }, set: function (t) {
          this.offsets = !!t, this._polygonOffset = t
        }, enumerable: !1, configurable: !0
      }), e.for2d = function () {
        var t = new e;
        return t.depthTest = !1, t.blend = !0, t
      }, e
    }(), Ni = function (t) {
      function e(r, i, n) {
        var o = this, s = Di.from(r || e.defaultVertexSrc, i || e.defaultFragmentSrc);
        return (o = t.call(this, s, n) || this).padding = 0, o.resolution = C.FILTER_RESOLUTION, o.enabled = !0, o.autoFit = !0, o.legacy = !!o.program.attributeData.aTextureCoord, o.state = new Li, o
      }

      return dr(e, t), e.prototype.apply = function (t, e, r, i, n) {
        t.applyFilter(this, e, r, i)
      }, Object.defineProperty(e.prototype, "blendMode", {
        get: function () {
          return this.state.blendMode
        }, set: function (t) {
          this.state.blendMode = t
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(e, "defaultVertexSrc", {
        get: function () {
          return "attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(e, "defaultFragmentSrc", {
        get: function () {
          return "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"
        }, enumerable: !1, configurable: !0
      }), e
    }(Ri),
    Fi = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",
    Bi = "varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",
    Ui = new we, ki = function () {
      function t(t, e) {
        this._texture = t, this.mapCoord = new we, this.uClampFrame = new Float32Array(4), this.uClampOffset = new Float32Array(2), this._textureID = -1, this._updateID = 0, this.clampOffset = 0, this.clampMargin = void 0 === e ? .5 : e, this.isSimple = !1
      }

      return Object.defineProperty(t.prototype, "texture", {
        get: function () {
          return this._texture
        }, set: function (t) {
          this._texture = t, this._textureID = -1
        }, enumerable: !1, configurable: !0
      }), t.prototype.multiplyUvs = function (t, e) {
        void 0 === e && (e = t);
        for (var r = this.mapCoord, i = 0; i < t.length; i += 2) {
          var n = t[i], o = t[i + 1];
          e[i] = n * r.a + o * r.c + r.tx, e[i + 1] = n * r.b + o * r.d + r.ty
        }
        return e
      }, t.prototype.update = function (t) {
        var e = this._texture;
        if (!e || !e.valid) return !1;
        if (!t && this._textureID === e._updateID) return !1;
        this._textureID = e._updateID, this._updateID++;
        var r = e._uvs;
        this.mapCoord.set(r.x1 - r.x0, r.y1 - r.y0, r.x3 - r.x0, r.y3 - r.y0, r.x0, r.y0);
        var i = e.orig, n = e.trim;
        n && (Ui.set(i.width / n.width, 0, 0, i.height / n.height, -n.x / n.width, -n.y / n.height), this.mapCoord.append(Ui));
        var o = e.baseTexture, s = this.uClampFrame, a = this.clampMargin / o.resolution, h = this.clampOffset;
        return s[0] = (e._frame.x + a + h) / o.width, s[1] = (e._frame.y + a + h) / o.height, s[2] = (e._frame.x + e._frame.width - a + h) / o.width, s[3] = (e._frame.y + e._frame.height - a + h) / o.height, this.uClampOffset[0] = h / o.realWidth, this.uClampOffset[1] = h / o.realHeight, this.isSimple = e._frame.width === o.width && e._frame.height === o.height && 0 === e.rotate, !0
      }, t
    }(), Xi = function (t) {
      function e(e) {
        var r = this, i = new we;
        return r = t.call(this, Fi, Bi) || this, e.renderable = !1, r.maskSprite = e, r.maskMatrix = i, r
      }

      return dr(e, t), e.prototype.apply = function (t, e, r, i) {
        var n = this.maskSprite, o = n._texture;
        o.valid && (o.uvMatrix || (o.uvMatrix = new ki(o, 0)), o.uvMatrix.update(), this.uniforms.npmAlpha = o.baseTexture.alphaMode ? 0 : 1, this.uniforms.mask = o, this.uniforms.otherMatrix = t.calculateSpriteMatrix(this.maskMatrix, n).prepend(o.uvMatrix.mapCoord), this.uniforms.alpha = n.worldAlpha, this.uniforms.maskClamp = o.uvMatrix.uClampFrame, t.applyFilter(this, e, r, i))
      }, e
    }(Ni), ji = function (e) {
      function r(t) {
        var r = e.call(this, t) || this;
        return r.enableScissor = !1, r.alphaMaskPool = [], r.maskDataPool = [], r.maskStack = [], r.alphaMaskIndex = 0, r
      }

      return dr(r, e), r.prototype.setMaskStack = function (t) {
        this.maskStack = t, this.renderer.scissor.setMaskStack(t), this.renderer.stencil.setMaskStack(t)
      }, r.prototype.push = function (e, r) {
        var i = r;
        if (!i.isMaskData) {
          var n = this.maskDataPool.pop() || new hi;
          n.pooled = !0, n.maskObject = r, i = n
        }
        switch (i.autoDetect && this.detect(i), i.copyCountersOrReset(this.maskStack[this.maskStack.length - 1]), i._target = e, i.type) {
          case t.MASK_TYPES.SCISSOR:
            this.maskStack.push(i), this.renderer.scissor.push(i);
            break;
          case t.MASK_TYPES.STENCIL:
            this.maskStack.push(i), this.renderer.stencil.push(i);
            break;
          case t.MASK_TYPES.SPRITE:
            i.copyCountersOrReset(null), this.pushSpriteMask(i), this.maskStack.push(i)
        }
      }, r.prototype.pop = function (e) {
        var r = this.maskStack.pop();
        if (r && r._target === e) {
          switch (r.type) {
            case t.MASK_TYPES.SCISSOR:
              this.renderer.scissor.pop();
              break;
            case t.MASK_TYPES.STENCIL:
              this.renderer.stencil.pop(r.maskObject);
              break;
            case t.MASK_TYPES.SPRITE:
              this.popSpriteMask()
          }
          r.reset(), r.pooled && this.maskDataPool.push(r)
        }
      }, r.prototype.detect = function (e) {
        var r = e.maskObject;
        if (r.isSprite) e.type = t.MASK_TYPES.SPRITE; else if (e.type = t.MASK_TYPES.STENCIL, this.enableScissor && r.isFastRect && r.isFastRect()) {
          var i = r.worldTransform, n = Math.atan2(i.b, i.a), o = Math.atan2(i.d, i.c);
          n = Math.round(n * (180 / Math.PI) * 100), o = ((o = Math.round(o * (180 / Math.PI) * 100) - n) % 18e3 + 18e3) % 18e3, 0 === (n = (n % 9e3 + 9e3) % 9e3) && 9e3 === o && (e.type = t.MASK_TYPES.SCISSOR)
        }
      }, r.prototype.pushSpriteMask = function (t) {
        var e = t.maskObject, r = t._target, i = this.alphaMaskPool[this.alphaMaskIndex];
        i || (i = this.alphaMaskPool[this.alphaMaskIndex] = [new Xi(e)]), i[0].resolution = this.renderer.resolution, i[0].maskSprite = e;
        var n = r.filterArea;
        r.filterArea = e.getBounds(!0), this.renderer.filter.push(r, i), r.filterArea = n, this.alphaMaskIndex++
      }, r.prototype.popSpriteMask = function () {
        this.renderer.filter.pop(), this.alphaMaskIndex--
      }, r
    }(Ir), Gi = function (t) {
      function e(e) {
        var r = t.call(this, e) || this;
        return r.maskStack = [], r.glConst = 0, r
      }

      return dr(e, t), e.prototype.getStackLength = function () {
        return this.maskStack.length
      }, e.prototype.setMaskStack = function (t) {
        var e = this.renderer.gl, r = this.getStackLength();
        this.maskStack = t;
        var i = this.getStackLength();
        i !== r && (0 === i ? e.disable(this.glConst) : (e.enable(this.glConst), this._useCurrent()))
      }, e.prototype._useCurrent = function () {
      }, e.prototype.destroy = function () {
        t.prototype.destroy.call(this), this.maskStack = null
      }, e
    }(Ir), Hi = function (t) {
      function e(e) {
        var r = t.call(this, e) || this;
        return r.glConst = WebGLRenderingContext.SCISSOR_TEST, r
      }

      return dr(e, t), e.prototype.getStackLength = function () {
        var t = this.maskStack[this.maskStack.length - 1];
        return t ? t._scissorCounter : 0
      }, e.prototype.push = function (t) {
        var e = t.maskObject;
        e.renderable = !0;
        var r = t._scissorRect, i = e.getBounds(!0), n = this.renderer.gl;
        e.renderable = !1, r ? i.fit(r) : n.enable(n.SCISSOR_TEST), t._scissorCounter++, t._scissorRect = i, this._useCurrent()
      }, e.prototype.pop = function () {
        var t = this.renderer.gl;
        this.getStackLength() > 0 ? this._useCurrent() : t.disable(t.SCISSOR_TEST)
      }, e.prototype._useCurrent = function () {
        var t = this.maskStack[this.maskStack.length - 1]._scissorRect, e = this.renderer.renderTexture.current,
          r = this.renderer.projection, i = r.transform, n = r.sourceFrame, o = r.destinationFrame,
          s = e ? e.resolution : this.renderer.resolution, a = (t.x - n.x) * s + o.x, h = (t.y - n.y) * s + o.y,
          u = t.width * s, l = t.height * s;
        i && (a += i.tx * s, h += i.ty * s), e || (h = this.renderer.height - l - h), this.renderer.gl.scissor(a, h, u, l)
      }, e
    }(Gi), Yi = function (t) {
      function e(e) {
        var r = t.call(this, e) || this;
        return r.glConst = WebGLRenderingContext.STENCIL_TEST, r
      }

      return dr(e, t), e.prototype.getStackLength = function () {
        var t = this.maskStack[this.maskStack.length - 1];
        return t ? t._stencilCounter : 0
      }, e.prototype.push = function (t) {
        var e = t.maskObject, r = this.renderer.gl, i = t._stencilCounter;
        0 === i && (this.renderer.framebuffer.forceStencil(), r.enable(r.STENCIL_TEST)), t._stencilCounter++, r.colorMask(!1, !1, !1, !1), r.stencilFunc(r.EQUAL, i, this._getBitwiseMask()), r.stencilOp(r.KEEP, r.KEEP, r.INCR), e.renderable = !0, e.render(this.renderer), this.renderer.batch.flush(), e.renderable = !1, this._useCurrent()
      }, e.prototype.pop = function (t) {
        var e = this.renderer.gl;
        0 === this.getStackLength() ? (e.disable(e.STENCIL_TEST), e.clear(e.STENCIL_BUFFER_BIT), e.clearStencil(0)) : (e.colorMask(!1, !1, !1, !1), e.stencilOp(e.KEEP, e.KEEP, e.DECR), t.renderable = !0, t.render(this.renderer), this.renderer.batch.flush(), t.renderable = !1, this._useCurrent())
      }, e.prototype._useCurrent = function () {
        var t = this.renderer.gl;
        t.colorMask(!0, !0, !0, !0), t.stencilFunc(t.EQUAL, this.getStackLength(), this._getBitwiseMask()), t.stencilOp(t.KEEP, t.KEEP, t.KEEP)
      }, e.prototype._getBitwiseMask = function () {
        return (1 << this.getStackLength()) - 1
      }, e
    }(Gi), zi = function (t) {
      function e(e) {
        var r = t.call(this, e) || this;
        return r.destinationFrame = null, r.sourceFrame = null, r.defaultFrame = null, r.projectionMatrix = new we, r.transform = null, r
      }

      return dr(e, t), e.prototype.update = function (t, e, r, i) {
        this.destinationFrame = t || this.destinationFrame || this.defaultFrame, this.sourceFrame = e || this.sourceFrame || t, this.calculateProjection(this.destinationFrame, this.sourceFrame, r, i), this.transform && this.projectionMatrix.append(this.transform);
        var n = this.renderer;
        n.globalUniforms.uniforms.projectionMatrix = this.projectionMatrix, n.globalUniforms.update(), n.shader.shader && n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)
      }, e.prototype.calculateProjection = function (t, e, r, i) {
        var n = this.projectionMatrix, o = i ? -1 : 1;
        n.identity(), n.a = 1 / e.width * 2, n.d = o * (1 / e.height * 2), n.tx = -1 - e.x * n.a, n.ty = -o - e.y * n.d
      }, e.prototype.setTransform = function (t) {
      }, e
    }(Ir), Vi = new _e, Wi = new _e, qi = new _e, Ki = function (t) {
      function e(e) {
        var r = t.call(this, e) || this;
        return r.clearColor = e._backgroundColorRgba, r.defaultMaskStack = [], r.current = null, r.sourceFrame = new _e, r.destinationFrame = new _e, r
      }

      return dr(e, t), e.prototype.bind = function (t, e, r) {
        void 0 === t && (t = null);
        var i, n, o, s = this.renderer;
        this.current = t, t ? (o = (i = t.baseTexture).resolution, e || (Vi.width = t.frame.width, Vi.height = t.frame.height, e = Vi), r || (Wi.x = t.frame.x, Wi.y = t.frame.y, Wi.width = e.width, Wi.height = e.height, r = Wi), n = i.framebuffer) : (o = s.resolution, e || (Vi.width = s.screen.width, Vi.height = s.screen.height, e = Vi), r || ((r = Vi).width = e.width, r.height = e.height)), qi.x = r.x * o, qi.y = r.y * o, qi.width = r.width * o, qi.height = r.height * o, this.renderer.framebuffer.bind(n, qi), this.renderer.projection.update(r, e, o, !n), t ? this.renderer.mask.setMaskStack(i.maskStack) : this.renderer.mask.setMaskStack(this.defaultMaskStack), this.sourceFrame.copyFrom(e), this.destinationFrame.copyFrom(r)
      }, e.prototype.clear = function (t, e) {
        t = this.current ? t || this.current.baseTexture.clearColor : t || this.clearColor, this.renderer.framebuffer.clear(t[0], t[1], t[2], t[3], e)
      }, e.prototype.resize = function () {
        this.bind(null)
      }, e.prototype.reset = function () {
        this.bind(null)
      }, e
    }(Ir), Zi = function () {
      return function () {
      }
    }(), Ji = function () {
      function t(t, e) {
        this.program = t, this.uniformData = e, this.uniformGroups = {}
      }

      return t.prototype.destroy = function () {
        this.uniformData = null, this.uniformGroups = null, this.program = null
      }, t
    }(), Qi = 0, $i = {textureCount: 0}, tn = function (t) {
      function e(e) {
        var r = t.call(this, e) || this;
        return r.destroyed = !1, r.systemCheck(), r.gl = null, r.shader = null, r.program = null, r.cache = {}, r.id = Qi++, r
      }

      return dr(e, t), e.prototype.systemCheck = function () {
        if (!function () {
          if ("boolean" == typeof wi) return wi;
          try {
            var t = new Function("param1", "param2", "param3", "return param1[param2] === param3;");
            wi = !0 === t({a: "b"}, "a", "b")
          } catch (t) {
            wi = !1
          }
          return wi
        }()) throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")
      }, e.prototype.contextChange = function (t) {
        this.gl = t, this.reset()
      }, e.prototype.bind = function (t, e) {
        t.uniforms.globals = this.renderer.globalUniforms;
        var r = t.program, i = r.glPrograms[this.renderer.CONTEXT_UID] || this.generateShader(t);
        return this.shader = t, this.program !== r && (this.program = r, this.gl.useProgram(i.program)), e || ($i.textureCount = 0, this.syncUniformGroup(t.uniformGroup, $i)), i
      }, e.prototype.setUniforms = function (t) {
        var e = this.shader.program, r = e.glPrograms[this.renderer.CONTEXT_UID];
        e.syncUniforms(r.uniformData, t, this.renderer)
      }, e.prototype.syncUniformGroup = function (t, e) {
        var r = this.getglProgram();
        t.static && t.dirtyId === r.uniformGroups[t.id] || (r.uniformGroups[t.id] = t.dirtyId, this.syncUniforms(t, r, e))
      }, e.prototype.syncUniforms = function (t, e, r) {
        (t.syncUniforms[this.shader.program.id] || this.createSyncGroups(t))(e.uniformData, t.uniforms, this.renderer, r)
      }, e.prototype.createSyncGroups = function (t) {
        var e = this.getSignature(t, this.shader.program.uniformData);
        return this.cache[e] || (this.cache[e] = function (t, e) {
          var r = ["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];
          for (var i in t.uniforms) {
            var n = e[i];
            if (n) {
              for (var o = t.uniforms[i], s = !1, a = 0; a < Ti.length; a++) if (Ti[a].test(n, o)) {
                r.push(Ti[a].code(i, o)), s = !0;
                break
              }
              if (!s) {
                var h = (1 === n.size ? Pi : Si)[n.type].replace("location", 'ud["' + i + '"].location');
                r.push('\n            cv = ud["' + i + '"].value;\n            v = uv["' + i + '"];\n            ' + h + ";")
              }
            } else t.uniforms[i].group && r.push('\n                    renderer.shader.syncUniformGroup(uv["' + i + '"], syncData);\n                ')
          }
          return new Function("ud", "uv", "renderer", "syncData", r.join("\n"))
        }(t, this.shader.program.uniformData)), t.syncUniforms[this.shader.program.id] = this.cache[e], t.syncUniforms[this.shader.program.id]
      }, e.prototype.getSignature = function (t, e) {
        var r = t.uniforms, i = [];
        for (var n in r) i.push(n), e[n] && i.push(e[n].type);
        return i.join("-")
      }, e.prototype.getglProgram = function () {
        return this.shader ? this.shader.program.glPrograms[this.renderer.CONTEXT_UID] : null
      }, e.prototype.generateShader = function (t) {
        var e = this.gl, r = t.program, i = {};
        for (var n in r.attributeData) i[n] = r.attributeData[n].location;
        var o = li(e, r.vertexSrc, r.fragmentSrc, i), s = {};
        for (var n in r.uniformData) {
          var a = r.uniformData[n];
          s[n] = {location: e.getUniformLocation(o, n), value: di(a.type, a.size)}
        }
        var h = new Ji(o, s);
        return r.glPrograms[this.renderer.CONTEXT_UID] = h, h
      }, e.prototype.reset = function () {
        this.program = null, this.shader = null
      }, e.prototype.destroy = function () {
        this.destroyed = !0
      }, e
    }(Ir);
  var en = 0, rn = 1, nn = 2, on = 3, sn = 4, an = function (e) {
    function r(r) {
      var i = e.call(this, r) || this;
      return i.gl = null, i.stateId = 0, i.polygonOffset = 0, i.blendMode = t.BLEND_MODES.NONE, i._blendEq = !1, i.map = [], i.map[en] = i.setBlend, i.map[rn] = i.setOffset, i.map[nn] = i.setCullFace, i.map[on] = i.setDepthTest, i.map[sn] = i.setFrontFace, i.checks = [], i.defaultState = new Li, i.defaultState.blend = !0, i
    }

    return dr(r, e), r.prototype.contextChange = function (e) {
      this.gl = e, this.blendModes = function (e, r) {
        return void 0 === r && (r = []), r[t.BLEND_MODES.NORMAL] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], r[t.BLEND_MODES.ADD] = [e.ONE, e.ONE], r[t.BLEND_MODES.MULTIPLY] = [e.DST_COLOR, e.ONE_MINUS_SRC_ALPHA, e.ONE, e.ONE_MINUS_SRC_ALPHA], r[t.BLEND_MODES.SCREEN] = [e.ONE, e.ONE_MINUS_SRC_COLOR, e.ONE, e.ONE_MINUS_SRC_ALPHA], r[t.BLEND_MODES.OVERLAY] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], r[t.BLEND_MODES.DARKEN] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], r[t.BLEND_MODES.LIGHTEN] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], r[t.BLEND_MODES.COLOR_DODGE] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], r[t.BLEND_MODES.COLOR_BURN] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], r[t.BLEND_MODES.HARD_LIGHT] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], r[t.BLEND_MODES.SOFT_LIGHT] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], r[t.BLEND_MODES.DIFFERENCE] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], r[t.BLEND_MODES.EXCLUSION] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], r[t.BLEND_MODES.HUE] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], r[t.BLEND_MODES.SATURATION] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], r[t.BLEND_MODES.COLOR] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], r[t.BLEND_MODES.LUMINOSITY] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], r[t.BLEND_MODES.NONE] = [0, 0], r[t.BLEND_MODES.NORMAL_NPM] = [e.SRC_ALPHA, e.ONE_MINUS_SRC_ALPHA, e.ONE, e.ONE_MINUS_SRC_ALPHA], r[t.BLEND_MODES.ADD_NPM] = [e.SRC_ALPHA, e.ONE, e.ONE, e.ONE], r[t.BLEND_MODES.SCREEN_NPM] = [e.SRC_ALPHA, e.ONE_MINUS_SRC_COLOR, e.ONE, e.ONE_MINUS_SRC_ALPHA], r[t.BLEND_MODES.SRC_IN] = [e.DST_ALPHA, e.ZERO], r[t.BLEND_MODES.SRC_OUT] = [e.ONE_MINUS_DST_ALPHA, e.ZERO], r[t.BLEND_MODES.SRC_ATOP] = [e.DST_ALPHA, e.ONE_MINUS_SRC_ALPHA], r[t.BLEND_MODES.DST_OVER] = [e.ONE_MINUS_DST_ALPHA, e.ONE], r[t.BLEND_MODES.DST_IN] = [e.ZERO, e.SRC_ALPHA], r[t.BLEND_MODES.DST_OUT] = [e.ZERO, e.ONE_MINUS_SRC_ALPHA], r[t.BLEND_MODES.DST_ATOP] = [e.ONE_MINUS_DST_ALPHA, e.SRC_ALPHA], r[t.BLEND_MODES.XOR] = [e.ONE_MINUS_DST_ALPHA, e.ONE_MINUS_SRC_ALPHA], r[t.BLEND_MODES.SUBTRACT] = [e.ONE, e.ONE, e.ONE, e.ONE, e.FUNC_REVERSE_SUBTRACT, e.FUNC_ADD], r
      }(e), this.set(this.defaultState), this.reset()
    }, r.prototype.set = function (t) {
      if (t = t || this.defaultState, this.stateId !== t.data) {
        for (var e = this.stateId ^ t.data, r = 0; e;) 1 & e && this.map[r].call(this, !!(t.data & 1 << r)), e >>= 1, r++;
        this.stateId = t.data
      }
      for (r = 0; r < this.checks.length; r++) this.checks[r](this, t)
    }, r.prototype.forceState = function (t) {
      t = t || this.defaultState;
      for (var e = 0; e < this.map.length; e++) this.map[e].call(this, !!(t.data & 1 << e));
      for (e = 0; e < this.checks.length; e++) this.checks[e](this, t);
      this.stateId = t.data
    }, r.prototype.setBlend = function (t) {
      this.updateCheck(r.checkBlendMode, t), this.gl[t ? "enable" : "disable"](this.gl.BLEND)
    }, r.prototype.setOffset = function (t) {
      this.updateCheck(r.checkPolygonOffset, t), this.gl[t ? "enable" : "disable"](this.gl.POLYGON_OFFSET_FILL)
    }, r.prototype.setDepthTest = function (t) {
      this.gl[t ? "enable" : "disable"](this.gl.DEPTH_TEST)
    }, r.prototype.setCullFace = function (t) {
      this.gl[t ? "enable" : "disable"](this.gl.CULL_FACE)
    }, r.prototype.setFrontFace = function (t) {
      this.gl.frontFace(this.gl[t ? "CW" : "CCW"])
    }, r.prototype.setBlendMode = function (t) {
      if (t !== this.blendMode) {
        this.blendMode = t;
        var e = this.blendModes[t], r = this.gl;
        2 === e.length ? r.blendFunc(e[0], e[1]) : r.blendFuncSeparate(e[0], e[1], e[2], e[3]), 6 === e.length ? (this._blendEq = !0, r.blendEquationSeparate(e[4], e[5])) : this._blendEq && (this._blendEq = !1, r.blendEquationSeparate(r.FUNC_ADD, r.FUNC_ADD))
      }
    }, r.prototype.setPolygonOffset = function (t, e) {
      this.gl.polygonOffset(t, e)
    }, r.prototype.reset = function () {
      this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, !1), this.forceState(this.defaultState), this._blendEq = !0, this.blendMode = -1, this.setBlendMode(0)
    }, r.prototype.updateCheck = function (t, e) {
      var r = this.checks.indexOf(t);
      e && -1 === r ? this.checks.push(t) : e || -1 === r || this.checks.splice(r, 1)
    }, r.checkBlendMode = function (t, e) {
      t.setBlendMode(e.blendMode)
    }, r.checkPolygonOffset = function (t, e) {
      t.setPolygonOffset(1, e.polygonOffset)
    }, r
  }(Ir), hn = function (e) {
    function r(t) {
      var r = e.call(this, t) || this;
      return r.count = 0, r.checkCount = 0, r.maxIdle = C.GC_MAX_IDLE, r.checkCountMax = C.GC_MAX_CHECK_COUNT, r.mode = C.GC_MODE, r
    }

    return dr(r, e), r.prototype.postrender = function () {
      this.renderer.renderingToScreen && (this.count++, this.mode !== t.GC_MODES.MANUAL && (this.checkCount++, this.checkCount > this.checkCountMax && (this.checkCount = 0, this.run())))
    }, r.prototype.run = function () {
      for (var t = this.renderer.texture, e = t.managedTextures, r = !1, i = 0; i < e.length; i++) {
        var n = e[i];
        !n.framebuffer && this.count - n.touched > this.maxIdle && (t.destroyTexture(n, !0), e[i] = null, r = !0)
      }
      if (r) {
        var o = 0;
        for (i = 0; i < e.length; i++) null !== e[i] && (e[o++] = e[i]);
        e.length = o
      }
    }, r.prototype.unload = function (t) {
      var e, r = this.renderer.texture;
      (null === (e = t._texture) || void 0 === e ? void 0 : e.framebuffer) && r.destroyTexture(t._texture);
      for (var i = t.children.length - 1; i >= 0; i--) this.unload(t.children[i])
    }, r
  }(Ir), un = function () {
    return function (t) {
      this.texture = t, this.width = -1, this.height = -1, this.dirtyId = -1, this.dirtyStyleId = -1, this.mipmap = !1, this.wrapMode = 33071, this.type = 6408, this.internalFormat = 5121
    }
  }(), ln = function (e) {
    function r(t) {
      var r = e.call(this, t) || this;
      return r.boundTextures = [], r.currentLocation = -1, r.managedTextures = [], r._unknownBoundTextures = !1, r.unknownTexture = new vr, r
    }

    return dr(r, e), r.prototype.contextChange = function () {
      var t = this.gl = this.renderer.gl;
      this.CONTEXT_UID = this.renderer.CONTEXT_UID, this.webGLVersion = this.renderer.context.webGLVersion;
      var e = t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);
      this.boundTextures.length = e;
      for (var r = 0; r < e; r++) this.boundTextures[r] = null;
      this.emptyTextures = {};
      var i = new un(t.createTexture());
      t.bindTexture(t.TEXTURE_2D, i.texture), t.texImage2D(t.TEXTURE_2D, 0, t.RGBA, 1, 1, 0, t.RGBA, t.UNSIGNED_BYTE, new Uint8Array(4)), this.emptyTextures[t.TEXTURE_2D] = i, this.emptyTextures[t.TEXTURE_CUBE_MAP] = new un(t.createTexture()), t.bindTexture(t.TEXTURE_CUBE_MAP, this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);
      for (r = 0; r < 6; r++) t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X + r, 0, t.RGBA, 1, 1, 0, t.RGBA, t.UNSIGNED_BYTE, null);
      t.texParameteri(t.TEXTURE_CUBE_MAP, t.TEXTURE_MAG_FILTER, t.LINEAR), t.texParameteri(t.TEXTURE_CUBE_MAP, t.TEXTURE_MIN_FILTER, t.LINEAR);
      for (r = 0; r < this.boundTextures.length; r++) this.bind(null, r)
    }, r.prototype.bind = function (t, e) {
      void 0 === e && (e = 0);
      var r = this.gl;
      if (t) {
        if ((t = t.castToBaseTexture()).parentTextureArray) return;
        if (t.valid) {
          t.touched = this.renderer.textureGC.count;
          var i = t._glTextures[this.CONTEXT_UID] || this.initTexture(t);
          this.boundTextures[e] !== t && (this.currentLocation !== e && (this.currentLocation = e, r.activeTexture(r.TEXTURE0 + e)), r.bindTexture(t.target, i.texture)), i.dirtyId !== t.dirtyId && (this.currentLocation !== e && (this.currentLocation = e, r.activeTexture(r.TEXTURE0 + e)), this.updateTexture(t)), this.boundTextures[e] = t
        }
      } else this.currentLocation !== e && (this.currentLocation = e, r.activeTexture(r.TEXTURE0 + e)), r.bindTexture(r.TEXTURE_2D, this.emptyTextures[r.TEXTURE_2D].texture), this.boundTextures[e] = null
    }, r.prototype.reset = function () {
      this._unknownBoundTextures = !0, this.currentLocation = -1;
      for (var t = 0; t < this.boundTextures.length; t++) this.boundTextures[t] = this.unknownTexture
    }, r.prototype.unbind = function (t) {
      var e = this.gl, r = this.boundTextures;
      if (this._unknownBoundTextures) {
        this._unknownBoundTextures = !1;
        for (var i = 0; i < r.length; i++) r[i] === this.unknownTexture && this.bind(null, i)
      }
      for (i = 0; i < r.length; i++) r[i] === t && (this.currentLocation !== i && (e.activeTexture(e.TEXTURE0 + i), this.currentLocation = i), e.bindTexture(e.TEXTURE_2D, this.emptyTextures[t.target].texture), r[i] = null)
    }, r.prototype.initTexture = function (t) {
      var e = new un(this.gl.createTexture());
      return e.dirtyId = -1, t._glTextures[this.CONTEXT_UID] = e, this.managedTextures.push(t), t.on("dispose", this.destroyTexture, this), e
    }, r.prototype.initTextureType = function (e, r) {
      if (r.internalFormat = e.format, r.type = e.type, 2 === this.webGLVersion) {
        var i = this.renderer.gl;
        e.type === i.FLOAT && e.format === i.RGBA && (r.internalFormat = i.RGBA32F), e.type === t.TYPES.HALF_FLOAT && (r.type = i.HALF_FLOAT), r.type === i.HALF_FLOAT && e.format === i.RGBA && (r.internalFormat = i.RGBA16F)
      }
    }, r.prototype.updateTexture = function (t) {
      var e = t._glTextures[this.CONTEXT_UID];
      if (e) {
        var r = this.renderer;
        if (this.initTextureType(t, e), t.resource && t.resource.upload(r, t, e)) ; else {
          var i = t.realWidth, n = t.realHeight, o = r.gl;
          (e.width !== i || e.height !== n || e.dirtyId < 0) && (e.width = i, e.height = n, o.texImage2D(t.target, 0, e.internalFormat, i, n, 0, t.format, e.type, null))
        }
        t.dirtyStyleId !== e.dirtyStyleId && this.updateTextureStyle(t), e.dirtyId = t.dirtyId
      }
    }, r.prototype.destroyTexture = function (t, e) {
      var r = this.gl;
      if ((t = t.castToBaseTexture())._glTextures[this.CONTEXT_UID] && (this.unbind(t), r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture), t.off("dispose", this.destroyTexture, this), delete t._glTextures[this.CONTEXT_UID], !e)) {
        var i = this.managedTextures.indexOf(t);
        -1 !== i && $t(this.managedTextures, i, 1)
      }
    }, r.prototype.updateTextureStyle = function (e) {
      var r = e._glTextures[this.CONTEXT_UID];
      r && (e.mipmap !== t.MIPMAP_MODES.POW2 && 2 === this.webGLVersion || e.isPowerOfTwo ? r.mipmap = e.mipmap >= 1 : r.mipmap = !1, 2 === this.webGLVersion || e.isPowerOfTwo ? r.wrapMode = e.wrapMode : r.wrapMode = t.WRAP_MODES.CLAMP, e.resource && e.resource.style(this.renderer, e, r) || this.setStyle(e, r), r.dirtyStyleId = e.dirtyStyleId)
    }, r.prototype.setStyle = function (e, r) {
      var i = this.gl;
      if (r.mipmap && i.generateMipmap(e.target), i.texParameteri(e.target, i.TEXTURE_WRAP_S, r.wrapMode), i.texParameteri(e.target, i.TEXTURE_WRAP_T, r.wrapMode), r.mipmap) {
        i.texParameteri(e.target, i.TEXTURE_MIN_FILTER, e.scaleMode === t.SCALE_MODES.LINEAR ? i.LINEAR_MIPMAP_LINEAR : i.NEAREST_MIPMAP_NEAREST);
        var n = this.renderer.context.extensions.anisotropicFiltering;
        if (n && e.anisotropicLevel > 0 && e.scaleMode === t.SCALE_MODES.LINEAR) {
          var o = Math.min(e.anisotropicLevel, i.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));
          i.texParameterf(e.target, n.TEXTURE_MAX_ANISOTROPY_EXT, o)
        }
      } else i.texParameteri(e.target, i.TEXTURE_MIN_FILTER, e.scaleMode === t.SCALE_MODES.LINEAR ? i.LINEAR : i.NEAREST);
      i.texParameteri(e.target, i.TEXTURE_MAG_FILTER, e.scaleMode === t.SCALE_MODES.LINEAR ? i.LINEAR : i.NEAREST)
    }, r
  }(Ir), cn = {
    FilterSystem: Jr,
    BatchSystem: $r,
    ContextSystem: ei,
    FramebufferSystem: ni,
    GeometrySystem: ai,
    MaskSystem: ji,
    ScissorSystem: Hi,
    StencilSystem: Yi,
    ProjectionSystem: zi,
    RenderTextureSystem: Ki,
    ShaderSystem: tn,
    StateSystem: an,
    TextureGCSystem: hn,
    TextureSystem: ln
  }, dn = new we, pn = function (e) {
    function r(r, i) {
      void 0 === r && (r = t.RENDERER_TYPE.UNKNOWN);
      var n = e.call(this) || this;
      return (i = Object.assign({}, C.RENDER_OPTIONS, i)).roundPixels && (C.ROUND_PIXELS = i.roundPixels, ne("5.0.0", "Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS", 2)), n.options = i, n.type = r, n.screen = new _e(0, 0, i.width, i.height), n.view = i.view || document.createElement("canvas"), n.resolution = i.resolution || C.RESOLUTION, n.transparent = i.transparent, n.autoDensity = i.autoDensity || i.autoResize || !1, n.preserveDrawingBuffer = i.preserveDrawingBuffer, n.clearBeforeRender = i.clearBeforeRender, n._backgroundColor = 0, n._backgroundColorRgba = [0, 0, 0, 0], n._backgroundColorString = "#000000", n.backgroundColor = i.backgroundColor || n._backgroundColor, n._lastObjectRendered = null, n.plugins = {}, n
    }

    return dr(r, e), r.prototype.initPlugins = function (t) {
      for (var e in t) this.plugins[e] = new t[e](this)
    }, Object.defineProperty(r.prototype, "width", {
      get: function () {
        return this.view.width
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(r.prototype, "height", {
      get: function () {
        return this.view.height
      }, enumerable: !1, configurable: !0
    }), r.prototype.resize = function (t, e) {
      this.screen.width = t, this.screen.height = e, this.view.width = t * this.resolution, this.view.height = e * this.resolution, this.autoDensity && (this.view.style.width = t + "px", this.view.style.height = e + "px"), this.emit("resize", t, e)
    }, r.prototype.generateTexture = function (t, e, r, i) {
      0 === (i = i || t.getLocalBounds(null, !0)).width && (i.width = 1), 0 === i.height && (i.height = 1);
      var n = Nr.create({width: 0 | i.width, height: 0 | i.height, scaleMode: e, resolution: r});
      return dn.tx = -i.x, dn.ty = -i.y, this.render(t, n, !1, dn, !!t.parent), n
    }, r.prototype.destroy = function (e) {
      for (var r in this.plugins) this.plugins[r].destroy(), this.plugins[r] = null;
      e && this.view.parentNode && this.view.parentNode.removeChild(this.view);
      this.plugins = null, this.type = t.RENDERER_TYPE.UNKNOWN, this.view = null, this.screen = null, this._tempDisplayObjectParent = null, this.options = null, this._backgroundColorRgba = null, this._backgroundColorString = null, this._lastObjectRendered = null
    }, Object.defineProperty(r.prototype, "backgroundColor", {
      get: function () {
        return this._backgroundColor
      }, set: function (t) {
        this._backgroundColor = t, this._backgroundColorString = Xt(t), kt(t, this._backgroundColorRgba)
      }, enumerable: !1, configurable: !0
    }), r
  }(D), fn = function (e) {
    function r(i) {
      var n = e.call(this, t.RENDERER_TYPE.WEBGL, i) || this;
      return i = n.options, n.gl = null, n.CONTEXT_UID = 0, n.runners = {
        destroy: new hr("destroy"),
        contextChange: new hr("contextChange"),
        reset: new hr("reset"),
        update: new hr("update"),
        postrender: new hr("postrender"),
        prerender: new hr("prerender"),
        resize: new hr("resize")
      }, n.globalUniforms = new Kr({projectionMatrix: new we}, !0), n.addSystem(ji, "mask").addSystem(ei, "context").addSystem(an, "state").addSystem(tn, "shader").addSystem(ln, "texture").addSystem(ai, "geometry").addSystem(ni, "framebuffer").addSystem(Hi, "scissor").addSystem(Yi, "stencil").addSystem(zi, "projection").addSystem(hn, "textureGC").addSystem(Jr, "filter").addSystem(Ki, "renderTexture").addSystem($r, "batch"), n.initPlugins(r.__plugins), i.context ? n.context.initFromContext(i.context) : n.context.initFromOptions({
        alpha: !!n.transparent,
        antialias: i.antialias,
        premultipliedAlpha: n.transparent && "notMultiplied" !== n.transparent,
        stencil: !0,
        preserveDrawingBuffer: i.preserveDrawingBuffer,
        powerPreference: n.options.powerPreference
      }), n.renderingToScreen = !0, Bt(2 === n.context.webGLVersion ? "WebGL 2" : "WebGL 1"), n.resize(n.options.width, n.options.height), n
    }

    return dr(r, e), r.create = function (t) {
      if (Ut()) return new r(t);
      throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')
    }, r.prototype.addSystem = function (t, e) {
      e || (e = t.name);
      var r = new t(this);
      if (this[e]) throw new Error('Whoops! The name "' + e + '" is already in use');
      for (var i in this[e] = r, this.runners) this.runners[i].add(r);
      return this
    }, r.prototype.render = function (t, e, r, i, n) {
      if (this.renderingToScreen = !e, this.runners.prerender.emit(), this.emit("prerender"), this.projection.transform = i, !this.context.isLost) {
        if (e || (this._lastObjectRendered = t), !n) {
          var o = t.enableTempParent();
          t.updateTransform(), t.disableTempParent(o)
        }
        this.renderTexture.bind(e), this.batch.currentRenderer.start(), (void 0 !== r ? r : this.clearBeforeRender) && this.renderTexture.clear(), t.render(this), this.batch.currentRenderer.flush(), e && e.baseTexture.update(), this.runners.postrender.emit(), this.projection.transform = null, this.emit("postrender")
      }
    }, r.prototype.resize = function (t, r) {
      e.prototype.resize.call(this, t, r), this.runners.resize.emit(t, r)
    }, r.prototype.reset = function () {
      return this.runners.reset.emit(), this
    }, r.prototype.clear = function () {
      this.renderTexture.bind(), this.renderTexture.clear()
    }, r.prototype.destroy = function (t) {
      for (var r in this.runners.destroy.emit(), this.runners) this.runners[r].destroy();
      e.prototype.destroy.call(this, t), this.gl = null
    }, r.registerPlugin = function (t, e) {
      r.__plugins = r.__plugins || {}, r.__plugins[t] = e
    }, r
  }(pn);

  function mn(t) {
    return fn.create(t)
  }

  var vn = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",
    yn = "attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",
    gn = function () {
      return function () {
        this.texArray = null, this.blend = 0, this.type = t.DRAW_MODES.TRIANGLES, this.start = 0, this.size = 0, this.data = null
      }
    }(), _n = function () {
      function t() {
        this.elements = [], this.ids = [], this.count = 0
      }

      return t.prototype.clear = function () {
        for (var t = 0; t < this.count; t++) this.elements[t] = null;
        this.count = 0
      }, t
    }(), xn = function () {
      function t(t) {
        this.rawBinaryData = new ArrayBuffer(t), this.uint32View = new Uint32Array(this.rawBinaryData), this.float32View = new Float32Array(this.rawBinaryData)
      }

      return Object.defineProperty(t.prototype, "int8View", {
        get: function () {
          return this._int8View || (this._int8View = new Int8Array(this.rawBinaryData)), this._int8View
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(t.prototype, "uint8View", {
        get: function () {
          return this._uint8View || (this._uint8View = new Uint8Array(this.rawBinaryData)), this._uint8View
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(t.prototype, "int16View", {
        get: function () {
          return this._int16View || (this._int16View = new Int16Array(this.rawBinaryData)), this._int16View
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(t.prototype, "uint16View", {
        get: function () {
          return this._uint16View || (this._uint16View = new Uint16Array(this.rawBinaryData)), this._uint16View
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(t.prototype, "int32View", {
        get: function () {
          return this._int32View || (this._int32View = new Int32Array(this.rawBinaryData)), this._int32View
        }, enumerable: !1, configurable: !0
      }), t.prototype.view = function (t) {
        return this[t + "View"]
      }, t.prototype.destroy = function () {
        this.rawBinaryData = null, this._int8View = null, this._uint8View = null, this._int16View = null, this._uint16View = null, this._int32View = null, this.uint32View = null, this.float32View = null
      }, t.sizeOf = function (t) {
        switch (t) {
          case"int8":
          case"uint8":
            return 1;
          case"int16":
          case"uint16":
            return 2;
          case"int32":
          case"uint32":
          case"float32":
            return 4;
          default:
            throw new Error(t + " isn't a valid view type")
        }
      }, t
    }(), bn = function (e) {
      function r(t) {
        var r = e.call(this, t) || this;
        return r.shaderGenerator = null, r.geometryClass = null, r.vertexSize = null, r.state = Li.for2d(), r.size = 4 * C.SPRITE_BATCH_SIZE, r._vertexCount = 0, r._indexCount = 0, r._bufferedElements = [], r._bufferedTextures = [], r._bufferSize = 0, r._shader = null, r._packedGeometries = [], r._packedGeometryPoolSize = 2, r._flushId = 0, r._aBuffers = {}, r._iBuffers = {}, r.MAX_TEXTURES = 1, r.renderer.on("prerender", r.onPrerender, r), t.runners.contextChange.add(r), r._dcIndex = 0, r._aIndex = 0, r._iIndex = 0, r._attributeBuffer = null, r._indexBuffer = null, r._tempBoundTextures = [], r
      }

      return dr(r, e), r.prototype.contextChange = function () {
        var e = this.renderer.gl;
        C.PREFER_ENV === t.ENV.WEBGL_LEGACY ? this.MAX_TEXTURES = 1 : (this.MAX_TEXTURES = Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS), C.SPRITE_MAX_TEXTURES), this.MAX_TEXTURES = Oi(this.MAX_TEXTURES, e)), this._shader = this.shaderGenerator.generateShader(this.MAX_TEXTURES);
        for (var r = 0; r < this._packedGeometryPoolSize; r++) this._packedGeometries[r] = new this.geometryClass;
        this.initFlushBuffers()
      }, r.prototype.initFlushBuffers = function () {
        for (var t = r._drawCallPool, e = r._textureArrayPool, i = this.size / 4, n = Math.floor(i / this.MAX_TEXTURES) + 1; t.length < i;) t.push(new gn);
        for (; e.length < n;) e.push(new _n);
        for (var o = 0; o < this.MAX_TEXTURES; o++) this._tempBoundTextures[o] = null
      }, r.prototype.onPrerender = function () {
        this._flushId = 0
      }, r.prototype.render = function (t) {
        t._texture.valid && (this._vertexCount + t.vertexData.length / 2 > this.size && this.flush(), this._vertexCount += t.vertexData.length / 2, this._indexCount += t.indices.length, this._bufferedTextures[this._bufferSize] = t._texture.baseTexture, this._bufferedElements[this._bufferSize++] = t)
      }, r.prototype.buildTexturesAndDrawCalls = function () {
        var t = this._bufferedTextures, e = this.MAX_TEXTURES, i = r._textureArrayPool, n = this.renderer.batch,
          o = this._tempBoundTextures, s = this.renderer.textureGC.count, a = ++vr._globalBatch, h = 0, u = i[0], l = 0;
        n.copyBoundTextures(o, e);
        for (var c = 0; c < this._bufferSize; ++c) {
          var d = t[c];
          t[c] = null, d._batchEnabled !== a && (u.count >= e && (n.boundArray(u, o, a, e), this.buildDrawCalls(u, l, c), l = c, u = i[++h], ++a), d._batchEnabled = a, d.touched = s, u.elements[u.count++] = d)
        }
        u.count > 0 && (n.boundArray(u, o, a, e), this.buildDrawCalls(u, l, this._bufferSize), ++h, ++a);
        for (c = 0; c < o.length; c++) o[c] = null;
        vr._globalBatch = a
      }, r.prototype.buildDrawCalls = function (t, e, i) {
        var n = this._bufferedElements, o = this._attributeBuffer, s = this._indexBuffer, a = this.vertexSize,
          h = r._drawCallPool, u = this._dcIndex, l = this._aIndex, c = this._iIndex, d = h[u];
        d.start = this._iIndex, d.texArray = t;
        for (var p = e; p < i; ++p) {
          var f = n[p], m = f._texture.baseTexture, v = Gt[m.alphaMode ? 1 : 0][f.blendMode];
          n[p] = null, e < p && d.blend !== v && (d.size = c - d.start, e = p, (d = h[++u]).texArray = t, d.start = c), this.packInterleavedGeometry(f, o, s, l, c), l += f.vertexData.length / 2 * a, c += f.indices.length, d.blend = v
        }
        e < i && (d.size = c - d.start, ++u), this._dcIndex = u, this._aIndex = l, this._iIndex = c
      }, r.prototype.bindAndClearTexArray = function (t) {
        for (var e = this.renderer.texture, r = 0; r < t.count; r++) e.bind(t.elements[r], t.ids[r]), t.elements[r] = null;
        t.count = 0
      }, r.prototype.updateGeometry = function () {
        var t = this._packedGeometries, e = this._attributeBuffer, r = this._indexBuffer;
        C.CAN_UPLOAD_SAME_BUFFER ? (t[this._flushId]._buffer.update(e.rawBinaryData), t[this._flushId]._indexBuffer.update(r), this.renderer.geometry.updateBuffers()) : (this._packedGeometryPoolSize <= this._flushId && (this._packedGeometryPoolSize++, t[this._flushId] = new this.geometryClass), t[this._flushId]._buffer.update(e.rawBinaryData), t[this._flushId]._indexBuffer.update(r), this.renderer.geometry.bind(t[this._flushId]), this.renderer.geometry.updateBuffers(), this._flushId++)
      }, r.prototype.drawBatches = function () {
        for (var t = this._dcIndex, e = this.renderer, i = e.gl, n = e.state, o = r._drawCallPool, s = null, a = 0; a < t; a++) {
          var h = o[a], u = h.texArray, l = h.type, c = h.size, d = h.start, p = h.blend;
          s !== u && (s = u, this.bindAndClearTexArray(u)), this.state.blendMode = p, n.set(this.state), i.drawElements(l, c, i.UNSIGNED_SHORT, 2 * d)
        }
      }, r.prototype.flush = function () {
        0 !== this._vertexCount && (this._attributeBuffer = this.getAttributeBuffer(this._vertexCount), this._indexBuffer = this.getIndexBuffer(this._indexCount), this._aIndex = 0, this._iIndex = 0, this._dcIndex = 0, this.buildTexturesAndDrawCalls(), this.updateGeometry(), this.drawBatches(), this._bufferSize = 0, this._vertexCount = 0, this._indexCount = 0)
      }, r.prototype.start = function () {
        this.renderer.state.set(this.state), this.renderer.shader.bind(this._shader), C.CAN_UPLOAD_SAME_BUFFER && this.renderer.geometry.bind(this._packedGeometries[this._flushId])
      }, r.prototype.stop = function () {
        this.flush()
      }, r.prototype.destroy = function () {
        for (var t = 0; t < this._packedGeometryPoolSize; t++) this._packedGeometries[t] && this._packedGeometries[t].destroy();
        this.renderer.off("prerender", this.onPrerender, this), this._aBuffers = null, this._iBuffers = null, this._packedGeometries = null, this._attributeBuffer = null, this._indexBuffer = null, this._shader && (this._shader.destroy(), this._shader = null), e.prototype.destroy.call(this)
      }, r.prototype.getAttributeBuffer = function (t) {
        var e = Zt(Math.ceil(t / 8)), r = Qt(e), i = 8 * e;
        this._aBuffers.length <= r && (this._iBuffers.length = r + 1);
        var n = this._aBuffers[i];
        return n || (this._aBuffers[i] = n = new xn(i * this.vertexSize * 4)), n
      }, r.prototype.getIndexBuffer = function (t) {
        var e = Zt(Math.ceil(t / 12)), r = Qt(e), i = 12 * e;
        this._iBuffers.length <= r && (this._iBuffers.length = r + 1);
        var n = this._iBuffers[r];
        return n || (this._iBuffers[r] = n = new Uint16Array(i)), n
      }, r.prototype.packInterleavedGeometry = function (t, e, r, i, n) {
        for (var o = e.uint32View, s = e.float32View, a = i / this.vertexSize, h = t.uvs, u = t.indices, l = t.vertexData, c = t._texture.baseTexture._batchLocation, d = Math.min(t.worldAlpha, 1), p = d < 1 && t._texture.baseTexture.alphaMode ? zt(t._tintRGB, d) : t._tintRGB + (255 * d << 24), f = 0; f < l.length; f += 2) s[i++] = l[f], s[i++] = l[f + 1], s[i++] = h[f], s[i++] = h[f + 1], o[i++] = p, s[i++] = c;
        for (f = 0; f < u.length; f++) r[n++] = a + u[f]
      }, r._drawCallPool = [], r._textureArrayPool = [], r
    }(Qr), En = function () {
      function t(t, e) {
        if (this.vertexSrc = t, this.fragTemplate = e, this.programCache = {}, this.defaultGroupCache = {}, e.indexOf("%count%") < 0) throw new Error('Fragment template must contain "%count%".');
        if (e.indexOf("%forloop%") < 0) throw new Error('Fragment template must contain "%forloop%".')
      }

      return t.prototype.generateShader = function (t) {
        if (!this.programCache[t]) {
          for (var e = new Int32Array(t), r = 0; r < t; r++) e[r] = r;
          this.defaultGroupCache[t] = Kr.from({uSamplers: e}, !0);
          var i = this.fragTemplate;
          i = (i = i.replace(/%count%/gi, "" + t)).replace(/%forloop%/gi, this.generateSampleSrc(t)), this.programCache[t] = new Di(this.vertexSrc, i)
        }
        var n = {tint: new Float32Array([1, 1, 1, 1]), translationMatrix: new we, default: this.defaultGroupCache[t]};
        return new Ri(this.programCache[t], n)
      }, t.prototype.generateSampleSrc = function (t) {
        var e = "";
        e += "\n", e += "\n";
        for (var r = 0; r < t; r++) r > 0 && (e += "\nelse "), r < t - 1 && (e += "if(vTextureId < " + r + ".5)"), e += "\n{", e += "\n\tcolor = texture2D(uSamplers[" + r + "], vTextureCoord);", e += "\n}";
        return e += "\n", e += "\n"
      }, t
    }(), Tn = function (e) {
      function r(r) {
        void 0 === r && (r = !1);
        var i = e.call(this) || this;
        return i._buffer = new kr(null, r, !1), i._indexBuffer = new kr(null, r, !0), i.addAttribute("aVertexPosition", i._buffer, 2, !1, t.TYPES.FLOAT).addAttribute("aTextureCoord", i._buffer, 2, !1, t.TYPES.FLOAT).addAttribute("aColor", i._buffer, 4, !0, t.TYPES.UNSIGNED_BYTE).addAttribute("aTextureId", i._buffer, 1, !0, t.TYPES.FLOAT).addIndex(i._indexBuffer), i
      }

      return dr(r, e), r
    }(zr),
    Pn = "precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",
    Sn = "varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",
    wn = function () {
      function t() {
      }

      return t.create = function (t) {
        var e = Object.assign({vertex: Pn, fragment: Sn, geometryClass: Tn, vertexSize: 6}, t), r = e.vertex,
          i = e.fragment, n = e.vertexSize, o = e.geometryClass;
        return function (t) {
          function e(e) {
            var s = t.call(this, e) || this;
            return s.shaderGenerator = new En(r, i), s.geometryClass = o, s.vertexSize = n, s
          }

          return dr(e, t), e
        }(bn)
      }, Object.defineProperty(t, "defaultVertexSrc", {
        get: function () {
          return Pn
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(t, "defaultFragmentTemplate", {
        get: function () {
          return Sn
        }, enumerable: !1, configurable: !0
      }), t
    }(), In = wn.create(), An = function () {
      function t(e) {
        var r = this;
        e = Object.assign({forceCanvas: !1}, e), this.renderer = mn(e), this.stage = new Ge, t._plugins.forEach(function (t) {
          t.init.call(r, e)
        })
      }

      return t.registerPlugin = function (e) {
        t._plugins.push(e)
      }, t.prototype.render = function () {
        this.renderer.render(this.stage)
      }, Object.defineProperty(t.prototype, "view", {
        get: function () {
          return this.renderer.view
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(t.prototype, "screen", {
        get: function () {
          return this.renderer.screen
        }, enumerable: !1, configurable: !0
      }), t.prototype.destroy = function (e, r) {
        var i = this, n = t._plugins.slice(0);
        n.reverse(), n.forEach(function (t) {
          t.destroy.call(i)
        }), this.stage.destroy(r), this.stage = null, this.renderer.destroy(e), this.renderer = null
      }, t
    }();
  An._plugins = [];
  var On = function () {
    function t() {
    }

    return t.init = function (t) {
      var e = this;
      Object.defineProperty(this, "resizeTo", {
        set: function (t) {
          window.removeEventListener("resize", this.queueResize), this._resizeTo = t, t && (window.addEventListener("resize", this.queueResize), this.resize())
        }, get: function () {
          return this._resizeTo
        }
      }), this.queueResize = function () {
        e._resizeTo && (e.cancelResize(), e._resizeId = requestAnimationFrame(function () {
          return e.resize()
        }))
      }, this.cancelResize = function () {
        e._resizeId && (cancelAnimationFrame(e._resizeId), e._resizeId = null)
      }, this.resize = function () {
        if (e._resizeTo) {
          var t, r;
          if (e.cancelResize(), e._resizeTo === window) t = window.innerWidth, r = window.innerHeight; else {
            var i = e._resizeTo;
            t = i.clientWidth, r = i.clientHeight
          }
          e.renderer.resize(t, r)
        }
      }, this._resizeId = null, this._resizeTo = null, this.resizeTo = t.resizeTo || null
    }, t.destroy = function () {
      this.cancelResize(), this.cancelResize = null, this.queueResize = null, this.resizeTo = null, this.resize = null
    }, t
  }();
  An.registerPlugin(On);
  var Mn = new _e, Cn = function () {
    function t(t) {
      this.renderer = t, t.extract = this
    }

    return t.prototype.image = function (t, e, r) {
      var i = new Image;
      return i.src = this.base64(t, e, r), i
    }, t.prototype.base64 = function (t, e, r) {
      return this.canvas(t).toDataURL(e, r)
    }, t.prototype.canvas = function (e) {
      var r, i, n, o = this.renderer, s = !1, a = !1;
      e && (e instanceof Nr ? n = e : (n = this.renderer.generateTexture(e), a = !0)), n ? (r = n.baseTexture.resolution, i = n.frame, s = !1, o.renderTexture.bind(n)) : (r = this.renderer.resolution, s = !0, (i = Mn).width = this.renderer.width, i.height = this.renderer.height, o.renderTexture.bind(null));
      var h = Math.floor(i.width * r + 1e-4), u = Math.floor(i.height * r + 1e-4), l = new he(h, u, 1),
        c = new Uint8Array(4 * h * u), d = o.gl;
      d.readPixels(i.x * r, i.y * r, h, u, d.RGBA, d.UNSIGNED_BYTE, c);
      var p = l.context.getImageData(0, 0, h, u);
      if (t.arrayPostDivide(c, p.data), l.context.putImageData(p, 0, 0), s) {
        var f = new he(l.width, l.height, 1);
        f.context.scale(1, -1), f.context.drawImage(l.canvas, 0, -u), l.destroy(), l = f
      }
      return a && n.destroy(!0), l.canvas
    }, t.prototype.pixels = function (e) {
      var r, i, n, o = this.renderer, s = !1;
      e && (e instanceof Nr ? n = e : (n = this.renderer.generateTexture(e), s = !0)), n ? (r = n.baseTexture.resolution, i = n.frame, o.renderTexture.bind(n)) : (r = o.resolution, (i = Mn).width = o.width, i.height = o.height, o.renderTexture.bind(null));
      var a = i.width * r, h = i.height * r, u = new Uint8Array(4 * a * h), l = o.gl;
      return l.readPixels(i.x * r, i.y * r, a, h, l.RGBA, l.UNSIGNED_BYTE, u), s && n.destroy(!0), t.arrayPostDivide(u, u), u
    }, t.prototype.destroy = function () {
      this.renderer.extract = null, this.renderer = null
    }, t.arrayPostDivide = function (t, e) {
      for (var r = 0; r < t.length; r += 4) {
        var i = e[r + 3] = t[r + 3];
        0 !== i ? (e[r] = Math.round(Math.min(255 * t[r] / i, 255)), e[r + 1] = Math.round(Math.min(255 * t[r + 1] / i, 255)), e[r + 2] = Math.round(Math.min(255 * t[r + 2] / i, 255))) : (e[r] = t[r], e[r + 1] = t[r + 1], e[r + 2] = t[r + 2])
      }
    }, t
  }(), Dn = function (t, e) {
    e = e || {};
    for (var r = {
      key: ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"],
      q: {name: "queryKey", parser: /(?:^|&)([^&=]*)=?([^&]*)/g},
      parser: {
        strict: /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
        loose: /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/
      }
    }, i = r.parser[e.strictMode ? "strict" : "loose"].exec(t), n = {}, o = 14; o--;) n[r.key[o]] = i[o] || "";
    return n[r.q.name] = {}, n[r.key[12]].replace(r.q.parser, function (t, e, i) {
      e && (n[r.q.name][e] = i)
    }), n
  }, Rn = function (t) {
    return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t
  }(r(function (t, e) {
    Object.defineProperty(e, "__esModule", {value: !0});
    var r = function () {
      function t(t, e) {
        for (var r = 0; r < e.length; r++) {
          var i = e[r];
          i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
      }

      return function (e, r, i) {
        return r && t(e.prototype, r), i && t(e, i), e
      }
    }();

    function i(t, e) {
      if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    var n = function () {
      function t(e, r, n) {
        void 0 === r && (r = !1), i(this, t), this._fn = e, this._once = r, this._thisArg = n, this._next = this._prev = this._owner = null
      }

      return r(t, [{
        key: "detach", value: function () {
          return null !== this._owner && (this._owner.detach(this), !0)
        }
      }]), t
    }();

    function o(t, e) {
      return t._head ? (t._tail._next = e, e._prev = t._tail, t._tail = e) : (t._head = e, t._tail = e), e._owner = t, e
    }

    var s = function () {
      function t() {
        i(this, t), this._head = this._tail = void 0
      }

      return r(t, [{
        key: "handlers", value: function () {
          var t = !(arguments.length <= 0 || void 0 === arguments[0]) && arguments[0], e = this._head;
          if (t) return !!e;
          for (var r = []; e;) r.push(e), e = e._next;
          return r
        }
      }, {
        key: "has", value: function (t) {
          if (!(t instanceof n)) throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");
          return t._owner === this
        }
      }, {
        key: "dispatch", value: function () {
          var t = arguments, e = this._head;
          if (!e) return !1;
          for (; e;) e._once && this.detach(e), e._fn.apply(e._thisArg, t), e = e._next;
          return !0
        }
      }, {
        key: "add", value: function (t) {
          var e = arguments.length <= 1 || void 0 === arguments[1] ? null : arguments[1];
          if ("function" != typeof t) throw new Error("MiniSignal#add(): First arg must be a Function.");
          return o(this, new n(t, !1, e))
        }
      }, {
        key: "once", value: function (t) {
          var e = arguments.length <= 1 || void 0 === arguments[1] ? null : arguments[1];
          if ("function" != typeof t) throw new Error("MiniSignal#once(): First arg must be a Function.");
          return o(this, new n(t, !0, e))
        }
      }, {
        key: "detach", value: function (t) {
          if (!(t instanceof n)) throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");
          return t._owner !== this ? this : (t._prev && (t._prev._next = t._next), t._next && (t._next._prev = t._prev), t === this._head ? (this._head = t._next, null === t._next && (this._tail = null)) : t === this._tail && (this._tail = t._prev, this._tail._next = null), t._owner = null, this)
        }
      }, {
        key: "detachAll", value: function () {
          var t = this._head;
          if (!t) return this;
          for (this._head = this._tail = null; t;) t._owner = null, t = t._next;
          return this
        }
      }]), t
    }();
    s.MiniSignalBinding = n, e.default = s, t.exports = e.default
  }));

  function Ln() {
  }

  function Nn(t, e, r, i) {
    var n = 0, o = t.length;
    !function s(a) {
      a || n === o ? r && r(a) : i ? setTimeout(function () {
        e(t[n++], s)
      }, 1) : e(t[n++], s)
    }()
  }

  function Fn(t) {
    return function () {
      if (null === t) throw new Error("Callback was already called.");
      var e = t;
      t = null, e.apply(this, arguments)
    }
  }

  function Bn(t, e) {
    if (null == e) e = 1; else if (0 === e) throw new Error("Concurrency must not be zero");
    var r = 0, i = {
      _tasks: [],
      concurrency: e,
      saturated: Ln,
      unsaturated: Ln,
      buffer: e / 4,
      empty: Ln,
      drain: Ln,
      error: Ln,
      started: !1,
      paused: !1,
      push: function (t, e) {
        n(t, !1, e)
      },
      kill: function () {
        r = 0, i.drain = Ln, i.started = !1, i._tasks = []
      },
      unshift: function (t, e) {
        n(t, !0, e)
      },
      process: function () {
        for (; !i.paused && r < i.concurrency && i._tasks.length;) {
          var e = i._tasks.shift();
          0 === i._tasks.length && i.empty(), (r += 1) === i.concurrency && i.saturated(), t(e.data, Fn(o(e)))
        }
      },
      length: function () {
        return i._tasks.length
      },
      running: function () {
        return r
      },
      idle: function () {
        return i._tasks.length + r === 0
      },
      pause: function () {
        !0 !== i.paused && (i.paused = !0)
      },
      resume: function () {
        if (!1 !== i.paused) {
          i.paused = !1;
          for (var t = 1; t <= i.concurrency; t++) i.process()
        }
      }
    };

    function n(t, e, r) {
      if (null != r && "function" != typeof r) throw new Error("task callback must be a function");
      if (i.started = !0, null == t && i.idle()) setTimeout(function () {
        return i.drain()
      }, 1); else {
        var n = {data: t, callback: "function" == typeof r ? r : Ln};
        e ? i._tasks.unshift(n) : i._tasks.push(n), setTimeout(function () {
          return i.process()
        }, 1)
      }
    }

    function o(t) {
      return function () {
        r -= 1, t.callback.apply(t, arguments), null != arguments[0] && i.error(arguments[0], t.data), r <= i.concurrency - i.buffer && i.unsaturated(), i.idle() && i.drain(), i.process()
      }
    }

    return i
  }

  var Un = {};

  function kn(t, e) {
    for (var r = 0; r < e.length; r++) {
      var i = e[r];
      i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
    }
  }

  function Xn(t, e, r) {
    return e && kn(t.prototype, e), r && kn(t, r), t
  }

  var jn = !(!window.XDomainRequest || "withCredentials" in new XMLHttpRequest), Gn = null;

  function Hn() {
  }

  var Yn = function () {
    function t(e, r, i) {
      if ("string" != typeof e || "string" != typeof r) throw new Error("Both name and url are required for constructing a resource.");
      i = i || {}, this._flags = 0, this._setFlag(t.STATUS_FLAGS.DATA_URL, 0 === r.indexOf("data:")), this.name = e, this.url = r, this.extension = this._getExtension(), this.data = null, this.crossOrigin = !0 === i.crossOrigin ? "anonymous" : i.crossOrigin, this.timeout = i.timeout || 0, this.loadType = i.loadType || this._determineLoadType(), this.xhrType = i.xhrType, this.metadata = i.metadata || {}, this.error = null, this.xhr = null, this.children = [], this.type = t.TYPE.UNKNOWN, this.progressChunk = 0, this._dequeue = Hn, this._onLoadBinding = null, this._elementTimer = 0, this._boundComplete = this.complete.bind(this), this._boundOnError = this._onError.bind(this), this._boundOnProgress = this._onProgress.bind(this), this._boundOnTimeout = this._onTimeout.bind(this), this._boundXhrOnError = this._xhrOnError.bind(this), this._boundXhrOnTimeout = this._xhrOnTimeout.bind(this), this._boundXhrOnAbort = this._xhrOnAbort.bind(this), this._boundXhrOnLoad = this._xhrOnLoad.bind(this), this.onStart = new Rn, this.onProgress = new Rn, this.onComplete = new Rn, this.onAfterMiddleware = new Rn
    }

    t.setExtensionLoadType = function (e, r) {
      zn(t._loadTypeMap, e, r)
    }, t.setExtensionXhrType = function (e, r) {
      zn(t._xhrTypeMap, e, r)
    };
    var e = t.prototype;
    return e.complete = function () {
      this._clearEvents(), this._finish()
    }, e.abort = function (e) {
      if (!this.error) {
        if (this.error = new Error(e), this._clearEvents(), this.xhr) this.xhr.abort(); else if (this.xdr) this.xdr.abort(); else if (this.data) if (this.data.src) this.data.src = t.EMPTY_GIF; else for (; this.data.firstChild;) this.data.removeChild(this.data.firstChild);
        this._finish()
      }
    }, e.load = function (e) {
      var r = this;
      if (!this.isLoading) if (this.isComplete) e && setTimeout(function () {
        return e(r)
      }, 1); else switch (e && this.onComplete.once(e), this._setFlag(t.STATUS_FLAGS.LOADING, !0), this.onStart.dispatch(this), !1 !== this.crossOrigin && "string" == typeof this.crossOrigin || (this.crossOrigin = this._determineCrossOrigin(this.url)), this.loadType) {
        case t.LOAD_TYPE.IMAGE:
          this.type = t.TYPE.IMAGE, this._loadElement("image");
          break;
        case t.LOAD_TYPE.AUDIO:
          this.type = t.TYPE.AUDIO, this._loadSourceElement("audio");
          break;
        case t.LOAD_TYPE.VIDEO:
          this.type = t.TYPE.VIDEO, this._loadSourceElement("video");
          break;
        case t.LOAD_TYPE.XHR:
        default:
          jn && this.crossOrigin ? this._loadXdr() : this._loadXhr()
      }
    }, e._hasFlag = function (t) {
      return 0 != (this._flags & t)
    }, e._setFlag = function (t, e) {
      this._flags = e ? this._flags | t : this._flags & ~t
    }, e._clearEvents = function () {
      clearTimeout(this._elementTimer), this.data && this.data.removeEventListener && (this.data.removeEventListener("error", this._boundOnError, !1), this.data.removeEventListener("load", this._boundComplete, !1), this.data.removeEventListener("progress", this._boundOnProgress, !1), this.data.removeEventListener("canplaythrough", this._boundComplete, !1)), this.xhr && (this.xhr.removeEventListener ? (this.xhr.removeEventListener("error", this._boundXhrOnError, !1), this.xhr.removeEventListener("timeout", this._boundXhrOnTimeout, !1), this.xhr.removeEventListener("abort", this._boundXhrOnAbort, !1), this.xhr.removeEventListener("progress", this._boundOnProgress, !1), this.xhr.removeEventListener("load", this._boundXhrOnLoad, !1)) : (this.xhr.onerror = null, this.xhr.ontimeout = null, this.xhr.onprogress = null, this.xhr.onload = null))
    }, e._finish = function () {
      if (this.isComplete) throw new Error("Complete called again for an already completed resource.");
      this._setFlag(t.STATUS_FLAGS.COMPLETE, !0), this._setFlag(t.STATUS_FLAGS.LOADING, !1), this.onComplete.dispatch(this)
    }, e._loadElement = function (t) {
      this.metadata.loadElement ? this.data = this.metadata.loadElement : "image" === t && void 0 !== window.Image ? this.data = new Image : this.data = document.createElement(t), this.crossOrigin && (this.data.crossOrigin = this.crossOrigin), this.metadata.skipSource || (this.data.src = this.url), this.data.addEventListener("error", this._boundOnError, !1), this.data.addEventListener("load", this._boundComplete, !1), this.data.addEventListener("progress", this._boundOnProgress, !1), this.timeout && (this._elementTimer = setTimeout(this._boundOnTimeout, this.timeout))
    }, e._loadSourceElement = function (t) {
      if (this.metadata.loadElement ? this.data = this.metadata.loadElement : "audio" === t && void 0 !== window.Audio ? this.data = new Audio : this.data = document.createElement(t), null !== this.data) {
        if (this.crossOrigin && (this.data.crossOrigin = this.crossOrigin), !this.metadata.skipSource) if (navigator.isCocoonJS) this.data.src = Array.isArray(this.url) ? this.url[0] : this.url; else if (Array.isArray(this.url)) for (var e = this.metadata.mimeType, r = 0; r < this.url.length; ++r) this.data.appendChild(this._createSource(t, this.url[r], Array.isArray(e) ? e[r] : e)); else {
          var i = this.metadata.mimeType;
          this.data.appendChild(this._createSource(t, this.url, Array.isArray(i) ? i[0] : i))
        }
        this.data.addEventListener("error", this._boundOnError, !1), this.data.addEventListener("load", this._boundComplete, !1), this.data.addEventListener("progress", this._boundOnProgress, !1), this.data.addEventListener("canplaythrough", this._boundComplete, !1), this.data.load(), this.timeout && (this._elementTimer = setTimeout(this._boundOnTimeout, this.timeout))
      } else this.abort("Unsupported element: " + t)
    }, e._loadXhr = function () {
      "string" != typeof this.xhrType && (this.xhrType = this._determineXhrType());
      var e = this.xhr = new XMLHttpRequest;
      e.open("GET", this.url, !0), e.timeout = this.timeout, this.xhrType === t.XHR_RESPONSE_TYPE.JSON || this.xhrType === t.XHR_RESPONSE_TYPE.DOCUMENT ? e.responseType = t.XHR_RESPONSE_TYPE.TEXT : e.responseType = this.xhrType, e.addEventListener("error", this._boundXhrOnError, !1), e.addEventListener("timeout", this._boundXhrOnTimeout, !1), e.addEventListener("abort", this._boundXhrOnAbort, !1), e.addEventListener("progress", this._boundOnProgress, !1), e.addEventListener("load", this._boundXhrOnLoad, !1), e.send()
    }, e._loadXdr = function () {
      "string" != typeof this.xhrType && (this.xhrType = this._determineXhrType());
      var t = this.xhr = new XDomainRequest;
      t.timeout = this.timeout || 5e3, t.onerror = this._boundXhrOnError, t.ontimeout = this._boundXhrOnTimeout, t.onprogress = this._boundOnProgress, t.onload = this._boundXhrOnLoad, t.open("GET", this.url, !0), setTimeout(function () {
        return t.send()
      }, 1)
    }, e._createSource = function (t, e, r) {
      r || (r = t + "/" + this._getExtension(e));
      var i = document.createElement("source");
      return i.src = e, i.type = r, i
    }, e._onError = function (t) {
      this.abort("Failed to load element using: " + t.target.nodeName)
    }, e._onProgress = function (t) {
      t && t.lengthComputable && this.onProgress.dispatch(this, t.loaded / t.total)
    }, e._onTimeout = function () {
      this.abort("Load timed out.")
    }, e._xhrOnError = function () {
      var t = this.xhr;
      this.abort(Vn(t) + " Request failed. Status: " + t.status + ', text: "' + t.statusText + '"')
    }, e._xhrOnTimeout = function () {
      var t = this.xhr;
      this.abort(Vn(t) + " Request timed out.")
    }, e._xhrOnAbort = function () {
      var t = this.xhr;
      this.abort(Vn(t) + " Request was aborted by the user.")
    }, e._xhrOnLoad = function () {
      var e = this.xhr, r = "", i = void 0 === e.status ? 200 : e.status;
      if ("" !== e.responseType && "text" !== e.responseType && void 0 !== e.responseType || (r = e.responseText), 0 === i && (r.length > 0 || e.responseType === t.XHR_RESPONSE_TYPE.BUFFER) ? i = 200 : 1223 === i && (i = 204), 2 === (i / 100 | 0)) {
        if (this.xhrType === t.XHR_RESPONSE_TYPE.TEXT) this.data = r, this.type = t.TYPE.TEXT; else if (this.xhrType === t.XHR_RESPONSE_TYPE.JSON) try {
          this.data = JSON.parse(r), this.type = t.TYPE.JSON
        } catch (t) {
          return void this.abort("Error trying to parse loaded json: " + t)
        } else if (this.xhrType === t.XHR_RESPONSE_TYPE.DOCUMENT) try {
          if (window.DOMParser) {
            var n = new DOMParser;
            this.data = n.parseFromString(r, "text/xml")
          } else {
            var o = document.createElement("div");
            o.innerHTML = r, this.data = o
          }
          this.type = t.TYPE.XML
        } catch (t) {
          return void this.abort("Error trying to parse loaded xml: " + t)
        } else this.data = e.response || r;
        this.complete()
      } else this.abort("[" + e.status + "] " + e.statusText + ": " + e.responseURL)
    }, e._determineCrossOrigin = function (t, e) {
      if (0 === t.indexOf("data:")) return "";
      if (window.origin !== window.location.origin) return "anonymous";
      e = e || window.location, Gn || (Gn = document.createElement("a")), Gn.href = t;
      var r = !(t = Dn(Gn.href, {strictMode: !0})).port && "" === e.port || t.port === e.port,
        i = t.protocol ? t.protocol + ":" : "";
      return t.host === e.hostname && r && i === e.protocol ? "" : "anonymous"
    }, e._determineXhrType = function () {
      return t._xhrTypeMap[this.extension] || t.XHR_RESPONSE_TYPE.TEXT
    }, e._determineLoadType = function () {
      return t._loadTypeMap[this.extension] || t.LOAD_TYPE.XHR
    }, e._getExtension = function () {
      var t = this.url, e = "";
      if (this.isDataUrl) {
        var r = t.indexOf("/");
        e = t.substring(r + 1, t.indexOf(";", r))
      } else {
        var i = t.indexOf("?"), n = t.indexOf("#"), o = Math.min(i > -1 ? i : t.length, n > -1 ? n : t.length);
        e = (t = t.substring(0, o)).substring(t.lastIndexOf(".") + 1)
      }
      return e.toLowerCase()
    }, e._getMimeFromXhrType = function (e) {
      switch (e) {
        case t.XHR_RESPONSE_TYPE.BUFFER:
          return "application/octet-binary";
        case t.XHR_RESPONSE_TYPE.BLOB:
          return "application/blob";
        case t.XHR_RESPONSE_TYPE.DOCUMENT:
          return "application/xml";
        case t.XHR_RESPONSE_TYPE.JSON:
          return "application/json";
        case t.XHR_RESPONSE_TYPE.DEFAULT:
        case t.XHR_RESPONSE_TYPE.TEXT:
        default:
          return "text/plain"
      }
    }, Xn(t, [{
      key: "isDataUrl", get: function () {
        return this._hasFlag(t.STATUS_FLAGS.DATA_URL)
      }
    }, {
      key: "isComplete", get: function () {
        return this._hasFlag(t.STATUS_FLAGS.COMPLETE)
      }
    }, {
      key: "isLoading", get: function () {
        return this._hasFlag(t.STATUS_FLAGS.LOADING)
      }
    }]), t
  }();

  function zn(t, e, r) {
    e && 0 === e.indexOf(".") && (e = e.substring(1)), e && (t[e] = r)
  }

  function Vn(t) {
    return t.toString().replace("object ", "")
  }

  Yn.STATUS_FLAGS = {NONE: 0, DATA_URL: 1, COMPLETE: 2, LOADING: 4}, Yn.TYPE = {
    UNKNOWN: 0,
    JSON: 1,
    XML: 2,
    IMAGE: 3,
    AUDIO: 4,
    VIDEO: 5,
    TEXT: 6
  }, Yn.LOAD_TYPE = {XHR: 1, IMAGE: 2, AUDIO: 3, VIDEO: 4}, Yn.XHR_RESPONSE_TYPE = {
    DEFAULT: "text",
    BUFFER: "arraybuffer",
    BLOB: "blob",
    DOCUMENT: "document",
    JSON: "json",
    TEXT: "text"
  }, Yn._loadTypeMap = {
    gif: Yn.LOAD_TYPE.IMAGE,
    png: Yn.LOAD_TYPE.IMAGE,
    bmp: Yn.LOAD_TYPE.IMAGE,
    jpg: Yn.LOAD_TYPE.IMAGE,
    jpeg: Yn.LOAD_TYPE.IMAGE,
    tif: Yn.LOAD_TYPE.IMAGE,
    tiff: Yn.LOAD_TYPE.IMAGE,
    webp: Yn.LOAD_TYPE.IMAGE,
    tga: Yn.LOAD_TYPE.IMAGE,
    svg: Yn.LOAD_TYPE.IMAGE,
    "svg+xml": Yn.LOAD_TYPE.IMAGE,
    mp3: Yn.LOAD_TYPE.AUDIO,
    ogg: Yn.LOAD_TYPE.AUDIO,
    wav: Yn.LOAD_TYPE.AUDIO,
    mp4: Yn.LOAD_TYPE.VIDEO,
    webm: Yn.LOAD_TYPE.VIDEO
  }, Yn._xhrTypeMap = {
    xhtml: Yn.XHR_RESPONSE_TYPE.DOCUMENT,
    html: Yn.XHR_RESPONSE_TYPE.DOCUMENT,
    htm: Yn.XHR_RESPONSE_TYPE.DOCUMENT,
    xml: Yn.XHR_RESPONSE_TYPE.DOCUMENT,
    tmx: Yn.XHR_RESPONSE_TYPE.DOCUMENT,
    svg: Yn.XHR_RESPONSE_TYPE.DOCUMENT,
    tsx: Yn.XHR_RESPONSE_TYPE.DOCUMENT,
    gif: Yn.XHR_RESPONSE_TYPE.BLOB,
    png: Yn.XHR_RESPONSE_TYPE.BLOB,
    bmp: Yn.XHR_RESPONSE_TYPE.BLOB,
    jpg: Yn.XHR_RESPONSE_TYPE.BLOB,
    jpeg: Yn.XHR_RESPONSE_TYPE.BLOB,
    tif: Yn.XHR_RESPONSE_TYPE.BLOB,
    tiff: Yn.XHR_RESPONSE_TYPE.BLOB,
    webp: Yn.XHR_RESPONSE_TYPE.BLOB,
    tga: Yn.XHR_RESPONSE_TYPE.BLOB,
    json: Yn.XHR_RESPONSE_TYPE.JSON,
    text: Yn.XHR_RESPONSE_TYPE.TEXT,
    txt: Yn.XHR_RESPONSE_TYPE.TEXT,
    ttf: Yn.XHR_RESPONSE_TYPE.BUFFER,
    otf: Yn.XHR_RESPONSE_TYPE.BUFFER
  }, Yn.EMPTY_GIF = "data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";
  var Wn = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
  var qn = window.URL || window.webkitURL;
  var Kn = {
    caching: function (t, e) {
      var r = this;
      Un[t.url] ? (t.data = Un[t.url], t.complete()) : t.onComplete.once(function () {
        return Un[r.url] = r.data
      }), e()
    }, parsing: function (t, e) {
      if (t.data) {
        if (t.xhr && t.xhrType === Yn.XHR_RESPONSE_TYPE.BLOB) if (window.Blob && "string" != typeof t.data) {
          if (0 === t.data.type.indexOf("image")) {
            var r = qn.createObjectURL(t.data);
            return t.blob = t.data, t.data = new Image, t.data.src = r, t.type = Yn.TYPE.IMAGE, void (t.data.onload = function () {
              qn.revokeObjectURL(r), t.data.onload = null, e()
            })
          }
        } else {
          var i = t.xhr.getResponseHeader("content-type");
          if (i && 0 === i.indexOf("image")) return t.data = new Image, t.data.src = "data:" + i + ";base64," + function (t) {
            for (var e = "", r = 0; r < t.length;) {
              for (var i = [0, 0, 0], n = [0, 0, 0, 0], o = 0; o < i.length; ++o) r < t.length ? i[o] = 255 & t.charCodeAt(r++) : i[o] = 0;
              switch (n[0] = i[0] >> 2, n[1] = (3 & i[0]) << 4 | i[1] >> 4, n[2] = (15 & i[1]) << 2 | i[2] >> 6, n[3] = 63 & i[2], r - (t.length - 1)) {
                case 2:
                  n[3] = 64, n[2] = 64;
                  break;
                case 1:
                  n[3] = 64
              }
              for (var s = 0; s < n.length; ++s) e += Wn.charAt(n[s])
            }
            return e
          }(t.xhr.responseText), t.type = Yn.TYPE.IMAGE, void (t.data.onload = function () {
            t.data.onload = null, e()
          })
        }
        e()
      } else e()
    }
  }, Zn = /(#[\w-]+)?$/, Jn = function () {
    function t(e, r) {
      var i = this;
      void 0 === e && (e = ""), void 0 === r && (r = 10), this.baseUrl = e, this.progress = 0, this.loading = !1, this.defaultQueryString = "", this._beforeMiddleware = [], this._afterMiddleware = [], this._resourcesParsing = [], this._boundLoadResource = function (t, e) {
        return i._loadResource(t, e)
      }, this._queue = Bn(this._boundLoadResource, r), this._queue.pause(), this.resources = {}, this.onProgress = new Rn, this.onError = new Rn, this.onLoad = new Rn, this.onStart = new Rn, this.onComplete = new Rn;
      for (var n = 0; n < t._defaultBeforeMiddleware.length; ++n) this.pre(t._defaultBeforeMiddleware[n]);
      for (var o = 0; o < t._defaultAfterMiddleware.length; ++o) this.use(t._defaultAfterMiddleware[o])
    }

    var e = t.prototype;
    return e.add = function (t, e, r, i) {
      if (Array.isArray(t)) {
        for (var n = 0; n < t.length; ++n) this.add(t[n]);
        return this
      }
      if ("object" == typeof t && (i = e || t.callback || t.onComplete, r = t, e = t.url, t = t.name || t.key || t.url), "string" != typeof e && (i = r, r = e, e = t), "string" != typeof e) throw new Error("No url passed to add resource to loader.");
      if ("function" == typeof r && (i = r, r = null), this.loading && (!r || !r.parentResource)) throw new Error("Cannot add resources while the loader is running.");
      if (this.resources[t]) throw new Error('Resource named "' + t + '" already exists.');
      if (e = this._prepareUrl(e), this.resources[t] = new Yn(t, e, r), "function" == typeof i && this.resources[t].onAfterMiddleware.once(i), this.loading) {
        for (var o = r.parentResource, s = [], a = 0; a < o.children.length; ++a) o.children[a].isComplete || s.push(o.children[a]);
        var h = o.progressChunk * (s.length + 1) / (s.length + 2);
        o.children.push(this.resources[t]), o.progressChunk = h;
        for (var u = 0; u < s.length; ++u) s[u].progressChunk = h;
        this.resources[t].progressChunk = h
      }
      return this._queue.push(this.resources[t]), this
    }, e.pre = function (t) {
      return this._beforeMiddleware.push(t), this
    }, e.use = function (t) {
      return this._afterMiddleware.push(t), this
    }, e.reset = function () {
      for (var t in this.progress = 0, this.loading = !1, this._queue.kill(), this._queue.pause(), this.resources) {
        var e = this.resources[t];
        e._onLoadBinding && e._onLoadBinding.detach(), e.isLoading && e.abort()
      }
      return this.resources = {}, this
    }, e.load = function (t) {
      if ("function" == typeof t && this.onComplete.once(t), this.loading) return this;
      if (this._queue.idle()) this._onStart(), this._onComplete(); else {
        for (var e = 100 / this._queue._tasks.length, r = 0; r < this._queue._tasks.length; ++r) this._queue._tasks[r].data.progressChunk = e;
        this._onStart(), this._queue.resume()
      }
      return this
    }, e._prepareUrl = function (t) {
      var e, r = Dn(t, {strictMode: !0});
      if (e = r.protocol || !r.path || 0 === t.indexOf("//") ? t : this.baseUrl.length && this.baseUrl.lastIndexOf("/") !== this.baseUrl.length - 1 && "/" !== t.charAt(0) ? this.baseUrl + "/" + t : this.baseUrl + t, this.defaultQueryString) {
        var i = Zn.exec(e)[0];
        -1 !== (e = e.substr(0, e.length - i.length)).indexOf("?") ? e += "&" + this.defaultQueryString : e += "?" + this.defaultQueryString, e += i
      }
      return e
    }, e._loadResource = function (t, e) {
      var r = this;
      t._dequeue = e, Nn(this._beforeMiddleware, function (e, i) {
        e.call(r, t, function () {
          i(t.isComplete ? {} : null)
        })
      }, function () {
        t.isComplete ? r._onLoad(t) : (t._onLoadBinding = t.onComplete.once(r._onLoad, r), t.load())
      }, !0)
    }, e._onStart = function () {
      this.progress = 0, this.loading = !0, this.onStart.dispatch(this)
    }, e._onComplete = function () {
      this.progress = 100, this.loading = !1, this.onComplete.dispatch(this, this.resources)
    }, e._onLoad = function (t) {
      var e = this;
      t._onLoadBinding = null, this._resourcesParsing.push(t), t._dequeue(), Nn(this._afterMiddleware, function (r, i) {
        r.call(e, t, i)
      }, function () {
        t.onAfterMiddleware.dispatch(t), e.progress = Math.min(100, e.progress + t.progressChunk), e.onProgress.dispatch(e, t), t.error ? e.onError.dispatch(t.error, e, t) : e.onLoad.dispatch(e, t), e._resourcesParsing.splice(e._resourcesParsing.indexOf(t), 1), e._queue.idle() && 0 === e._resourcesParsing.length && e._onComplete()
      }, !0)
    }, Xn(t, [{
      key: "concurrency", get: function () {
        return this._queue.concurrency
      }, set: function (t) {
        this._queue.concurrency = t
      }
    }]), t
  }();
  Jn._defaultBeforeMiddleware = [], Jn._defaultAfterMiddleware = [], Jn.pre = function (t) {
    return Jn._defaultBeforeMiddleware.push(t), Jn
  }, Jn.use = function (t) {
    return Jn._defaultAfterMiddleware.push(t), Jn
  };
  var Qn = Yn, $n = function (t, e) {
    return ($n = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, e) {
      t.__proto__ = e
    } || function (t, e) {
      for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r])
    })(t, e)
  };
  var to = function () {
    function t() {
    }

    return t.use = function (t, e) {
      t.data && t.type === Yn.TYPE.IMAGE && (t.texture = Rr.fromLoader(t.data, t.url, t.name)), e()
    }, t
  }(), eo = function (t) {
    function e(r, i) {
      for (var n = t.call(this, r, i) || this, o = 0; o < e._plugins.length; ++o) {
        var s = e._plugins[o], a = s.pre, h = s.use;
        a && n.pre(a), h && n.use(h)
      }
      return n._protected = !1, n
    }

    return function (t, e) {
      function r() {
        this.constructor = t
      }

      $n(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r)
    }(e, t), e.prototype.destroy = function () {
      this._protected || this.reset()
    }, Object.defineProperty(e, "shared", {
      get: function () {
        var t = e._shared;
        return t || ((t = new e)._protected = !0, e._shared = t), t
      }, enumerable: !1, configurable: !0
    }), e.registerPlugin = function (t) {
      return e._plugins.push(t), t.add && t.add(), e
    }, e._plugins = [], e
  }(Jn);
  eo.registerPlugin({use: Kn.parsing}), eo.registerPlugin(to);
  var ro = function () {
    function t() {
    }

    return t.init = function (t) {
      t = Object.assign({sharedLoader: !1}, t), this.loader = t.sharedLoader ? eo.shared : new eo
    }, t.destroy = function () {
      this.loader && (this.loader.destroy(), this.loader = null)
    }, t
  }(), io = function (t, e) {
    return (io = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, e) {
      t.__proto__ = e
    } || function (t, e) {
      for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r])
    })(t, e)
  };

  function no(t, e) {
    function r() {
      this.constructor = t
    }

    io(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r)
  }

  var oo, so, ao = function (e) {
      function r(r, i, n, o) {
        void 0 === r && (r = 1500), void 0 === n && (n = 16384), void 0 === o && (o = !1);
        var s = e.call(this) || this;
        return n > 16384 && (n = 16384), s._properties = [!1, !0, !1, !1, !1], s._maxSize = r, s._batchSize = n, s._buffers = null, s._bufferUpdateIDs = [], s._updateID = 0, s.interactiveChildren = !1, s.blendMode = t.BLEND_MODES.NORMAL, s.autoResize = o, s.roundPixels = !0, s.baseTexture = null, s.setProperties(i), s._tint = 0, s.tintRgb = new Float32Array(4), s.tint = 16777215, s
      }

      return no(r, e), r.prototype.setProperties = function (t) {
        t && (this._properties[0] = "vertices" in t || "scale" in t ? !!t.vertices || !!t.scale : this._properties[0], this._properties[1] = "position" in t ? !!t.position : this._properties[1], this._properties[2] = "rotation" in t ? !!t.rotation : this._properties[2], this._properties[3] = "uvs" in t ? !!t.uvs : this._properties[3], this._properties[4] = "tint" in t || "alpha" in t ? !!t.tint || !!t.alpha : this._properties[4])
      }, r.prototype.updateTransform = function () {
        this.displayObjectUpdateTransform()
      }, Object.defineProperty(r.prototype, "tint", {
        get: function () {
          return this._tint
        }, set: function (t) {
          this._tint = t, kt(t, this.tintRgb)
        }, enumerable: !1, configurable: !0
      }), r.prototype.render = function (t) {
        var e = this;
        this.visible && !(this.worldAlpha <= 0) && this.children.length && this.renderable && (this.baseTexture || (this.baseTexture = this.children[0]._texture.baseTexture, this.baseTexture.valid || this.baseTexture.once("update", function () {
          return e.onChildrenChange(0)
        })), t.batch.setObjectRenderer(t.plugins.particle), t.plugins.particle.render(this))
      }, r.prototype.onChildrenChange = function (t) {
        for (var e = Math.floor(t / this._batchSize); this._bufferUpdateIDs.length < e;) this._bufferUpdateIDs.push(0);
        this._bufferUpdateIDs[e] = ++this._updateID
      }, r.prototype.dispose = function () {
        if (this._buffers) {
          for (var t = 0; t < this._buffers.length; ++t) this._buffers[t].destroy();
          this._buffers = null
        }
      }, r.prototype.destroy = function (t) {
        e.prototype.destroy.call(this, t), this.dispose(), this._properties = null, this._buffers = null, this._bufferUpdateIDs = null
      }, r
    }(Ge), ho = function () {
      function e(e, r, i) {
        this.geometry = new zr, this.indexBuffer = null, this.size = i, this.dynamicProperties = [], this.staticProperties = [];
        for (var n = 0; n < e.length; ++n) {
          var o = e[n];
          o = {
            attributeName: o.attributeName,
            size: o.size,
            uploadFunction: o.uploadFunction,
            type: o.type || t.TYPES.FLOAT,
            offset: o.offset
          }, r[n] ? this.dynamicProperties.push(o) : this.staticProperties.push(o)
        }
        this.staticStride = 0, this.staticBuffer = null, this.staticData = null, this.staticDataUint32 = null, this.dynamicStride = 0, this.dynamicBuffer = null, this.dynamicData = null, this.dynamicDataUint32 = null, this._updateID = 0, this.initBuffers()
      }

      return e.prototype.initBuffers = function () {
        var e = this.geometry, r = 0;
        this.indexBuffer = new kr(Wt(this.size), !0, !0), e.addIndex(this.indexBuffer), this.dynamicStride = 0;
        for (var i = 0; i < this.dynamicProperties.length; ++i) {
          (a = this.dynamicProperties[i]).offset = r, r += a.size, this.dynamicStride += a.size
        }
        var n = new ArrayBuffer(this.size * this.dynamicStride * 4 * 4);
        this.dynamicData = new Float32Array(n), this.dynamicDataUint32 = new Uint32Array(n), this.dynamicBuffer = new kr(this.dynamicData, !1, !1);
        var o = 0;
        this.staticStride = 0;
        for (i = 0; i < this.staticProperties.length; ++i) {
          (a = this.staticProperties[i]).offset = o, o += a.size, this.staticStride += a.size
        }
        var s = new ArrayBuffer(this.size * this.staticStride * 4 * 4);
        this.staticData = new Float32Array(s), this.staticDataUint32 = new Uint32Array(s), this.staticBuffer = new kr(this.staticData, !0, !1);
        for (i = 0; i < this.dynamicProperties.length; ++i) {
          var a = this.dynamicProperties[i];
          e.addAttribute(a.attributeName, this.dynamicBuffer, 0, a.type === t.TYPES.UNSIGNED_BYTE, a.type, 4 * this.dynamicStride, 4 * a.offset)
        }
        for (i = 0; i < this.staticProperties.length; ++i) {
          a = this.staticProperties[i];
          e.addAttribute(a.attributeName, this.staticBuffer, 0, a.type === t.TYPES.UNSIGNED_BYTE, a.type, 4 * this.staticStride, 4 * a.offset)
        }
      }, e.prototype.uploadDynamic = function (e, r, i) {
        for (var n = 0; n < this.dynamicProperties.length; n++) {
          var o = this.dynamicProperties[n];
          o.uploadFunction(e, r, i, o.type === t.TYPES.UNSIGNED_BYTE ? this.dynamicDataUint32 : this.dynamicData, this.dynamicStride, o.offset)
        }
        this.dynamicBuffer._updateID++
      }, e.prototype.uploadStatic = function (e, r, i) {
        for (var n = 0; n < this.staticProperties.length; n++) {
          var o = this.staticProperties[n];
          o.uploadFunction(e, r, i, o.type === t.TYPES.UNSIGNED_BYTE ? this.staticDataUint32 : this.staticData, this.staticStride, o.offset)
        }
        this.staticBuffer._updateID++
      }, e.prototype.destroy = function () {
        this.indexBuffer = null, this.dynamicProperties = null, this.dynamicBuffer = null, this.dynamicData = null, this.dynamicDataUint32 = null, this.staticProperties = null, this.staticBuffer = null, this.staticData = null, this.staticDataUint32 = null, this.geometry.destroy()
      }, e
    }(),
    uo = "varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",
    lo = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n",
    co = function (e) {
      function r(r) {
        var i = e.call(this, r) || this;
        return i.shader = null, i.properties = null, i.tempMatrix = new we, i.properties = [{
          attributeName: "aVertexPosition",
          size: 2,
          uploadFunction: i.uploadVertices,
          offset: 0
        }, {
          attributeName: "aPositionCoord",
          size: 2,
          uploadFunction: i.uploadPosition,
          offset: 0
        }, {
          attributeName: "aRotation",
          size: 1,
          uploadFunction: i.uploadRotation,
          offset: 0
        }, {attributeName: "aTextureCoord", size: 2, uploadFunction: i.uploadUvs, offset: 0}, {
          attributeName: "aColor",
          size: 1,
          type: t.TYPES.UNSIGNED_BYTE,
          uploadFunction: i.uploadTint,
          offset: 0
        }], i.shader = Ri.from(lo, uo, {}), i.state = Li.for2d(), i
      }

      return no(r, e), r.prototype.render = function (t) {
        var e = t.children, r = t._maxSize, i = t._batchSize, n = this.renderer, o = e.length;
        if (0 !== o) {
          o > r && !t.autoResize && (o = r);
          var s = t._buffers;
          s || (s = t._buffers = this.generateBuffers(t));
          var a = e[0]._texture.baseTexture;
          this.state.blendMode = Ht(t.blendMode, a.alphaMode), n.state.set(this.state);
          var h = n.gl, u = t.worldTransform.copyTo(this.tempMatrix);
          u.prepend(n.globalUniforms.uniforms.projectionMatrix), this.shader.uniforms.translationMatrix = u.toArray(!0), this.shader.uniforms.uColor = Yt(t.tintRgb, t.worldAlpha, this.shader.uniforms.uColor, a.alphaMode), this.shader.uniforms.uSampler = a, this.renderer.shader.bind(this.shader);
          for (var l = !1, c = 0, d = 0; c < o; c += i, d += 1) {
            var p = o - c;
            p > i && (p = i), d >= s.length && s.push(this._generateOneMoreBuffer(t));
            var f = s[d];
            f.uploadDynamic(e, c, p);
            var m = t._bufferUpdateIDs[d] || 0;
            (l = l || f._updateID < m) && (f._updateID = t._updateID, f.uploadStatic(e, c, p)), n.geometry.bind(f.geometry), h.drawElements(h.TRIANGLES, 6 * p, h.UNSIGNED_SHORT, 0)
          }
        }
      }, r.prototype.generateBuffers = function (t) {
        for (var e = [], r = t._maxSize, i = t._batchSize, n = t._properties, o = 0; o < r; o += i) e.push(new ho(this.properties, n, i));
        return e
      }, r.prototype._generateOneMoreBuffer = function (t) {
        var e = t._batchSize, r = t._properties;
        return new ho(this.properties, r, e)
      }, r.prototype.uploadVertices = function (t, e, r, i, n, o) {
        for (var s = 0, a = 0, h = 0, u = 0, l = 0; l < r; ++l) {
          var c = t[e + l], d = c._texture, p = c.scale.x, f = c.scale.y, m = d.trim, v = d.orig;
          m ? (s = (a = m.x - c.anchor.x * v.width) + m.width, h = (u = m.y - c.anchor.y * v.height) + m.height) : (s = v.width * (1 - c.anchor.x), a = v.width * -c.anchor.x, h = v.height * (1 - c.anchor.y), u = v.height * -c.anchor.y), i[o] = a * p, i[o + 1] = u * f, i[o + n] = s * p, i[o + n + 1] = u * f, i[o + 2 * n] = s * p, i[o + 2 * n + 1] = h * f, i[o + 3 * n] = a * p, i[o + 3 * n + 1] = h * f, o += 4 * n
        }
      }, r.prototype.uploadPosition = function (t, e, r, i, n, o) {
        for (var s = 0; s < r; s++) {
          var a = t[e + s].position;
          i[o] = a.x, i[o + 1] = a.y, i[o + n] = a.x, i[o + n + 1] = a.y, i[o + 2 * n] = a.x, i[o + 2 * n + 1] = a.y, i[o + 3 * n] = a.x, i[o + 3 * n + 1] = a.y, o += 4 * n
        }
      }, r.prototype.uploadRotation = function (t, e, r, i, n, o) {
        for (var s = 0; s < r; s++) {
          var a = t[e + s].rotation;
          i[o] = a, i[o + n] = a, i[o + 2 * n] = a, i[o + 3 * n] = a, o += 4 * n
        }
      }, r.prototype.uploadUvs = function (t, e, r, i, n, o) {
        for (var s = 0; s < r; ++s) {
          var a = t[e + s]._texture._uvs;
          a ? (i[o] = a.x0, i[o + 1] = a.y0, i[o + n] = a.x1, i[o + n + 1] = a.y1, i[o + 2 * n] = a.x2, i[o + 2 * n + 1] = a.y2, i[o + 3 * n] = a.x3, i[o + 3 * n + 1] = a.y3, o += 4 * n) : (i[o] = 0, i[o + 1] = 0, i[o + n] = 0, i[o + n + 1] = 0, i[o + 2 * n] = 0, i[o + 2 * n + 1] = 0, i[o + 3 * n] = 0, i[o + 3 * n + 1] = 0, o += 4 * n)
        }
      }, r.prototype.uploadTint = function (t, e, r, i, n, o) {
        for (var s = 0; s < r; ++s) {
          var a = t[e + s], h = a._texture.baseTexture.alphaMode > 0, u = a.alpha,
            l = u < 1 && h ? zt(a._tintRGB, u) : a._tintRGB + (255 * u << 24);
          i[o] = l, i[o + n] = l, i[o + 2 * n] = l, i[o + 3 * n] = l, o += 4 * n
        }
      }, r.prototype.destroy = function () {
        e.prototype.destroy.call(this), this.shader && (this.shader.destroy(), this.shader = null), this.tempMatrix = null
      }, r
    }(Qr);
  (oo = t.LINE_JOIN || (t.LINE_JOIN = {})).MITER = "miter", oo.BEVEL = "bevel", oo.ROUND = "round", (so = t.LINE_CAP || (t.LINE_CAP = {})).BUTT = "butt", so.ROUND = "round", so.SQUARE = "square";
  var po = {
    adaptive: !0,
    maxLength: 10,
    minSegments: 8,
    maxSegments: 2048,
    epsilon: 1e-4,
    _segmentsCount: function (t, e) {
      if (void 0 === e && (e = 20), !this.adaptive || !t || isNaN(t)) return e;
      var r = Math.ceil(t / this.maxLength);
      return r < this.minSegments ? r = this.minSegments : r > this.maxSegments && (r = this.maxSegments), r
    }
  }, fo = function () {
    function t() {
      this.color = 16777215, this.alpha = 1, this.texture = Rr.WHITE, this.matrix = null, this.visible = !1, this.reset()
    }

    return t.prototype.clone = function () {
      var e = new t;
      return e.color = this.color, e.alpha = this.alpha, e.texture = this.texture, e.matrix = this.matrix, e.visible = this.visible, e
    }, t.prototype.reset = function () {
      this.color = 16777215, this.alpha = 1, this.texture = Rr.WHITE, this.matrix = null, this.visible = !1
    }, t.prototype.destroy = function () {
      this.texture = null, this.matrix = null
    }, t
  }(), mo = function (t, e) {
    return (mo = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, e) {
      t.__proto__ = e
    } || function (t, e) {
      for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r])
    })(t, e)
  };

  function vo(t, e) {
    function r() {
      this.constructor = t
    }

    mo(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r)
  }

  var yo = {
    build: function (t) {
      t.points = t.shape.points.slice()
    }, triangulate: function (t, e) {
      var r = t.points, i = t.holes, n = e.points, o = e.indices;
      if (r.length >= 6) {
        for (var s = [], a = 0; a < i.length; a++) {
          var h = i[a];
          s.push(r.length / 2), r = r.concat(h.points)
        }
        var u = R(r, s, 2);
        if (!u) return;
        var l = n.length / 2;
        for (a = 0; a < u.length; a += 3) o.push(u[a] + l), o.push(u[a + 1] + l), o.push(u[a + 2] + l);
        for (a = 0; a < r.length; a++) n.push(r[a])
      }
    }
  }, go = {
    build: function (e) {
      var r, i, n = e.shape, o = e.points, s = n.x, a = n.y;
      if (o.length = 0, e.type === t.SHAPES.CIRC) r = n.radius, i = n.radius; else {
        var h = e.shape;
        r = h.width, i = h.height
      }
      if (0 !== r && 0 !== i) {
        var u = Math.floor(30 * Math.sqrt(n.radius)) || Math.floor(15 * Math.sqrt(r + i));
        u /= 2.3;
        for (var l = 2 * Math.PI / u, c = 0; c < u - .5; c++) o.push(s + Math.sin(-l * c) * r, a + Math.cos(-l * c) * i);
        o.push(o[0], o[1])
      }
    }, triangulate: function (t, e) {
      var r = t.points, i = e.points, n = e.indices, o = i.length / 2, s = o, a = t.shape, h = t.matrix, u = a.x,
        l = a.y;
      i.push(t.matrix ? h.a * u + h.c * l + h.tx : u, t.matrix ? h.b * u + h.d * l + h.ty : l);
      for (var c = 0; c < r.length; c += 2) i.push(r[c], r[c + 1]), n.push(o++, s, o)
    }
  }, _o = {
    build: function (t) {
      var e = t.shape, r = e.x, i = e.y, n = e.width, o = e.height, s = t.points;
      s.length = 0, s.push(r, i, r + n, i, r + n, i + o, r, i + o)
    }, triangulate: function (t, e) {
      var r = t.points, i = e.points, n = i.length / 2;
      i.push(r[0], r[1], r[2], r[3], r[6], r[7], r[4], r[5]), e.indices.push(n, n + 1, n + 2, n + 1, n + 2, n + 3)
    }
  };

  function xo(t, e, r) {
    return t + (e - t) * r
  }

  function bo(t, e, r, i, n, o, s) {
    void 0 === s && (s = []);
    for (var a = s, h = 0, u = 0, l = 0, c = 0, d = 0, p = 0, f = 0, m = 0; f <= 20; ++f) h = xo(t, r, m = f / 20), u = xo(e, i, m), l = xo(r, n, m), c = xo(i, o, m), d = xo(h, l, m), p = xo(u, c, m), a.push(d, p);
    return a
  }

  var Eo = {
    build: function (t) {
      var e = t.shape, r = t.points, i = e.x, n = e.y, o = e.width, s = e.height,
        a = Math.max(0, Math.min(e.radius, Math.min(o, s) / 2));
      r.length = 0, a ? (bo(i, n + a, i, n, i + a, n, r), bo(i + o - a, n, i + o, n, i + o, n + a, r), bo(i + o, n + s - a, i + o, n + s, i + o - a, n + s, r), bo(i + a, n + s, i, n + s, i, n + s - a, r)) : r.push(i, n, i + o, n, i + o, n + s, i, n + s)
    }, triangulate: function (t, e) {
      for (var r = t.points, i = e.points, n = e.indices, o = i.length / 2, s = R(r, null, 2), a = 0, h = s.length; a < h; a += 3) n.push(s[a] + o), n.push(s[a + 1] + o), n.push(s[a + 2] + o);
      for (a = 0, h = r.length; a < h; a++) i.push(r[a], r[++a])
    }
  };

  function To(t, e, r, i, n, o, s, a) {
    var h, u;
    s ? (h = i, u = -r) : (h = -i, u = r);
    var l = t - r * n + h, c = e - i * n + u, d = t + r * o + h, p = e + i * o + u;
    return a.push(l, c), a.push(d, p), 2
  }

  function Po(t, e, r, i, n, o, s, a) {
    var h = r - t, u = i - e, l = Math.atan2(h, u), c = Math.atan2(n - t, o - e);
    a && l < c ? l += 2 * Math.PI : !a && l > c && (c += 2 * Math.PI);
    var d = l, p = c - l, f = Math.abs(p), m = Math.sqrt(h * h + u * u), v = 1 + (15 * f * Math.sqrt(m) / Math.PI >> 0),
      y = p / v;
    if (d += y, a) {
      s.push(t, e), s.push(r, i);
      for (var g = 1, _ = d; g < v; g++, _ += y) s.push(t, e), s.push(t + Math.sin(_) * m, e + Math.cos(_) * m);
      s.push(t, e), s.push(n, o)
    } else {
      s.push(r, i), s.push(t, e);
      for (g = 1, _ = d; g < v; g++, _ += y) s.push(t + Math.sin(_) * m, e + Math.cos(_) * m), s.push(t, e);
      s.push(n, o), s.push(t, e)
    }
    return 2 * v
  }

  function So(e, r) {
    e.lineStyle.native ? function (e, r) {
      var i = 0, n = e.shape, o = e.points || n.points, s = n.type !== t.SHAPES.POLY || n.closeStroke;
      if (0 !== o.length) {
        var a = r.points, h = r.indices, u = o.length / 2, l = a.length / 2, c = l;
        for (a.push(o[0], o[1]), i = 1; i < u; i++) a.push(o[2 * i], o[2 * i + 1]), h.push(c, c + 1), c++;
        s && h.push(c, l)
      }
    }(e, r) : function (e, r) {
      var i = e.shape, n = e.points || i.points.slice(), o = r.closePointEps;
      if (0 !== n.length) {
        var s = e.lineStyle, a = new Pe(n[0], n[1]), h = new Pe(n[n.length - 2], n[n.length - 1]),
          u = i.type !== t.SHAPES.POLY || i.closeStroke, l = Math.abs(a.x - h.x) < o && Math.abs(a.y - h.y) < o;
        if (u) {
          n = n.slice(), l && (n.pop(), n.pop(), h.set(n[n.length - 2], n[n.length - 1]));
          var c = .5 * (a.x + h.x), d = .5 * (h.y + a.y);
          n.unshift(c, d), n.push(c, d)
        }
        var p = r.points, f = n.length / 2, m = n.length, v = p.length / 2, y = s.width / 2, g = y * y,
          _ = s.miterLimit * s.miterLimit, x = n[0], b = n[1], E = n[2], T = n[3], P = 0, S = 0, w = -(b - T),
          I = x - E, A = 0, O = 0, M = Math.sqrt(w * w + I * I);
        w /= M, I /= M, w *= y, I *= y;
        var C = s.alignment, D = 2 * (1 - C), R = 2 * C;
        u || (s.cap === t.LINE_CAP.ROUND ? m += Po(x - w * (D - R) * .5, b - I * (D - R) * .5, x - w * D, b - I * D, x + w * R, b + I * R, p, !0) + 2 : s.cap === t.LINE_CAP.SQUARE && (m += To(x, b, w, I, D, R, !0, p))), p.push(x - w * D, b - I * D), p.push(x + w * R, b + I * R);
        for (var L = 1; L < f - 1; ++L) {
          x = n[2 * (L - 1)], b = n[2 * (L - 1) + 1], E = n[2 * L], T = n[2 * L + 1], P = n[2 * (L + 1)], S = n[2 * (L + 1) + 1], w = -(b - T), I = x - E, w /= M = Math.sqrt(w * w + I * I), I /= M, w *= y, I *= y, A = -(T - S), O = E - P, A /= M = Math.sqrt(A * A + O * O), O /= M, A *= y, O *= y;
          var N = E - x, F = b - T, B = E - P, U = S - T, k = F * B - U * N, X = k < 0;
          if (Math.abs(k) < .1) p.push(E - w * D, T - I * D), p.push(E + w * R, T + I * R); else {
            var j = (-w + x) * (-I + T) - (-w + E) * (-I + b), G = (-A + P) * (-O + T) - (-A + E) * (-O + S),
              H = (N * G - B * j) / k, Y = (U * j - F * G) / k, z = (H - E) * (H - E) + (Y - T) * (Y - T),
              V = E + (H - E) * D, W = T + (Y - T) * D, q = E - (H - E) * R, K = T - (Y - T) * R;
            s.join === t.LINE_JOIN.BEVEL || z / g > _ ? (X ? (p.push(V, W), p.push(E + w * R, T + I * R), p.push(V, W), p.push(E + A * R, T + O * R)) : (p.push(E - w * D, T - I * D), p.push(q, K), p.push(E - A * D, T - O * D), p.push(q, K)), m += 2) : s.join === t.LINE_JOIN.ROUND ? X ? (p.push(V, W), p.push(E + w * R, T + I * R), m += Po(E, T, E + w * R, T + I * R, E + A * R, T + O * R, p, !0) + 4, p.push(V, W), p.push(E + A * R, T + O * R)) : (p.push(E - w * D, T - I * D), p.push(q, K), m += Po(E, T, E - w * D, T - I * D, E - A * D, T - O * D, p, !1) + 4, p.push(E - A * D, T - O * D), p.push(q, K)) : (p.push(V, W), p.push(q, K))
          }
        }
        x = n[2 * (f - 2)], b = n[2 * (f - 2) + 1], E = n[2 * (f - 1)], w = -(b - (T = n[2 * (f - 1) + 1])), I = x - E, w /= M = Math.sqrt(w * w + I * I), I /= M, w *= y, I *= y, p.push(E - w * D, T - I * D), p.push(E + w * R, T + I * R), u || (s.cap === t.LINE_CAP.ROUND ? m += Po(E - w * (D - R) * .5, T - I * (D - R) * .5, E - w * D, T - I * D, E + w * R, T + I * R, p, !1) + 2 : s.cap === t.LINE_CAP.SQUARE && (m += To(E, T, w, I, D, R, !1, p)));
        var Z = r.indices, J = po.epsilon * po.epsilon;
        for (L = v; L < m + v - 2; ++L) x = p[2 * L], b = p[2 * L + 1], E = p[2 * (L + 1)], T = p[2 * (L + 1) + 1], P = p[2 * (L + 2)], S = p[2 * (L + 2) + 1], Math.abs(x * (T - S) + E * (S - b) + P * (b - T)) < J || Z.push(L, L + 1, L + 2)
      }
    }(e, r)
  }

  var wo, Io = function (t) {
      function e(e, r, i, n, o, s) {
        void 0 === s && (s = 0);
        o = o || n / 2;
        for (var a = -1 * Math.PI / 2 + s, h = 2 * i, u = ve / h, l = [], c = 0; c < h; c++) {
          var d = c % 2 ? o : n, p = c * u + a;
          l.push(e + d * Math.cos(p), r + d * Math.sin(p))
        }
        return t.call(this, l) || this
      }

      return vo(e, t), e
    }(Ee), Ao = function () {
      function t() {
      }

      return t.curveTo = function (t, e, r, i, n, o) {
        var s = o[o.length - 2], a = o[o.length - 1] - e, h = s - t, u = i - e, l = r - t, c = Math.abs(a * l - h * u);
        if (c < 1e-8 || 0 === n) return o[o.length - 2] === t && o[o.length - 1] === e || o.push(t, e), null;
        var d = a * a + h * h, p = u * u + l * l, f = a * u + h * l, m = n * Math.sqrt(d) / c, v = n * Math.sqrt(p) / c,
          y = m * f / d, g = v * f / p, _ = m * l + v * h, x = m * u + v * a, b = h * (v + y), E = a * (v + y),
          T = l * (m + g), P = u * (m + g);
        return {
          cx: _ + t,
          cy: x + e,
          radius: n,
          startAngle: Math.atan2(E - x, b - _),
          endAngle: Math.atan2(P - x, T - _),
          anticlockwise: h * u > l * a
        }
      }, t.arc = function (t, e, r, i, n, o, s, a, h) {
        for (var u = s - o, l = po._segmentsCount(Math.abs(u) * n, 40 * Math.ceil(Math.abs(u) / ve)), c = u / (2 * l), d = 2 * c, p = Math.cos(c), f = Math.sin(c), m = l - 1, v = m % 1 / m, y = 0; y <= m; ++y) {
          var g = c + o + d * (y + v * y), _ = Math.cos(g), x = -Math.sin(g);
          h.push((p * _ + f * x) * n + r, (p * -x + f * _) * n + i)
        }
      }, t
    }(), Oo = function () {
      function t() {
      }

      return t.curveLength = function (t, e, r, i, n, o, s, a) {
        for (var h = 0, u = 0, l = 0, c = 0, d = 0, p = 0, f = 0, m = 0, v = 0, y = 0, g = 0, _ = t, x = e, b = 1; b <= 10; ++b) y = _ - (m = (f = (p = (d = 1 - (u = b / 10)) * d) * d) * t + 3 * p * u * r + 3 * d * (l = u * u) * n + (c = l * u) * s), g = x - (v = f * e + 3 * p * u * i + 3 * d * l * o + c * a), _ = m, x = v, h += Math.sqrt(y * y + g * g);
        return h
      }, t.curveTo = function (e, r, i, n, o, s, a) {
        var h = a[a.length - 2], u = a[a.length - 1];
        a.length -= 2;
        var l = po._segmentsCount(t.curveLength(h, u, e, r, i, n, o, s)), c = 0, d = 0, p = 0, f = 0, m = 0;
        a.push(h, u);
        for (var v = 1, y = 0; v <= l; ++v) p = (d = (c = 1 - (y = v / l)) * c) * c, m = (f = y * y) * y, a.push(p * h + 3 * d * y * e + 3 * c * f * i + m * o, p * u + 3 * d * y * r + 3 * c * f * n + m * s)
      }, t
    }(), Mo = function () {
      function t() {
      }

      return t.curveLength = function (t, e, r, i, n, o) {
        var s = t - 2 * r + n, a = e - 2 * i + o, h = 2 * r - 2 * t, u = 2 * i - 2 * e, l = 4 * (s * s + a * a),
          c = 4 * (s * h + a * u), d = h * h + u * u, p = 2 * Math.sqrt(l + c + d), f = Math.sqrt(l), m = 2 * l * f,
          v = 2 * Math.sqrt(d), y = c / f;
        return (m * p + f * c * (p - v) + (4 * d * l - c * c) * Math.log((2 * f + y + p) / (y + v))) / (4 * m)
      }, t.curveTo = function (e, r, i, n, o) {
        for (var s = o[o.length - 2], a = o[o.length - 1], h = po._segmentsCount(t.curveLength(s, a, e, r, i, n)), u = 0, l = 0, c = 1; c <= h; ++c) {
          var d = c / h;
          u = s + (e - s) * d, l = a + (r - a) * d, o.push(u + (e + (i - e) * d - u) * d, l + (r + (n - r) * d - l) * d)
        }
      }, t
    }(), Co = function () {
      function t() {
        this.reset()
      }

      return t.prototype.begin = function (t, e, r) {
        this.reset(), this.style = t, this.start = e, this.attribStart = r
      }, t.prototype.end = function (t, e) {
        this.attribSize = e - this.attribStart, this.size = t - this.start
      }, t.prototype.reset = function () {
        this.style = null, this.size = 0, this.start = 0, this.attribStart = 0, this.attribSize = 0
      }, t
    }(),
    Do = ((wo = {})[t.SHAPES.POLY] = yo, wo[t.SHAPES.CIRC] = go, wo[t.SHAPES.ELIP] = go, wo[t.SHAPES.RECT] = _o, wo[t.SHAPES.RREC] = Eo, wo),
    Ro = [], Lo = [], No = {
      buildPoly: yo,
      buildCircle: go,
      buildRectangle: _o,
      buildRoundedRectangle: Eo,
      FILL_COMMANDS: Do,
      BATCH_POOL: Ro,
      DRAW_CALL_POOL: Lo,
      buildLine: So,
      Star: Io,
      ArcUtils: Ao,
      BezierUtils: Oo,
      QuadraticUtils: Mo,
      BatchPart: Co
    }, Fo = function () {
      function t(t, e, r, i) {
        void 0 === e && (e = null), void 0 === r && (r = null), void 0 === i && (i = null), this.shape = t, this.lineStyle = r, this.fillStyle = e, this.matrix = i, this.type = t.type, this.points = [], this.holes = []
      }

      return t.prototype.clone = function () {
        return new t(this.shape, this.fillStyle, this.lineStyle, this.matrix)
      }, t.prototype.destroy = function () {
        this.shape = null, this.holes.length = 0, this.holes = null, this.points.length = 0, this.points = null, this.lineStyle = null, this.fillStyle = null
      }, t
    }(), Bo = new Pe, Uo = new Fe, ko = function (e) {
      function r() {
        var t = e.call(this) || this;
        return t.uvsFloat32 = null, t.indicesUint16 = null, t.points = [], t.colors = [], t.uvs = [], t.indices = [], t.textureIds = [], t.graphicsData = [], t.dirty = 0, t.batchDirty = -1, t.cacheDirty = -1, t.clearDirty = 0, t.drawCalls = [], t.batches = [], t.shapeIndex = 0, t._bounds = new Fe, t.boundsDirty = -1, t.boundsPadding = 0, t.batchable = !1, t.indicesUint16 = null, t.uvsFloat32 = null, t.closePointEps = 1e-4, t
      }

      return vo(r, e), Object.defineProperty(r.prototype, "bounds", {
        get: function () {
          return this.boundsDirty !== this.dirty && (this.boundsDirty = this.dirty, this.calculateBounds()), this._bounds
        }, enumerable: !1, configurable: !0
      }), r.prototype.invalidate = function () {
        this.boundsDirty = -1, this.dirty++, this.batchDirty++, this.shapeIndex = 0, this.points.length = 0, this.colors.length = 0, this.uvs.length = 0, this.indices.length = 0, this.textureIds.length = 0;
        for (var t = 0; t < this.drawCalls.length; t++) this.drawCalls[t].texArray.clear(), Lo.push(this.drawCalls[t]);
        this.drawCalls.length = 0;
        for (t = 0; t < this.batches.length; t++) {
          var e = this.batches[t];
          e.reset(), Ro.push(e)
        }
        this.batches.length = 0
      }, r.prototype.clear = function () {
        return this.graphicsData.length > 0 && (this.invalidate(), this.clearDirty++, this.graphicsData.length = 0), this
      }, r.prototype.drawShape = function (t, e, r, i) {
        void 0 === e && (e = null), void 0 === r && (r = null), void 0 === i && (i = null);
        var n = new Fo(t, e, r, i);
        return this.graphicsData.push(n), this.dirty++, this
      }, r.prototype.drawHole = function (t, e) {
        if (void 0 === e && (e = null), !this.graphicsData.length) return null;
        var r = new Fo(t, null, null, e), i = this.graphicsData[this.graphicsData.length - 1];
        return r.lineStyle = i.lineStyle, i.holes.push(r), this.dirty++, this
      }, r.prototype.destroy = function () {
        e.prototype.destroy.call(this);
        for (var t = 0; t < this.graphicsData.length; ++t) this.graphicsData[t].destroy();
        this.points.length = 0, this.points = null, this.colors.length = 0, this.colors = null, this.uvs.length = 0, this.uvs = null, this.indices.length = 0, this.indices = null, this.indexBuffer.destroy(), this.indexBuffer = null, this.graphicsData.length = 0, this.graphicsData = null, this.drawCalls.length = 0, this.drawCalls = null, this.batches.length = 0, this.batches = null, this._bounds = null
      }, r.prototype.containsPoint = function (t) {
        for (var e = this.graphicsData, r = 0; r < e.length; ++r) {
          var i = e[r];
          if (i.fillStyle.visible && (i.shape && (i.matrix ? i.matrix.applyInverse(t, Bo) : Bo.copyFrom(t), i.shape.contains(Bo.x, Bo.y)))) {
            var n = !1;
            if (i.holes) for (var o = 0; o < i.holes.length; o++) {
              if (i.holes[o].shape.contains(Bo.x, Bo.y)) {
                n = !0;
                break
              }
            }
            if (!n) return !0
          }
        }
        return !1
      }, r.prototype.updateBatches = function (e) {
        if (this.graphicsData.length) {
          if (this.validateBatching()) {
            this.cacheDirty = this.dirty;
            var r = this.uvs, i = this.graphicsData, n = null, o = null;
            this.batches.length > 0 && (o = (n = this.batches[this.batches.length - 1]).style);
            for (var s = this.shapeIndex; s < i.length; s++) {
              this.shapeIndex++;
              var a = i[s], h = a.fillStyle, u = a.lineStyle;
              Do[a.type].build(a), a.matrix && this.transformPoints(a.points, a.matrix);
              for (var l = 0; l < 2; l++) {
                var c = 0 === l ? h : u;
                if (c.visible) {
                  var d = c.texture.baseTexture, p = this.indices.length, f = this.points.length / 2;
                  d.wrapMode = t.WRAP_MODES.REPEAT, 0 === l ? this.processFill(a) : this.processLine(a);
                  var m = this.points.length / 2 - f;
                  0 !== m && (n && !this._compareStyles(o, c) && (n.end(p, f), n = null), n || ((n = Ro.pop() || new Co).begin(c, p, f), this.batches.push(n), o = c), this.addUvs(this.points, r, c.texture, f, m, c.matrix))
                }
              }
            }
            var v = this.indices.length, y = this.points.length / 2;
            if (n && n.end(v, y), 0 !== this.batches.length) {
              if (this.indicesUint16 && this.indices.length === this.indicesUint16.length) this.indicesUint16.set(this.indices); else {
                var g = y > 65535 && e;
                this.indicesUint16 = g ? new Uint32Array(this.indices) : new Uint16Array(this.indices)
              }
              this.batchable = this.isBatchable(), this.batchable ? this.packBatches() : this.buildDrawCalls()
            } else this.batchable = !0
          }
        } else this.batchable = !0
      }, r.prototype._compareStyles = function (t, e) {
        return !(!t || !e) && (t.texture.baseTexture === e.texture.baseTexture && (t.color + t.alpha === e.color + e.alpha && !!t.native == !!e.native))
      }, r.prototype.validateBatching = function () {
        if (this.dirty === this.cacheDirty || !this.graphicsData.length) return !1;
        for (var t = 0, e = this.graphicsData.length; t < e; t++) {
          var r = this.graphicsData[t], i = r.fillStyle, n = r.lineStyle;
          if (i && !i.texture.baseTexture.valid) return !1;
          if (n && !n.texture.baseTexture.valid) return !1
        }
        return !0
      }, r.prototype.packBatches = function () {
        this.batchDirty++, this.uvsFloat32 = new Float32Array(this.uvs);
        for (var t = this.batches, e = 0, r = t.length; e < r; e++) for (var i = t[e], n = 0; n < i.size; n++) {
          var o = i.start + n;
          this.indicesUint16[o] = this.indicesUint16[o] - i.attribStart
        }
      }, r.prototype.isBatchable = function () {
        if (this.points.length > 131070) return !1;
        for (var t = this.batches, e = 0; e < t.length; e++) if (t[e].style.native) return !1;
        return this.points.length < 2 * r.BATCHABLE_SIZE
      }, r.prototype.buildDrawCalls = function () {
        for (var e = ++vr._globalBatch, r = 0; r < this.drawCalls.length; r++) this.drawCalls[r].texArray.clear(), Lo.push(this.drawCalls[r]);
        this.drawCalls.length = 0;
        var i = this.colors, n = this.textureIds, o = Lo.pop();
        o || ((o = new gn).texArray = new _n), o.texArray.count = 0, o.start = 0, o.size = 0, o.type = t.DRAW_MODES.TRIANGLES;
        var s = 0, a = null, h = 0, u = !1, l = t.DRAW_MODES.TRIANGLES, c = 0;
        this.drawCalls.push(o);
        for (r = 0; r < this.batches.length; r++) {
          var d = this.batches[r], p = d.style, f = p.texture.baseTexture;
          u !== !!p.native && (l = (u = !!p.native) ? t.DRAW_MODES.LINES : t.DRAW_MODES.TRIANGLES, a = null, s = 8, e++), a !== f && (a = f, f._batchEnabled !== e && (8 === s && (e++, s = 0, o.size > 0 && ((o = Lo.pop()) || ((o = new gn).texArray = new _n), this.drawCalls.push(o)), o.start = c, o.size = 0, o.texArray.count = 0, o.type = l), f.touched = 1, f._batchEnabled = e, f._batchLocation = s, f.wrapMode = 10497, o.texArray.elements[o.texArray.count++] = f, s++)), o.size += d.size, c += d.size, h = f._batchLocation, this.addColors(i, p.color, p.alpha, d.attribSize), this.addTextureIds(n, h, d.attribSize)
        }
        vr._globalBatch = e, this.packAttributes()
      }, r.prototype.packAttributes = function () {
        for (var t = this.points, e = this.uvs, r = this.colors, i = this.textureIds, n = new ArrayBuffer(3 * t.length * 4), o = new Float32Array(n), s = new Uint32Array(n), a = 0, h = 0; h < t.length / 2; h++) o[a++] = t[2 * h], o[a++] = t[2 * h + 1], o[a++] = e[2 * h], o[a++] = e[2 * h + 1], s[a++] = r[h], o[a++] = i[h];
        this._buffer.update(n), this._indexBuffer.update(this.indicesUint16)
      }, r.prototype.processFill = function (t) {
        t.holes.length ? (this.processHoles(t.holes), yo.triangulate(t, this)) : Do[t.type].triangulate(t, this)
      }, r.prototype.processLine = function (t) {
        So(t, this);
        for (var e = 0; e < t.holes.length; e++) So(t.holes[e], this)
      }, r.prototype.processHoles = function (t) {
        for (var e = 0; e < t.length; e++) {
          var r = t[e];
          Do[r.type].build(r), r.matrix && this.transformPoints(r.points, r.matrix)
        }
      }, r.prototype.calculateBounds = function () {
        var e = this._bounds, r = Uo, i = we.IDENTITY;
        this._bounds.clear(), r.clear();
        for (var n = 0; n < this.graphicsData.length; n++) {
          var o = this.graphicsData[n], s = o.shape, a = o.type, h = o.lineStyle, u = o.matrix || we.IDENTITY, l = 0;
          if (h && h.visible) {
            var c = h.alignment;
            l = h.width, a === t.SHAPES.POLY ? l *= .5 + Math.abs(.5 - c) : l *= Math.max(0, c)
          }
          if (i !== u && (r.isEmpty() || (e.addBoundsMatrix(r, i), r.clear()), i = u), a === t.SHAPES.RECT || a === t.SHAPES.RREC) {
            var d = s;
            r.addFramePad(d.x, d.y, d.x + d.width, d.y + d.height, l, l)
          } else if (a === t.SHAPES.CIRC) {
            var p = s;
            r.addFramePad(p.x, p.y, p.x, p.y, p.radius + l, p.radius + l)
          } else if (a === t.SHAPES.ELIP) {
            var f = s;
            r.addFramePad(f.x, f.y, f.x, f.y, f.width + l, f.height + l)
          } else {
            var m = s;
            e.addVerticesMatrix(i, m.points, 0, m.points.length, l, l)
          }
        }
        r.isEmpty() || e.addBoundsMatrix(r, i), e.pad(this.boundsPadding, this.boundsPadding)
      }, r.prototype.transformPoints = function (t, e) {
        for (var r = 0; r < t.length / 2; r++) {
          var i = t[2 * r], n = t[2 * r + 1];
          t[2 * r] = e.a * i + e.c * n + e.tx, t[2 * r + 1] = e.b * i + e.d * n + e.ty
        }
      }, r.prototype.addColors = function (t, e, r, i) {
        for (var n = zt((e >> 16) + (65280 & e) + ((255 & e) << 16), r); i-- > 0;) t.push(n)
      }, r.prototype.addTextureIds = function (t, e, r) {
        for (; r-- > 0;) t.push(e)
      }, r.prototype.addUvs = function (t, e, r, i, n, o) {
        void 0 === o && (o = null);
        for (var s = 0, a = e.length, h = r.frame; s < n;) {
          var u = t[2 * (i + s)], l = t[2 * (i + s) + 1];
          if (o) {
            var c = o.a * u + o.c * l + o.tx;
            l = o.b * u + o.d * l + o.ty, u = c
          }
          s++, e.push(u / h.width, l / h.height)
        }
        var d = r.baseTexture;
        (h.width < d.width || h.height < d.height) && this.adjustUvs(e, r, a, n)
      }, r.prototype.adjustUvs = function (t, e, r, i) {
        for (var n = e.baseTexture, o = r + 2 * i, s = e.frame, a = s.width / n.width, h = s.height / n.height, u = s.x / s.width, l = s.y / s.height, c = Math.floor(t[r] + 1e-6), d = Math.floor(t[r + 1] + 1e-6), p = r + 2; p < o; p += 2) c = Math.min(c, Math.floor(t[p] + 1e-6)), d = Math.min(d, Math.floor(t[p + 1] + 1e-6));
        u -= c, l -= d;
        for (p = r; p < o; p += 2) t[p] = (t[p] + u) * a, t[p + 1] = (t[p + 1] + l) * h
      }, r.BATCHABLE_SIZE = 100, r
    }(Tn), Xo = function (e) {
      function r() {
        var r = null !== e && e.apply(this, arguments) || this;
        return r.width = 0, r.alignment = .5, r.native = !1, r.cap = t.LINE_CAP.BUTT, r.join = t.LINE_JOIN.MITER, r.miterLimit = 10, r
      }

      return vo(r, e), r.prototype.clone = function () {
        var t = new r;
        return t.color = this.color, t.alpha = this.alpha, t.texture = this.texture, t.matrix = this.matrix, t.visible = this.visible, t.width = this.width, t.alignment = this.alignment, t.native = this.native, t.cap = this.cap, t.join = this.join, t.miterLimit = this.miterLimit, t
      }, r.prototype.reset = function () {
        e.prototype.reset.call(this), this.color = 0, this.alignment = .5, this.width = 0, this.native = !1
      }, r
    }(fo), jo = new Float32Array(3), Go = {}, Ho = function (e) {
      function r(r) {
        void 0 === r && (r = null);
        var i = e.call(this) || this;
        return i._geometry = r || new ko, i._geometry.refCount++, i.shader = null, i.state = Li.for2d(), i._fillStyle = new fo, i._lineStyle = new Xo, i._matrix = null, i._holeMode = !1, i.currentPath = null, i.batches = [], i.batchTint = -1, i.batchDirty = -1, i.vertexData = null, i.pluginName = "batch", i._transformID = -1, i.tint = 16777215, i.blendMode = t.BLEND_MODES.NORMAL, i
      }

      return vo(r, e), Object.defineProperty(r.prototype, "geometry", {
        get: function () {
          return this._geometry
        }, enumerable: !1, configurable: !0
      }), r.prototype.clone = function () {
        return this.finishPoly(), new r(this._geometry)
      }, Object.defineProperty(r.prototype, "blendMode", {
        get: function () {
          return this.state.blendMode
        }, set: function (t) {
          this.state.blendMode = t
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(r.prototype, "tint", {
        get: function () {
          return this._tint
        }, set: function (t) {
          this._tint = t
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(r.prototype, "fill", {
        get: function () {
          return this._fillStyle
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(r.prototype, "line", {
        get: function () {
          return this._lineStyle
        }, enumerable: !1, configurable: !0
      }), r.prototype.lineStyle = function (t) {
        if (void 0 === t && (t = null), "number" == typeof t) {
          var e = arguments;
          t = {
            width: e[0] || 0,
            color: e[1] || 0,
            alpha: void 0 !== e[2] ? e[2] : 1,
            alignment: void 0 !== e[3] ? e[3] : .5,
            native: !!e[4]
          }
        }
        return this.lineTextureStyle(t)
      }, r.prototype.lineTextureStyle = function (e) {
        if ("number" == typeof e) {
          ne("v5.2.0", "Please use object-based options for Graphics#lineTextureStyle");
          var r = arguments, i = r[0], n = r[1], o = r[2], s = r[3], a = r[4], h = r[5], u = r[6];
          e = {
            width: i,
            texture: n,
            color: o,
            alpha: s,
            matrix: a,
            alignment: h,
            native: u
          }, Object.keys(e).forEach(function (t) {
            return void 0 === e[t] && delete e[t]
          })
        }
        e = Object.assign({
          width: 0,
          texture: Rr.WHITE,
          color: e && e.texture ? 16777215 : 0,
          alpha: 1,
          matrix: null,
          alignment: .5,
          native: !1,
          cap: t.LINE_CAP.BUTT,
          join: t.LINE_JOIN.MITER,
          miterLimit: 10
        }, e), this.currentPath && this.startPoly();
        var l = e.width > 0 && e.alpha > 0;
        return l ? (e.matrix && (e.matrix = e.matrix.clone(), e.matrix.invert()), Object.assign(this._lineStyle, {visible: l}, e)) : this._lineStyle.reset(), this
      }, r.prototype.startPoly = function () {
        if (this.currentPath) {
          var t = this.currentPath.points, e = this.currentPath.points.length;
          e > 2 && (this.drawShape(this.currentPath), this.currentPath = new Ee, this.currentPath.closeStroke = !1, this.currentPath.points.push(t[e - 2], t[e - 1]))
        } else this.currentPath = new Ee, this.currentPath.closeStroke = !1
      }, r.prototype.finishPoly = function () {
        this.currentPath && (this.currentPath.points.length > 2 ? (this.drawShape(this.currentPath), this.currentPath = null) : this.currentPath.points.length = 0)
      }, r.prototype.moveTo = function (t, e) {
        return this.startPoly(), this.currentPath.points[0] = t, this.currentPath.points[1] = e, this
      }, r.prototype.lineTo = function (t, e) {
        this.currentPath || this.moveTo(0, 0);
        var r = this.currentPath.points, i = r[r.length - 2], n = r[r.length - 1];
        return i === t && n === e || r.push(t, e), this
      }, r.prototype._initCurve = function (t, e) {
        void 0 === t && (t = 0), void 0 === e && (e = 0), this.currentPath ? 0 === this.currentPath.points.length && (this.currentPath.points = [t, e]) : this.moveTo(t, e)
      }, r.prototype.quadraticCurveTo = function (t, e, r, i) {
        this._initCurve();
        var n = this.currentPath.points;
        return 0 === n.length && this.moveTo(0, 0), Mo.curveTo(t, e, r, i, n), this
      }, r.prototype.bezierCurveTo = function (t, e, r, i, n, o) {
        return this._initCurve(), Oo.curveTo(t, e, r, i, n, o, this.currentPath.points), this
      }, r.prototype.arcTo = function (t, e, r, i, n) {
        this._initCurve(t, e);
        var o = this.currentPath.points, s = Ao.curveTo(t, e, r, i, n, o);
        if (s) {
          var a = s.cx, h = s.cy, u = s.radius, l = s.startAngle, c = s.endAngle, d = s.anticlockwise;
          this.arc(a, h, u, l, c, d)
        }
        return this
      }, r.prototype.arc = function (t, e, r, i, n, o) {
        if (void 0 === o && (o = !1), i === n) return this;
        if (!o && n <= i ? n += ve : o && i <= n && (i += ve), 0 === n - i) return this;
        var s = t + Math.cos(i) * r, a = e + Math.sin(i) * r, h = this._geometry.closePointEps,
          u = this.currentPath ? this.currentPath.points : null;
        if (u) {
          var l = Math.abs(u[u.length - 2] - s), c = Math.abs(u[u.length - 1] - a);
          l < h && c < h || u.push(s, a)
        } else this.moveTo(s, a), u = this.currentPath.points;
        return Ao.arc(s, a, t, e, r, i, n, o, u), this
      }, r.prototype.beginFill = function (t, e) {
        return void 0 === t && (t = 0), void 0 === e && (e = 1), this.beginTextureFill({
          texture: Rr.WHITE,
          color: t,
          alpha: e
        })
      }, r.prototype.beginTextureFill = function (t) {
        if (t instanceof Rr) {
          ne("v5.2.0", "Please use object-based options for Graphics#beginTextureFill");
          var e = arguments, r = e[0], i = e[1], n = e[2], o = e[3];
          t = {texture: r, color: i, alpha: n, matrix: o}, Object.keys(t).forEach(function (e) {
            return void 0 === t[e] && delete t[e]
          })
        }
        t = Object.assign({
          texture: Rr.WHITE,
          color: 16777215,
          alpha: 1,
          matrix: null
        }, t), this.currentPath && this.startPoly();
        var s = t.alpha > 0;
        return s ? (t.matrix && (t.matrix = t.matrix.clone(), t.matrix.invert()), Object.assign(this._fillStyle, {visible: s}, t)) : this._fillStyle.reset(), this
      }, r.prototype.endFill = function () {
        return this.finishPoly(), this._fillStyle.reset(), this
      }, r.prototype.drawRect = function (t, e, r, i) {
        return this.drawShape(new _e(t, e, r, i))
      }, r.prototype.drawRoundedRect = function (t, e, r, i, n) {
        return this.drawShape(new Te(t, e, r, i, n))
      }, r.prototype.drawCircle = function (t, e, r) {
        return this.drawShape(new xe(t, e, r))
      }, r.prototype.drawEllipse = function (t, e, r, i) {
        return this.drawShape(new be(t, e, r, i))
      }, r.prototype.drawPolygon = function () {
        for (var t, e = arguments, r = [], i = 0; i < arguments.length; i++) r[i] = e[i];
        var n = !0, o = r[0];
        o.points ? (n = o.closeStroke, t = o.points) : t = Array.isArray(r[0]) ? r[0] : r;
        var s = new Ee(t);
        return s.closeStroke = n, this.drawShape(s), this
      }, r.prototype.drawShape = function (t) {
        return this._holeMode ? this._geometry.drawHole(t, this._matrix) : this._geometry.drawShape(t, this._fillStyle.clone(), this._lineStyle.clone(), this._matrix), this
      }, r.prototype.drawStar = function (t, e, r, i, n, o) {
        return void 0 === o && (o = 0), this.drawPolygon(new Io(t, e, r, i, n, o))
      }, r.prototype.clear = function () {
        return this._geometry.clear(), this._lineStyle.reset(), this._fillStyle.reset(), this._boundsID++, this._matrix = null, this._holeMode = !1, this.currentPath = null, this
      }, r.prototype.isFastRect = function () {
        var e = this._geometry.graphicsData;
        return 1 === e.length && e[0].shape.type === t.SHAPES.RECT && !(e[0].lineStyle.visible && e[0].lineStyle.width)
      }, r.prototype._render = function (t) {
        this.finishPoly();
        var e = this._geometry, r = t.context.supports.uint32Indices;
        e.updateBatches(r), e.batchable ? (this.batchDirty !== e.batchDirty && this._populateBatches(), this._renderBatched(t)) : (t.batch.flush(), this._renderDirect(t))
      }, r.prototype._populateBatches = function () {
        var t = this._geometry, e = this.blendMode, r = t.batches.length;
        this.batchTint = -1, this._transformID = -1, this.batchDirty = t.batchDirty, this.batches.length = r, this.vertexData = new Float32Array(t.points);
        for (var i = 0; i < r; i++) {
          var n = t.batches[i], o = n.style.color,
            s = new Float32Array(this.vertexData.buffer, 4 * n.attribStart * 2, 2 * n.attribSize),
            a = new Float32Array(t.uvsFloat32.buffer, 4 * n.attribStart * 2, 2 * n.attribSize), h = {
              vertexData: s,
              blendMode: e,
              indices: new Uint16Array(t.indicesUint16.buffer, 2 * n.start, n.size),
              uvs: a,
              _batchRGB: kt(o),
              _tintRGB: o,
              _texture: n.style.texture,
              alpha: n.style.alpha,
              worldAlpha: 1
            };
          this.batches[i] = h
        }
      }, r.prototype._renderBatched = function (t) {
        if (this.batches.length) {
          t.batch.setObjectRenderer(t.plugins[this.pluginName]), this.calculateVertices(), this.calculateTints();
          for (var e = 0, r = this.batches.length; e < r; e++) {
            var i = this.batches[e];
            i.worldAlpha = this.worldAlpha * i.alpha, t.plugins[this.pluginName].render(i)
          }
        }
      }, r.prototype._renderDirect = function (t) {
        var e = this._resolveDirectShader(t), r = this._geometry, i = this.tint, n = this.worldAlpha, o = e.uniforms,
          s = r.drawCalls;
        o.translationMatrix = this.transform.worldTransform, o.tint[0] = (i >> 16 & 255) / 255 * n, o.tint[1] = (i >> 8 & 255) / 255 * n, o.tint[2] = (255 & i) / 255 * n, o.tint[3] = n, t.shader.bind(e), t.geometry.bind(r, e), t.state.set(this.state);
        for (var a = 0, h = s.length; a < h; a++) this._renderDrawCallDirect(t, r.drawCalls[a])
      }, r.prototype._renderDrawCallDirect = function (t, e) {
        for (var r = e.texArray, i = e.type, n = e.size, o = e.start, s = r.count, a = 0; a < s; a++) t.texture.bind(r.elements[a], a);
        t.geometry.draw(i, n, o)
      }, r.prototype._resolveDirectShader = function (t) {
        var e = this.shader, r = this.pluginName;
        if (!e) {
          if (!Go[r]) {
            for (var i = new Int32Array(16), n = 0; n < 16; n++) i[n] = n;
            var o = {
              tint: new Float32Array([1, 1, 1, 1]),
              translationMatrix: new we,
              default: Kr.from({uSamplers: i}, !0)
            }, s = t.plugins[r]._shader.program;
            Go[r] = new Ri(s, o)
          }
          e = Go[r]
        }
        return e
      }, r.prototype._calculateBounds = function () {
        this.finishPoly();
        var t = this._geometry;
        if (t.graphicsData.length) {
          var e = t.bounds, r = e.minX, i = e.minY, n = e.maxX, o = e.maxY;
          this._bounds.addFrame(this.transform, r, i, n, o)
        }
      }, r.prototype.containsPoint = function (t) {
        return this.worldTransform.applyInverse(t, r._TEMP_POINT), this._geometry.containsPoint(r._TEMP_POINT)
      }, r.prototype.calculateTints = function () {
        if (this.batchTint !== this.tint) {
          this.batchTint = this.tint;
          for (var t = kt(this.tint, jo), e = 0; e < this.batches.length; e++) {
            var r = this.batches[e], i = r._batchRGB,
              n = (t[0] * i[0] * 255 << 16) + (t[1] * i[1] * 255 << 8) + (0 | t[2] * i[2] * 255);
            r._tintRGB = (n >> 16) + (65280 & n) + ((255 & n) << 16)
          }
        }
      }, r.prototype.calculateVertices = function () {
        var t = this.transform._worldID;
        if (this._transformID !== t) {
          this._transformID = t;
          for (var e = this.transform.worldTransform, r = e.a, i = e.b, n = e.c, o = e.d, s = e.tx, a = e.ty, h = this._geometry.points, u = this.vertexData, l = 0, c = 0; c < h.length; c += 2) {
            var d = h[c], p = h[c + 1];
            u[l++] = r * d + n * p + s, u[l++] = o * p + i * d + a
          }
        }
      }, r.prototype.closePath = function () {
        var t = this.currentPath;
        return t && (t.closeStroke = !0), this
      }, r.prototype.setMatrix = function (t) {
        return this._matrix = t, this
      }, r.prototype.beginHole = function () {
        return this.finishPoly(), this._holeMode = !0, this
      }, r.prototype.endHole = function () {
        return this.finishPoly(), this._holeMode = !1, this
      }, r.prototype.destroy = function (t) {
        e.prototype.destroy.call(this, t), this._geometry.refCount--, 0 === this._geometry.refCount && this._geometry.dispose(), this._matrix = null, this.currentPath = null, this._lineStyle.destroy(), this._lineStyle = null, this._fillStyle.destroy(), this._fillStyle = null, this._geometry = null, this.shader = null, this.vertexData = null, this.batches.length = 0, this.batches = null, e.prototype.destroy.call(this, t)
      }, r._TEMP_POINT = new Pe, r
    }(Ge), Yo = function (t, e) {
      return (Yo = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, e) {
        t.__proto__ = e
      } || function (t, e) {
        for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r])
      })(t, e)
    };
  var zo, Vo = new Pe, Wo = new Uint16Array([0, 1, 2, 0, 2, 3]), qo = function (e) {
    function r(r) {
      var i = e.call(this) || this;
      return i._anchor = new Se(i._onAnchorUpdate, i, r ? r.defaultAnchor.x : 0, r ? r.defaultAnchor.y : 0), i._texture = null, i._width = 0, i._height = 0, i._tint = null, i._tintRGB = null, i.tint = 16777215, i.blendMode = t.BLEND_MODES.NORMAL, i._cachedTint = 16777215, i.uvs = null, i.texture = r || Rr.EMPTY, i.vertexData = new Float32Array(8), i.vertexTrimmedData = null, i._transformID = -1, i._textureID = -1, i._transformTrimmedID = -1, i._textureTrimmedID = -1, i.indices = Wo, i.pluginName = "batch", i.isSprite = !0, i._roundPixels = C.ROUND_PIXELS, i
    }

    return function (t, e) {
      function r() {
        this.constructor = t
      }

      Yo(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r)
    }(r, e), r.prototype._onTextureUpdate = function () {
      this._textureID = -1, this._textureTrimmedID = -1, this._cachedTint = 16777215, this._width && (this.scale.x = te(this.scale.x) * this._width / this._texture.orig.width), this._height && (this.scale.y = te(this.scale.y) * this._height / this._texture.orig.height)
    }, r.prototype._onAnchorUpdate = function () {
      this._transformID = -1, this._transformTrimmedID = -1
    }, r.prototype.calculateVertices = function () {
      var t = this._texture;
      if (this._transformID !== this.transform._worldID || this._textureID !== t._updateID) {
        this._textureID !== t._updateID && (this.uvs = this._texture._uvs.uvsFloat32), this._transformID = this.transform._worldID, this._textureID = t._updateID;
        var e = this.transform.worldTransform, r = e.a, i = e.b, n = e.c, o = e.d, s = e.tx, a = e.ty,
          h = this.vertexData, u = t.trim, l = t.orig, c = this._anchor, d = 0, p = 0, f = 0, m = 0;
        if (u ? (d = (p = u.x - c._x * l.width) + u.width, f = (m = u.y - c._y * l.height) + u.height) : (d = (p = -c._x * l.width) + l.width, f = (m = -c._y * l.height) + l.height), h[0] = r * p + n * m + s, h[1] = o * m + i * p + a, h[2] = r * d + n * m + s, h[3] = o * m + i * d + a, h[4] = r * d + n * f + s, h[5] = o * f + i * d + a, h[6] = r * p + n * f + s, h[7] = o * f + i * p + a, this._roundPixels) for (var v = C.RESOLUTION, y = 0; y < h.length; ++y) h[y] = Math.round((h[y] * v | 0) / v)
      }
    }, r.prototype.calculateTrimmedVertices = function () {
      if (this.vertexTrimmedData) {
        if (this._transformTrimmedID === this.transform._worldID && this._textureTrimmedID === this._texture._updateID) return
      } else this.vertexTrimmedData = new Float32Array(8);
      this._transformTrimmedID = this.transform._worldID, this._textureTrimmedID = this._texture._updateID;
      var t = this._texture, e = this.vertexTrimmedData, r = t.orig, i = this._anchor,
        n = this.transform.worldTransform, o = n.a, s = n.b, a = n.c, h = n.d, u = n.tx, l = n.ty, c = -i._x * r.width,
        d = c + r.width, p = -i._y * r.height, f = p + r.height;
      e[0] = o * c + a * p + u, e[1] = h * p + s * c + l, e[2] = o * d + a * p + u, e[3] = h * p + s * d + l, e[4] = o * d + a * f + u, e[5] = h * f + s * d + l, e[6] = o * c + a * f + u, e[7] = h * f + s * c + l
    }, r.prototype._render = function (t) {
      this.calculateVertices(), t.batch.setObjectRenderer(t.plugins[this.pluginName]), t.plugins[this.pluginName].render(this)
    }, r.prototype._calculateBounds = function () {
      var t = this._texture.trim, e = this._texture.orig;
      !t || t.width === e.width && t.height === e.height ? (this.calculateVertices(), this._bounds.addQuad(this.vertexData)) : (this.calculateTrimmedVertices(), this._bounds.addQuad(this.vertexTrimmedData))
    }, r.prototype.getLocalBounds = function (t) {
      return 0 === this.children.length ? (this._bounds.minX = this._texture.orig.width * -this._anchor._x, this._bounds.minY = this._texture.orig.height * -this._anchor._y, this._bounds.maxX = this._texture.orig.width * (1 - this._anchor._x), this._bounds.maxY = this._texture.orig.height * (1 - this._anchor._y), t || (this._localBoundsRect || (this._localBoundsRect = new _e), t = this._localBoundsRect), this._bounds.getRectangle(t)) : e.prototype.getLocalBounds.call(this, t)
    }, r.prototype.containsPoint = function (t) {
      this.worldTransform.applyInverse(t, Vo);
      var e = this._texture.orig.width, r = this._texture.orig.height, i = -e * this.anchor.x, n = 0;
      return Vo.x >= i && Vo.x < i + e && (n = -r * this.anchor.y, Vo.y >= n && Vo.y < n + r)
    }, r.prototype.destroy = function (t) {
      if (e.prototype.destroy.call(this, t), this._texture.off("update", this._onTextureUpdate, this), this._anchor = null, "boolean" == typeof t ? t : t && t.texture) {
        var r = "boolean" == typeof t ? t : t && t.baseTexture;
        this._texture.destroy(!!r)
      }
      this._texture = null
    }, r.from = function (t, e) {
      return new r(t instanceof Rr ? t : Rr.from(t, e))
    }, Object.defineProperty(r.prototype, "roundPixels", {
      get: function () {
        return this._roundPixels
      }, set: function (t) {
        this._roundPixels !== t && (this._transformID = -1), this._roundPixels = t
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(r.prototype, "width", {
      get: function () {
        return Math.abs(this.scale.x) * this._texture.orig.width
      }, set: function (t) {
        var e = te(this.scale.x) || 1;
        this.scale.x = e * t / this._texture.orig.width, this._width = t
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(r.prototype, "height", {
      get: function () {
        return Math.abs(this.scale.y) * this._texture.orig.height
      }, set: function (t) {
        var e = te(this.scale.y) || 1;
        this.scale.y = e * t / this._texture.orig.height, this._height = t
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(r.prototype, "anchor", {
      get: function () {
        return this._anchor
      }, set: function (t) {
        this._anchor.copyFrom(t)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(r.prototype, "tint", {
      get: function () {
        return this._tint
      }, set: function (t) {
        this._tint = t, this._tintRGB = (t >> 16) + (65280 & t) + ((255 & t) << 16)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(r.prototype, "texture", {
      get: function () {
        return this._texture
      }, set: function (t) {
        this._texture !== t && (this._texture && this._texture.off("update", this._onTextureUpdate, this), this._texture = t || Rr.EMPTY, this._cachedTint = 16777215, this._textureID = -1, this._textureTrimmedID = -1, t && (t.baseTexture.valid ? this._onTextureUpdate() : t.once("update", this._onTextureUpdate, this)))
      }, enumerable: !1, configurable: !0
    }), r
  }(Ge), Ko = function (t, e) {
    return (Ko = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, e) {
      t.__proto__ = e
    } || function (t, e) {
      for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r])
    })(t, e)
  };
  (zo = t.TEXT_GRADIENT || (t.TEXT_GRADIENT = {}))[zo.LINEAR_VERTICAL = 0] = "LINEAR_VERTICAL", zo[zo.LINEAR_HORIZONTAL = 1] = "LINEAR_HORIZONTAL";
  var Zo = {
    align: "left",
    breakWords: !1,
    dropShadow: !1,
    dropShadowAlpha: 1,
    dropShadowAngle: Math.PI / 6,
    dropShadowBlur: 0,
    dropShadowColor: "black",
    dropShadowDistance: 5,
    fill: "black",
    fillGradientType: t.TEXT_GRADIENT.LINEAR_VERTICAL,
    fillGradientStops: [],
    fontFamily: "Arial",
    fontSize: 26,
    fontStyle: "normal",
    fontVariant: "normal",
    fontWeight: "normal",
    letterSpacing: 0,
    lineHeight: 0,
    lineJoin: "miter",
    miterLimit: 10,
    padding: 0,
    stroke: "black",
    strokeThickness: 0,
    textBaseline: "alphabetic",
    trim: !1,
    whiteSpace: "pre",
    wordWrap: !1,
    wordWrapWidth: 100,
    leading: 0
  }, Jo = ["serif", "sans-serif", "monospace", "cursive", "fantasy", "system-ui"], Qo = function () {
    function t(t) {
      this.styleID = 0, this.reset(), es(this, t, t)
    }

    return t.prototype.clone = function () {
      var e = {};
      return es(e, this, Zo), new t(e)
    }, t.prototype.reset = function () {
      es(this, Zo, Zo)
    }, Object.defineProperty(t.prototype, "align", {
      get: function () {
        return this._align
      }, set: function (t) {
        this._align !== t && (this._align = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "breakWords", {
      get: function () {
        return this._breakWords
      }, set: function (t) {
        this._breakWords !== t && (this._breakWords = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "dropShadow", {
      get: function () {
        return this._dropShadow
      }, set: function (t) {
        this._dropShadow !== t && (this._dropShadow = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "dropShadowAlpha", {
      get: function () {
        return this._dropShadowAlpha
      }, set: function (t) {
        this._dropShadowAlpha !== t && (this._dropShadowAlpha = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "dropShadowAngle", {
      get: function () {
        return this._dropShadowAngle
      }, set: function (t) {
        this._dropShadowAngle !== t && (this._dropShadowAngle = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "dropShadowBlur", {
      get: function () {
        return this._dropShadowBlur
      }, set: function (t) {
        this._dropShadowBlur !== t && (this._dropShadowBlur = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "dropShadowColor", {
      get: function () {
        return this._dropShadowColor
      }, set: function (t) {
        var e = ts(t);
        this._dropShadowColor !== e && (this._dropShadowColor = e, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "dropShadowDistance", {
      get: function () {
        return this._dropShadowDistance
      }, set: function (t) {
        this._dropShadowDistance !== t && (this._dropShadowDistance = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "fill", {
      get: function () {
        return this._fill
      }, set: function (t) {
        var e = ts(t);
        this._fill !== e && (this._fill = e, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "fillGradientType", {
      get: function () {
        return this._fillGradientType
      }, set: function (t) {
        this._fillGradientType !== t && (this._fillGradientType = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "fillGradientStops", {
      get: function () {
        return this._fillGradientStops
      }, set: function (t) {
        (function (t, e) {
          if (!Array.isArray(t) || !Array.isArray(e)) return !1;
          if (t.length !== e.length) return !1;
          for (var r = 0; r < t.length; ++r) if (t[r] !== e[r]) return !1;
          return !0
        })(this._fillGradientStops, t) || (this._fillGradientStops = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "fontFamily", {
      get: function () {
        return this._fontFamily
      }, set: function (t) {
        this.fontFamily !== t && (this._fontFamily = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "fontSize", {
      get: function () {
        return this._fontSize
      }, set: function (t) {
        this._fontSize !== t && (this._fontSize = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "fontStyle", {
      get: function () {
        return this._fontStyle
      }, set: function (t) {
        this._fontStyle !== t && (this._fontStyle = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "fontVariant", {
      get: function () {
        return this._fontVariant
      }, set: function (t) {
        this._fontVariant !== t && (this._fontVariant = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "fontWeight", {
      get: function () {
        return this._fontWeight
      }, set: function (t) {
        this._fontWeight !== t && (this._fontWeight = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "letterSpacing", {
      get: function () {
        return this._letterSpacing
      }, set: function (t) {
        this._letterSpacing !== t && (this._letterSpacing = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "lineHeight", {
      get: function () {
        return this._lineHeight
      }, set: function (t) {
        this._lineHeight !== t && (this._lineHeight = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "leading", {
      get: function () {
        return this._leading
      }, set: function (t) {
        this._leading !== t && (this._leading = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "lineJoin", {
      get: function () {
        return this._lineJoin
      }, set: function (t) {
        this._lineJoin !== t && (this._lineJoin = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "miterLimit", {
      get: function () {
        return this._miterLimit
      }, set: function (t) {
        this._miterLimit !== t && (this._miterLimit = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "padding", {
      get: function () {
        return this._padding
      }, set: function (t) {
        this._padding !== t && (this._padding = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "stroke", {
      get: function () {
        return this._stroke
      }, set: function (t) {
        var e = ts(t);
        this._stroke !== e && (this._stroke = e, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "strokeThickness", {
      get: function () {
        return this._strokeThickness
      }, set: function (t) {
        this._strokeThickness !== t && (this._strokeThickness = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "textBaseline", {
      get: function () {
        return this._textBaseline
      }, set: function (t) {
        this._textBaseline !== t && (this._textBaseline = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "trim", {
      get: function () {
        return this._trim
      }, set: function (t) {
        this._trim !== t && (this._trim = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "whiteSpace", {
      get: function () {
        return this._whiteSpace
      }, set: function (t) {
        this._whiteSpace !== t && (this._whiteSpace = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "wordWrap", {
      get: function () {
        return this._wordWrap
      }, set: function (t) {
        this._wordWrap !== t && (this._wordWrap = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(t.prototype, "wordWrapWidth", {
      get: function () {
        return this._wordWrapWidth
      }, set: function (t) {
        this._wordWrapWidth !== t && (this._wordWrapWidth = t, this.styleID++)
      }, enumerable: !1, configurable: !0
    }), t.prototype.toFontString = function () {
      var t = "number" == typeof this.fontSize ? this.fontSize + "px" : this.fontSize, e = this.fontFamily;
      Array.isArray(this.fontFamily) || (e = this.fontFamily.split(","));
      for (var r = e.length - 1; r >= 0; r--) {
        var i = e[r].trim();
        !/([\"\'])[^\'\"]+\1/.test(i) && Jo.indexOf(i) < 0 && (i = '"' + i + '"'), e[r] = i
      }
      return this.fontStyle + " " + this.fontVariant + " " + this.fontWeight + " " + t + " " + e.join(",")
    }, t
  }();

  function $o(t) {
    return "number" == typeof t ? Xt(t) : ("string" == typeof t && 0 === t.indexOf("0x") && (t = t.replace("0x", "#")), t)
  }

  function ts(t) {
    if (Array.isArray(t)) {
      for (var e = 0; e < t.length; ++e) t[e] = $o(t[e]);
      return t
    }
    return $o(t)
  }

  function es(t, e, r) {
    for (var i in r) Array.isArray(e[i]) ? t[i] = e[i].slice() : t[i] = e[i]
  }

  var rs = function () {
    function t(t, e, r, i, n, o, s, a, h) {
      this.text = t, this.style = e, this.width = r, this.height = i, this.lines = n, this.lineWidths = o, this.lineHeight = s, this.maxLineWidth = a, this.fontProperties = h
    }

    return t.measureText = function (e, r, i, n) {
      void 0 === n && (n = t._canvas), i = null == i ? r.wordWrap : i;
      var o = r.toFontString(), s = t.measureFont(o);
      0 === s.fontSize && (s.fontSize = r.fontSize, s.ascent = r.fontSize);
      var a = n.getContext("2d");
      a.font = o;
      for (var h = (i ? t.wordWrap(e, r, n) : e).split(/(?:\r\n|\r|\n)/), u = new Array(h.length), l = 0, c = 0; c < h.length; c++) {
        var d = a.measureText(h[c]).width + (h[c].length - 1) * r.letterSpacing;
        u[c] = d, l = Math.max(l, d)
      }
      var p = l + r.strokeThickness;
      r.dropShadow && (p += r.dropShadowDistance);
      var f = r.lineHeight || s.fontSize + r.strokeThickness,
        m = Math.max(f, s.fontSize + r.strokeThickness) + (h.length - 1) * (f + r.leading);
      return r.dropShadow && (m += r.dropShadowDistance), new t(e, r, p, m, h, u, f + r.leading, l, s)
    }, t.wordWrap = function (e, r, i) {
      void 0 === i && (i = t._canvas);
      for (var n = i.getContext("2d"), o = 0, s = "", a = "", h = {}, u = r.letterSpacing, l = r.whiteSpace, c = t.collapseSpaces(l), d = t.collapseNewlines(l), p = !c, f = r.wordWrapWidth + u, m = t.tokenize(e), v = 0; v < m.length; v++) {
        var y = m[v];
        if (t.isNewline(y)) {
          if (!d) {
            a += t.addLine(s), p = !c, s = "", o = 0;
            continue
          }
          y = " "
        }
        if (c) {
          var g = t.isBreakingSpace(y), _ = t.isBreakingSpace(s[s.length - 1]);
          if (g && _) continue
        }
        var x = t.getFromCache(y, u, h, n);
        if (x > f) if ("" !== s && (a += t.addLine(s), s = "", o = 0), t.canBreakWords(y, r.breakWords)) for (var b = t.wordWrapSplit(y), E = 0; E < b.length; E++) {
          for (var T = b[E], P = 1; b[E + P];) {
            var S = b[E + P], w = T[T.length - 1];
            if (t.canBreakChars(w, S, y, E, r.breakWords)) break;
            T += S, P++
          }
          E += T.length - 1;
          var I = t.getFromCache(T, u, h, n);
          I + o > f && (a += t.addLine(s), p = !1, s = "", o = 0), s += T, o += I
        } else {
          s.length > 0 && (a += t.addLine(s), s = "", o = 0);
          var A = v === m.length - 1;
          a += t.addLine(y, !A), p = !1, s = "", o = 0
        } else x + o > f && (p = !1, a += t.addLine(s), s = "", o = 0), (s.length > 0 || !t.isBreakingSpace(y) || p) && (s += y, o += x)
      }
      return a += t.addLine(s, !1)
    }, t.addLine = function (e, r) {
      return void 0 === r && (r = !0), e = t.trimRight(e), e = r ? e + "\n" : e
    }, t.getFromCache = function (t, e, r, i) {
      var n = r[t];
      if (void 0 === n) {
        var o = t.length * e;
        n = i.measureText(t).width + o, r[t] = n
      }
      return n
    }, t.collapseSpaces = function (t) {
      return "normal" === t || "pre-line" === t
    }, t.collapseNewlines = function (t) {
      return "normal" === t
    }, t.trimRight = function (e) {
      if ("string" != typeof e) return "";
      for (var r = e.length - 1; r >= 0; r--) {
        var i = e[r];
        if (!t.isBreakingSpace(i)) break;
        e = e.slice(0, -1)
      }
      return e
    }, t.isNewline = function (e) {
      return "string" == typeof e && t._newlines.indexOf(e.charCodeAt(0)) >= 0
    }, t.isBreakingSpace = function (e) {
      return "string" == typeof e && t._breakingSpaces.indexOf(e.charCodeAt(0)) >= 0
    }, t.tokenize = function (e) {
      var r = [], i = "";
      if ("string" != typeof e) return r;
      for (var n = 0; n < e.length; n++) {
        var o = e[n];
        t.isBreakingSpace(o) || t.isNewline(o) ? ("" !== i && (r.push(i), i = ""), r.push(o)) : i += o
      }
      return "" !== i && r.push(i), r
    }, t.canBreakWords = function (t, e) {
      return e
    }, t.canBreakChars = function (t, e, r, i, n) {
      return !0
    }, t.wordWrapSplit = function (t) {
      return t.split("")
    }, t.measureFont = function (e) {
      if (t._fonts[e]) return t._fonts[e];
      var r = {ascent: 0, descent: 0, fontSize: 0}, i = t._canvas, n = t._context;
      n.font = e;
      var o = t.METRICS_STRING + t.BASELINE_SYMBOL, s = Math.ceil(n.measureText(o).width),
        a = Math.ceil(n.measureText(t.BASELINE_SYMBOL).width), h = 2 * a;
      a = a * t.BASELINE_MULTIPLIER | 0, i.width = s, i.height = h, n.fillStyle = "#f00", n.fillRect(0, 0, s, h), n.font = e, n.textBaseline = "alphabetic", n.fillStyle = "#000", n.fillText(o, 0, a);
      var u = n.getImageData(0, 0, s, h).data, l = u.length, c = 4 * s, d = 0, p = 0, f = !1;
      for (d = 0; d < a; ++d) {
        for (var m = 0; m < c; m += 4) if (255 !== u[p + m]) {
          f = !0;
          break
        }
        if (f) break;
        p += c
      }
      for (r.ascent = a - d, p = l - c, f = !1, d = h; d > a; --d) {
        for (m = 0; m < c; m += 4) if (255 !== u[p + m]) {
          f = !0;
          break
        }
        if (f) break;
        p -= c
      }
      return r.descent = d - a, r.fontSize = r.ascent + r.descent, t._fonts[e] = r, r
    }, t.clearMetrics = function (e) {
      void 0 === e && (e = ""), e ? delete t._fonts[e] : t._fonts = {}
    }, t
  }(), is = function () {
    try {
      var t = new OffscreenCanvas(0, 0), e = t.getContext("2d");
      return e && e.measureText ? t : document.createElement("canvas")
    } catch (t) {
      return document.createElement("canvas")
    }
  }();
  is.width = is.height = 10, rs._canvas = is, rs._context = is.getContext("2d"), rs._fonts = {}, rs.METRICS_STRING = "|ÉqÅ", rs.BASELINE_SYMBOL = "M", rs.BASELINE_MULTIPLIER = 1.4, rs._newlines = [10, 13], rs._breakingSpaces = [9, 32, 8192, 8193, 8194, 8195, 8196, 8197, 8198, 8200, 8201, 8202, 8287, 12288];
  var ns = {texture: !0, children: !1, baseTexture: !0}, os = function (e) {
    function r(t, r, i) {
      var n = this, o = !1;
      i || (i = document.createElement("canvas"), o = !0), i.width = 3, i.height = 3;
      var s = Rr.from(i);
      return s.orig = new _e, s.trim = new _e, (n = e.call(this, s) || this)._ownCanvas = o, n.canvas = i, n.context = n.canvas.getContext("2d"), n._resolution = C.RESOLUTION, n._autoResolution = !0, n._text = null, n._style = null, n._styleListener = null, n._font = "", n.text = t, n.style = r, n.localStyleID = -1, n
    }

    return function (t, e) {
      function r() {
        this.constructor = t
      }

      Ko(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r)
    }(r, e), r.prototype.updateText = function (t) {
      var e = this._style;
      if (this.localStyleID !== e.styleID && (this.dirty = !0, this.localStyleID = e.styleID), this.dirty || !t) {
        this._font = this._style.toFontString();
        var r, i, n = this.context,
          o = rs.measureText(this._text || " ", this._style, this._style.wordWrap, this.canvas), s = o.width,
          a = o.height, h = o.lines, u = o.lineHeight, l = o.lineWidths, c = o.maxLineWidth, d = o.fontProperties;
        this.canvas.width = Math.ceil((Math.max(1, s) + 2 * e.padding) * this._resolution), this.canvas.height = Math.ceil((Math.max(1, a) + 2 * e.padding) * this._resolution), n.scale(this._resolution, this._resolution), n.clearRect(0, 0, this.canvas.width, this.canvas.height), n.font = this._font, n.lineWidth = e.strokeThickness, n.textBaseline = e.textBaseline, n.lineJoin = e.lineJoin, n.miterLimit = e.miterLimit;
        for (var p = e.dropShadow ? 2 : 1, f = 0; f < p; ++f) {
          var m = e.dropShadow && 0 === f, v = m ? 2 * a : 0, y = v * this.resolution;
          if (m) {
            n.fillStyle = "black", n.strokeStyle = "black";
            var g = e.dropShadowColor, _ = kt("number" == typeof g ? g : jt(g));
            n.shadowColor = "rgba(" + 255 * _[0] + "," + 255 * _[1] + "," + 255 * _[2] + "," + e.dropShadowAlpha + ")", n.shadowBlur = e.dropShadowBlur, n.shadowOffsetX = Math.cos(e.dropShadowAngle) * e.dropShadowDistance, n.shadowOffsetY = Math.sin(e.dropShadowAngle) * e.dropShadowDistance + y
          } else n.fillStyle = this._generateFillStyle(e, h, o), n.strokeStyle = e.stroke, n.shadowColor = "0", n.shadowBlur = 0, n.shadowOffsetX = 0, n.shadowOffsetY = 0;
          for (var x = 0; x < h.length; x++) r = e.strokeThickness / 2, i = e.strokeThickness / 2 + x * u + d.ascent, "right" === e.align ? r += c - l[x] : "center" === e.align && (r += (c - l[x]) / 2), e.stroke && e.strokeThickness && this.drawLetterSpacing(h[x], r + e.padding, i + e.padding - v, !0), e.fill && this.drawLetterSpacing(h[x], r + e.padding, i + e.padding - v)
        }
        this.updateTexture()
      }
    }, r.prototype.drawLetterSpacing = function (t, e, r, i) {
      void 0 === i && (i = !1);
      var n = this._style.letterSpacing;
      if (0 !== n) for (var o = e, s = Array.from ? Array.from(t) : t.split(""), a = this.context.measureText(t).width, h = 0, u = 0; u < s.length; ++u) {
        var l = s[u];
        i ? this.context.strokeText(l, o, r) : this.context.fillText(l, o, r), o += a - (h = this.context.measureText(t.substring(u + 1)).width) + n, a = h
      } else i ? this.context.strokeText(t, e, r) : this.context.fillText(t, e, r)
    }, r.prototype.updateTexture = function () {
      var t = this.canvas;
      if (this._style.trim) {
        var e = ue(t);
        e.data && (t.width = e.width, t.height = e.height, this.context.putImageData(e.data, 0, 0))
      }
      var r = this._texture, i = this._style, n = i.trim ? 0 : i.padding, o = r.baseTexture;
      r.trim.width = r._frame.width = Math.ceil(t.width / this._resolution), r.trim.height = r._frame.height = Math.ceil(t.height / this._resolution), r.trim.x = -n, r.trim.y = -n, r.orig.width = r._frame.width - 2 * n, r.orig.height = r._frame.height - 2 * n, this._onTextureUpdate(), o.setRealSize(t.width, t.height, this._resolution), this._recursivePostUpdateTransform(), this.dirty = !1
    }, r.prototype._render = function (t) {
      this._autoResolution && this._resolution !== t.resolution && (this._resolution = t.resolution, this.dirty = !0), this.updateText(!0), e.prototype._render.call(this, t)
    }, r.prototype.getLocalBounds = function (t) {
      return this.updateText(!0), e.prototype.getLocalBounds.call(this, t)
    }, r.prototype._calculateBounds = function () {
      this.updateText(!0), this.calculateVertices(), this._bounds.addQuad(this.vertexData)
    }, r.prototype._generateFillStyle = function (e, r, i) {
      var n, o = e.fill;
      if (!Array.isArray(o)) return o;
      if (1 === o.length) return o[0];
      var s = e.dropShadow ? e.dropShadowDistance : 0, a = e.padding || 0,
        h = Math.ceil(this.canvas.width / this._resolution) - s - 2 * a,
        u = Math.ceil(this.canvas.height / this._resolution) - s - 2 * a, l = o.slice(),
        c = e.fillGradientStops.slice();
      if (!c.length) for (var d = l.length + 1, p = 1; p < d; ++p) c.push(p / d);
      if (l.unshift(o[0]), c.unshift(0), l.push(o[o.length - 1]), c.push(1), e.fillGradientType === t.TEXT_GRADIENT.LINEAR_VERTICAL) {
        n = this.context.createLinearGradient(h / 2, a, h / 2, u + a);
        var f = 0, m = (i.fontProperties.fontSize + e.strokeThickness) / u;
        for (p = 0; p < r.length; p++) for (var v = i.lineHeight * p, y = 0; y < l.length; y++) {
          var g = v / u + ("number" == typeof c[y] ? c[y] : y / l.length) * m, _ = Math.max(f, g);
          _ = Math.min(_, 1), n.addColorStop(_, l[y]), f = _
        }
      } else {
        n = this.context.createLinearGradient(a, u / 2, h + a, u / 2);
        var x = l.length + 1, b = 1;
        for (p = 0; p < l.length; p++) {
          var E = void 0;
          E = "number" == typeof c[p] ? c[p] : b / x, n.addColorStop(E, l[p]), b++
        }
      }
      return n
    }, r.prototype.destroy = function (t) {
      "boolean" == typeof t && (t = {children: t}), t = Object.assign({}, ns, t), e.prototype.destroy.call(this, t), this._ownCanvas && (this.canvas.height = this.canvas.width = 0), this.context = null, this.canvas = null, this._style = null
    }, Object.defineProperty(r.prototype, "width", {
      get: function () {
        return this.updateText(!0), Math.abs(this.scale.x) * this._texture.orig.width
      }, set: function (t) {
        this.updateText(!0);
        var e = te(this.scale.x) || 1;
        this.scale.x = e * t / this._texture.orig.width, this._width = t
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(r.prototype, "height", {
      get: function () {
        return this.updateText(!0), Math.abs(this.scale.y) * this._texture.orig.height
      }, set: function (t) {
        this.updateText(!0);
        var e = te(this.scale.y) || 1;
        this.scale.y = e * t / this._texture.orig.height, this._height = t
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(r.prototype, "style", {
      get: function () {
        return this._style
      }, set: function (t) {
        t = t || {}, this._style = t instanceof Qo ? t : new Qo(t), this.localStyleID = -1, this.dirty = !0
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(r.prototype, "text", {
      get: function () {
        return this._text
      }, set: function (t) {
        t = String(null == t ? "" : t), this._text !== t && (this._text = t, this.dirty = !0)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(r.prototype, "resolution", {
      get: function () {
        return this._resolution
      }, set: function (t) {
        this._autoResolution = !1, this._resolution !== t && (this._resolution = t, this.dirty = !0)
      }, enumerable: !1, configurable: !0
    }), r
  }(qo);
  C.UPLOADS_PER_FRAME = 4;
  var ss = function (t, e) {
    return (ss = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, e) {
      t.__proto__ = e
    } || function (t, e) {
      for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r])
    })(t, e)
  };
  var as = function () {
    function t(t) {
      this.maxItemsPerFrame = t, this.itemsLeft = 0
    }

    return t.prototype.beginFrame = function () {
      this.itemsLeft = this.maxItemsPerFrame
    }, t.prototype.allowedToUpload = function () {
      return this.itemsLeft-- > 0
    }, t
  }();

  function hs(t, e) {
    var r = !1;
    if (t && t._textures && t._textures.length) for (var i = 0; i < t._textures.length; i++) if (t._textures[i] instanceof Rr) {
      var n = t._textures[i].baseTexture;
      -1 === e.indexOf(n) && (e.push(n), r = !0)
    }
    return r
  }

  function us(t, e) {
    if (t.baseTexture instanceof vr) {
      var r = t.baseTexture;
      return -1 === e.indexOf(r) && e.push(r), !0
    }
    return !1
  }

  function ls(t, e) {
    if (t._texture && t._texture instanceof Rr) {
      var r = t._texture.baseTexture;
      return -1 === e.indexOf(r) && e.push(r), !0
    }
    return !1
  }

  function cs(t, e) {
    return e instanceof os && (e.updateText(!0), !0)
  }

  function ds(t, e) {
    if (e instanceof Qo) {
      var r = e.toFontString();
      return rs.measureFont(r), !0
    }
    return !1
  }

  function ps(t, e) {
    if (t instanceof os) {
      -1 === e.indexOf(t.style) && e.push(t.style), -1 === e.indexOf(t) && e.push(t);
      var r = t._texture.baseTexture;
      return -1 === e.indexOf(r) && e.push(r), !0
    }
    return !1
  }

  function fs(t, e) {
    return t instanceof Qo && (-1 === e.indexOf(t) && e.push(t), !0)
  }

  var ms = function () {
    function e(t) {
      var e = this;
      this.limiter = new as(C.UPLOADS_PER_FRAME), this.renderer = t, this.uploadHookHelper = null, this.queue = [], this.addHooks = [], this.uploadHooks = [], this.completes = [], this.ticking = !1, this.delayedTick = function () {
        e.queue && e.prepareItems()
      }, this.registerFindHook(ps), this.registerFindHook(fs), this.registerFindHook(hs), this.registerFindHook(us), this.registerFindHook(ls), this.registerUploadHook(cs), this.registerUploadHook(ds)
    }

    return e.prototype.upload = function (e, r) {
      "function" == typeof e && (r = e, e = null), e && this.add(e), this.queue.length ? (r && this.completes.push(r), this.ticking || (this.ticking = !0, Je.system.addOnce(this.tick, this, t.UPDATE_PRIORITY.UTILITY))) : r && r()
    }, e.prototype.tick = function () {
      setTimeout(this.delayedTick, 0)
    }, e.prototype.prepareItems = function () {
      for (this.limiter.beginFrame(); this.queue.length && this.limiter.allowedToUpload();) {
        var e = this.queue[0], r = !1;
        if (e && !e._destroyed) for (var i = 0, n = this.uploadHooks.length; i < n; i++) if (this.uploadHooks[i](this.uploadHookHelper, e)) {
          this.queue.shift(), r = !0;
          break
        }
        r || this.queue.shift()
      }
      if (this.queue.length) Je.system.addOnce(this.tick, this, t.UPDATE_PRIORITY.UTILITY); else {
        this.ticking = !1;
        var o = this.completes.slice(0);
        this.completes.length = 0;
        for (i = 0, n = o.length; i < n; i++) o[i]()
      }
    }, e.prototype.registerFindHook = function (t) {
      return t && this.addHooks.push(t), this
    }, e.prototype.registerUploadHook = function (t) {
      return t && this.uploadHooks.push(t), this
    }, e.prototype.add = function (t) {
      for (var e = 0, r = this.addHooks.length; e < r && !this.addHooks[e](t, this.queue); e++) ;
      if (t instanceof Ge) for (e = t.children.length - 1; e >= 0; e--) this.add(t.children[e]);
      return this
    }, e.prototype.destroy = function () {
      this.ticking && Je.system.remove(this.tick, this), this.ticking = !1, this.addHooks = null, this.uploadHooks = null, this.renderer = null, this.completes = null, this.queue = null, this.limiter = null, this.uploadHookHelper = null
    }, e
  }();

  function vs(t, e) {
    return e instanceof vr && (e._glTextures[t.CONTEXT_UID] || t.texture.bind(e), !0)
  }

  function ys(t, e) {
    if (!(e instanceof Ho)) return !1;
    var r = e.geometry;
    e.finishPoly(), r.updateBatches();
    for (var i = r.batches, n = 0; n < i.length; n++) {
      var o = i[n].style.texture;
      o && vs(t, o.baseTexture)
    }
    return r.batchable || t.geometry.bind(r, e._resolveDirectShader(t)), !0
  }

  function gs(t, e) {
    return t instanceof Ho && (e.push(t), !0)
  }

  var _s = function (t) {
    function e(e) {
      var r = t.call(this, e) || this;
      return r.uploadHookHelper = r.renderer, r.registerFindHook(gs), r.registerUploadHook(vs), r.registerUploadHook(ys), r
    }

    return function (t, e) {
      function r() {
        this.constructor = t
      }

      ss(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r)
    }(e, t), e
  }(ms), xs = function () {
    function t(t) {
      this.maxMilliseconds = t, this.frameStart = 0
    }

    return t.prototype.beginFrame = function () {
      this.frameStart = Date.now()
    }, t.prototype.allowedToUpload = function () {
      return Date.now() - this.frameStart < this.maxMilliseconds
    }, t
  }(), bs = function () {
    function t(t, e, r) {
      void 0 === r && (r = null), this._texture = t instanceof Rr ? t : null, this.baseTexture = t instanceof vr ? t : this._texture.baseTexture, this.textures = {}, this.animations = {}, this.data = e;
      var i = this.baseTexture.resource;
      this.resolution = this._updateResolution(r || (i ? i.url : null)), this._frames = this.data.frames, this._frameKeys = Object.keys(this._frames), this._batchIndex = 0, this._callback = null
    }

    return t.prototype._updateResolution = function (t) {
      void 0 === t && (t = null);
      var e = this.data.meta.scale, r = pe(t, null);
      return null === r && (r = void 0 !== e ? parseFloat(e) : 1), 1 !== r && this.baseTexture.setResolution(r), r
    }, t.prototype.parse = function (e) {
      this._batchIndex = 0, this._callback = e, this._frameKeys.length <= t.BATCH_SIZE ? (this._processFrames(0), this._processAnimations(), this._parseComplete()) : this._nextBatch()
    }, t.prototype._processFrames = function (e) {
      for (var r = e, i = t.BATCH_SIZE; r - e < i && r < this._frameKeys.length;) {
        var n = this._frameKeys[r], o = this._frames[n], s = o.frame;
        if (s) {
          var a = null, h = null, u = !1 !== o.trimmed && o.sourceSize ? o.sourceSize : o.frame,
            l = new _e(0, 0, Math.floor(u.w) / this.resolution, Math.floor(u.h) / this.resolution);
          a = o.rotated ? new _e(Math.floor(s.x) / this.resolution, Math.floor(s.y) / this.resolution, Math.floor(s.h) / this.resolution, Math.floor(s.w) / this.resolution) : new _e(Math.floor(s.x) / this.resolution, Math.floor(s.y) / this.resolution, Math.floor(s.w) / this.resolution, Math.floor(s.h) / this.resolution), !1 !== o.trimmed && o.spriteSourceSize && (h = new _e(Math.floor(o.spriteSourceSize.x) / this.resolution, Math.floor(o.spriteSourceSize.y) / this.resolution, Math.floor(s.w) / this.resolution, Math.floor(s.h) / this.resolution)), this.textures[n] = new Rr(this.baseTexture, a, l, h, o.rotated ? 2 : 0, o.anchor), Rr.addToCache(this.textures[n], n)
        }
        r++
      }
    }, t.prototype._processAnimations = function () {
      var t = this.data.animations || {};
      for (var e in t) {
        this.animations[e] = [];
        for (var r = 0; r < t[e].length; r++) {
          var i = t[e][r];
          this.animations[e].push(this.textures[i])
        }
      }
    }, t.prototype._parseComplete = function () {
      var t = this._callback;
      this._callback = null, this._batchIndex = 0, t.call(this, this.textures)
    }, t.prototype._nextBatch = function () {
      var e = this;
      this._processFrames(this._batchIndex * t.BATCH_SIZE), this._batchIndex++, setTimeout(function () {
        e._batchIndex * t.BATCH_SIZE < e._frameKeys.length ? e._nextBatch() : (e._processAnimations(), e._parseComplete())
      }, 0)
    }, t.prototype.destroy = function (t) {
      var e;
      for (var r in void 0 === t && (t = !1), this.textures) this.textures[r].destroy();
      this._frames = null, this._frameKeys = null, this.data = null, this.textures = null, t && (null === (e = this._texture) || void 0 === e || e.destroy(), this.baseTexture.destroy()), this._texture = null, this.baseTexture = null
    }, t.BATCH_SIZE = 1e3, t
  }(), Es = function () {
    function t() {
    }

    return t.use = function (e, r) {
      var i = e.name + "_image";
      if (e.data && e.type === Qn.TYPE.JSON && e.data.frames && !this.resources[i]) {
        var n = {crossOrigin: e.crossOrigin, metadata: e.metadata.imageMetadata, parentResource: e},
          o = t.getResourcePath(e, this.baseUrl);
        this.add(i, o, n, function (t) {
          if (t.error) r(t.error); else {
            var i = new bs(t.texture, e.data, e.url);
            i.parse(function () {
              e.spritesheet = i, e.textures = i.textures, r()
            })
          }
        })
      } else r()
    }, t.getResourcePath = function (t, e) {
      return t.isDataUrl ? t.data.meta.image : Rt.resolve(t.url.replace(e, ""), t.data.meta.image)
    }, t
  }(), Ts = function (t, e) {
    return (Ts = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, e) {
      t.__proto__ = e
    } || function (t, e) {
      for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r])
    })(t, e)
  };

  function Ps(t, e) {
    function r() {
      this.constructor = t
    }

    Ts(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r)
  }

  var Ss = new Pe, ws = function (t) {
      function e(e, r, i) {
        void 0 === r && (r = 100), void 0 === i && (i = 100);
        var n = t.call(this, e) || this;
        return n.tileTransform = new Ne, n._width = r, n._height = i, n.uvMatrix = e.uvMatrix || new ki(e), n.pluginName = "tilingSprite", n.uvRespectAnchor = !1, n
      }

      return Ps(e, t), Object.defineProperty(e.prototype, "clampMargin", {
        get: function () {
          return this.uvMatrix.clampMargin
        }, set: function (t) {
          this.uvMatrix.clampMargin = t, this.uvMatrix.update(!0)
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(e.prototype, "tileScale", {
        get: function () {
          return this.tileTransform.scale
        }, set: function (t) {
          this.tileTransform.scale.copyFrom(t)
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(e.prototype, "tilePosition", {
        get: function () {
          return this.tileTransform.position
        }, set: function (t) {
          this.tileTransform.position.copyFrom(t)
        }, enumerable: !1, configurable: !0
      }), e.prototype._onTextureUpdate = function () {
        this.uvMatrix && (this.uvMatrix.texture = this._texture), this._cachedTint = 16777215
      }, e.prototype._render = function (t) {
        var e = this._texture;
        e && e.valid && (this.tileTransform.updateLocalTransform(), this.uvMatrix.update(), t.batch.setObjectRenderer(t.plugins[this.pluginName]), t.plugins[this.pluginName].render(this))
      }, e.prototype._calculateBounds = function () {
        var t = this._width * -this._anchor._x, e = this._height * -this._anchor._y,
          r = this._width * (1 - this._anchor._x), i = this._height * (1 - this._anchor._y);
        this._bounds.addFrame(this.transform, t, e, r, i)
      }, e.prototype.getLocalBounds = function (e) {
        return 0 === this.children.length ? (this._bounds.minX = this._width * -this._anchor._x, this._bounds.minY = this._height * -this._anchor._y, this._bounds.maxX = this._width * (1 - this._anchor._x), this._bounds.maxY = this._height * (1 - this._anchor._y), e || (this._localBoundsRect || (this._localBoundsRect = new _e), e = this._localBoundsRect), this._bounds.getRectangle(e)) : t.prototype.getLocalBounds.call(this, e)
      }, e.prototype.containsPoint = function (t) {
        this.worldTransform.applyInverse(t, Ss);
        var e = this._width, r = this._height, i = -e * this.anchor._x;
        if (Ss.x >= i && Ss.x < i + e) {
          var n = -r * this.anchor._y;
          if (Ss.y >= n && Ss.y < n + r) return !0
        }
        return !1
      }, e.prototype.destroy = function (e) {
        t.prototype.destroy.call(this, e), this.tileTransform = null, this.uvMatrix = null
      }, e.from = function (t, r) {
        return "number" == typeof r && (ne("5.3.0", "TilingSprite.from use options instead of width and height args"), r = {
          width: r,
          height: arguments[2]
        }), new e(Rr.from(t, r), r.width, r.height)
      }, Object.defineProperty(e.prototype, "width", {
        get: function () {
          return this._width
        }, set: function (t) {
          this._width = t
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(e.prototype, "height", {
        get: function () {
          return this._height
        }, set: function (t) {
          this._height = t
        }, enumerable: !1, configurable: !0
      }), e
    }(qo),
    Is = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",
    As = "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord - floor(vTextureCoord - uClampOffset);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",
    Os = "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",
    Ms = new we, Cs = function (e) {
      function r(t) {
        var r = e.call(this, t) || this, i = {globals: r.renderer.globalUniforms};
        return r.shader = Ri.from(Is, As, i), r.simpleShader = Ri.from(Is, Os, i), r.quad = new Wr, r.state = Li.for2d(), r
      }

      return Ps(r, e), r.prototype.render = function (e) {
        var r = this.renderer, i = this.quad, n = i.vertices;
        n[0] = n[6] = e._width * -e.anchor.x, n[1] = n[3] = e._height * -e.anchor.y, n[2] = n[4] = e._width * (1 - e.anchor.x), n[5] = n[7] = e._height * (1 - e.anchor.y), e.uvRespectAnchor && ((n = i.uvs)[0] = n[6] = -e.anchor.x, n[1] = n[3] = -e.anchor.y, n[2] = n[4] = 1 - e.anchor.x, n[5] = n[7] = 1 - e.anchor.y), i.invalidate();
        var o = e._texture, s = o.baseTexture, a = e.tileTransform.localTransform, h = e.uvMatrix,
          u = s.isPowerOfTwo && o.frame.width === s.width && o.frame.height === s.height;
        u && (s._glTextures[r.CONTEXT_UID] ? u = s.wrapMode !== t.WRAP_MODES.CLAMP : s.wrapMode === t.WRAP_MODES.CLAMP && (s.wrapMode = t.WRAP_MODES.REPEAT));
        var l = u ? this.simpleShader : this.shader, c = o.width, d = o.height, p = e._width, f = e._height;
        Ms.set(a.a * c / p, a.b * c / f, a.c * d / p, a.d * d / f, a.tx / p, a.ty / f), Ms.invert(), u ? Ms.prepend(h.mapCoord) : (l.uniforms.uMapCoord = h.mapCoord.toArray(!0), l.uniforms.uClampFrame = h.uClampFrame, l.uniforms.uClampOffset = h.uClampOffset), l.uniforms.uTransform = Ms.toArray(!0), l.uniforms.uColor = Vt(e.tint, e.worldAlpha, l.uniforms.uColor, s.alphaMode), l.uniforms.translationMatrix = e.transform.worldTransform.toArray(!0), l.uniforms.uSampler = o, r.shader.bind(l), r.geometry.bind(i), this.state.blendMode = Ht(e.blendMode, s.alphaMode), r.state.set(this.state), r.geometry.draw(this.renderer.gl.TRIANGLES, 6, 0)
      }, r
    }(Qr), Ds = function (t, e) {
      return (Ds = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, e) {
        t.__proto__ = e
      } || function (t, e) {
        for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r])
      })(t, e)
    };

  function Rs(t, e) {
    function r() {
      this.constructor = t
    }

    Ds(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r)
  }

  var Ls = function () {
      function t(t, e) {
        this.uvBuffer = t, this.uvMatrix = e, this.data = null, this._bufferUpdateId = -1, this._textureUpdateId = -1, this._updateID = 0
      }

      return t.prototype.update = function (t) {
        if (t || this._bufferUpdateId !== this.uvBuffer._updateID || this._textureUpdateId !== this.uvMatrix._updateID) {
          this._bufferUpdateId = this.uvBuffer._updateID, this._textureUpdateId = this.uvMatrix._updateID;
          var e = this.uvBuffer.data;
          this.data && this.data.length === e.length || (this.data = new Float32Array(e.length)), this.uvMatrix.multiplyUvs(e, this.data), this._updateID++
        }
      }, t
    }(), Ns = new Pe, Fs = new Ee, Bs = function (e) {
      function r(r, i, n, o) {
        void 0 === o && (o = t.DRAW_MODES.TRIANGLES);
        var s = e.call(this) || this;
        return s.geometry = r, r.refCount++, s.shader = i, s.state = n || Li.for2d(), s.drawMode = o, s.start = 0, s.size = 0, s.uvs = null, s.indices = null, s.vertexData = new Float32Array(1), s.vertexDirty = 0, s._transformID = -1, s.tint = 16777215, s.blendMode = t.BLEND_MODES.NORMAL, s._roundPixels = C.ROUND_PIXELS, s.batchUvs = null, s
      }

      return Rs(r, e), Object.defineProperty(r.prototype, "uvBuffer", {
        get: function () {
          return this.geometry.buffers[1]
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(r.prototype, "verticesBuffer", {
        get: function () {
          return this.geometry.buffers[0]
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(r.prototype, "material", {
        get: function () {
          return this.shader
        }, set: function (t) {
          this.shader = t
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(r.prototype, "blendMode", {
        get: function () {
          return this.state.blendMode
        }, set: function (t) {
          this.state.blendMode = t
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(r.prototype, "roundPixels", {
        get: function () {
          return this._roundPixels
        }, set: function (t) {
          this._roundPixels !== t && (this._transformID = -1), this._roundPixels = t
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(r.prototype, "tint", {
        get: function () {
          return this.shader.tint
        }, set: function (t) {
          this.shader.tint = t
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(r.prototype, "texture", {
        get: function () {
          return this.shader.texture
        }, set: function (t) {
          this.shader.texture = t
        }, enumerable: !1, configurable: !0
      }), r.prototype._render = function (e) {
        var i = this.geometry.buffers[0].data;
        this.shader.batchable && this.drawMode === t.DRAW_MODES.TRIANGLES && i.length < 2 * r.BATCHABLE_SIZE ? this._renderToBatch(e) : this._renderDefault(e)
      }, r.prototype._renderDefault = function (t) {
        var e = this.shader;
        e.alpha = this.worldAlpha, e.update && e.update(), t.batch.flush(), e.program.uniformData.translationMatrix && (e.uniforms.translationMatrix = this.transform.worldTransform.toArray(!0)), t.shader.bind(e), t.state.set(this.state), t.geometry.bind(this.geometry, e), t.geometry.draw(this.drawMode, this.size, this.start, this.geometry.instanceCount)
      }, r.prototype._renderToBatch = function (t) {
        var e = this.geometry;
        this.shader.uvMatrix && (this.shader.uvMatrix.update(), this.calculateUvs()), this.calculateVertices(), this.indices = e.indexBuffer.data, this._tintRGB = this.shader._tintRGB, this._texture = this.shader.texture;
        var r = this.material.pluginName;
        t.batch.setObjectRenderer(t.plugins[r]), t.plugins[r].render(this)
      }, r.prototype.calculateVertices = function () {
        var t = this.geometry, e = t.buffers[0].data;
        if (t.vertexDirtyId !== this.vertexDirty || this._transformID !== this.transform._worldID) {
          this._transformID = this.transform._worldID, this.vertexData.length !== e.length && (this.vertexData = new Float32Array(e.length));
          for (var r = this.transform.worldTransform, i = r.a, n = r.b, o = r.c, s = r.d, a = r.tx, h = r.ty, u = this.vertexData, l = 0; l < u.length / 2; l++) {
            var c = e[2 * l], d = e[2 * l + 1];
            u[2 * l] = i * c + o * d + a, u[2 * l + 1] = n * c + s * d + h
          }
          if (this._roundPixels) {
            var p = C.RESOLUTION;
            for (l = 0; l < u.length; ++l) u[l] = Math.round((u[l] * p | 0) / p)
          }
          this.vertexDirty = t.vertexDirtyId
        }
      }, r.prototype.calculateUvs = function () {
        var t = this.geometry.buffers[1];
        this.shader.uvMatrix.isSimple ? this.uvs = t.data : (this.batchUvs || (this.batchUvs = new Ls(t, this.shader.uvMatrix)), this.batchUvs.update(), this.uvs = this.batchUvs.data)
      }, r.prototype._calculateBounds = function () {
        this.calculateVertices(), this._bounds.addVertexData(this.vertexData, 0, this.vertexData.length)
      }, r.prototype.containsPoint = function (t) {
        if (!this.getBounds().contains(t.x, t.y)) return !1;
        this.worldTransform.applyInverse(t, Ns);
        for (var e = this.geometry.getBuffer("aVertexPosition").data, r = Fs.points, i = this.geometry.getIndex().data, n = i.length, o = 4 === this.drawMode ? 3 : 1, s = 0; s + 2 < n; s += o) {
          var a = 2 * i[s], h = 2 * i[s + 1], u = 2 * i[s + 2];
          if (r[0] = e[a], r[1] = e[a + 1], r[2] = e[h], r[3] = e[h + 1], r[4] = e[u], r[5] = e[u + 1], Fs.contains(Ns.x, Ns.y)) return !0
        }
        return !1
      }, r.prototype.destroy = function (t) {
        e.prototype.destroy.call(this, t), this.geometry.refCount--, 0 === this.geometry.refCount && this.geometry.dispose(), this.geometry = null, this.shader = null, this.state = null, this.uvs = null, this.indices = null, this.vertexData = null
      }, r.BATCHABLE_SIZE = 100, r
    }(Ge),
    Us = "varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n",
    ks = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n",
    Xs = function (t) {
      function e(e, r) {
        var i = this, n = {uSampler: e, alpha: 1, uTextureMatrix: we.IDENTITY, uColor: new Float32Array([1, 1, 1, 1])};
        return (r = Object.assign({
          tint: 16777215,
          alpha: 1,
          pluginName: "batch"
        }, r)).uniforms && Object.assign(n, r.uniforms), (i = t.call(this, r.program || Di.from(ks, Us), n) || this)._colorDirty = !1, i.uvMatrix = new ki(e), i.batchable = void 0 === r.program, i.pluginName = r.pluginName, i.tint = r.tint, i.alpha = r.alpha, i
      }

      return Rs(e, t), Object.defineProperty(e.prototype, "texture", {
        get: function () {
          return this.uniforms.uSampler
        }, set: function (t) {
          this.uniforms.uSampler !== t && (this.uniforms.uSampler = t, this.uvMatrix.texture = t)
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(e.prototype, "alpha", {
        get: function () {
          return this._alpha
        }, set: function (t) {
          t !== this._alpha && (this._alpha = t, this._colorDirty = !0)
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(e.prototype, "tint", {
        get: function () {
          return this._tint
        }, set: function (t) {
          t !== this._tint && (this._tint = t, this._tintRGB = (t >> 16) + (65280 & t) + ((255 & t) << 16), this._colorDirty = !0)
        }, enumerable: !1, configurable: !0
      }), e.prototype.update = function () {
        if (this._colorDirty) {
          this._colorDirty = !1;
          var t = this.texture.baseTexture;
          Vt(this._tint, this._alpha, this.uniforms.uColor, t.alphaMode)
        }
        this.uvMatrix.update() && (this.uniforms.uTextureMatrix = this.uvMatrix.mapCoord)
      }, e
    }(Ri), js = function (e) {
      function r(r, i, n) {
        var o = e.call(this) || this, s = new kr(r), a = new kr(i, !0), h = new kr(n, !0, !0);
        return o.addAttribute("aVertexPosition", s, 2, !1, t.TYPES.FLOAT).addAttribute("aTextureCoord", a, 2, !1, t.TYPES.FLOAT).addIndex(h), o._updateId = -1, o
      }

      return Rs(r, e), Object.defineProperty(r.prototype, "vertexDirtyId", {
        get: function () {
          return this.buffers[0]._updateID
        }, enumerable: !1, configurable: !0
      }), r
    }(zr), Gs = function (t, e) {
      return (Gs = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, e) {
        t.__proto__ = e
      } || function (t, e) {
        for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r])
      })(t, e)
    };
  var Hs = function () {
    return function () {
      this.info = [], this.common = [], this.page = [], this.char = [], this.kerning = []
    }
  }(), Ys = [function () {
    function t() {
    }

    return t.test = function (t) {
      return "string" == typeof t && 0 === t.indexOf("info face=")
    }, t.parse = function (t) {
      var e = t.match(/^[a-z]+\s+.+$/gm), r = {info: [], common: [], page: [], char: [], chars: [], kerning: []};
      for (var i in e) {
        var n = e[i].match(/^[a-z]+/gm)[0], o = e[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm), s = {};
        for (var a in o) {
          var h = o[a].split("="), u = h[0], l = h[1].replace(/"/gm, ""), c = parseFloat(l), d = isNaN(c) ? l : c;
          s[u] = d
        }
        r[n].push(s)
      }
      var p = new Hs;
      return r.info.forEach(function (t) {
        return p.info.push({face: t.face, size: parseInt(t.size, 10)})
      }), r.common.forEach(function (t) {
        return p.common.push({lineHeight: parseInt(t.lineHeight, 10)})
      }), r.page.forEach(function (t) {
        return p.page.push({id: parseInt(t.id, 10), file: t.file})
      }), r.char.forEach(function (t) {
        return p.char.push({
          id: parseInt(t.id, 10),
          page: parseInt(t.page, 10),
          x: parseInt(t.x, 10),
          y: parseInt(t.y, 10),
          width: parseInt(t.width, 10),
          height: parseInt(t.height, 10),
          xoffset: parseInt(t.xoffset, 10),
          yoffset: parseInt(t.yoffset, 10),
          xadvance: parseInt(t.xadvance, 10)
        })
      }), r.kerning.forEach(function (t) {
        return p.kerning.push({
          first: parseInt(t.first, 10),
          second: parseInt(t.second, 10),
          amount: parseInt(t.amount, 10)
        })
      }), p
    }, t
  }(), function () {
    function t() {
    }

    return t.test = function (t) {
      return t instanceof XMLDocument && t.getElementsByTagName("page").length && null !== t.getElementsByTagName("info")[0].getAttribute("face")
    }, t.parse = function (t) {
      for (var e = new Hs, r = t.getElementsByTagName("info"), i = t.getElementsByTagName("common"), n = t.getElementsByTagName("page"), o = t.getElementsByTagName("char"), s = t.getElementsByTagName("kerning"), a = 0; a < r.length; a++) e.info.push({
        face: r[a].getAttribute("face"),
        size: parseInt(r[a].getAttribute("size"), 10)
      });
      for (a = 0; a < i.length; a++) e.common.push({lineHeight: parseInt(i[a].getAttribute("lineHeight"), 10)});
      for (a = 0; a < n.length; a++) e.page.push({
        id: parseInt(n[a].getAttribute("id"), 10) || 0,
        file: n[a].getAttribute("file")
      });
      for (a = 0; a < o.length; a++) {
        var h = o[a];
        e.char.push({
          id: parseInt(h.getAttribute("id"), 10),
          page: parseInt(h.getAttribute("page"), 10) || 0,
          x: parseInt(h.getAttribute("x"), 10),
          y: parseInt(h.getAttribute("y"), 10),
          width: parseInt(h.getAttribute("width"), 10),
          height: parseInt(h.getAttribute("height"), 10),
          xoffset: parseInt(h.getAttribute("xoffset"), 10),
          yoffset: parseInt(h.getAttribute("yoffset"), 10),
          xadvance: parseInt(h.getAttribute("xadvance"), 10)
        })
      }
      for (a = 0; a < s.length; a++) e.kerning.push({
        first: parseInt(s[a].getAttribute("first"), 10),
        second: parseInt(s[a].getAttribute("second"), 10),
        amount: parseInt(s[a].getAttribute("amount"), 10)
      });
      return e
    }, t
  }()];

  function zs(t) {
    for (var e = 0; e < Ys.length; e++) if (Ys[e].test(t)) return Ys[e];
    return null
  }

  function Vs(e, r, i, n, o, s) {
    var a, h = i.fill;
    if (!Array.isArray(h)) return h;
    if (1 === h.length) return h[0];
    var u = i.dropShadow ? i.dropShadowDistance : 0, l = i.padding || 0, c = Math.ceil(e.width / n) - u - 2 * l,
      d = Math.ceil(e.height / n) - u - 2 * l, p = h.slice(), f = i.fillGradientStops.slice();
    if (!f.length) for (var m = p.length + 1, v = 1; v < m; ++v) f.push(v / m);
    if (p.unshift(h[0]), f.unshift(0), p.push(h[h.length - 1]), f.push(1), i.fillGradientType === t.TEXT_GRADIENT.LINEAR_VERTICAL) {
      a = r.createLinearGradient(c / 2, l, c / 2, d + l);
      var y = 0, g = (s.fontProperties.fontSize + i.strokeThickness) / d;
      for (v = 0; v < o.length; v++) for (var _ = s.lineHeight * v, x = 0; x < p.length; x++) {
        var b = _ / d + ("number" == typeof f[x] ? f[x] : x / p.length) * g, E = Math.max(y, b);
        E = Math.min(E, 1), a.addColorStop(E, p[x]), y = E
      }
    } else {
      a = r.createLinearGradient(l, d / 2, c + l, d / 2);
      var T = p.length + 1, P = 1;
      for (v = 0; v < p.length; v++) {
        var S = void 0;
        S = "number" == typeof f[v] ? f[v] : P / T, a.addColorStop(S, p[v]), P++
      }
    }
    return a
  }

  function Ws(t, e, r, i, n, o, s) {
    var a = r.text, h = r.fontProperties;
    e.translate(i, n), e.scale(o, o);
    var u = s.strokeThickness / 2, l = -s.strokeThickness / 2;
    e.font = s.toFontString(), e.lineWidth = s.strokeThickness, e.textBaseline = s.textBaseline, e.lineJoin = s.lineJoin, e.miterLimit = s.miterLimit, e.fillStyle = Vs(t, e, s, o, [a], r), e.strokeStyle = s.stroke, e.font = s.toFontString(), e.lineWidth = s.strokeThickness, e.textBaseline = s.textBaseline, e.lineJoin = s.lineJoin, e.miterLimit = s.miterLimit, e.fillStyle = Vs(t, e, s, o, [a], r), e.strokeStyle = s.stroke;
    var c = s.dropShadowColor, d = kt("number" == typeof c ? c : jt(c));
    s.dropShadow ? (e.shadowColor = "rgba(" + 255 * d[0] + "," + 255 * d[1] + "," + 255 * d[2] + "," + s.dropShadowAlpha + ")", e.shadowBlur = s.dropShadowBlur, e.shadowOffsetX = Math.cos(s.dropShadowAngle) * s.dropShadowDistance, e.shadowOffsetY = Math.sin(s.dropShadowAngle) * s.dropShadowDistance) : (e.shadowColor = "0", e.shadowBlur = 0, e.shadowOffsetX = 0, e.shadowOffsetY = 0), s.stroke && s.strokeThickness && e.strokeText(a, u, l + r.lineHeight - h.descent), s.fill && e.fillText(a, u, l + r.lineHeight - h.descent), e.setTransform(), e.fillStyle = "rgba(0, 0, 0, 0)"
  }

  var qs = function () {
    function t(t, e) {
      var r = t.info[0], i = t.common[0], n = pe(t.page[0].file), o = {};
      for (var s in this.font = r.face, this.size = r.size, this.lineHeight = i.lineHeight / n, this.chars = {}, this.pageTextures = o, t.page) {
        var a = t.page[s], h = a.id, u = a.file;
        o[h] = e instanceof Array ? e[s] : e[u]
      }
      for (var s in t.char) {
        var l = t.char[s], c = (h = l.id, l.page), d = t.char[s], p = d.x, f = d.y, m = d.width, v = d.height,
          y = d.xoffset, g = d.yoffset, _ = d.xadvance;
        f /= n, m /= n, v /= n, y /= n, g /= n, _ /= n;
        var x = new _e((p /= n) + o[c].frame.x / n, f + o[c].frame.y / n, m, v);
        this.chars[h] = {
          xOffset: y,
          yOffset: g,
          xAdvance: _,
          kerning: {},
          texture: new Rr(o[c].baseTexture, x),
          page: c
        }
      }
      for (var s in t.kerning) {
        var b = t.kerning[s], E = b.first, T = b.second, P = b.amount;
        E /= n, T /= n, P /= n, this.chars[T] && (this.chars[T].kerning[E] = P)
      }
    }

    return t.prototype.destroy = function () {
      for (var t in this.chars) this.chars[t].texture.destroy(), this.chars[t].texture = null;
      for (var t in this.pageTextures) this.pageTextures[t].destroy(!0), this.pageTextures[t] = null;
      this.chars = null, this.pageTextures = null
    }, t.install = function (e, r) {
      var i;
      if (e instanceof Hs) i = e; else {
        var n = zs(e);
        if (!n) throw new Error("Unrecognized data format for font.");
        i = n.parse(e)
      }
      r instanceof Rr && (r = [r]);
      var o = new t(i, r);
      return t.available[o.font] = o, o
    }, t.uninstall = function (e) {
      var r = t.available[e];
      if (!r) throw new Error("No font found named '" + e + "'");
      r.destroy(), delete t.available[e]
    }, t.from = function (e, r, i) {
      if (!e) throw new Error("[BitmapFont] Property `name` is required.");
      var n = Object.assign({}, t.defaultOptions, i), o = n.chars, s = n.padding, a = n.resolution, h = n.textureWidth,
        u = n.textureHeight, l = function (t) {
          "string" == typeof t && (t = [t]);
          for (var e = [], r = 0, i = t.length; r < i; r++) {
            var n = t[r];
            if (Array.isArray(n)) {
              if (2 !== n.length) throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got " + n.length + ".");
              var o = n[0].charCodeAt(0), s = n[1].charCodeAt(0);
              if (s < o) throw new Error("[BitmapFont]: Invalid character range.");
              for (var a = o, h = s; a <= h; a++) e.push(String.fromCharCode(a))
            } else e.push.apply(e, n.split(""))
          }
          if (0 === e.length) throw new Error("[BitmapFont]: Empty set when resolving characters.");
          return e
        }(o), c = r instanceof Qo ? r : new Qo(r), d = h, p = new Hs;
      p.info[0] = {face: c.fontFamily, size: c.fontSize}, p.common[0] = {lineHeight: c.fontSize};
      for (var f, m, v, y = 0, g = 0, _ = 0, x = [], b = 0; b < l.length; b++) {
        f || ((f = document.createElement("canvas")).width = h, f.height = u, m = f.getContext("2d"), v = new vr(f, {resolution: a}), x.push(new Rr(v)), p.page.push({
          id: x.length - 1,
          file: ""
        }));
        var E = rs.measureText(l[b], c, !1, f), T = E.width, P = Math.ceil(E.height),
          S = Math.ceil(("italic" === c.fontStyle ? 2 : 1) * T);
        if (g >= u - P * a) {
          if (0 === g) throw new Error("[BitmapFont] textureHeight " + u + "px is too small for " + c.fontSize + "px fonts");
          f = null, m = null, v = null, g = 0, y = 0, _ = 0
        } else if (_ = Math.max(P + E.fontProperties.descent, _), S * a + y >= d) --b, g += _ * a, g = Math.ceil(g), y = 0, _ = 0; else {
          Ws(f, m, E, y, g, a, c);
          var w = E.text.charCodeAt(0);
          p.char[w] = {
            id: w,
            page: x.length - 1,
            x: y / a,
            y: g / a,
            width: S,
            height: P,
            xoffset: 0,
            yoffset: 0,
            xadvance: Math.ceil(T - (c.dropShadow ? c.dropShadowDistance : 0) - (c.stroke ? c.strokeThickness : 0))
          }, y += (S + 2 * s) * a, y = Math.ceil(y)
        }
      }
      var I = new t(p, x);
      return void 0 !== t.available[e] && t.uninstall(e), t.available[e] = I, I
    }, t.ALPHA = [["a", "z"], ["A", "Z"], " "], t.NUMERIC = [["0", "9"]], t.ALPHANUMERIC = [["a", "z"], ["A", "Z"], ["0", "9"], " "], t.ASCII = [[" ", "~"]], t.defaultOptions = {
      resolution: 1,
      textureWidth: 512,
      textureHeight: 512,
      padding: 4,
      chars: t.ALPHANUMERIC
    }, t.available = {}, t
  }(), Ks = [], Zs = [], Js = function (t) {
    function e(r, i) {
      void 0 === i && (i = {});
      var n = t.call(this) || this;
      n._tint = 16777215, i.font && (ne("5.3.0", "PIXI.BitmapText constructor style.font property is deprecated."), n._upgradeStyle(i));
      var o = Object.assign({}, e.styleDefaults, i), s = o.align, a = o.tint, h = o.maxWidth, u = o.letterSpacing,
        l = o.fontName, c = o.fontSize;
      if (!qs.available[l]) throw new Error('Missing BitmapFont "' + l + '"');
      return n._activePagesMeshData = [], n._textWidth = 0, n._textHeight = 0, n._align = s, n._tint = a, n._fontName = l, n._fontSize = c || qs.available[l].size, n._text = r, n._maxWidth = h, n._maxLineHeight = 0, n._letterSpacing = u, n._anchor = new Se(function () {
        n.dirty = !0
      }, n, 0, 0), n.roundPixels = C.ROUND_PIXELS, n.dirty = !0, n
    }

    return function (t, e) {
      function r() {
        this.constructor = t
      }

      Gs(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r)
    }(e, t), e.prototype.updateText = function () {
      for (var t, e = qs.available[this._fontName], r = this._fontSize / e.size, i = new Pe, n = [], o = [], s = this._text.replace(/(?:\r\n|\r)/g, "\n") || " ", a = s.length, h = this._maxWidth * e.size / this._fontSize, u = null, l = 0, c = 0, d = 0, p = -1, f = 0, m = 0, v = 0, y = 0; y < a; y++) {
        var g = s.charCodeAt(y), _ = s.charAt(y);
        if (/(?:\s)/.test(_) && (p = y, f = l), "\r" !== _ && "\n" !== _) {
          var x = e.chars[g];
          if (x) {
            u && x.kerning[u] && (i.x += x.kerning[u]);
            var b = Zs.pop() || {texture: Rr.EMPTY, line: 0, charCode: 0, position: new Pe};
            b.texture = x.texture, b.line = d, b.charCode = g, b.position.x = i.x + x.xOffset + this._letterSpacing / 2, b.position.y = i.y + x.yOffset, n.push(b), i.x += x.xAdvance + this._letterSpacing, l = i.x, v = Math.max(v, x.yOffset + x.texture.height), u = g, -1 !== p && h > 0 && i.x > h && ($t(n, 1 + p - ++m, 1 + y - p), y = p, p = -1, o.push(f), c = Math.max(c, f), d++, i.x = 0, i.y += e.lineHeight, u = null)
          }
        } else o.push(l), c = Math.max(c, l), ++d, ++m, i.x = 0, i.y += e.lineHeight, u = null
      }
      var E = s.charAt(s.length - 1);
      "\r" !== E && "\n" !== E && (/(?:\s)/.test(E) && (l = f), o.push(l), c = Math.max(c, l));
      var T = [];
      for (y = 0; y <= d; y++) {
        var P = 0;
        "right" === this._align ? P = c - o[y] : "center" === this._align && (P = (c - o[y]) / 2), T.push(P)
      }
      var S = n.length, w = {}, I = [], A = this._activePagesMeshData;
      for (y = 0; y < A.length; y++) Ks.push(A[y]);
      for (y = 0; y < S; y++) {
        var O = (R = n[y].texture).baseTexture.uid;
        if (!w[O]) {
          if (!(X = Ks.pop())) {
            var M = new js, C = new Xs(Rr.EMPTY);
            X = {
              index: 0,
              indexCount: 0,
              vertexCount: 0,
              uvsCount: 0,
              total: 0,
              mesh: new Bs(M, C),
              vertices: null,
              uvs: null,
              indices: null
            }
          }
          X.index = 0, X.indexCount = 0, X.vertexCount = 0, X.uvsCount = 0, X.total = 0, X.mesh.texture = new Rr(R.baseTexture), X.mesh.tint = this._tint, I.push(X), w[O] = X
        }
        w[O].total++
      }
      for (y = 0; y < A.length; y++) -1 === I.indexOf(A[y]) && this.removeChild(A[y].mesh);
      for (y = 0; y < I.length; y++) I[y].mesh.parent !== this && this.addChild(I[y].mesh);
      for (var y in this._activePagesMeshData = I, w) {
        var D = (X = w[y]).total;
        (null === (t = X.indices) || void 0 === t ? void 0 : t.length) > 6 * D && !(X.vertices.length < 2 * Bs.BATCHABLE_SIZE) || (X.vertices = new Float32Array(8 * D), X.uvs = new Float32Array(8 * D), X.indices = new Uint16Array(6 * D)), X.mesh.size = 6 * D
      }
      for (y = 0; y < S; y++) {
        var R, L = ((_ = n[y]).position.x + T[_.line]) * r, N = _.position.y * r,
          F = w[(R = _.texture).baseTexture.uid], B = R.frame, U = R._uvs, k = F.index++;
        F.indices[6 * k + 0] = 0 + 4 * k, F.indices[6 * k + 1] = 1 + 4 * k, F.indices[6 * k + 2] = 2 + 4 * k, F.indices[6 * k + 3] = 0 + 4 * k, F.indices[6 * k + 4] = 2 + 4 * k, F.indices[6 * k + 5] = 3 + 4 * k, F.vertices[8 * k + 0] = L, F.vertices[8 * k + 1] = N, F.vertices[8 * k + 2] = L + B.width * r, F.vertices[8 * k + 3] = N, F.vertices[8 * k + 4] = L + B.width * r, F.vertices[8 * k + 5] = N + B.height * r, F.vertices[8 * k + 6] = L, F.vertices[8 * k + 7] = N + B.height * r, F.uvs[8 * k + 0] = U.x0, F.uvs[8 * k + 1] = U.y0, F.uvs[8 * k + 2] = U.x1, F.uvs[8 * k + 3] = U.y1, F.uvs[8 * k + 4] = U.x2, F.uvs[8 * k + 5] = U.y2, F.uvs[8 * k + 6] = U.x3, F.uvs[8 * k + 7] = U.y3
      }
      for (var y in this._textWidth = c * r, this._textHeight = (i.y + e.lineHeight) * r, w) {
        var X = w[y];
        if (0 !== this.anchor.x || 0 !== this.anchor.y) for (var j = 0, G = this._textWidth * this.anchor.x, H = this._textHeight * this.anchor.y, Y = 0; Y < X.total; Y++) X.vertices[j++] -= G, X.vertices[j++] -= H, X.vertices[j++] -= G, X.vertices[j++] -= H, X.vertices[j++] -= G, X.vertices[j++] -= H, X.vertices[j++] -= G, X.vertices[j++] -= H;
        this._maxLineHeight = v * r;
        var z = X.mesh.geometry.getBuffer("aVertexPosition"), V = X.mesh.geometry.getBuffer("aTextureCoord"),
          W = X.mesh.geometry.getIndex();
        z.data = X.vertices, V.data = X.uvs, W.data = X.indices, z.update(), V.update(), W.update()
      }
      for (y = 0; y < n.length; y++) Zs.push(n[y])
    }, e.prototype.updateTransform = function () {
      this.validate(), this.containerUpdateTransform()
    }, e.prototype.getLocalBounds = function () {
      return this.validate(), t.prototype.getLocalBounds.call(this)
    }, e.prototype.validate = function () {
      this.dirty && (this.updateText(), this.dirty = !1)
    }, Object.defineProperty(e.prototype, "tint", {
      get: function () {
        return this._tint
      }, set: function (t) {
        if (this._tint !== t) {
          this._tint = t;
          for (var e = 0; e < this._activePagesMeshData.length; e++) this._activePagesMeshData[e].mesh.tint = t
        }
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "align", {
      get: function () {
        return this._align
      }, set: function (t) {
        this._align !== t && (this._align = t, this.dirty = !0)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "fontName", {
      get: function () {
        return this._fontName
      }, set: function (t) {
        if (!qs.available[t]) throw new Error('Missing BitmapFont "' + t + '"');
        this._fontName !== t && (this._fontName = t, this.dirty = !0)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "fontSize", {
      get: function () {
        return this._fontSize
      }, set: function (t) {
        this._fontSize !== t && (this._fontSize = t, this.dirty = !0)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "anchor", {
      get: function () {
        return this._anchor
      }, set: function (t) {
        "number" == typeof t ? this._anchor.set(t) : this._anchor.copyFrom(t)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "text", {
      get: function () {
        return this._text
      }, set: function (t) {
        t = String(null == t ? "" : t), this._text !== t && (this._text = t, this.dirty = !0)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "maxWidth", {
      get: function () {
        return this._maxWidth
      }, set: function (t) {
        this._maxWidth !== t && (this._maxWidth = t, this.dirty = !0)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "maxLineHeight", {
      get: function () {
        return this.validate(), this._maxLineHeight
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "textWidth", {
      get: function () {
        return this.validate(), this._textWidth
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "letterSpacing", {
      get: function () {
        return this._letterSpacing
      }, set: function (t) {
        this._letterSpacing !== t && (this._letterSpacing = t, this.dirty = !0)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "textHeight", {
      get: function () {
        return this.validate(), this._textHeight
      }, enumerable: !1, configurable: !0
    }), e.prototype._upgradeStyle = function (t) {
      if ("string" == typeof t.font) {
        var e = t.font.split(" ");
        t.fontName = 1 === e.length ? e[0] : e.slice(1).join(" "), e.length >= 2 && (t.fontSize = parseInt(e[0], 10))
      } else t.fontName = t.font.name, t.fontSize = "number" == typeof t.font.size ? t.font.size : parseInt(t.font.size, 10)
    }, e.registerFont = function (t, e) {
      return ne("5.3.0", "PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"), qs.install(t, e)
    }, Object.defineProperty(e, "fonts", {
      get: function () {
        return ne("5.3.0", "PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"), qs.available
      }, enumerable: !1, configurable: !0
    }), e.styleDefaults = {align: "left", tint: 16777215, maxWidth: 0, letterSpacing: 0}, e
  }(Ge), Qs = function () {
    function t() {
    }

    return t.add = function () {
      Qn.setExtensionXhrType("fnt", Qn.XHR_RESPONSE_TYPE.DOCUMENT)
    }, t.use = function (e, r) {
      var i = zs(e.data);
      if (i) for (var n = t.getBaseUrl(this, e), o = i.parse(e.data), s = {}, a = function (t) {
        s[t.metadata.pageFile] = t.texture, Object.keys(s).length === o.page.length && (e.bitmapFont = qs.install(o, s), r())
      }, h = 0; h < o.page.length; ++h) {
        var u = o.page[h].file, l = n + u, c = !1;
        for (var d in this.resources) {
          var p = this.resources[d];
          if (p.url === l) {
            p.metadata.pageFile = u, p.texture ? a(p) : p.onAfterMiddleware.add(a), c = !0;
            break
          }
        }
        if (!c) {
          var f = {
            crossOrigin: e.crossOrigin,
            loadType: Qn.LOAD_TYPE.IMAGE,
            metadata: Object.assign({pageFile: u}, e.metadata.imageMetadata),
            parentResource: e
          };
          this.add(l, f, a)
        }
      } else r()
    }, t.getBaseUrl = function (e, r) {
      var i = r.isDataUrl ? "" : t.dirname(r.url);
      return r.isDataUrl && ("." === i && (i = ""), e.baseUrl && i && "/" === e.baseUrl.charAt(e.baseUrl.length - 1) && (i += "/")), (i = i.replace(e.baseUrl, "")) && "/" !== i.charAt(i.length - 1) && (i += "/"), i
    }, t.dirname = function (t) {
      var e = t.replace(/\\/g, "/").replace(/\/$/, "").replace(/\/[^\/]*$/, "");
      return e === t ? "." : "" === e ? "/" : e
    }, t
  }(), $s = function (t, e) {
    return ($s = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, e) {
      t.__proto__ = e
    } || function (t, e) {
      for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r])
    })(t, e)
  };
  var ta = "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",
    ea = function (t) {
      function e(e) {
        void 0 === e && (e = 1);
        var r = t.call(this, vn, ta, {uAlpha: 1}) || this;
        return r.alpha = e, r
      }

      return function (t, e) {
        function r() {
          this.constructor = t
        }

        $s(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r)
      }(e, t), Object.defineProperty(e.prototype, "alpha", {
        get: function () {
          return this.uniforms.uAlpha
        }, set: function (t) {
          this.uniforms.uAlpha = t
        }, enumerable: !1, configurable: !0
      }), e
    }(Ni), ra = function (t, e) {
      return (ra = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, e) {
        t.__proto__ = e
      } || function (t, e) {
        for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r])
      })(t, e)
    };

  function ia(t, e) {
    function r() {
      this.constructor = t
    }

    ra(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r)
  }

  var na = "\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";
  var oa, sa, aa, ha, ua, la, ca, da, pa, fa, ma, va, ya, ga, _a, xa, ba, Ea = {
      5: [.153388, .221461, .250301],
      7: [.071303, .131514, .189879, .214607],
      9: [.028532, .067234, .124009, .179044, .20236],
      11: [.0093, .028002, .065984, .121703, .175713, .198596],
      13: [.002406, .009255, .027867, .065666, .121117, .174868, .197641],
      15: [489e-6, .002403, .009246, .02784, .065602, .120999, .174697, .197448]
    },
    Ta = ["varying vec2 vBlurTexCoords[%size%];", "uniform sampler2D uSampler;", "void main(void)", "{", "    gl_FragColor = vec4(0.0);", "    %blur%", "}"].join("\n");
  !function (t) {
    t[t.WEBGL_LEGACY = 0] = "WEBGL_LEGACY", t[t.WEBGL = 1] = "WEBGL", t[t.WEBGL2 = 2] = "WEBGL2"
  }(oa || (oa = {})), function (t) {
    t[t.UNKNOWN = 0] = "UNKNOWN", t[t.WEBGL = 1] = "WEBGL", t[t.CANVAS = 2] = "CANVAS"
  }(sa || (sa = {})), function (t) {
    t[t.COLOR = 16384] = "COLOR", t[t.DEPTH = 256] = "DEPTH", t[t.STENCIL = 1024] = "STENCIL"
  }(aa || (aa = {})), function (t) {
    t[t.NORMAL = 0] = "NORMAL", t[t.ADD = 1] = "ADD", t[t.MULTIPLY = 2] = "MULTIPLY", t[t.SCREEN = 3] = "SCREEN", t[t.OVERLAY = 4] = "OVERLAY", t[t.DARKEN = 5] = "DARKEN", t[t.LIGHTEN = 6] = "LIGHTEN", t[t.COLOR_DODGE = 7] = "COLOR_DODGE", t[t.COLOR_BURN = 8] = "COLOR_BURN", t[t.HARD_LIGHT = 9] = "HARD_LIGHT", t[t.SOFT_LIGHT = 10] = "SOFT_LIGHT", t[t.DIFFERENCE = 11] = "DIFFERENCE", t[t.EXCLUSION = 12] = "EXCLUSION", t[t.HUE = 13] = "HUE", t[t.SATURATION = 14] = "SATURATION", t[t.COLOR = 15] = "COLOR", t[t.LUMINOSITY = 16] = "LUMINOSITY", t[t.NORMAL_NPM = 17] = "NORMAL_NPM", t[t.ADD_NPM = 18] = "ADD_NPM", t[t.SCREEN_NPM = 19] = "SCREEN_NPM", t[t.NONE = 20] = "NONE", t[t.SRC_OVER = 0] = "SRC_OVER", t[t.SRC_IN = 21] = "SRC_IN", t[t.SRC_OUT = 22] = "SRC_OUT", t[t.SRC_ATOP = 23] = "SRC_ATOP", t[t.DST_OVER = 24] = "DST_OVER", t[t.DST_IN = 25] = "DST_IN", t[t.DST_OUT = 26] = "DST_OUT", t[t.DST_ATOP = 27] = "DST_ATOP", t[t.ERASE = 26] = "ERASE", t[t.SUBTRACT = 28] = "SUBTRACT", t[t.XOR = 29] = "XOR"
  }(ha || (ha = {})), function (t) {
    t[t.POINTS = 0] = "POINTS", t[t.LINES = 1] = "LINES", t[t.LINE_LOOP = 2] = "LINE_LOOP", t[t.LINE_STRIP = 3] = "LINE_STRIP", t[t.TRIANGLES = 4] = "TRIANGLES", t[t.TRIANGLE_STRIP = 5] = "TRIANGLE_STRIP", t[t.TRIANGLE_FAN = 6] = "TRIANGLE_FAN"
  }(ua || (ua = {})), function (t) {
    t[t.RGBA = 6408] = "RGBA", t[t.RGB = 6407] = "RGB", t[t.ALPHA = 6406] = "ALPHA", t[t.LUMINANCE = 6409] = "LUMINANCE", t[t.LUMINANCE_ALPHA = 6410] = "LUMINANCE_ALPHA", t[t.DEPTH_COMPONENT = 6402] = "DEPTH_COMPONENT", t[t.DEPTH_STENCIL = 34041] = "DEPTH_STENCIL"
  }(la || (la = {})), function (t) {
    t[t.TEXTURE_2D = 3553] = "TEXTURE_2D", t[t.TEXTURE_CUBE_MAP = 34067] = "TEXTURE_CUBE_MAP", t[t.TEXTURE_2D_ARRAY = 35866] = "TEXTURE_2D_ARRAY", t[t.TEXTURE_CUBE_MAP_POSITIVE_X = 34069] = "TEXTURE_CUBE_MAP_POSITIVE_X", t[t.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070] = "TEXTURE_CUBE_MAP_NEGATIVE_X", t[t.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071] = "TEXTURE_CUBE_MAP_POSITIVE_Y", t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072] = "TEXTURE_CUBE_MAP_NEGATIVE_Y", t[t.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073] = "TEXTURE_CUBE_MAP_POSITIVE_Z", t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074] = "TEXTURE_CUBE_MAP_NEGATIVE_Z"
  }(ca || (ca = {})), function (t) {
    t[t.UNSIGNED_BYTE = 5121] = "UNSIGNED_BYTE", t[t.UNSIGNED_SHORT = 5123] = "UNSIGNED_SHORT", t[t.UNSIGNED_SHORT_5_6_5 = 33635] = "UNSIGNED_SHORT_5_6_5", t[t.UNSIGNED_SHORT_4_4_4_4 = 32819] = "UNSIGNED_SHORT_4_4_4_4", t[t.UNSIGNED_SHORT_5_5_5_1 = 32820] = "UNSIGNED_SHORT_5_5_5_1", t[t.FLOAT = 5126] = "FLOAT", t[t.HALF_FLOAT = 36193] = "HALF_FLOAT"
  }(da || (da = {})), function (t) {
    t[t.NEAREST = 0] = "NEAREST", t[t.LINEAR = 1] = "LINEAR"
  }(pa || (pa = {})), function (t) {
    t[t.CLAMP = 33071] = "CLAMP", t[t.REPEAT = 10497] = "REPEAT", t[t.MIRRORED_REPEAT = 33648] = "MIRRORED_REPEAT"
  }(fa || (fa = {})), function (t) {
    t[t.OFF = 0] = "OFF", t[t.POW2 = 1] = "POW2", t[t.ON = 2] = "ON"
  }(ma || (ma = {})), function (t) {
    t[t.NPM = 0] = "NPM", t[t.UNPACK = 1] = "UNPACK", t[t.PMA = 2] = "PMA", t[t.NO_PREMULTIPLIED_ALPHA = 0] = "NO_PREMULTIPLIED_ALPHA", t[t.PREMULTIPLY_ON_UPLOAD = 1] = "PREMULTIPLY_ON_UPLOAD", t[t.PREMULTIPLY_ALPHA = 2] = "PREMULTIPLY_ALPHA"
  }(va || (va = {})), function (t) {
    t[t.NO = 0] = "NO", t[t.YES = 1] = "YES", t[t.AUTO = 2] = "AUTO", t[t.BLEND = 0] = "BLEND", t[t.CLEAR = 1] = "CLEAR", t[t.BLIT = 2] = "BLIT"
  }(ya || (ya = {})), function (t) {
    t[t.AUTO = 0] = "AUTO", t[t.MANUAL = 1] = "MANUAL"
  }(ga || (ga = {})), function (t) {
    t.LOW = "lowp", t.MEDIUM = "mediump", t.HIGH = "highp"
  }(_a || (_a = {})), function (t) {
    t[t.NONE = 0] = "NONE", t[t.SCISSOR = 1] = "SCISSOR", t[t.STENCIL = 2] = "STENCIL", t[t.SPRITE = 3] = "SPRITE"
  }(xa || (xa = {})), function (t) {
    t[t.NONE = 0] = "NONE", t[t.LOW = 2] = "LOW", t[t.MEDIUM = 4] = "MEDIUM", t[t.HIGH = 8] = "HIGH"
  }(ba || (ba = {}));
  var Pa = function (t) {
    function e(e, r, i, n, o) {
      void 0 === r && (r = 8), void 0 === i && (i = 4), void 0 === n && (n = C.RESOLUTION), void 0 === o && (o = 5);
      var s = this, a = function (t, e) {
        var r, i = Math.ceil(t / 2), n = na, o = "";
        r = e ? "vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);" : "vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";
        for (var s = 0; s < t; s++) {
          var a = r.replace("%index%", s.toString());
          o += a = a.replace("%sampleIndex%", s - (i - 1) + ".0"), o += "\n"
        }
        return n = (n = n.replace("%blur%", o)).replace("%size%", t.toString())
      }(o, e), h = function (t) {
        for (var e, r = Ea[t], i = r.length, n = Ta, o = "", s = 0; s < t; s++) {
          var a = "gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%", s.toString());
          e = s, s >= i && (e = t - s - 1), o += a = a.replace("%value%", r[e].toString()), o += "\n"
        }
        return n = (n = n.replace("%blur%", o)).replace("%size%", t.toString())
      }(o);
      return (s = t.call(this, a, h) || this).horizontal = e, s.resolution = n, s._quality = 0, s.quality = i, s.blur = r, s
    }

    return ia(e, t), e.prototype.apply = function (t, e, r, i) {
      if (r ? this.horizontal ? this.uniforms.strength = 1 / r.width * (r.width / e.width) : this.uniforms.strength = 1 / r.height * (r.height / e.height) : this.horizontal ? this.uniforms.strength = 1 / t.renderer.width * (t.renderer.width / e.width) : this.uniforms.strength = 1 / t.renderer.height * (t.renderer.height / e.height), this.uniforms.strength *= this.strength, this.uniforms.strength /= this.passes, 1 === this.passes) t.applyFilter(this, e, r, i); else {
        var n = t.getFilterTexture(), o = t.renderer, s = e, a = n;
        this.state.blend = !1, t.applyFilter(this, s, a, ya.CLEAR);
        for (var h = 1; h < this.passes - 1; h++) {
          t.bindAndClear(s, ya.BLIT), this.uniforms.uSampler = a;
          var u = a;
          a = s, s = u, o.shader.bind(this), o.geometry.draw(5)
        }
        this.state.blend = !0, t.applyFilter(this, a, r, i), t.returnFilterTexture(n)
      }
    }, Object.defineProperty(e.prototype, "blur", {
      get: function () {
        return this.strength
      }, set: function (t) {
        this.padding = 1 + 2 * Math.abs(t), this.strength = t
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "quality", {
      get: function () {
        return this._quality
      }, set: function (t) {
        this._quality = t, this.passes = t
      }, enumerable: !1, configurable: !0
    }), e
  }(Ni), Sa = function (t) {
    function e(e, r, i, n) {
      void 0 === e && (e = 8), void 0 === r && (r = 4), void 0 === i && (i = C.RESOLUTION), void 0 === n && (n = 5);
      var o = t.call(this) || this;
      return o.blurXFilter = new Pa(!0, e, r, i, n), o.blurYFilter = new Pa(!1, e, r, i, n), o.resolution = i, o.quality = r, o.blur = e, o.repeatEdgePixels = !1, o
    }

    return ia(e, t), e.prototype.apply = function (t, e, r, i) {
      var n = Math.abs(this.blurXFilter.strength), o = Math.abs(this.blurYFilter.strength);
      if (n && o) {
        var s = t.getFilterTexture();
        this.blurXFilter.apply(t, e, s, ya.CLEAR), this.blurYFilter.apply(t, s, r, i), t.returnFilterTexture(s)
      } else o ? this.blurYFilter.apply(t, e, r, i) : this.blurXFilter.apply(t, e, r, i)
    }, e.prototype.updatePadding = function () {
      this._repeatEdgePixels ? this.padding = 0 : this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength))
    }, Object.defineProperty(e.prototype, "blur", {
      get: function () {
        return this.blurXFilter.blur
      }, set: function (t) {
        this.blurXFilter.blur = this.blurYFilter.blur = t, this.updatePadding()
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "quality", {
      get: function () {
        return this.blurXFilter.quality
      }, set: function (t) {
        this.blurXFilter.quality = this.blurYFilter.quality = t
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "blurX", {
      get: function () {
        return this.blurXFilter.blur
      }, set: function (t) {
        this.blurXFilter.blur = t, this.updatePadding()
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "blurY", {
      get: function () {
        return this.blurYFilter.blur
      }, set: function (t) {
        this.blurYFilter.blur = t, this.updatePadding()
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "blendMode", {
      get: function () {
        return this.blurYFilter.blendMode
      }, set: function (t) {
        this.blurYFilter.blendMode = t
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "repeatEdgePixels", {
      get: function () {
        return this._repeatEdgePixels
      }, set: function (t) {
        this._repeatEdgePixels = t, this.updatePadding()
      }, enumerable: !1, configurable: !0
    }), e
  }(Ni), wa = function (t, e) {
    return (wa = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, e) {
      t.__proto__ = e
    } || function (t, e) {
      for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r])
    })(t, e)
  };
  var Ia = "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",
    Aa = function (t) {
      function e() {
        var e = this,
          r = {m: new Float32Array([1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0]), uAlpha: 1};
        return (e = t.call(this, yn, Ia, r) || this).alpha = 1, e
      }

      return function (t, e) {
        function r() {
          this.constructor = t
        }

        wa(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r)
      }(e, t), e.prototype._loadMatrix = function (t, e) {
        void 0 === e && (e = !1);
        var r = t;
        e && (this._multiply(r, this.uniforms.m, t), r = this._colorMatrix(r)), this.uniforms.m = r
      }, e.prototype._multiply = function (t, e, r) {
        return t[0] = e[0] * r[0] + e[1] * r[5] + e[2] * r[10] + e[3] * r[15], t[1] = e[0] * r[1] + e[1] * r[6] + e[2] * r[11] + e[3] * r[16], t[2] = e[0] * r[2] + e[1] * r[7] + e[2] * r[12] + e[3] * r[17], t[3] = e[0] * r[3] + e[1] * r[8] + e[2] * r[13] + e[3] * r[18], t[4] = e[0] * r[4] + e[1] * r[9] + e[2] * r[14] + e[3] * r[19] + e[4], t[5] = e[5] * r[0] + e[6] * r[5] + e[7] * r[10] + e[8] * r[15], t[6] = e[5] * r[1] + e[6] * r[6] + e[7] * r[11] + e[8] * r[16], t[7] = e[5] * r[2] + e[6] * r[7] + e[7] * r[12] + e[8] * r[17], t[8] = e[5] * r[3] + e[6] * r[8] + e[7] * r[13] + e[8] * r[18], t[9] = e[5] * r[4] + e[6] * r[9] + e[7] * r[14] + e[8] * r[19] + e[9], t[10] = e[10] * r[0] + e[11] * r[5] + e[12] * r[10] + e[13] * r[15], t[11] = e[10] * r[1] + e[11] * r[6] + e[12] * r[11] + e[13] * r[16], t[12] = e[10] * r[2] + e[11] * r[7] + e[12] * r[12] + e[13] * r[17], t[13] = e[10] * r[3] + e[11] * r[8] + e[12] * r[13] + e[13] * r[18], t[14] = e[10] * r[4] + e[11] * r[9] + e[12] * r[14] + e[13] * r[19] + e[14], t[15] = e[15] * r[0] + e[16] * r[5] + e[17] * r[10] + e[18] * r[15], t[16] = e[15] * r[1] + e[16] * r[6] + e[17] * r[11] + e[18] * r[16], t[17] = e[15] * r[2] + e[16] * r[7] + e[17] * r[12] + e[18] * r[17], t[18] = e[15] * r[3] + e[16] * r[8] + e[17] * r[13] + e[18] * r[18], t[19] = e[15] * r[4] + e[16] * r[9] + e[17] * r[14] + e[18] * r[19] + e[19], t
      }, e.prototype._colorMatrix = function (t) {
        var e = new Float32Array(t);
        return e[4] /= 255, e[9] /= 255, e[14] /= 255, e[19] /= 255, e
      }, e.prototype.brightness = function (t, e) {
        var r = [t, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, 1, 0];
        this._loadMatrix(r, e)
      }, e.prototype.greyscale = function (t, e) {
        var r = [t, t, t, 0, 0, t, t, t, 0, 0, t, t, t, 0, 0, 0, 0, 0, 1, 0];
        this._loadMatrix(r, e)
      }, e.prototype.blackAndWhite = function (t) {
        this._loadMatrix([.3, .6, .1, 0, 0, .3, .6, .1, 0, 0, .3, .6, .1, 0, 0, 0, 0, 0, 1, 0], t)
      }, e.prototype.hue = function (t, e) {
        t = (t || 0) / 180 * Math.PI;
        var r = Math.cos(t), i = Math.sin(t), n = 1 / 3, o = (0, Math.sqrt)(n),
          s = [r + (1 - r) * n, n * (1 - r) - o * i, n * (1 - r) + o * i, 0, 0, n * (1 - r) + o * i, r + n * (1 - r), n * (1 - r) - o * i, 0, 0, n * (1 - r) - o * i, n * (1 - r) + o * i, r + n * (1 - r), 0, 0, 0, 0, 0, 1, 0];
        this._loadMatrix(s, e)
      }, e.prototype.contrast = function (t, e) {
        var r = (t || 0) + 1, i = -.5 * (r - 1), n = [r, 0, 0, 0, i, 0, r, 0, 0, i, 0, 0, r, 0, i, 0, 0, 0, 1, 0];
        this._loadMatrix(n, e)
      }, e.prototype.saturate = function (t, e) {
        void 0 === t && (t = 0);
        var r = 2 * t / 3 + 1, i = -.5 * (r - 1), n = [r, i, i, 0, 0, i, r, i, 0, 0, i, i, r, 0, 0, 0, 0, 0, 1, 0];
        this._loadMatrix(n, e)
      }, e.prototype.desaturate = function () {
        this.saturate(-1)
      }, e.prototype.negative = function (t) {
        this._loadMatrix([-1, 0, 0, 1, 0, 0, -1, 0, 1, 0, 0, 0, -1, 1, 0, 0, 0, 0, 1, 0], t)
      }, e.prototype.sepia = function (t) {
        this._loadMatrix([.393, .7689999, .18899999, 0, 0, .349, .6859999, .16799999, 0, 0, .272, .5339999, .13099999, 0, 0, 0, 0, 0, 1, 0], t)
      }, e.prototype.technicolor = function (t) {
        this._loadMatrix([1.9125277891456083, -.8545344976951645, -.09155508482755585, 0, 11.793603434377337, -.3087833385928097, 1.7658908555458428, -.10601743074722245, 0, -70.35205161461398, -.231103377548616, -.7501899197440212, 1.847597816108189, 0, 30.950940869491138, 0, 0, 0, 1, 0], t)
      }, e.prototype.polaroid = function (t) {
        this._loadMatrix([1.438, -.062, -.062, 0, 0, -.122, 1.378, -.122, 0, 0, -.016, -.016, 1.483, 0, 0, 0, 0, 0, 1, 0], t)
      }, e.prototype.toBGR = function (t) {
        this._loadMatrix([0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0], t)
      }, e.prototype.kodachrome = function (t) {
        this._loadMatrix([1.1285582396593525, -.3967382283601348, -.03992559172921793, 0, 63.72958762196502, -.16404339962244616, 1.0835251566291304, -.05498805115633132, 0, 24.732407896706203, -.16786010706155763, -.5603416277695248, 1.6014850761964943, 0, 35.62982807460946, 0, 0, 0, 1, 0], t)
      }, e.prototype.browni = function (t) {
        this._loadMatrix([.5997023498159715, .34553243048391263, -.2708298674538042, 0, 47.43192855600873, -.037703249837783157, .8609577587992641, .15059552388459913, 0, -36.96841498319127, .24113635128153335, -.07441037908422492, .44972182064877153, 0, -7.562075277591283, 0, 0, 0, 1, 0], t)
      }, e.prototype.vintage = function (t) {
        this._loadMatrix([.6279345635605994, .3202183420819367, -.03965408211312453, 0, 9.651285835294123, .02578397704808868, .6441188644374771, .03259127616149294, 0, 7.462829176470591, .0466055556782719, -.0851232987247891, .5241648018700465, 0, 5.159190588235296, 0, 0, 0, 1, 0], t)
      }, e.prototype.colorTone = function (t, e, r, i, n) {
        var o = ((r = r || 16770432) >> 16 & 255) / 255, s = (r >> 8 & 255) / 255, a = (255 & r) / 255,
          h = ((i = i || 3375104) >> 16 & 255) / 255, u = (i >> 8 & 255) / 255, l = (255 & i) / 255,
          c = [.3, .59, .11, 0, 0, o, s, a, t = t || .2, 0, h, u, l, e = e || .15, 0, o - h, s - u, a - l, 0, 0];
        this._loadMatrix(c, n)
      }, e.prototype.night = function (t, e) {
        var r = [-2 * (t = t || .1), -t, 0, 0, 0, -t, 0, t, 0, 0, 0, t, 2 * t, 0, 0, 0, 0, 0, 1, 0];
        this._loadMatrix(r, e)
      }, e.prototype.predator = function (t, e) {
        var r = [11.224130630493164 * t, -4.794486999511719 * t, -2.8746118545532227 * t, 0 * t, .40342438220977783 * t, -3.6330697536468506 * t, 9.193157196044922 * t, -2.951810836791992 * t, 0 * t, -1.316135048866272 * t, -3.2184197902679443 * t, -4.2375030517578125 * t, 7.476448059082031 * t, 0 * t, .8044459223747253 * t, 0, 0, 0, 1, 0];
        this._loadMatrix(r, e)
      }, e.prototype.lsd = function (t) {
        this._loadMatrix([2, -.4, .5, 0, 0, -.5, 2, -.4, 0, 0, -.4, -.5, 3, 0, 0, 0, 0, 0, 1, 0], t)
      }, e.prototype.reset = function () {
        this._loadMatrix([1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0], !1)
      }, Object.defineProperty(e.prototype, "matrix", {
        get: function () {
          return this.uniforms.m
        }, set: function (t) {
          this.uniforms.m = t
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(e.prototype, "alpha", {
        get: function () {
          return this.uniforms.uAlpha
        }, set: function (t) {
          this.uniforms.uAlpha = t
        }, enumerable: !1, configurable: !0
      }), e
    }(Ni);
  Aa.prototype.grayscale = Aa.prototype.greyscale;
  var Oa = function (t, e) {
    return (Oa = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, e) {
      t.__proto__ = e
    } || function (t, e) {
      for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r])
    })(t, e)
  };
  var Ma = "varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",
    Ca = "attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n",
    Da = function (t) {
      function e(e, r) {
        var i = this, n = new we;
        return e.renderable = !1, (i = t.call(this, Ca, Ma, {
          mapSampler: e._texture,
          filterMatrix: n,
          scale: {x: 1, y: 1},
          rotation: new Float32Array([1, 0, 0, 1])
        }) || this).maskSprite = e, i.maskMatrix = n, null == r && (r = 20), i.scale = new Pe(r, r), i
      }

      return function (t, e) {
        function r() {
          this.constructor = t
        }

        Oa(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r)
      }(e, t), e.prototype.apply = function (t, e, r, i) {
        this.uniforms.filterMatrix = t.calculateSpriteMatrix(this.maskMatrix, this.maskSprite), this.uniforms.scale.x = this.scale.x, this.uniforms.scale.y = this.scale.y;
        var n = this.maskSprite.worldTransform, o = Math.sqrt(n.a * n.a + n.b * n.b),
          s = Math.sqrt(n.c * n.c + n.d * n.d);
        0 !== o && 0 !== s && (this.uniforms.rotation[0] = n.a / o, this.uniforms.rotation[1] = n.b / o, this.uniforms.rotation[2] = n.c / s, this.uniforms.rotation[3] = n.d / s), t.applyFilter(this, e, r, i)
      }, Object.defineProperty(e.prototype, "map", {
        get: function () {
          return this.uniforms.mapSampler
        }, set: function (t) {
          this.uniforms.mapSampler = t
        }, enumerable: !1, configurable: !0
      }), e
    }(Ni), Ra = function (t, e) {
      return (Ra = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, e) {
        t.__proto__ = e
      } || function (t, e) {
        for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r])
      })(t, e)
    };
  var La = "\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",
    Na = 'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n',
    Fa = function (t) {
      function e() {
        return t.call(this, La, Na) || this
      }

      return function (t, e) {
        function r() {
          this.constructor = t
        }

        Ra(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r)
      }(e, t), e
    }(Ni), Ba = function (t, e) {
      return (Ba = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, e) {
        t.__proto__ = e
      } || function (t, e) {
        for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r])
      })(t, e)
    };
  var Ua = "precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",
    ka = function (t) {
      function e(e, r) {
        void 0 === e && (e = .5), void 0 === r && (r = Math.random());
        var i = t.call(this, yn, Ua, {uNoise: 0, uSeed: 0}) || this;
        return i.noise = e, i.seed = r, i
      }

      return function (t, e) {
        function r() {
          this.constructor = t
        }

        Ba(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r)
      }(e, t), Object.defineProperty(e.prototype, "noise", {
        get: function () {
          return this.uniforms.uNoise
        }, set: function (t) {
          this.uniforms.uNoise = t
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(e.prototype, "seed", {
        get: function () {
          return this.uniforms.uSeed
        }, set: function (t) {
          this.uniforms.uSeed = t
        }, enumerable: !1, configurable: !0
      }), e
    }(Ni), Xa = new we;
  ke.prototype._cacheAsBitmap = !1, ke.prototype._cacheData = null;
  var ja = function () {
    return function () {
      this.textureCacheId = null, this.originalRender = null, this.originalRenderCanvas = null, this.originalCalculateBounds = null, this.originalGetLocalBounds = null, this.originalUpdateTransform = null, this.originalDestroy = null, this.originalMask = null, this.originalFilterArea = null, this.originalContainsPoint = null, this.sprite = null
    }
  }();
  Object.defineProperties(ke.prototype, {
    cacheAsBitmap: {
      get: function () {
        return this._cacheAsBitmap
      }, set: function (t) {
        var e;
        this._cacheAsBitmap !== t && (this._cacheAsBitmap = t, t ? (this._cacheData || (this._cacheData = new ja), (e = this._cacheData).originalRender = this.render, e.originalRenderCanvas = this.renderCanvas, e.originalUpdateTransform = this.updateTransform, e.originalCalculateBounds = this.calculateBounds, e.originalGetLocalBounds = this.getLocalBounds, e.originalDestroy = this.destroy, e.originalContainsPoint = this.containsPoint, e.originalMask = this._mask, e.originalFilterArea = this.filterArea, this.render = this._renderCached, this.renderCanvas = this._renderCachedCanvas, this.destroy = this._cacheAsBitmapDestroy) : ((e = this._cacheData).sprite && this._destroyCachedDisplayObject(), this.render = e.originalRender, this.renderCanvas = e.originalRenderCanvas, this.calculateBounds = e.originalCalculateBounds, this.getLocalBounds = e.originalGetLocalBounds, this.destroy = e.originalDestroy, this.updateTransform = e.originalUpdateTransform, this.containsPoint = e.originalContainsPoint, this._mask = e.originalMask, this.filterArea = e.originalFilterArea))
      }
    }
  }), ke.prototype._renderCached = function (t) {
    !this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObject(t), this._cacheData.sprite.transform._worldID = this.transform._worldID, this._cacheData.sprite.worldAlpha = this.worldAlpha, this._cacheData.sprite._render(t))
  }, ke.prototype._initCachedDisplayObject = function (t) {
    if (!this._cacheData || !this._cacheData.sprite) {
      var e = this.alpha;
      this.alpha = 1, t.batch.flush();
      var r = this.getLocalBounds(null, !0).clone();
      if (this.filters) {
        var i = this.filters[0].padding;
        r.pad(i)
      }
      r.ceil(C.RESOLUTION);
      var n = t.renderTexture.current, o = t.renderTexture.sourceFrame.clone(), s = t.projection.transform,
        a = Nr.create({width: r.width, height: r.height}), h = "cacheAsBitmap_" + re();
      this._cacheData.textureCacheId = h, vr.addToCache(a.baseTexture, h), Rr.addToCache(a, h);
      var u = this.transform.localTransform.copyTo(Xa).invert().translate(-r.x, -r.y);
      this.render = this._cacheData.originalRender, t.render(this, a, !0, u, !1), t.projection.transform = s, t.renderTexture.bind(n, o), this.render = this._renderCached, this.updateTransform = this.displayObjectUpdateTransform, this.calculateBounds = this._calculateCachedBounds, this.getLocalBounds = this._getCachedLocalBounds, this._mask = null, this.filterArea = null;
      var l = new qo(a);
      l.transform.worldTransform = this.transform.worldTransform, l.anchor.x = -r.x / r.width, l.anchor.y = -r.y / r.height, l.alpha = e, l._bounds = this._bounds, this._cacheData.sprite = l, this.transform._parentID = -1, this.parent ? this.updateTransform() : (this.enableTempParent(), this.updateTransform(), this.disableTempParent(null)), this.containsPoint = l.containsPoint.bind(l)
    }
  }, ke.prototype._renderCachedCanvas = function (t) {
    !this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObjectCanvas(t), this._cacheData.sprite.worldAlpha = this.worldAlpha, this._cacheData.sprite._renderCanvas(t))
  }, ke.prototype._initCachedDisplayObjectCanvas = function (t) {
    if (!this._cacheData || !this._cacheData.sprite) {
      var e = this.getLocalBounds(null, !0), r = this.alpha;
      this.alpha = 1;
      var i = t.context, n = t._projTransform;
      e.ceil(C.RESOLUTION);
      var o = Nr.create({width: e.width, height: e.height}), s = "cacheAsBitmap_" + re();
      this._cacheData.textureCacheId = s, vr.addToCache(o.baseTexture, s), Rr.addToCache(o, s);
      var a = Xa;
      this.transform.localTransform.copyTo(a), a.invert(), a.tx -= e.x, a.ty -= e.y, this.renderCanvas = this._cacheData.originalRenderCanvas, t.render(this, o, !0, a, !1), t.context = i, t._projTransform = n, this.renderCanvas = this._renderCachedCanvas, this.updateTransform = this.displayObjectUpdateTransform, this.calculateBounds = this._calculateCachedBounds, this.getLocalBounds = this._getCachedLocalBounds, this._mask = null, this.filterArea = null;
      var h = new qo(o);
      h.transform.worldTransform = this.transform.worldTransform, h.anchor.x = -e.x / e.width, h.anchor.y = -e.y / e.height, h.alpha = r, h._bounds = this._bounds, this._cacheData.sprite = h, this.transform._parentID = -1, this.parent ? this.updateTransform() : (this.parent = t._tempDisplayObjectParent, this.updateTransform(), this.parent = null), this.containsPoint = h.containsPoint.bind(h)
    }
  }, ke.prototype._calculateCachedBounds = function () {
    this._bounds.clear(), this._cacheData.sprite.transform._worldID = this.transform._worldID, this._cacheData.sprite._calculateBounds(), this._bounds.updateID = this._boundsID
  }, ke.prototype._getCachedLocalBounds = function () {
    return this._cacheData.sprite.getLocalBounds(null)
  }, ke.prototype._destroyCachedDisplayObject = function () {
    this._cacheData.sprite._texture.destroy(!0), this._cacheData.sprite = null, vr.removeFromCache(this._cacheData.textureCacheId), Rr.removeFromCache(this._cacheData.textureCacheId), this._cacheData.textureCacheId = null
  }, ke.prototype._cacheAsBitmapDestroy = function (t) {
    this.cacheAsBitmap = !1, this.destroy(t)
  }, ke.prototype.name = null, Ge.prototype.getChildByName = function (t, e) {
    for (var r = 0, i = this.children.length; r < i; r++) if (this.children[r].name === t) return this.children[r];
    if (e) for (r = 0, i = this.children.length; r < i; r++) {
      if (this.children[r].getChildByName) {
        var n = this.children[r].getChildByName(t, !0);
        if (n) return n
      }
    }
    return null
  }, ke.prototype.getGlobalPosition = function (t, e) {
    return void 0 === t && (t = new Pe), void 0 === e && (e = !1), this.parent ? this.parent.toGlobal(this.position, t, e) : (t.x = this.position.x, t.y = this.position.y), t
  };
  var Ga = function (t, e) {
    return (Ga = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, e) {
      t.__proto__ = e
    } || function (t, e) {
      for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r])
    })(t, e)
  };

  function Ha(t, e) {
    function r() {
      this.constructor = t
    }

    Ga(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r)
  }

  var Ya = "5.0.0";
  var za = function (t, e) {
    return (za = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, e) {
      t.__proto__ = e
    } || function (t, e) {
      for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r])
    })(t, e)
  };

  function Va(t, e) {
    function r() {
      this.constructor = t
    }

    za(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r)
  }

  var Wa = function (t) {
    function e(e, r, i, n) {
      void 0 === e && (e = 100), void 0 === r && (r = 100), void 0 === i && (i = 10), void 0 === n && (n = 10);
      var o = t.call(this) || this;
      return o.segWidth = i, o.segHeight = n, o.width = e, o.height = r, o.build(), o
    }

    return Va(e, t), e.prototype.build = function () {
      for (var t = this.segWidth * this.segHeight, e = [], r = [], i = [], n = this.segWidth - 1, o = this.segHeight - 1, s = this.width / n, a = this.height / o, h = 0; h < t; h++) {
        var u = h % this.segWidth, l = h / this.segWidth | 0;
        e.push(u * s, l * a), r.push(u / n, l / o)
      }
      var c = n * o;
      for (h = 0; h < c; h++) {
        var d = h % n, p = h / n | 0, f = p * this.segWidth + d, m = p * this.segWidth + d + 1,
          v = (p + 1) * this.segWidth + d, y = (p + 1) * this.segWidth + d + 1;
        i.push(f, m, v, m, y, v)
      }
      this.buffers[0].data = new Float32Array(e), this.buffers[1].data = new Float32Array(r), this.indexBuffer.data = new Uint16Array(i), this.buffers[0].update(), this.buffers[1].update(), this.indexBuffer.update()
    }, e
  }(js), qa = function (t) {
    function e(e, r, i) {
      void 0 === e && (e = 200), void 0 === i && (i = 0);
      var n = t.call(this, new Float32Array(4 * r.length), new Float32Array(4 * r.length), new Uint16Array(6 * (r.length - 1))) || this;
      return n.points = r, n._width = e, n.textureScale = i, n.build(), n
    }

    return Va(e, t), Object.defineProperty(e.prototype, "width", {
      get: function () {
        return this._width
      }, enumerable: !1, configurable: !0
    }), e.prototype.build = function () {
      var t = this.points;
      if (t) {
        var e = this.getBuffer("aVertexPosition"), r = this.getBuffer("aTextureCoord"), i = this.getIndex();
        if (!(t.length < 1)) {
          e.data.length / 4 !== t.length && (e.data = new Float32Array(4 * t.length), r.data = new Float32Array(4 * t.length), i.data = new Uint16Array(6 * (t.length - 1)));
          var n = r.data, o = i.data;
          n[0] = 0, n[1] = 0, n[2] = 0, n[3] = 1;
          for (var s = 0, a = t[0], h = this._width * this.textureScale, u = t.length, l = 0; l < u; l++) {
            var c = 4 * l;
            if (this.textureScale > 0) {
              var d = a.x - t[l].x, p = a.y - t[l].y, f = Math.sqrt(d * d + p * p);
              a = t[l], s += f / h
            } else s = l / (u - 1);
            n[c] = s, n[c + 1] = 0, n[c + 2] = s, n[c + 3] = 1
          }
          var m = 0;
          for (l = 0; l < u - 1; l++) {
            c = 2 * l;
            o[m++] = c, o[m++] = c + 1, o[m++] = c + 2, o[m++] = c + 2, o[m++] = c + 1, o[m++] = c + 3
          }
          r.update(), i.update(), this.updateVertices()
        }
      }
    }, e.prototype.updateVertices = function () {
      var t = this.points;
      if (!(t.length < 1)) {
        for (var e, r = t[0], i = 0, n = 0, o = this.buffers[0].data, s = t.length, a = 0; a < s; a++) {
          var h = t[a], u = 4 * a;
          n = -((e = a < t.length - 1 ? t[a + 1] : h).x - r.x), i = e.y - r.y;
          var l = Math.sqrt(i * i + n * n),
            c = this.textureScale > 0 ? this.textureScale * this._width / 2 : this._width / 2;
          i /= l, n /= l, i *= c, n *= c, o[u] = h.x + i, o[u + 1] = h.y + n, o[u + 2] = h.x - i, o[u + 3] = h.y - n, r = h
        }
        this.buffers[0].update()
      }
    }, e.prototype.update = function () {
      this.textureScale > 0 ? this.build() : this.updateVertices()
    }, e
  }(js), Ka = function (e) {
    function r(r, i, n) {
      void 0 === n && (n = 0);
      var o = this, s = new qa(r.height, i, n), a = new Xs(r);
      return n > 0 && (r.baseTexture.wrapMode = t.WRAP_MODES.REPEAT), (o = e.call(this, s, a) || this).autoUpdate = !0, o
    }

    return Va(r, e), r.prototype._render = function (t) {
      var r = this.geometry;
      (this.autoUpdate || r._width !== this.shader.texture.height) && (r._width = this.shader.texture.height, r.update()), e.prototype._render.call(this, t)
    }, r
  }(Bs), Za = function (t) {
    function e(e, r, i) {
      var n = this, o = new Wa(e.width, e.height, r, i), s = new Xs(Rr.WHITE);
      return (n = t.call(this, o, s) || this).texture = e, n
    }

    return Va(e, t), e.prototype.textureUpdated = function () {
      this._textureID = this.shader.texture._updateID;
      var t = this.geometry;
      t.width = this.shader.texture.width, t.height = this.shader.texture.height, t.build()
    }, Object.defineProperty(e.prototype, "texture", {
      get: function () {
        return this.shader.texture
      }, set: function (t) {
        this.shader.texture !== t && (this.shader.texture = t, this._textureID = -1, t.baseTexture.valid ? this.textureUpdated() : t.once("update", this.textureUpdated, this))
      }, enumerable: !1, configurable: !0
    }), e.prototype._render = function (e) {
      this._textureID !== this.shader.texture._updateID && this.textureUpdated(), t.prototype._render.call(this, e)
    }, e
  }(Bs), Ja = function (t) {
    function e(e, r, i, n, o) {
      void 0 === e && (e = Rr.EMPTY);
      var s = this, a = new js(r, i, n);
      a.getBuffer("aVertexPosition").static = !1;
      var h = new Xs(e);
      return (s = t.call(this, a, h, null, o) || this).autoUpdate = !0, s
    }

    return Va(e, t), Object.defineProperty(e.prototype, "vertices", {
      get: function () {
        return this.geometry.getBuffer("aVertexPosition").data
      }, set: function (t) {
        this.geometry.getBuffer("aVertexPosition").data = t
      }, enumerable: !1, configurable: !0
    }), e.prototype._render = function (e) {
      this.autoUpdate && this.geometry.getBuffer("aVertexPosition").update(), t.prototype._render.call(this, e)
    }, e
  }(Bs), Qa = 10, $a = function (t) {
    function e(e, r, i, n, o) {
      void 0 === r && (r = Qa), void 0 === i && (i = Qa), void 0 === n && (n = Qa), void 0 === o && (o = Qa);
      var s = t.call(this, Rr.WHITE, 4, 4) || this;
      return s._origWidth = e.orig.width, s._origHeight = e.orig.height, s._width = s._origWidth, s._height = s._origHeight, s._leftWidth = r, s._rightWidth = n, s._topHeight = i, s._bottomHeight = o, s.texture = e, s
    }

    return Va(e, t), e.prototype.textureUpdated = function () {
      this._textureID = this.shader.texture._updateID, this._refresh()
    }, Object.defineProperty(e.prototype, "vertices", {
      get: function () {
        return this.geometry.getBuffer("aVertexPosition").data
      }, set: function (t) {
        this.geometry.getBuffer("aVertexPosition").data = t
      }, enumerable: !1, configurable: !0
    }), e.prototype.updateHorizontalVertices = function () {
      var t = this.vertices, e = this._getMinScale();
      t[9] = t[11] = t[13] = t[15] = this._topHeight * e, t[17] = t[19] = t[21] = t[23] = this._height - this._bottomHeight * e, t[25] = t[27] = t[29] = t[31] = this._height
    }, e.prototype.updateVerticalVertices = function () {
      var t = this.vertices, e = this._getMinScale();
      t[2] = t[10] = t[18] = t[26] = this._leftWidth * e, t[4] = t[12] = t[20] = t[28] = this._width - this._rightWidth * e, t[6] = t[14] = t[22] = t[30] = this._width
    }, e.prototype._getMinScale = function () {
      var t = this._leftWidth + this._rightWidth, e = this._width > t ? 1 : this._width / t,
        r = this._topHeight + this._bottomHeight, i = this._height > r ? 1 : this._height / r;
      return Math.min(e, i)
    }, Object.defineProperty(e.prototype, "width", {
      get: function () {
        return this._width
      }, set: function (t) {
        this._width = t, this._refresh()
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "height", {
      get: function () {
        return this._height
      }, set: function (t) {
        this._height = t, this._refresh()
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "leftWidth", {
      get: function () {
        return this._leftWidth
      }, set: function (t) {
        this._leftWidth = t, this._refresh()
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "rightWidth", {
      get: function () {
        return this._rightWidth
      }, set: function (t) {
        this._rightWidth = t, this._refresh()
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "topHeight", {
      get: function () {
        return this._topHeight
      }, set: function (t) {
        this._topHeight = t, this._refresh()
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(e.prototype, "bottomHeight", {
      get: function () {
        return this._bottomHeight
      }, set: function (t) {
        this._bottomHeight = t, this._refresh()
      }, enumerable: !1, configurable: !0
    }), e.prototype._refresh = function () {
      var t = this.texture, e = this.geometry.buffers[1].data;
      this._origWidth = t.orig.width, this._origHeight = t.orig.height;
      var r = 1 / this._origWidth, i = 1 / this._origHeight;
      e[0] = e[8] = e[16] = e[24] = 0, e[1] = e[3] = e[5] = e[7] = 0, e[6] = e[14] = e[22] = e[30] = 1, e[25] = e[27] = e[29] = e[31] = 1, e[2] = e[10] = e[18] = e[26] = r * this._leftWidth, e[4] = e[12] = e[20] = e[28] = 1 - r * this._rightWidth, e[9] = e[11] = e[13] = e[15] = i * this._topHeight, e[17] = e[19] = e[21] = e[23] = 1 - i * this._bottomHeight, this.updateHorizontalVertices(), this.updateVerticalVertices(), this.geometry.buffers[0].update(), this.geometry.buffers[1].update()
    }, e
  }(Za), th = function (t, e) {
    return (th = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, e) {
      t.__proto__ = e
    } || function (t, e) {
      for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r])
    })(t, e)
  };
  var eh = function (e) {
    function r(t, r) {
      void 0 === r && (r = !0);
      var i = e.call(this, t[0] instanceof Rr ? t[0] : t[0].texture) || this;
      return i._textures = null, i._durations = null, i._autoUpdate = r, i._isConnectedToTicker = !1, i.animationSpeed = 1, i.loop = !0, i.updateAnchor = !1, i.onComplete = null, i.onFrameChange = null, i.onLoop = null, i._currentTime = 0, i._playing = !1, i._previousFrame = null, i.textures = t, i
    }

    return function (t, e) {
      function r() {
        this.constructor = t
      }

      th(t, e), t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r)
    }(r, e), r.prototype.stop = function () {
      this._playing && (this._playing = !1, this._autoUpdate && this._isConnectedToTicker && (Je.shared.remove(this.update, this), this._isConnectedToTicker = !1))
    }, r.prototype.play = function () {
      this._playing || (this._playing = !0, this._autoUpdate && !this._isConnectedToTicker && (Je.shared.add(this.update, this, t.UPDATE_PRIORITY.HIGH), this._isConnectedToTicker = !0))
    }, r.prototype.gotoAndStop = function (t) {
      this.stop();
      var e = this.currentFrame;
      this._currentTime = t, e !== this.currentFrame && this.updateTexture()
    }, r.prototype.gotoAndPlay = function (t) {
      var e = this.currentFrame;
      this._currentTime = t, e !== this.currentFrame && this.updateTexture(), this.play()
    }, r.prototype.update = function (t) {
      var e = this.animationSpeed * t, r = this.currentFrame;
      if (null !== this._durations) {
        var i = this._currentTime % 1 * this._durations[this.currentFrame];
        for (i += e / 60 * 1e3; i < 0;) this._currentTime--, i += this._durations[this.currentFrame];
        var n = Math.sign(this.animationSpeed * t);
        for (this._currentTime = Math.floor(this._currentTime); i >= this._durations[this.currentFrame];) i -= this._durations[this.currentFrame] * n, this._currentTime += n;
        this._currentTime += i / this._durations[this.currentFrame]
      } else this._currentTime += e;
      this._currentTime < 0 && !this.loop ? (this.gotoAndStop(0), this.onComplete && this.onComplete()) : this._currentTime >= this._textures.length && !this.loop ? (this.gotoAndStop(this._textures.length - 1), this.onComplete && this.onComplete()) : r !== this.currentFrame && (this.loop && this.onLoop && (this.animationSpeed > 0 && this.currentFrame < r ? this.onLoop() : this.animationSpeed < 0 && this.currentFrame > r && this.onLoop()), this.updateTexture())
    }, r.prototype.updateTexture = function () {
      var t = this.currentFrame;
      this._previousFrame !== t && (this._previousFrame = t, this._texture = this._textures[t], this._textureID = -1, this._textureTrimmedID = -1, this._cachedTint = 16777215, this.uvs = this._texture._uvs.uvsFloat32, this.updateAnchor && this._anchor.copyFrom(this._texture.defaultAnchor), this.onFrameChange && this.onFrameChange(this.currentFrame))
    }, r.prototype.destroy = function (t) {
      this.stop(), e.prototype.destroy.call(this, t), this.onComplete = null, this.onFrameChange = null, this.onLoop = null
    }, r.fromFrames = function (t) {
      for (var e = [], i = 0; i < t.length; ++i) e.push(Rr.from(t[i]));
      return new r(e)
    }, r.fromImages = function (t) {
      for (var e = [], i = 0; i < t.length; ++i) e.push(Rr.from(t[i]));
      return new r(e)
    }, Object.defineProperty(r.prototype, "totalFrames", {
      get: function () {
        return this._textures.length
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(r.prototype, "textures", {
      get: function () {
        return this._textures
      }, set: function (t) {
        if (t[0] instanceof Rr) this._textures = t, this._durations = null; else {
          this._textures = [], this._durations = [];
          for (var e = 0; e < t.length; e++) this._textures.push(t[e].texture), this._durations.push(t[e].time)
        }
        this._previousFrame = null, this.gotoAndStop(0), this.updateTexture()
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(r.prototype, "currentFrame", {
      get: function () {
        var t = Math.floor(this._currentTime) % this._textures.length;
        return t < 0 && (t += this._textures.length), t
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(r.prototype, "playing", {
      get: function () {
        return this._playing
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(r.prototype, "autoUpdate", {
      get: function () {
        return this._autoUpdate
      }, set: function (t) {
        t !== this._autoUpdate && (this._autoUpdate = t, !this._autoUpdate && this._isConnectedToTicker ? (Je.shared.remove(this.update, this), this._isConnectedToTicker = !1) : this._autoUpdate && !this._isConnectedToTicker && this._playing && (Je.shared.add(this.update, this), this._isConnectedToTicker = !0))
      }, enumerable: !1, configurable: !0
    }), r
  }(qo);
  fn.registerPlugin("accessibility", Ke), fn.registerPlugin("extract", Cn), fn.registerPlugin("interaction", ar), fn.registerPlugin("particle", co), fn.registerPlugin("prepare", _s), fn.registerPlugin("batch", In), fn.registerPlugin("tilingSprite", Cs), eo.registerPlugin(Qs), eo.registerPlugin(Es), An.registerPlugin(Qe), An.registerPlugin(ro);
  var rh = {
    AlphaFilter: ea,
    BlurFilter: Sa,
    BlurFilterPass: Pa,
    ColorMatrixFilter: Aa,
    DisplacementFilter: Da,
    FXAAFilter: Fa,
    NoiseFilter: ka
  };
  return t.AbstractBatchRenderer = bn, t.AbstractRenderer = pn, t.AccessibilityManager = Ke, t.AnimatedSprite = eh, t.AppLoaderPlugin = ro, t.Application = An, t.Attribute = Br, t.BasePrepare = ms, t.BaseRenderTexture = Mr, t.BaseTexture = vr, t.BatchDrawCall = gn, t.BatchGeometry = Tn, t.BatchPluginFactory = wn, t.BatchRenderer = In, t.BatchShaderGenerator = En, t.BatchTextureArray = _n, t.BitmapFont = qs, t.BitmapFontData = Hs, t.BitmapFontLoader = Qs, t.BitmapText = Js, t.Bounds = Fe, t.Buffer = kr, t.Circle = xe, t.Container = Ge, t.CountLimiter = as, t.DEG_TO_RAD = ge, t.DisplayObject = ke, t.Ellipse = be, t.Extract = Cn, t.FillStyle = fo, t.Filter = Ni, t.FilterState = Zr, t.Framebuffer = Or, t.GLFramebuffer = ri, t.GLProgram = Ji, t.GLTexture = un, t.GRAPHICS_CURVES = po, t.Geometry = zr, t.Graphics = Ho, t.GraphicsData = Fo, t.GraphicsGeometry = ko, t.IGLUniformData = Zi, t.InteractionData = $e, t.InteractionEvent = er, t.InteractionManager = ar, t.InteractionTrackingData = rr, t.LineStyle = Xo, t.Loader = eo, t.LoaderResource = Qn, t.MaskData = hi, t.Matrix = we, t.Mesh = Bs, t.MeshBatchUvs = Ls, t.MeshGeometry = js, t.MeshMaterial = Xs, t.NineSlicePlane = $a, t.ObjectRenderer = Qr, t.ObservablePoint = Se, t.PI_2 = ve, t.ParticleContainer = ao, t.ParticleRenderer = co, t.PlaneGeometry = Wa, t.Point = Pe, t.Polygon = Ee, t.Prepare = _s, t.Program = Di, t.Quad = Vr, t.QuadUv = Wr, t.RAD_TO_DEG = ye, t.Rectangle = _e, t.RenderTexture = Nr, t.RenderTexturePool = Fr, t.Renderer = fn, t.RopeGeometry = qa, t.RoundedRectangle = Te, t.Runner = hr, t.Shader = Ri, t.SimpleMesh = Ja, t.SimplePlane = Za, t.SimpleRope = Ka, t.Sprite = qo, t.SpriteMaskFilter = Xi, t.Spritesheet = bs, t.SpritesheetLoader = Es, t.State = Li, t.System = Ir, t.TemporaryDisplayObject = Xe, t.Text = os, t.TextMetrics = rs, t.TextStyle = Qo, t.Texture = Rr, t.TextureLoader = to, t.TextureMatrix = ki, t.TextureUvs = Cr, t.Ticker = Je, t.TickerPlugin = Qe, t.TilingSprite = ws, t.TilingSpriteRenderer = Cs, t.TimeLimiter = xs, t.Transform = Ne, t.UniformGroup = Kr,t.VERSION = "5.3.2",t.ViewableBuffer = xn,t.accessibleTarget = He,t.autoDetectRenderer = mn,t.checkMaxIfStatementsInShader = Oi,t.defaultFilterVertex = yn,t.defaultVertex = vn,t.filters = rh,t.graphicsUtils = No,t.groupD8 = Le,t.interactiveTarget = nr,t.isMobile = M,t.resources = wr,t.settings = C,t.systems = cn,t.uniformParsers = Ti,t.useDeprecated = function () {
    var t = this;
    Object.defineProperties(t, {
      SVG_SIZE: {
        get: function () {
          return ne(Ya, "PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"), t.SVGResource.SVG_SIZE
        }
      }, TransformStatic: {
        get: function () {
          return ne(Ya, "PIXI.TransformStatic class has been removed, use PIXI.Transform"), t.Transform
        }
      }, TransformBase: {
        get: function () {
          return ne(Ya, "PIXI.TransformBase class has been removed, use PIXI.Transform"), t.Transform
        }
      }, TRANSFORM_MODE: {
        get: function () {
          return ne(Ya, "PIXI.TRANSFORM_MODE property has been removed"), {STATIC: 0, DYNAMIC: 1}
        }
      }, WebGLRenderer: {
        get: function () {
          return ne(Ya, "PIXI.WebGLRenderer class has moved to PIXI.Renderer"), t.Renderer
        }
      }, CanvasRenderTarget: {
        get: function () {
          return ne(Ya, "PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"), t.utils.CanvasRenderTarget
        }
      }, loader: {
        get: function () {
          return ne(Ya, "PIXI.loader instance has moved to PIXI.Loader.shared"), t.Loader.shared
        }
      }, FilterManager: {
        get: function () {
          return ne(Ya, "PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"), t.systems.FilterSystem
        }
      }, CanvasTinter: {
        get: function () {
          return ne("5.2.0", "PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"), t.canvasUtils
        }
      }, GroupD8: {
        get: function () {
          return ne("5.2.0", "PIXI.GroupD8 namespace has moved to PIXI.groupD8"), t.groupD8
        }
      }
    }), t.accessibility = {}, Object.defineProperties(t.accessibility, {
      AccessibilityManager: {
        get: function () {
          return ne("5.3.0", "PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"), t.AccessibilityManager
        }
      }
    }), t.interaction = {}, Object.defineProperties(t.interaction, {
      InteractionManager: {
        get: function () {
          return ne("5.3.0", "PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"), t.InteractionManager
        }
      }, InteractionData: {
        get: function () {
          return ne("5.3.0", "PIXI.interaction.InteractionData moved to PIXI.InteractionData"), t.InteractionData
        }
      }, InteractionEvent: {
        get: function () {
          return ne("5.3.0", "PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"), t.InteractionEvent
        }
      }
    }), t.prepare = {}, Object.defineProperties(t.prepare, {
      BasePrepare: {
        get: function () {
          return ne("5.2.1", "PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"), t.BasePrepare
        }
      }, Prepare: {
        get: function () {
          return ne("5.2.1", "PIXI.prepare.Prepare moved to PIXI.Prepare"), t.Prepare
        }
      }, CanvasPrepare: {
        get: function () {
          return ne("5.2.1", "PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"), t.CanvasPrepare
        }
      }
    }), t.extract = {}, Object.defineProperties(t.extract, {
      Extract: {
        get: function () {
          return ne("5.2.1", "PIXI.extract.Extract moved to PIXI.Extract"), t.Extract
        }
      }, CanvasExtract: {
        get: function () {
          return ne("5.2.1", "PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"), t.CanvasExtract
        }
      }
    }), t.extras = {}, Object.defineProperties(t.extras, {
      TilingSprite: {
        get: function () {
          return ne(Ya, "PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"), t.TilingSprite
        }
      }, TilingSpriteRenderer: {
        get: function () {
          return ne(Ya, "PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"), t.TilingSpriteRenderer
        }
      }, AnimatedSprite: {
        get: function () {
          return ne(Ya, "PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"), t.AnimatedSprite
        }
      }, BitmapText: {
        get: function () {
          return ne(Ya, "PIXI.extras.BitmapText class has moved to PIXI.BitmapText"), t.BitmapText
        }
      }
    }), t.TilingSprite.fromFrame = function (e, r, i) {
      return ne("5.3.0", "TilingSprite.fromFrame is deprecated, use TilingSprite.from"), t.TilingSprite.from(e, {
        width: r,
        height: i
      })
    }, t.TilingSprite.fromImage = function (e, r, i, n) {
      return void 0 === n && (n = {}), ne("5.3.0", "TilingSprite.fromImage is deprecated, use TilingSprite.from"), n && "object" != typeof n && (n = {
        scaleMode: arguments[4],
        resourceOptions: {crossorigin: arguments[3]}
      }), n.width = r, n.height = i, t.TilingSprite.from(e, n)
    }, Object.defineProperties(t.utils, {
      getSvgSize: {
        get: function () {
          return ne(Ya, "PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"), t.resources.SVGResource.getSize
        }
      }
    }), t.mesh = {}, Object.defineProperties(t.mesh, {
      Mesh: {
        get: function () {
          return ne(Ya, "PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"), t.SimpleMesh
        }
      }, NineSlicePlane: {
        get: function () {
          return ne(Ya, "PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"), t.NineSlicePlane
        }
      }, Plane: {
        get: function () {
          return ne(Ya, "PIXI.mesh.Plane class has moved to PIXI.SimplePlane"), t.SimplePlane
        }
      }, Rope: {
        get: function () {
          return ne(Ya, "PIXI.mesh.Rope class has moved to PIXI.SimpleRope"), t.SimpleRope
        }
      }, RawMesh: {
        get: function () {
          return ne(Ya, "PIXI.mesh.RawMesh class has moved to PIXI.Mesh"), t.Mesh
        }
      }, CanvasMeshRenderer: {
        get: function () {
          return ne(Ya, "PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"), t.CanvasMeshRenderer
        }
      }, MeshRenderer: {
        get: function () {
          return ne(Ya, "PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"), t.MeshRenderer
        }
      }
    }), t.particles = {}, Object.defineProperties(t.particles, {
      ParticleContainer: {
        get: function () {
          return ne(Ya, "PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"), t.ParticleContainer
        }
      }, ParticleRenderer: {
        get: function () {
          return ne(Ya, "PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"), t.ParticleRenderer
        }
      }
    }), t.ticker = {}, Object.defineProperties(t.ticker, {
      Ticker: {
        get: function () {
          return ne(Ya, "PIXI.ticker.Ticker class has moved to PIXI.Ticker"), t.Ticker
        }
      }, shared: {
        get: function () {
          return ne(Ya, "PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"), t.Ticker.shared
        }
      }
    }), t.loaders = {}, Object.defineProperties(t.loaders, {
      Loader: {
        get: function () {
          return ne(Ya, "PIXI.loaders.Loader class has moved to PIXI.Loader"), t.Loader
        }
      }, Resource: {
        get: function () {
          return ne(Ya, "PIXI.loaders.Resource class has moved to PIXI.LoaderResource"), t.LoaderResource
        }
      }, bitmapFontParser: {
        get: function () {
          return ne(Ya, "PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"), t.BitmapFontLoader.use
        }
      }, parseBitmapFontData: {
        get: function () {
          ne(Ya, "PIXI.loaders.parseBitmapFontData function has removed")
        }
      }, spritesheetParser: {
        get: function () {
          return ne(Ya, "PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"), t.SpritesheetLoader.use
        }
      }, getResourcePath: {
        get: function () {
          return ne(Ya, "PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"), t.SpritesheetLoader.getResourcePath
        }
      }
    }), t.Loader.addPixiMiddleware = function (e) {
      return ne(Ya, "PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"), t.loaders.Loader.registerPlugin({use: e()})
    };
    var e = function (t) {
      return "on" + t.charAt(0).toUpperCase() + t.slice(1)
    };
    Object.assign(t.Loader.prototype, {
      on: function (t) {
        var r = e(t);
        ne(Ya, "PIXI.Loader#on is completely deprecated, use PIXI.Loader#" + r + ".add")
      }, once: function (t) {
        var r = e(t);
        ne(Ya, "PIXI.Loader#once is completely deprecated, use PIXI.Loader#" + r + ".once")
      }, off: function (t) {
        var r = e(t);
        ne(Ya, "PIXI.Loader#off is completely deprecated, use PIXI.Loader#" + r + ".detach")
      }
    }), Object.defineProperty(t.extract, "WebGLExtract", {
      get: function () {
        return ne(Ya, "PIXI.extract.WebGLExtract method has moved to PIXI.Extract"), t.Extract
      }
    }), Object.defineProperty(t.prepare, "WebGLPrepare", {
      get: function () {
        return ne(Ya, "PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"), t.Prepare
      }
    }), t.Container.prototype._renderWebGL = function (t) {
      ne(Ya, "PIXI.Container._renderWebGL method has moved to PIXI.Container._render"), this._render(t)
    }, t.Container.prototype.renderWebGL = function (t) {
      ne(Ya, "PIXI.Container.renderWebGL method has moved to PIXI.Container.render"), this.render(t)
    }, t.DisplayObject.prototype.renderWebGL = function (t) {
      ne(Ya, "PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"), this.render(t)
    }, t.Container.prototype.renderAdvancedWebGL = function (t) {
      ne(Ya, "PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"), this.renderAdvanced(t)
    }, Object.defineProperties(t.settings, {
      TRANSFORM_MODE: {
        get: function () {
          return ne(Ya, "PIXI.settings.TRANSFORM_MODE property has been removed"), 0
        }, set: function () {
          ne(Ya, "PIXI.settings.TRANSFORM_MODE property has been removed")
        }
      }
    });
    var r = t.BaseTexture;
    r.prototype.loadSource = function (e) {
      ne(Ya, "PIXI.BaseTexture.loadSource method has been deprecated");
      var r = t.resources.autoDetectResource(e);
      r.internal = !0, this.setResource(r), this.update()
    };
    var i = !1;
    Object.defineProperties(r.prototype, {
      hasLoaded: {
        get: function () {
          return ne(Ya, "PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"), this.valid
        }
      }, imageUrl: {
        get: function () {
          var t;
          return ne(Ya, "PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"), null === (t = this.resource) || void 0 === t ? void 0 : t.url
        }, set: function (t) {
          ne(Ya, "PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"), this.resource && (this.resource.url = t)
        }
      }, source: {
        get: function () {
          return ne(Ya, "PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"), this.resource.source
        }, set: function (t) {
          ne(Ya, "PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."), this.resource && (this.resource.source = t)
        }
      }, premultiplyAlpha: {
        get: function () {
          return ne("5.2.0", "PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"), 0 !== this.alphaMode
        }, set: function (t) {
          ne("5.2.0", "PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"), this.alphaMode = Number(t)
        }
      }, _id: {
        get: function () {
          return i || (ne("5.2.0", "PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"), i = !0), this._batchLocation
        }, set: function (t) {
          this._batchLocation = t
        }
      }
    }), r.fromImage = function (t, e, i, n) {
      ne(Ya, "PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");
      var o = {scale: n, crossorigin: e};
      return r.from(t, {scaleMode: i, resourceOptions: o})
    }, r.fromCanvas = function (t, e) {
      return ne(Ya, "PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"), r.from(t, {scaleMode: e})
    }, r.fromSVG = function (t, e, i, n) {
      ne(Ya, "PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");
      var o = {scale: n, crossorigin: e};
      return r.from(t, {scaleMode: i, resourceOptions: o})
    }, Object.defineProperties(t.resources.ImageResource.prototype, {
      premultiplyAlpha: {
        get: function () {
          return ne("5.2.0", "PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"), 0 !== this.alphaMode
        }, set: function (t) {
          ne("5.2.0", "PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"), this.alphaMode = Number(t)
        }
      }
    }), t.Point.prototype.copy = function (t) {
      return ne(Ya, "PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"), this.copyFrom(t)
    }, t.ObservablePoint.prototype.copy = function (t) {
      return ne(Ya, "PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"), this.copyFrom(t)
    }, t.Rectangle.prototype.copy = function (t) {
      return ne(Ya, "PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"), this.copyFrom(t)
    }, t.Matrix.prototype.copy = function (t) {
      return ne(Ya, "PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"), this.copyTo(t)
    }, t.systems.StateSystem.prototype.setState = function (t) {
      return ne("v5.1.0", "StateSystem.setState has been renamed to StateSystem.set"), this.set(t)
    }, Object.assign(t.systems.FilterSystem.prototype, {
      getRenderTarget: function (t, e) {
        return ne(Ya, "PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"), this.getFilterTexture(null, e)
      }, returnRenderTarget: function (t) {
        ne(Ya, "PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"), this.returnFilterTexture(t)
      }, calculateScreenSpaceMatrix: function (t) {
        ne(Ya, "PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");
        var e = t.identity(), r = this.activeState, i = r.sourceFrame, n = r.destinationFrame;
        return e.translate(i.x / n.width, i.y / n.height), e.scale(n.width, n.height), e
      }, calculateNormalizedScreenSpaceMatrix: function (t) {
        ne(Ya, "PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");
        var e = this.activeState, r = e.sourceFrame, i = e.destinationFrame, n = t.identity();
        n.translate(r.x / i.width, r.y / i.height);
        var o = i.width / r.width, s = i.height / r.height;
        return n.scale(o, s), n
      }
    }), Object.defineProperties(t.RenderTexture.prototype, {
      sourceFrame: {
        get: function () {
          return ne(Ya, "PIXI.RenderTexture.sourceFrame property has been removed"), this.filterFrame
        }
      }, size: {
        get: function () {
          return ne(Ya, "PIXI.RenderTexture.size property has been removed"), this._frame
        }
      }
    });
    var n = function (t) {
      function e(e, r, i, n) {
        return ne(Ya, "PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"), t.call(this, !0, e, r, i, n) || this
      }

      return Ha(e, t), e
    }(t.filters.BlurFilterPass), o = function (t) {
      function e(e, r, i, n) {
        return ne(Ya, "PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"), t.call(this, !1, e, r, i, n) || this
      }

      return Ha(e, t), e
    }(t.filters.BlurFilterPass);
    Object.assign(t.filters, {BlurXFilter: n, BlurYFilter: o});
    var s = t.Sprite, a = t.Texture, h = t.Graphics;

    function u(t, e, r, i) {
      return ne(Ya, "PIXI.Sprite." + t + " method is deprecated, use PIXI.Sprite.from"), s.from(e, {
        resourceOptions: {
          scale: i,
          crossorigin: r
        }
      })
    }

    function l(t, e, r, i) {
      return ne(Ya, "PIXI.Texture." + t + " method is deprecated, use PIXI.Texture.from"), a.from(e, {
        resourceOptions: {
          scale: i,
          crossorigin: r
        }
      })
    }

    h.prototype.generateCanvasTexture || (h.prototype.generateCanvasTexture = function () {
      ne(Ya, 'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')
    }), Object.defineProperty(h.prototype, "graphicsData", {
      get: function () {
        return ne(Ya, "PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"), this.geometry.graphicsData
      }
    }), s.fromImage = u.bind(null, "fromImage"), s.fromSVG = u.bind(null, "fromSVG"), s.fromCanvas = u.bind(null, "fromCanvas"), s.fromVideo = u.bind(null, "fromVideo"), s.fromFrame = u.bind(null, "fromFrame"), a.fromImage = l.bind(null, "fromImage"), a.fromSVG = l.bind(null, "fromSVG"), a.fromCanvas = l.bind(null, "fromCanvas"), a.fromVideo = l.bind(null, "fromVideo"), a.fromFrame = l.bind(null, "fromFrame"), Object.defineProperty(t.AbstractRenderer.prototype, "autoResize", {
      get: function () {
        return ne(Ya, "PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"), this.autoDensity
      }, set: function (t) {
        ne(Ya, "PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"), this.autoDensity = t
      }
    }), Object.defineProperty(t.Renderer.prototype, "textureManager", {
      get: function () {
        return ne(Ya, "PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"), this.texture
      }
    }), t.utils.mixins = {
      mixin: function () {
        ne(Ya, "PIXI.utils.mixins.mixin function is no longer available")
      }, delayMixin: function () {
        ne(Ya, "PIXI.utils.mixins.delayMixin function is no longer available")
      }, performMixins: function () {
        ne(Ya, "PIXI.utils.mixins.performMixins function is no longer available")
      }
    }, Object.defineProperty(t.BitmapText.prototype, "font", {
      get: function () {
        return ne("5.3.0", "PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"), {
          name: this._fontName,
          size: this._fontSize,
          tint: this._tint,
          align: this._align
        }
      }, set: function (e) {
        if (ne("5.3.0", "PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"), e) {
          var r = {font: e};
          this._upgradeStyle(r), r.fontSize = r.fontSize || t.BitmapFont.available[r.fontName].size, this._fontName = r.fontName, this._fontSize = r.fontSize, this.dirty = !0
        }
      }
    })
  },t.utils = me,t
}({});
PIXI.useDeprecated();
var pixi_spine, __extends = this && this.__extends || function () {
  var t = function (e, n) {
    return (t = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, e) {
      t.__proto__ = e
    } || function (t, e) {
      for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
    })(e, n)
  };
  return function (e, n) {
    function r() {
      this.constructor = e
    }

    t(e, n), e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype, new r)
  }
}();
!function (t) {
  !function (t) {
    var e, n, r, a = function () {
      function t(t, e, n) {
        if (null == t) throw new Error("name cannot be null.");
        if (null == e) throw new Error("timelines cannot be null.");
        this.name = t, this.timelines = e, this.timelineIds = [];
        for (var r = 0; r < e.length; r++) this.timelineIds[e[r].getPropertyId()] = !0;
        this.duration = n
      }

      return t.prototype.hasTimeline = function (t) {
        return 1 == this.timelineIds[t]
      }, t.prototype.apply = function (t, e, n, r, a, i, o, s) {
        if (null == t) throw new Error("skeleton cannot be null.");
        r && 0 != this.duration && (n %= this.duration, e > 0 && (e %= this.duration));
        for (var l = this.timelines, h = 0, u = l.length; h < u; h++) l[h].apply(t, e, n, a, i, o, s)
      }, t.binarySearch = function (t, e, n) {
        void 0 === n && (n = 1);
        var r = 0, a = t.length / n - 2;
        if (0 == a) return n;
        for (var i = a >>> 1; ;) {
          if (t[(i + 1) * n] <= e ? r = i + 1 : a = i, r == a) return (r + 1) * n;
          i = r + a >>> 1
        }
      }, t.linearSearch = function (t, e, n) {
        for (var r = 0, a = t.length - n; r <= a; r += n) if (t[r] > e) return r;
        return -1
      }, t
    }();
    t.Animation = a, function (t) {
      t[t.setup = 0] = "setup", t[t.first = 1] = "first", t[t.replace = 2] = "replace", t[t.add = 3] = "add"
    }(e = t.MixBlend || (t.MixBlend = {})), function (t) {
      t[t.mixIn = 0] = "mixIn", t[t.mixOut = 1] = "mixOut"
    }(n = t.MixDirection || (t.MixDirection = {})), function (t) {
      t[t.rotate = 0] = "rotate", t[t.translate = 1] = "translate", t[t.scale = 2] = "scale", t[t.shear = 3] = "shear", t[t.attachment = 4] = "attachment", t[t.color = 5] = "color", t[t.deform = 6] = "deform", t[t.event = 7] = "event", t[t.drawOrder = 8] = "drawOrder", t[t.ikConstraint = 9] = "ikConstraint", t[t.transformConstraint = 10] = "transformConstraint", t[t.pathConstraintPosition = 11] = "pathConstraintPosition", t[t.pathConstraintSpacing = 12] = "pathConstraintSpacing", t[t.pathConstraintMix = 13] = "pathConstraintMix", t[t.twoColor = 14] = "twoColor"
    }(r = t.TimelineType || (t.TimelineType = {}));
    var i = function () {
      function e(n) {
        if (n <= 0) throw new Error("frameCount must be > 0: " + n);
        this.curves = t.Utils.newFloatArray((n - 1) * e.BEZIER_SIZE)
      }

      return e.prototype.getFrameCount = function () {
        return this.curves.length / e.BEZIER_SIZE + 1
      }, e.prototype.setLinear = function (t) {
        this.curves[t * e.BEZIER_SIZE] = e.LINEAR
      }, e.prototype.setStepped = function (t) {
        this.curves[t * e.BEZIER_SIZE] = e.STEPPED
      }, e.prototype.getCurveType = function (t) {
        var n = t * e.BEZIER_SIZE;
        if (n == this.curves.length) return e.LINEAR;
        var r = this.curves[n];
        return r == e.LINEAR ? e.LINEAR : r == e.STEPPED ? e.STEPPED : e.BEZIER
      }, e.prototype.setCurve = function (t, n, r, a, i) {
        var o = .03 * (2 * -n + a), s = .03 * (2 * -r + i), l = .006 * (3 * (n - a) + 1), h = .006 * (3 * (r - i) + 1),
          u = 2 * o + l, c = 2 * s + h, p = .3 * n + o + .16666667 * l, d = .3 * r + s + .16666667 * h,
          f = t * e.BEZIER_SIZE, m = this.curves;
        m[f++] = e.BEZIER;
        for (var g = p, v = d, y = f + e.BEZIER_SIZE - 1; f < y; f += 2) m[f] = g, m[f + 1] = v, p += u, d += c, u += l, c += h, g += p, v += d
      }, e.prototype.getCurvePercent = function (n, r) {
        r = t.MathUtils.clamp(r, 0, 1);
        var a = this.curves, i = n * e.BEZIER_SIZE, o = a[i];
        if (o == e.LINEAR) return r;
        if (o == e.STEPPED) return 0;
        for (var s = 0, l = ++i, h = i + e.BEZIER_SIZE - 1; i < h; i += 2) if ((s = a[i]) >= r) {
          var u = void 0, c = void 0;
          return i == l ? (u = 0, c = 0) : (u = a[i - 2], c = a[i - 1]), c + (a[i + 1] - c) * (r - u) / (s - u)
        }
        var p = a[i - 1];
        return p + (1 - p) * (r - s) / (1 - s)
      }, e.LINEAR = 0, e.STEPPED = 1, e.BEZIER = 2, e.BEZIER_SIZE = 19, e
    }();
    t.CurveTimeline = i;
    var o = function (n) {
      function i(e) {
        var r = n.call(this, e) || this;
        return r.frames = t.Utils.newFloatArray(e << 1), r
      }

      return __extends(i, n), i.prototype.getPropertyId = function () {
        return (r.rotate << 24) + this.boneIndex
      }, i.prototype.setFrame = function (t, e, n) {
        t <<= 1, this.frames[t] = e, this.frames[t + i.ROTATION] = n
      }, i.prototype.apply = function (t, n, r, o, s, l, h) {
        var u = this.frames, c = t.bones[this.boneIndex];
        if (c.active) if (r < u[0]) switch (l) {
          case e.setup:
            return void (c.rotation = c.data.rotation);
          case e.first:
            var p = c.data.rotation - c.rotation;
            c.rotation += (p - 360 * (16384 - (16384.499999999996 - p / 360 | 0))) * s
        } else if (r >= u[u.length - i.ENTRIES]) {
          var d = u[u.length + i.PREV_ROTATION];
          switch (l) {
            case e.setup:
              c.rotation = c.data.rotation + d * s;
              break;
            case e.first:
            case e.replace:
              d += c.data.rotation - c.rotation, d -= 360 * (16384 - (16384.499999999996 - d / 360 | 0));
            case e.add:
              c.rotation += d * s
          }
        } else {
          var f = a.binarySearch(u, r, i.ENTRIES), m = u[f + i.PREV_ROTATION], g = u[f],
            v = this.getCurvePercent((f >> 1) - 1, 1 - (r - g) / (u[f + i.PREV_TIME] - g)), y = u[f + i.ROTATION] - m;
          switch (y = m + (y - 360 * (16384 - (16384.499999999996 - y / 360 | 0))) * v, l) {
            case e.setup:
              c.rotation = c.data.rotation + (y - 360 * (16384 - (16384.499999999996 - y / 360 | 0))) * s;
              break;
            case e.first:
            case e.replace:
              y += c.data.rotation - c.rotation;
            case e.add:
              c.rotation += (y - 360 * (16384 - (16384.499999999996 - y / 360 | 0))) * s
          }
        }
      }, i.ENTRIES = 2, i.PREV_TIME = -2, i.PREV_ROTATION = -1, i.ROTATION = 1, i
    }(i);
    t.RotateTimeline = o;
    var s = function (n) {
      function i(e) {
        var r = n.call(this, e) || this;
        return r.frames = t.Utils.newFloatArray(e * i.ENTRIES), r
      }

      return __extends(i, n), i.prototype.getPropertyId = function () {
        return (r.translate << 24) + this.boneIndex
      }, i.prototype.setFrame = function (t, e, n, r) {
        t *= i.ENTRIES, this.frames[t] = e, this.frames[t + i.X] = n, this.frames[t + i.Y] = r
      }, i.prototype.apply = function (t, n, r, o, s, l, h) {
        var u = this.frames, c = t.bones[this.boneIndex];
        if (c.active) if (r < u[0]) switch (l) {
          case e.setup:
            return c.x = c.data.x, void (c.y = c.data.y);
          case e.first:
            c.x += (c.data.x - c.x) * s, c.y += (c.data.y - c.y) * s
        } else {
          var p = 0, d = 0;
          if (r >= u[u.length - i.ENTRIES]) p = u[u.length + i.PREV_X], d = u[u.length + i.PREV_Y]; else {
            var f = a.binarySearch(u, r, i.ENTRIES);
            p = u[f + i.PREV_X], d = u[f + i.PREV_Y];
            var m = u[f], g = this.getCurvePercent(f / i.ENTRIES - 1, 1 - (r - m) / (u[f + i.PREV_TIME] - m));
            p += (u[f + i.X] - p) * g, d += (u[f + i.Y] - d) * g
          }
          switch (l) {
            case e.setup:
              c.x = c.data.x + p * s, c.y = c.data.y + d * s;
              break;
            case e.first:
            case e.replace:
              c.x += (c.data.x + p - c.x) * s, c.y += (c.data.y + d - c.y) * s;
              break;
            case e.add:
              c.x += p * s, c.y += d * s
          }
        }
      }, i.ENTRIES = 3, i.PREV_TIME = -3, i.PREV_X = -2, i.PREV_Y = -1, i.X = 1, i.Y = 2, i
    }(i);
    t.TranslateTimeline = s;
    var l = function (i) {
      function o(t) {
        return i.call(this, t) || this
      }

      return __extends(o, i), o.prototype.getPropertyId = function () {
        return (r.scale << 24) + this.boneIndex
      }, o.prototype.apply = function (r, i, s, l, h, u, c) {
        var p = this.frames, d = r.bones[this.boneIndex];
        if (d.active) if (s < p[0]) switch (u) {
          case e.setup:
            return d.scaleX = d.data.scaleX, void (d.scaleY = d.data.scaleY);
          case e.first:
            d.scaleX += (d.data.scaleX - d.scaleX) * h, d.scaleY += (d.data.scaleY - d.scaleY) * h
        } else {
          var f = 0, m = 0;
          if (s >= p[p.length - o.ENTRIES]) f = p[p.length + o.PREV_X] * d.data.scaleX, m = p[p.length + o.PREV_Y] * d.data.scaleY; else {
            var g = a.binarySearch(p, s, o.ENTRIES);
            f = p[g + o.PREV_X], m = p[g + o.PREV_Y];
            var v = p[g], y = this.getCurvePercent(g / o.ENTRIES - 1, 1 - (s - v) / (p[g + o.PREV_TIME] - v));
            f = (f + (p[g + o.X] - f) * y) * d.data.scaleX, m = (m + (p[g + o.Y] - m) * y) * d.data.scaleY
          }
          if (1 == h) u == e.add ? (d.scaleX += f - d.data.scaleX, d.scaleY += m - d.data.scaleY) : (d.scaleX = f, d.scaleY = m); else {
            var x = 0, M = 0;
            if (c == n.mixOut) switch (u) {
              case e.setup:
                x = d.data.scaleX, M = d.data.scaleY, d.scaleX = x + (Math.abs(f) * t.MathUtils.signum(x) - x) * h, d.scaleY = M + (Math.abs(m) * t.MathUtils.signum(M) - M) * h;
                break;
              case e.first:
              case e.replace:
                x = d.scaleX, M = d.scaleY, d.scaleX = x + (Math.abs(f) * t.MathUtils.signum(x) - x) * h, d.scaleY = M + (Math.abs(m) * t.MathUtils.signum(M) - M) * h;
                break;
              case e.add:
                x = d.scaleX, M = d.scaleY, d.scaleX = x + (Math.abs(f) * t.MathUtils.signum(x) - d.data.scaleX) * h, d.scaleY = M + (Math.abs(m) * t.MathUtils.signum(M) - d.data.scaleY) * h
            } else switch (u) {
              case e.setup:
                x = Math.abs(d.data.scaleX) * t.MathUtils.signum(f), M = Math.abs(d.data.scaleY) * t.MathUtils.signum(m), d.scaleX = x + (f - x) * h, d.scaleY = M + (m - M) * h;
                break;
              case e.first:
              case e.replace:
                x = Math.abs(d.scaleX) * t.MathUtils.signum(f), M = Math.abs(d.scaleY) * t.MathUtils.signum(m), d.scaleX = x + (f - x) * h, d.scaleY = M + (m - M) * h;
                break;
              case e.add:
                x = t.MathUtils.signum(f), M = t.MathUtils.signum(m), d.scaleX = Math.abs(d.scaleX) * x + (f - Math.abs(d.data.scaleX) * x) * h, d.scaleY = Math.abs(d.scaleY) * M + (m - Math.abs(d.data.scaleY) * M) * h
            }
          }
        }
      }, o
    }(s);
    t.ScaleTimeline = l;
    var h = function (t) {
      function n(e) {
        return t.call(this, e) || this
      }

      return __extends(n, t), n.prototype.getPropertyId = function () {
        return (r.shear << 24) + this.boneIndex
      }, n.prototype.apply = function (t, r, i, o, s, l, h) {
        var u = this.frames, c = t.bones[this.boneIndex];
        if (c.active) if (i < u[0]) switch (l) {
          case e.setup:
            return c.shearX = c.data.shearX, void (c.shearY = c.data.shearY);
          case e.first:
            c.shearX += (c.data.shearX - c.shearX) * s, c.shearY += (c.data.shearY - c.shearY) * s
        } else {
          var p = 0, d = 0;
          if (i >= u[u.length - n.ENTRIES]) p = u[u.length + n.PREV_X], d = u[u.length + n.PREV_Y]; else {
            var f = a.binarySearch(u, i, n.ENTRIES);
            p = u[f + n.PREV_X], d = u[f + n.PREV_Y];
            var m = u[f], g = this.getCurvePercent(f / n.ENTRIES - 1, 1 - (i - m) / (u[f + n.PREV_TIME] - m));
            p += (u[f + n.X] - p) * g, d += (u[f + n.Y] - d) * g
          }
          switch (l) {
            case e.setup:
              c.shearX = c.data.shearX + p * s, c.shearY = c.data.shearY + d * s;
              break;
            case e.first:
            case e.replace:
              c.shearX += (c.data.shearX + p - c.shearX) * s, c.shearY += (c.data.shearY + d - c.shearY) * s;
              break;
            case e.add:
              c.shearX += p * s, c.shearY += d * s
          }
        }
      }, n
    }(s);
    t.ShearTimeline = h;
    var u = function (n) {
      function i(e) {
        var r = n.call(this, e) || this;
        return r.frames = t.Utils.newFloatArray(e * i.ENTRIES), r
      }

      return __extends(i, n), i.prototype.getPropertyId = function () {
        return (r.color << 24) + this.slotIndex
      }, i.prototype.setFrame = function (t, e, n, r, a, o) {
        t *= i.ENTRIES, this.frames[t] = e, this.frames[t + i.R] = n, this.frames[t + i.G] = r, this.frames[t + i.B] = a, this.frames[t + i.A] = o
      }, i.prototype.apply = function (t, n, r, o, s, l, h) {
        var u = t.slots[this.slotIndex];
        if (u.bone.active) {
          var c = this.frames;
          if (r < c[0]) switch (l) {
            case e.setup:
              return void u.color.setFromColor(u.data.color);
            case e.first:
              var p = u.color, d = u.data.color;
              p.add((d.r - p.r) * s, (d.g - p.g) * s, (d.b - p.b) * s, (d.a - p.a) * s)
          } else {
            var f = 0, m = 0, g = 0, v = 0;
            if (r >= c[c.length - i.ENTRIES]) {
              var y = c.length;
              f = c[y + i.PREV_R], m = c[y + i.PREV_G], g = c[y + i.PREV_B], v = c[y + i.PREV_A]
            } else {
              var x = a.binarySearch(c, r, i.ENTRIES);
              f = c[x + i.PREV_R], m = c[x + i.PREV_G], g = c[x + i.PREV_B], v = c[x + i.PREV_A];
              var M = c[x], w = this.getCurvePercent(x / i.ENTRIES - 1, 1 - (r - M) / (c[x + i.PREV_TIME] - M));
              f += (c[x + i.R] - f) * w, m += (c[x + i.G] - m) * w, g += (c[x + i.B] - g) * w, v += (c[x + i.A] - v) * w
            }
            if (1 == s) u.color.set(f, m, g, v); else {
              p = u.color;
              l == e.setup && p.setFromColor(u.data.color), p.add((f - p.r) * s, (m - p.g) * s, (g - p.b) * s, (v - p.a) * s)
            }
          }
        }
      }, i.ENTRIES = 5, i.PREV_TIME = -5, i.PREV_R = -4, i.PREV_G = -3, i.PREV_B = -2, i.PREV_A = -1, i.R = 1, i.G = 2, i.B = 3, i.A = 4, i
    }(i);
    t.ColorTimeline = u;
    var c = function (n) {
      function i(e) {
        var r = n.call(this, e) || this;
        return r.frames = t.Utils.newFloatArray(e * i.ENTRIES), r
      }

      return __extends(i, n), i.prototype.getPropertyId = function () {
        return (r.twoColor << 24) + this.slotIndex
      }, i.prototype.setFrame = function (t, e, n, r, a, o, s, l, h) {
        t *= i.ENTRIES, this.frames[t] = e, this.frames[t + i.R] = n, this.frames[t + i.G] = r, this.frames[t + i.B] = a, this.frames[t + i.A] = o, this.frames[t + i.R2] = s, this.frames[t + i.G2] = l, this.frames[t + i.B2] = h
      }, i.prototype.apply = function (t, n, r, o, s, l, h) {
        var u = t.slots[this.slotIndex];
        if (u.bone.active) {
          var c = this.frames;
          if (r < c[0]) switch (l) {
            case e.setup:
              return u.color.setFromColor(u.data.color), void u.darkColor.setFromColor(u.data.darkColor);
            case e.first:
              var p = u.color, d = u.darkColor, f = u.data.color, m = u.data.darkColor;
              p.add((f.r - p.r) * s, (f.g - p.g) * s, (f.b - p.b) * s, (f.a - p.a) * s), d.add((m.r - d.r) * s, (m.g - d.g) * s, (m.b - d.b) * s, 0)
          } else {
            var g = 0, v = 0, y = 0, x = 0, M = 0, w = 0, E = 0;
            if (r >= c[c.length - i.ENTRIES]) {
              var T = c.length;
              g = c[T + i.PREV_R], v = c[T + i.PREV_G], y = c[T + i.PREV_B], x = c[T + i.PREV_A], M = c[T + i.PREV_R2], w = c[T + i.PREV_G2], E = c[T + i.PREV_B2]
            } else {
              var b = a.binarySearch(c, r, i.ENTRIES);
              g = c[b + i.PREV_R], v = c[b + i.PREV_G], y = c[b + i.PREV_B], x = c[b + i.PREV_A], M = c[b + i.PREV_R2], w = c[b + i.PREV_G2], E = c[b + i.PREV_B2];
              var S = c[b], I = this.getCurvePercent(b / i.ENTRIES - 1, 1 - (r - S) / (c[b + i.PREV_TIME] - S));
              g += (c[b + i.R] - g) * I, v += (c[b + i.G] - v) * I, y += (c[b + i.B] - y) * I, x += (c[b + i.A] - x) * I, M += (c[b + i.R2] - M) * I, w += (c[b + i.G2] - w) * I, E += (c[b + i.B2] - E) * I
            }
            if (1 == s) u.color.set(g, v, y, x), u.darkColor.set(M, w, E, 1); else {
              p = u.color, d = u.darkColor;
              l == e.setup && (p.setFromColor(u.data.color), d.setFromColor(u.data.darkColor)), p.add((g - p.r) * s, (v - p.g) * s, (y - p.b) * s, (x - p.a) * s), d.add((M - d.r) * s, (w - d.g) * s, (E - d.b) * s, 0)
            }
          }
        }
      }, i.ENTRIES = 8, i.PREV_TIME = -8, i.PREV_R = -7, i.PREV_G = -6, i.PREV_B = -5, i.PREV_A = -4, i.PREV_R2 = -3, i.PREV_G2 = -2, i.PREV_B2 = -1, i.R = 1, i.G = 2, i.B = 3, i.A = 4, i.R2 = 5, i.G2 = 6, i.B2 = 7, i
    }(i);
    t.TwoColorTimeline = c;
    var p = function () {
      function i(e) {
        this.frames = t.Utils.newFloatArray(e), this.attachmentNames = new Array(e)
      }

      return i.prototype.getPropertyId = function () {
        return (r.attachment << 24) + this.slotIndex
      }, i.prototype.getFrameCount = function () {
        return this.frames.length
      }, i.prototype.setFrame = function (t, e, n) {
        this.frames[t] = e, this.attachmentNames[t] = n
      }, i.prototype.apply = function (t, r, i, o, s, l, h) {
        var u = t.slots[this.slotIndex];
        if (u.bone.active) if (h != n.mixOut || l != e.setup) {
          var c = this.frames;
          if (i < c[0]) {
            if (l == e.setup || l == e.first) {
              var p = u.data.attachmentName;
              u.setAttachment(null == p ? null : t.getAttachment(this.slotIndex, p))
            }
          } else {
            var d = 0;
            d = i >= c[c.length - 1] ? c.length - 1 : a.binarySearch(c, i, 1) - 1;
            var f = this.attachmentNames[d];
            t.slots[this.slotIndex].setAttachment(null == f ? null : t.getAttachment(this.slotIndex, f))
          }
        } else {
          var m = u.data.attachmentName;
          u.setAttachment(null == m ? null : t.getAttachment(this.slotIndex, m))
        }
      }, i
    }();
    t.AttachmentTimeline = p;
    var d = null, f = function (n) {
      function i(e) {
        var r = n.call(this, e) || this;
        return r.frames = t.Utils.newFloatArray(e), r.frameVertices = new Array(e), null == d && (d = t.Utils.newFloatArray(64)), r
      }

      return __extends(i, n), i.prototype.getPropertyId = function () {
        return (r.deform << 27) + +this.attachment.id + this.slotIndex
      }, i.prototype.setFrame = function (t, e, n) {
        this.frames[t] = e, this.frameVertices[t] = n
      }, i.prototype.apply = function (n, r, i, o, s, l, h) {
        var u = n.slots[this.slotIndex];
        if (u.bone.active) {
          var c = u.getAttachment();
          if (c instanceof t.VertexAttachment && c.deformAttachment == this.attachment) {
            var p = u.deform;
            0 == p.length && (l = e.setup);
            var d = this.frameVertices, f = d[0].length, m = this.frames;
            if (i < m[0]) {
              var g = c;
              switch (l) {
                case e.setup:
                  return void (p.length = 0);
                case e.first:
                  if (1 == s) {
                    p.length = 0;
                    break
                  }
                  var v = t.Utils.setArraySize(p, f);
                  if (null == g.bones) for (var y = g.vertices, x = 0; x < f; x++) v[x] += (y[x] - v[x]) * s; else {
                    s = 1 - s;
                    for (x = 0; x < f; x++) v[x] *= s
                  }
              }
            } else {
              var M = t.Utils.setArraySize(p, f);
              if (i >= m[m.length - 1]) {
                var w = d[m.length - 1];
                if (1 == s) if (l == e.add) if (null == (g = c).bones) {
                  y = g.vertices;
                  for (var E = 0; E < f; E++) M[E] += w[E] - y[E]
                } else for (var T = 0; T < f; T++) M[T] += w[T]; else t.Utils.arrayCopy(w, 0, M, 0, f); else switch (l) {
                  case e.setup:
                    var b = c;
                    if (null == b.bones) {
                      y = b.vertices;
                      for (var S = 0; S < f; S++) {
                        var I = y[S];
                        M[S] = I + (w[S] - I) * s
                      }
                    } else for (var A = 0; A < f; A++) M[A] = w[A] * s;
                    break;
                  case e.first:
                  case e.replace:
                    for (var R = 0; R < f; R++) M[R] += (w[R] - M[R]) * s;
                    break;
                  case e.add:
                    if (null == (g = c).bones) {
                      y = g.vertices;
                      for (var C = 0; C < f; C++) M[C] += (w[C] - y[C]) * s
                    } else for (var P = 0; P < f; P++) M[P] += w[P] * s
                }
              } else {
                var k = a.binarySearch(m, i), V = d[k - 1], _ = d[k], N = m[k],
                  F = this.getCurvePercent(k - 1, 1 - (i - N) / (m[k - 1] - N));
                if (1 == s) if (l == e.add) if (null == (g = c).bones) {
                  y = g.vertices;
                  for (var O = 0; O < f; O++) {
                    var D = V[O];
                    M[O] += D + (_[O] - D) * F - y[O]
                  }
                } else for (var U = 0; U < f; U++) {
                  D = V[U];
                  M[U] += D + (_[U] - D) * F
                } else for (var X = 0; X < f; X++) {
                  D = V[X];
                  M[X] = D + (_[X] - D) * F
                } else switch (l) {
                  case e.setup:
                    var B = c;
                    if (null == B.bones) {
                      y = B.vertices;
                      for (var L = 0; L < f; L++) {
                        D = V[L], I = y[L];
                        M[L] = I + (D + (_[L] - D) * F - I) * s
                      }
                    } else for (var Y = 0; Y < f; Y++) {
                      D = V[Y];
                      M[Y] = (D + (_[Y] - D) * F) * s
                    }
                    break;
                  case e.first:
                  case e.replace:
                    for (var W = 0; W < f; W++) {
                      D = V[W];
                      M[W] += (D + (_[W] - D) * F - M[W]) * s
                    }
                    break;
                  case e.add:
                    if (null == (g = c).bones) {
                      y = g.vertices;
                      for (var q = 0; q < f; q++) {
                        D = V[q];
                        M[q] += (D + (_[q] - D) * F - y[q]) * s
                      }
                    } else for (var H = 0; H < f; H++) {
                      D = V[H];
                      M[H] += (D + (_[H] - D) * F) * s
                    }
                }
              }
            }
          }
        }
      }, i
    }(i);
    t.DeformTimeline = f;
    var m = function () {
      function e(e) {
        this.frames = t.Utils.newFloatArray(e), this.events = new Array(e)
      }

      return e.prototype.getPropertyId = function () {
        return r.event << 24
      }, e.prototype.getFrameCount = function () {
        return this.frames.length
      }, e.prototype.setFrame = function (t, e) {
        this.frames[t] = e.time, this.events[t] = e
      }, e.prototype.apply = function (t, e, n, r, i, o, s) {
        if (null != r) {
          var l = this.frames, h = this.frames.length;
          if (e > n) this.apply(t, e, Number.MAX_VALUE, r, i, o, s), e = -1; else if (e >= l[h - 1]) return;
          if (!(n < l[0])) {
            var u = 0;
            if (e < l[0]) u = 0; else for (var c = l[u = a.binarySearch(l, e)]; u > 0 && l[u - 1] == c;) u--;
            for (; u < h && n >= l[u]; u++) r.push(this.events[u])
          }
        }
      }, e
    }();
    t.EventTimeline = m;
    var g = function () {
      function i(e) {
        this.frames = t.Utils.newFloatArray(e), this.drawOrders = new Array(e)
      }

      return i.prototype.getPropertyId = function () {
        return r.drawOrder << 24
      }, i.prototype.getFrameCount = function () {
        return this.frames.length
      }, i.prototype.setFrame = function (t, e, n) {
        this.frames[t] = e, this.drawOrders[t] = n
      }, i.prototype.apply = function (r, i, o, s, l, h, u) {
        var c = r.drawOrder, p = r.slots;
        if (u != n.mixOut || h != e.setup) {
          var d = this.frames;
          if (o < d[0]) h != e.setup && h != e.first || t.Utils.arrayCopy(r.slots, 0, r.drawOrder, 0, r.slots.length); else {
            var f = 0;
            f = o >= d[d.length - 1] ? d.length - 1 : a.binarySearch(d, o) - 1;
            var m = this.drawOrders[f];
            if (null == m) t.Utils.arrayCopy(p, 0, c, 0, p.length); else for (var g = 0, v = m.length; g < v; g++) c[g] = p[m[g]]
          }
        } else t.Utils.arrayCopy(r.slots, 0, r.drawOrder, 0, r.slots.length)
      }, i
    }();
    t.DrawOrderTimeline = g;
    var v = function (i) {
      function o(e) {
        var n = i.call(this, e) || this;
        return n.frames = t.Utils.newFloatArray(e * o.ENTRIES), n
      }

      return __extends(o, i), o.prototype.getPropertyId = function () {
        return (r.ikConstraint << 24) + this.ikConstraintIndex
      }, o.prototype.setFrame = function (t, e, n, r, a, i, s) {
        t *= o.ENTRIES, this.frames[t] = e, this.frames[t + o.MIX] = n, this.frames[t + o.SOFTNESS] = r, this.frames[t + o.BEND_DIRECTION] = a, this.frames[t + o.COMPRESS] = i ? 1 : 0, this.frames[t + o.STRETCH] = s ? 1 : 0
      }, o.prototype.apply = function (t, r, i, s, l, h, u) {
        var c = this.frames, p = t.ikConstraints[this.ikConstraintIndex];
        if (p.active) if (i < c[0]) switch (h) {
          case e.setup:
            return p.mix = p.data.mix, p.softness = p.data.softness, p.bendDirection = p.data.bendDirection, p.compress = p.data.compress, void (p.stretch = p.data.stretch);
          case e.first:
            p.mix += (p.data.mix - p.mix) * l, p.softness += (p.data.softness - p.softness) * l, p.bendDirection = p.data.bendDirection, p.compress = p.data.compress, p.stretch = p.data.stretch
        } else if (i >= c[c.length - o.ENTRIES]) h == e.setup ? (p.mix = p.data.mix + (c[c.length + o.PREV_MIX] - p.data.mix) * l, p.softness = p.data.softness + (c[c.length + o.PREV_SOFTNESS] - p.data.softness) * l, u == n.mixOut ? (p.bendDirection = p.data.bendDirection, p.compress = p.data.compress, p.stretch = p.data.stretch) : (p.bendDirection = c[c.length + o.PREV_BEND_DIRECTION], p.compress = 0 != c[c.length + o.PREV_COMPRESS], p.stretch = 0 != c[c.length + o.PREV_STRETCH])) : (p.mix += (c[c.length + o.PREV_MIX] - p.mix) * l, p.softness += (c[c.length + o.PREV_SOFTNESS] - p.softness) * l, u == n.mixIn && (p.bendDirection = c[c.length + o.PREV_BEND_DIRECTION], p.compress = 0 != c[c.length + o.PREV_COMPRESS], p.stretch = 0 != c[c.length + o.PREV_STRETCH])); else {
          var d = a.binarySearch(c, i, o.ENTRIES), f = c[d + o.PREV_MIX], m = c[d + o.PREV_SOFTNESS], g = c[d],
            v = this.getCurvePercent(d / o.ENTRIES - 1, 1 - (i - g) / (c[d + o.PREV_TIME] - g));
          h == e.setup ? (p.mix = p.data.mix + (f + (c[d + o.MIX] - f) * v - p.data.mix) * l, p.softness = p.data.softness + (m + (c[d + o.SOFTNESS] - m) * v - p.data.softness) * l, u == n.mixOut ? (p.bendDirection = p.data.bendDirection, p.compress = p.data.compress, p.stretch = p.data.stretch) : (p.bendDirection = c[d + o.PREV_BEND_DIRECTION], p.compress = 0 != c[d + o.PREV_COMPRESS], p.stretch = 0 != c[d + o.PREV_STRETCH])) : (p.mix += (f + (c[d + o.MIX] - f) * v - p.mix) * l, p.softness += (m + (c[d + o.SOFTNESS] - m) * v - p.softness) * l, u == n.mixIn && (p.bendDirection = c[d + o.PREV_BEND_DIRECTION], p.compress = 0 != c[d + o.PREV_COMPRESS], p.stretch = 0 != c[d + o.PREV_STRETCH]))
        }
      }, o.ENTRIES = 6, o.PREV_TIME = -6, o.PREV_MIX = -5, o.PREV_SOFTNESS = -4, o.PREV_BEND_DIRECTION = -3, o.PREV_COMPRESS = -2, o.PREV_STRETCH = -1, o.MIX = 1, o.SOFTNESS = 2, o.BEND_DIRECTION = 3, o.COMPRESS = 4, o.STRETCH = 5, o
    }(i);
    t.IkConstraintTimeline = v;
    var y = function (n) {
      function i(e) {
        var r = n.call(this, e) || this;
        return r.frames = t.Utils.newFloatArray(e * i.ENTRIES), r
      }

      return __extends(i, n), i.prototype.getPropertyId = function () {
        return (r.transformConstraint << 24) + this.transformConstraintIndex
      }, i.prototype.setFrame = function (t, e, n, r, a, o) {
        t *= i.ENTRIES, this.frames[t] = e, this.frames[t + i.ROTATE] = n, this.frames[t + i.TRANSLATE] = r, this.frames[t + i.SCALE] = a, this.frames[t + i.SHEAR] = o
      }, i.prototype.apply = function (t, n, r, o, s, l, h) {
        var u = this.frames, c = t.transformConstraints[this.transformConstraintIndex];
        if (c.active) if (r < u[0]) {
          var p = c.data;
          switch (l) {
            case e.setup:
              return c.rotateMix = p.rotateMix, c.translateMix = p.translateMix, c.scaleMix = p.scaleMix, void (c.shearMix = p.shearMix);
            case e.first:
              c.rotateMix += (p.rotateMix - c.rotateMix) * s, c.translateMix += (p.translateMix - c.translateMix) * s, c.scaleMix += (p.scaleMix - c.scaleMix) * s, c.shearMix += (p.shearMix - c.shearMix) * s
          }
        } else {
          var d = 0, f = 0, m = 0, g = 0;
          if (r >= u[u.length - i.ENTRIES]) {
            var v = u.length;
            d = u[v + i.PREV_ROTATE], f = u[v + i.PREV_TRANSLATE], m = u[v + i.PREV_SCALE], g = u[v + i.PREV_SHEAR]
          } else {
            var y = a.binarySearch(u, r, i.ENTRIES);
            d = u[y + i.PREV_ROTATE], f = u[y + i.PREV_TRANSLATE], m = u[y + i.PREV_SCALE], g = u[y + i.PREV_SHEAR];
            var x = u[y], M = this.getCurvePercent(y / i.ENTRIES - 1, 1 - (r - x) / (u[y + i.PREV_TIME] - x));
            d += (u[y + i.ROTATE] - d) * M, f += (u[y + i.TRANSLATE] - f) * M, m += (u[y + i.SCALE] - m) * M, g += (u[y + i.SHEAR] - g) * M
          }
          if (l == e.setup) {
            p = c.data;
            c.rotateMix = p.rotateMix + (d - p.rotateMix) * s, c.translateMix = p.translateMix + (f - p.translateMix) * s, c.scaleMix = p.scaleMix + (m - p.scaleMix) * s, c.shearMix = p.shearMix + (g - p.shearMix) * s
          } else c.rotateMix += (d - c.rotateMix) * s, c.translateMix += (f - c.translateMix) * s, c.scaleMix += (m - c.scaleMix) * s, c.shearMix += (g - c.shearMix) * s
        }
      }, i.ENTRIES = 5, i.PREV_TIME = -5, i.PREV_ROTATE = -4, i.PREV_TRANSLATE = -3, i.PREV_SCALE = -2, i.PREV_SHEAR = -1, i.ROTATE = 1, i.TRANSLATE = 2, i.SCALE = 3, i.SHEAR = 4, i
    }(i);
    t.TransformConstraintTimeline = y;
    var x = function (n) {
      function i(e) {
        var r = n.call(this, e) || this;
        return r.frames = t.Utils.newFloatArray(e * i.ENTRIES), r
      }

      return __extends(i, n), i.prototype.getPropertyId = function () {
        return (r.pathConstraintPosition << 24) + this.pathConstraintIndex
      }, i.prototype.setFrame = function (t, e, n) {
        t *= i.ENTRIES, this.frames[t] = e, this.frames[t + i.VALUE] = n
      }, i.prototype.apply = function (t, n, r, o, s, l, h) {
        var u = this.frames, c = t.pathConstraints[this.pathConstraintIndex];
        if (c.active) if (r < u[0]) switch (l) {
          case e.setup:
            return void (c.position = c.data.position);
          case e.first:
            c.position += (c.data.position - c.position) * s
        } else {
          var p = 0;
          if (r >= u[u.length - i.ENTRIES]) p = u[u.length + i.PREV_VALUE]; else {
            var d = a.binarySearch(u, r, i.ENTRIES);
            p = u[d + i.PREV_VALUE];
            var f = u[d], m = this.getCurvePercent(d / i.ENTRIES - 1, 1 - (r - f) / (u[d + i.PREV_TIME] - f));
            p += (u[d + i.VALUE] - p) * m
          }
          l == e.setup ? c.position = c.data.position + (p - c.data.position) * s : c.position += (p - c.position) * s
        }
      }, i.ENTRIES = 2, i.PREV_TIME = -2, i.PREV_VALUE = -1, i.VALUE = 1, i
    }(i);
    t.PathConstraintPositionTimeline = x;
    var M = function (t) {
      function n(e) {
        return t.call(this, e) || this
      }

      return __extends(n, t), n.prototype.getPropertyId = function () {
        return (r.pathConstraintSpacing << 24) + this.pathConstraintIndex
      }, n.prototype.apply = function (t, r, i, o, s, l, h) {
        var u = this.frames, c = t.pathConstraints[this.pathConstraintIndex];
        if (c.active) if (i < u[0]) switch (l) {
          case e.setup:
            return void (c.spacing = c.data.spacing);
          case e.first:
            c.spacing += (c.data.spacing - c.spacing) * s
        } else {
          var p = 0;
          if (i >= u[u.length - n.ENTRIES]) p = u[u.length + n.PREV_VALUE]; else {
            var d = a.binarySearch(u, i, n.ENTRIES);
            p = u[d + n.PREV_VALUE];
            var f = u[d], m = this.getCurvePercent(d / n.ENTRIES - 1, 1 - (i - f) / (u[d + n.PREV_TIME] - f));
            p += (u[d + n.VALUE] - p) * m
          }
          l == e.setup ? c.spacing = c.data.spacing + (p - c.data.spacing) * s : c.spacing += (p - c.spacing) * s
        }
      }, n
    }(x);
    t.PathConstraintSpacingTimeline = M;
    var w = function (n) {
      function i(e) {
        var r = n.call(this, e) || this;
        return r.frames = t.Utils.newFloatArray(e * i.ENTRIES), r
      }

      return __extends(i, n), i.prototype.getPropertyId = function () {
        return (r.pathConstraintMix << 24) + this.pathConstraintIndex
      }, i.prototype.setFrame = function (t, e, n, r) {
        t *= i.ENTRIES, this.frames[t] = e, this.frames[t + i.ROTATE] = n, this.frames[t + i.TRANSLATE] = r
      }, i.prototype.apply = function (t, n, r, o, s, l, h) {
        var u = this.frames, c = t.pathConstraints[this.pathConstraintIndex];
        if (c.active) if (r < u[0]) switch (l) {
          case e.setup:
            return c.rotateMix = c.data.rotateMix, void (c.translateMix = c.data.translateMix);
          case e.first:
            c.rotateMix += (c.data.rotateMix - c.rotateMix) * s, c.translateMix += (c.data.translateMix - c.translateMix) * s
        } else {
          var p = 0, d = 0;
          if (r >= u[u.length - i.ENTRIES]) p = u[u.length + i.PREV_ROTATE], d = u[u.length + i.PREV_TRANSLATE]; else {
            var f = a.binarySearch(u, r, i.ENTRIES);
            p = u[f + i.PREV_ROTATE], d = u[f + i.PREV_TRANSLATE];
            var m = u[f], g = this.getCurvePercent(f / i.ENTRIES - 1, 1 - (r - m) / (u[f + i.PREV_TIME] - m));
            p += (u[f + i.ROTATE] - p) * g, d += (u[f + i.TRANSLATE] - d) * g
          }
          l == e.setup ? (c.rotateMix = c.data.rotateMix + (p - c.data.rotateMix) * s, c.translateMix = c.data.translateMix + (d - c.data.translateMix) * s) : (c.rotateMix += (p - c.rotateMix) * s, c.translateMix += (d - c.translateMix) * s)
        }
      }, i.ENTRIES = 3, i.PREV_TIME = -3, i.PREV_ROTATE = -2, i.PREV_TRANSLATE = -1, i.ROTATE = 1, i.TRANSLATE = 2, i
    }(i);
    t.PathConstraintMixTimeline = w
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function () {
      function e(e) {
        this.tracks = new Array, this.timeScale = 1, this.events = new Array, this.listeners = new Array, this.queue = new a(this), this.propertyIDs = new t.IntSet, this.animationsChanged = !1, this.trackEntryPool = new t.Pool(function () {
          return new n
        }), this.data = e
      }

      return e.prototype.update = function (t) {
        t *= this.timeScale;
        for (var e = this.tracks, n = 0, r = e.length; n < r; n++) {
          var a = e[n];
          if (null != a) {
            a.animationLast = a.nextAnimationLast, a.trackLast = a.nextTrackLast;
            var i = t * a.timeScale;
            if (a.delay > 0) {
              if (a.delay -= i, a.delay > 0) continue;
              i = -a.delay, a.delay = 0
            }
            var o = a.next;
            if (null != o) {
              var s = a.trackLast - o.delay;
              if (s >= 0) {
                for (o.delay = 0, o.trackTime += 0 == a.timeScale ? 0 : (s / a.timeScale + t) * o.timeScale, a.trackTime += i, this.setCurrent(n, o, !0); null != o.mixingFrom;) o.mixTime += t, o = o.mixingFrom;
                continue
              }
            } else if (a.trackLast >= a.trackEnd && null == a.mixingFrom) {
              e[n] = null, this.queue.end(a), this.disposeNext(a);
              continue
            }
            if (null != a.mixingFrom && this.updateMixingFrom(a, t)) {
              var l = a.mixingFrom;
              for (a.mixingFrom = null, null != l && (l.mixingTo = null); null != l;) this.queue.end(l), l = l.mixingFrom
            }
            a.trackTime += i
          }
        }
        this.queue.drain()
      }, e.prototype.updateMixingFrom = function (t, e) {
        var n = t.mixingFrom;
        if (null == n) return !0;
        var r = this.updateMixingFrom(n, e);
        return n.animationLast = n.nextAnimationLast, n.trackLast = n.nextTrackLast, t.mixTime > 0 && t.mixTime >= t.mixDuration ? (0 != n.totalAlpha && 0 != t.mixDuration || (t.mixingFrom = n.mixingFrom, null != n.mixingFrom && (n.mixingFrom.mixingTo = t), t.interruptAlpha = n.interruptAlpha, this.queue.end(n)), r) : (n.trackTime += e * n.timeScale, t.mixTime += e, !1)
      }, e.prototype.apply = function (n) {
        if (null == n) throw new Error("skeleton cannot be null.");
        this.animationsChanged && this._animationsChanged();
        for (var r = this.events, a = this.tracks, i = !1, o = 0, s = a.length; o < s; o++) {
          var l = a[o];
          if (!(null == l || l.delay > 0)) {
            i = !0;
            var h = 0 == o ? t.MixBlend.first : l.mixBlend, u = l.alpha;
            null != l.mixingFrom ? u *= this.applyMixingFrom(l, n, h) : l.trackTime >= l.trackEnd && null == l.next && (u = 0);
            var c = l.animationLast, p = l.getAnimationTime(), d = l.animation.timelines.length,
              f = l.animation.timelines;
            if (0 == o && 1 == u || h == t.MixBlend.add) for (var m = 0; m < d; m++) t.Utils.webkit602BugfixHelper(u, h), f[m].apply(n, c, p, r, u, h, t.MixDirection.mixIn); else {
              var g = l.timelineMode, v = 0 == l.timelinesRotation.length;
              v && t.Utils.setArraySize(l.timelinesRotation, d << 1, null);
              var y = l.timelinesRotation;
              for (m = 0; m < d; m++) {
                var x = f[m], M = (g[m] & e.NOT_LAST - 1) == e.SUBSEQUENT ? h : t.MixBlend.setup;
                x instanceof t.RotateTimeline ? this.applyRotateTimeline(x, n, p, u, M, y, m << 1, v) : (t.Utils.webkit602BugfixHelper(u, h), x.apply(n, c, p, r, u, M, t.MixDirection.mixIn))
              }
            }
            this.queueEvents(l, p), r.length = 0, l.nextAnimationLast = p, l.nextTrackLast = l.trackTime
          }
        }
        return this.queue.drain(), i
      }, e.prototype.applyMixingFrom = function (n, r, a) {
        var i = n.mixingFrom;
        null != i.mixingFrom && this.applyMixingFrom(i, r, a);
        var o = 0;
        0 == n.mixDuration ? (o = 1, a == t.MixBlend.first && (a = t.MixBlend.setup)) : ((o = n.mixTime / n.mixDuration) > 1 && (o = 1), a != t.MixBlend.first && (a = i.mixBlend));
        var s = o < i.eventThreshold ? this.events : null, l = o < i.attachmentThreshold, h = o < i.drawOrderThreshold,
          u = i.animationLast, c = i.getAnimationTime(), p = i.animation.timelines.length, d = i.animation.timelines,
          f = i.alpha * n.interruptAlpha, m = f * (1 - o);
        if (a == t.MixBlend.add) for (var g = 0; g < p; g++) d[g].apply(r, u, c, s, m, a, t.MixDirection.mixOut); else {
          var v = i.timelineMode, y = i.timelineHoldMix, x = 0 == i.timelinesRotation.length;
          x && t.Utils.setArraySize(i.timelinesRotation, p << 1, null);
          var M = i.timelinesRotation;
          i.totalAlpha = 0;
          for (g = 0; g < p; g++) {
            var w = d[g], E = t.MixDirection.mixOut, T = void 0, b = 0;
            switch (v[g] & e.NOT_LAST - 1) {
              case e.SUBSEQUENT:
                if (T = a, !l && w instanceof t.AttachmentTimeline) {
                  if ((v[g] & e.NOT_LAST) == e.NOT_LAST) continue;
                  T = t.MixBlend.setup
                }
                if (!h && w instanceof t.DrawOrderTimeline) continue;
                b = m;
                break;
              case e.FIRST:
                T = t.MixBlend.setup, b = m;
                break;
              case e.HOLD:
                T = t.MixBlend.setup, b = f;
                break;
              default:
                T = t.MixBlend.setup;
                var S = y[g];
                b = f * Math.max(0, 1 - S.mixTime / S.mixDuration)
            }
            i.totalAlpha += b, w instanceof t.RotateTimeline ? this.applyRotateTimeline(w, r, c, b, T, M, g << 1, x) : (t.Utils.webkit602BugfixHelper(b, a), T == t.MixBlend.setup && (w instanceof t.AttachmentTimeline ? (l || (v[g] & e.NOT_LAST) == e.NOT_LAST) && (E = t.MixDirection.mixIn) : w instanceof t.DrawOrderTimeline && h && (E = t.MixDirection.mixIn)), w.apply(r, u, c, s, b, T, E))
          }
        }
        return n.mixDuration > 0 && this.queueEvents(i, c), this.events.length = 0, i.nextAnimationLast = c, i.nextTrackLast = i.trackTime, o
      }, e.prototype.applyRotateTimeline = function (e, n, r, a, i, o, s, l) {
        if (l && (o[s] = 0), 1 != a) {
          var h = e, u = h.frames, c = n.bones[h.boneIndex];
          if (c.active) {
            var p = 0, d = 0;
            if (r < u[0]) switch (i) {
              case t.MixBlend.setup:
                c.rotation = c.data.rotation;
              default:
                return;
              case t.MixBlend.first:
                p = c.rotation, d = c.data.rotation
            } else if (p = i == t.MixBlend.setup ? c.data.rotation : c.rotation, r >= u[u.length - t.RotateTimeline.ENTRIES]) d = c.data.rotation + u[u.length + t.RotateTimeline.PREV_ROTATION]; else {
              var f = t.Animation.binarySearch(u, r, t.RotateTimeline.ENTRIES),
                m = u[f + t.RotateTimeline.PREV_ROTATION], g = u[f],
                v = h.getCurvePercent((f >> 1) - 1, 1 - (r - g) / (u[f + t.RotateTimeline.PREV_TIME] - g));
              d = u[f + t.RotateTimeline.ROTATION] - m, d = m + (d -= 360 * (16384 - (16384.499999999996 - d / 360 | 0))) * v + c.data.rotation, d -= 360 * (16384 - (16384.499999999996 - d / 360 | 0))
            }
            var y = 0, x = d - p;
            if (0 == (x -= 360 * (16384 - (16384.499999999996 - x / 360 | 0)))) y = o[s]; else {
              var M = 0, w = 0;
              l ? (M = 0, w = x) : (M = o[s], w = o[s + 1]);
              var E = x > 0, T = M >= 0;
              t.MathUtils.signum(w) != t.MathUtils.signum(x) && Math.abs(w) <= 90 && (Math.abs(M) > 180 && (M += 360 * t.MathUtils.signum(M)), T = E), y = x + M - M % 360, T != E && (y += 360 * t.MathUtils.signum(M)), o[s] = y
            }
            o[s + 1] = x, p += y * a, c.rotation = p - 360 * (16384 - (16384.499999999996 - p / 360 | 0))
          }
        } else e.apply(n, 0, r, null, 1, i, t.MixDirection.mixIn)
      }, e.prototype.queueEvents = function (t, e) {
        for (var n = t.animationStart, r = t.animationEnd, a = r - n, i = t.trackLast % a, o = this.events, s = 0, l = o.length; s < l; s++) {
          var h = o[s];
          if (h.time < i) break;
          h.time > r || this.queue.event(t, h)
        }
        for ((t.loop ? 0 == a || i > t.trackTime % a : e >= r && t.animationLast < r) && this.queue.complete(t); s < l; s++) {
          o[s].time < n || this.queue.event(t, o[s])
        }
      }, e.prototype.clearTracks = function () {
        var t = this.queue.drainDisabled;
        this.queue.drainDisabled = !0;
        for (var e = 0, n = this.tracks.length; e < n; e++) this.clearTrack(e);
        this.tracks.length = 0, this.queue.drainDisabled = t, this.queue.drain()
      }, e.prototype.clearTrack = function (t) {
        if (!(t >= this.tracks.length)) {
          var e = this.tracks[t];
          if (null != e) {
            this.queue.end(e), this.disposeNext(e);
            for (var n = e; ;) {
              var r = n.mixingFrom;
              if (null == r) break;
              this.queue.end(r), n.mixingFrom = null, n.mixingTo = null, n = r
            }
            this.tracks[e.trackIndex] = null, this.queue.drain()
          }
        }
      }, e.prototype.setCurrent = function (t, e, n) {
        var r = this.expandToIndex(t);
        this.tracks[t] = e, null != r && (n && this.queue.interrupt(r), e.mixingFrom = r, r.mixingTo = e, e.mixTime = 0, null != r.mixingFrom && r.mixDuration > 0 && (e.interruptAlpha *= Math.min(1, r.mixTime / r.mixDuration)), r.timelinesRotation.length = 0), this.queue.start(e)
      }, e.prototype.setAnimation = function (t, e, n) {
        var r = this.data.skeletonData.findAnimation(e);
        if (null == r) throw new Error("Animation not found: " + e);
        return this.setAnimationWith(t, r, n)
      }, e.prototype.setAnimationWith = function (t, e, n) {
        if (null == e) throw new Error("animation cannot be null.");
        var r = !0, a = this.expandToIndex(t);
        null != a && (-1 == a.nextTrackLast ? (this.tracks[t] = a.mixingFrom, this.queue.interrupt(a), this.queue.end(a), this.disposeNext(a), a = a.mixingFrom, r = !1) : this.disposeNext(a));
        var i = this.trackEntry(t, e, n, a);
        return this.setCurrent(t, i, r), this.queue.drain(), i
      }, e.prototype.addAnimation = function (t, e, n, r) {
        var a = this.data.skeletonData.findAnimation(e);
        if (null == a) throw new Error("Animation not found: " + e);
        return this.addAnimationWith(t, a, n, r)
      }, e.prototype.addAnimationWith = function (t, e, n, r) {
        if (null == e) throw new Error("animation cannot be null.");
        var a = this.expandToIndex(t);
        if (null != a) for (; null != a.next;) a = a.next;
        var i = this.trackEntry(t, e, n, a);
        if (null == a) this.setCurrent(t, i, !0), this.queue.drain(); else if (a.next = i, r <= 0) {
          var o = a.animationEnd - a.animationStart;
          0 != o ? (a.loop ? r += o * (1 + (a.trackTime / o | 0)) : r += Math.max(o, a.trackTime), r -= this.data.getMix(a.animation, e)) : r = a.trackTime
        }
        return i.delay = r, i
      }, e.prototype.setEmptyAnimation = function (t, n) {
        var r = this.setAnimationWith(t, e.emptyAnimation, !1);
        return r.mixDuration = n, r.trackEnd = n, r
      }, e.prototype.addEmptyAnimation = function (t, n, r) {
        r <= 0 && (r -= n);
        var a = this.addAnimationWith(t, e.emptyAnimation, !1, r);
        return a.mixDuration = n, a.trackEnd = n, a
      }, e.prototype.setEmptyAnimations = function (t) {
        var e = this.queue.drainDisabled;
        this.queue.drainDisabled = !0;
        for (var n = 0, r = this.tracks.length; n < r; n++) {
          var a = this.tracks[n];
          null != a && this.setEmptyAnimation(a.trackIndex, t)
        }
        this.queue.drainDisabled = e, this.queue.drain()
      }, e.prototype.expandToIndex = function (e) {
        return e < this.tracks.length ? this.tracks[e] : (t.Utils.ensureArrayCapacity(this.tracks, e + 1, null), this.tracks.length = e + 1, null)
      }, e.prototype.trackEntry = function (e, n, r, a) {
        var i = this.trackEntryPool.obtain();
        return i.trackIndex = e, i.animation = n, i.loop = r, i.holdPrevious = !1, i.eventThreshold = 0, i.attachmentThreshold = 0, i.drawOrderThreshold = 0, i.animationStart = 0, i.animationEnd = n.duration, i.animationLast = -1, i.nextAnimationLast = -1, i.delay = 0, i.trackTime = 0, i.trackLast = -1, i.nextTrackLast = -1, i.trackEnd = Number.MAX_VALUE, i.timeScale = 1, i.alpha = 1, i.interruptAlpha = 1, i.mixTime = 0, i.mixDuration = null == a ? 0 : this.data.getMix(a.animation, n), i.mixBlend = t.MixBlend.replace, i
      }, e.prototype.disposeNext = function (t) {
        for (var e = t.next; null != e;) this.queue.dispose(e), e = e.next;
        t.next = null
      }, e.prototype._animationsChanged = function () {
        this.animationsChanged = !1, this.propertyIDs.clear();
        for (var e = 0, n = this.tracks.length; e < n; e++) {
          if (null != (r = this.tracks[e])) {
            for (; null != r.mixingFrom;) r = r.mixingFrom;
            do {
              null != r.mixingFrom && r.mixBlend == t.MixBlend.add || this.computeHold(r), r = r.mixingTo
            } while (null != r)
          }
        }
        this.propertyIDs.clear();
        for (e = this.tracks.length - 1; e >= 0; e--) for (var r = this.tracks[e]; null != r;) this.computeNotLast(r), r = r.mixingFrom
      }, e.prototype.computeHold = function (n) {
        var r = n.mixingTo, a = n.animation.timelines, i = n.animation.timelines.length,
          o = t.Utils.setArraySize(n.timelineMode, i);
        n.timelineHoldMix.length = 0;
        var s = t.Utils.setArraySize(n.timelineHoldMix, i), l = this.propertyIDs;
        if (null != r && r.holdPrevious) for (var h = 0; h < i; h++) l.add(a[h].getPropertyId()), o[h] = e.HOLD; else t:for (h = 0; h < i; h++) {
          var u = a[h], c = u.getPropertyId();
          if (l.add(c)) if (null == r || u instanceof t.AttachmentTimeline || u instanceof t.DrawOrderTimeline || u instanceof t.EventTimeline || !r.animation.hasTimeline(c)) o[h] = e.FIRST; else {
            for (var p = r.mixingTo; null != p; p = p.mixingTo) if (!p.animation.hasTimeline(c)) {
              if (n.mixDuration > 0) {
                o[h] = e.HOLD_MIX, s[h] = p;
                continue t
              }
              break
            }
            o[h] = e.HOLD
          } else o[h] = e.SUBSEQUENT
        }
      }, e.prototype.computeNotLast = function (n) {
        for (var r = n.animation.timelines, a = n.animation.timelines.length, i = n.timelineMode, o = this.propertyIDs, s = 0; s < a; s++) if (r[s] instanceof t.AttachmentTimeline) {
          var l = r[s];
          o.add(l.slotIndex) || (i[s] |= e.NOT_LAST)
        }
      }, e.prototype.getCurrent = function (t) {
        return t >= this.tracks.length ? null : this.tracks[t]
      }, e.prototype.addListener = function (t) {
        if (null == t) throw new Error("listener cannot be null.");
        this.listeners.push(t)
      }, e.prototype.removeListener = function (t) {
        var e = this.listeners.indexOf(t);
        e >= 0 && this.listeners.splice(e, 1)
      }, e.prototype.clearListeners = function () {
        this.listeners.length = 0
      }, e.prototype.clearListenerNotifications = function () {
        this.queue.clear()
      }, e.prototype.setAnimationByName = function (t, n, r) {
        e.deprecatedWarning1 || (e.deprecatedWarning1 = !0, console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")), this.setAnimation(t, n, r)
      }, e.prototype.addAnimationByName = function (t, n, r, a) {
        e.deprecatedWarning2 || (e.deprecatedWarning2 = !0, console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")), this.addAnimation(t, n, r, a)
      }, e.prototype.hasAnimation = function (t) {
        return null !== this.data.skeletonData.findAnimation(t)
      }, e.prototype.hasAnimationByName = function (t) {
        return e.deprecatedWarning3 || (e.deprecatedWarning3 = !0, console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")), this.hasAnimation(t)
      }, e.emptyAnimation = new t.Animation("<empty>", [], 0), e.SUBSEQUENT = 0, e.FIRST = 1, e.HOLD = 2, e.HOLD_MIX = 3, e.NOT_LAST = 4, e.deprecatedWarning1 = !1, e.deprecatedWarning2 = !1, e.deprecatedWarning3 = !1, e
    }();
    t.AnimationState = e;
    var n = function () {
      function e() {
        this.mixBlend = t.MixBlend.replace, this.timelineMode = new Array, this.timelineHoldMix = new Array, this.timelinesRotation = new Array
      }

      return e.prototype.reset = function () {
        this.next = null, this.mixingFrom = null, this.mixingTo = null, this.animation = null, this.listener = null, this.timelineMode.length = 0, this.timelineHoldMix.length = 0, this.timelinesRotation.length = 0
      }, e.prototype.getAnimationTime = function () {
        if (this.loop) {
          var t = this.animationEnd - this.animationStart;
          return 0 == t ? this.animationStart : this.trackTime % t + this.animationStart
        }
        return Math.min(this.trackTime + this.animationStart, this.animationEnd)
      }, e.prototype.setAnimationLast = function (t) {
        this.animationLast = t, this.nextAnimationLast = t
      }, e.prototype.isComplete = function () {
        return this.trackTime >= this.animationEnd - this.animationStart
      }, e.prototype.resetRotationDirections = function () {
        this.timelinesRotation.length = 0
      }, Object.defineProperty(e.prototype, "time", {
        get: function () {
          return e.deprecatedWarning1 || (e.deprecatedWarning1 = !0, console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")), this.trackTime
        }, set: function (t) {
          e.deprecatedWarning1 || (e.deprecatedWarning1 = !0, console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")), this.trackTime = t
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(e.prototype, "endTime", {
        get: function () {
          return e.deprecatedWarning2 || (e.deprecatedWarning2 = !0, console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")), this.trackTime
        }, set: function (t) {
          e.deprecatedWarning2 || (e.deprecatedWarning2 = !0, console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")), this.trackTime = t
        }, enumerable: !1, configurable: !0
      }), e.prototype.loopsCount = function () {
        return Math.floor(this.trackTime / this.trackEnd)
      }, e.deprecatedWarning1 = !1, e.deprecatedWarning2 = !1, e
    }();
    t.TrackEntry = n;
    var r, a = function () {
      function e(t) {
        this.objects = [], this.drainDisabled = !1, this.animState = t
      }

      return e.prototype.start = function (t) {
        this.objects.push(r.start), this.objects.push(t), this.animState.animationsChanged = !0
      }, e.prototype.interrupt = function (t) {
        this.objects.push(r.interrupt), this.objects.push(t)
      }, e.prototype.end = function (t) {
        this.objects.push(r.end), this.objects.push(t), this.animState.animationsChanged = !0
      }, e.prototype.dispose = function (t) {
        this.objects.push(r.dispose), this.objects.push(t)
      }, e.prototype.complete = function (t) {
        this.objects.push(r.complete), this.objects.push(t)
      }, e.prototype.event = function (t, e) {
        this.objects.push(r.event), this.objects.push(t), this.objects.push(e)
      }, e.prototype.deprecateStuff = function () {
        return e.deprecatedWarning1 || (e.deprecatedWarning1 = !0, console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")), !0
      }, e.prototype.drain = function () {
        if (!this.drainDisabled) {
          this.drainDisabled = !0;
          for (var e = this.objects, n = this.animState.listeners, a = 0; a < e.length; a += 2) {
            var i = e[a], o = e[a + 1];
            switch (i) {
              case r.start:
                null != o.listener && o.listener.start && o.listener.start(o);
                for (var s = 0; s < n.length; s++) n[s].start && n[s].start(o);
                o.onStart && this.deprecateStuff() && o.onStart(o.trackIndex), this.animState.onStart && this.deprecateStuff() && this.deprecateStuff && this.animState.onStart(o.trackIndex);
                break;
              case r.interrupt:
                null != o.listener && o.listener.interrupt && o.listener.interrupt(o);
                for (s = 0; s < n.length; s++) n[s].interrupt && n[s].interrupt(o);
                break;
              case r.end:
                null != o.listener && o.listener.end && o.listener.end(o);
                for (s = 0; s < n.length; s++) n[s].end && n[s].end(o);
                o.onEnd && this.deprecateStuff() && o.onEnd(o.trackIndex), this.animState.onEnd && this.deprecateStuff() && this.animState.onEnd(o.trackIndex);
              case r.dispose:
                null != o.listener && o.listener.dispose && o.listener.dispose(o);
                for (s = 0; s < n.length; s++) n[s].dispose && n[s].dispose(o);
                this.animState.trackEntryPool.free(o);
                break;
              case r.complete:
                null != o.listener && o.listener.complete && o.listener.complete(o);
                for (s = 0; s < n.length; s++) n[s].complete && n[s].complete(o);
                var l = t.MathUtils.toInt(o.loopsCount());
                o.onComplete && this.deprecateStuff() && o.onComplete(o.trackIndex, l), this.animState.onComplete && this.deprecateStuff() && this.animState.onComplete(o.trackIndex, l);
                break;
              case r.event:
                var h = e[2 + a++];
                null != o.listener && o.listener.event && o.listener.event(o, h);
                for (s = 0; s < n.length; s++) n[s].event && n[s].event(o, h);
                o.onEvent && this.deprecateStuff() && o.onEvent(o.trackIndex, h), this.animState.onEvent && this.deprecateStuff() && this.animState.onEvent(o.trackIndex, h)
            }
          }
          this.clear(), this.drainDisabled = !1
        }
      }, e.prototype.clear = function () {
        this.objects.length = 0
      }, e.deprecatedWarning1 = !1, e
    }();
    t.EventQueue = a, function (t) {
      t[t.start = 0] = "start", t[t.interrupt = 1] = "interrupt", t[t.end = 2] = "end", t[t.dispose = 3] = "dispose", t[t.complete = 4] = "complete", t[t.event = 5] = "event"
    }(r = t.EventType || (t.EventType = {}));
    var i = function () {
      function t() {
      }

      return t.prototype.start = function (t) {
      }, t.prototype.interrupt = function (t) {
      }, t.prototype.end = function (t) {
      }, t.prototype.dispose = function (t) {
      }, t.prototype.complete = function (t) {
      }, t.prototype.event = function (t, e) {
      }, t
    }();
    t.AnimationStateAdapter = i
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function () {
      function t(t) {
        if (this.animationToMixTime = {}, this.defaultMix = 0, null == t) throw new Error("skeletonData cannot be null.");
        this.skeletonData = t
      }

      return t.prototype.setMix = function (t, e, n) {
        var r = this.skeletonData.findAnimation(t);
        if (null == r) throw new Error("Animation not found: " + t);
        var a = this.skeletonData.findAnimation(e);
        if (null == a) throw new Error("Animation not found: " + e);
        this.setMixWith(r, a, n)
      }, t.prototype.setMixByName = function (e, n, r) {
        t.deprecatedWarning1 || (t.deprecatedWarning1 = !0, console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")), this.setMix(e, n, r)
      }, t.prototype.setMixWith = function (t, e, n) {
        if (null == t) throw new Error("from cannot be null.");
        if (null == e) throw new Error("to cannot be null.");
        var r = t.name + "." + e.name;
        this.animationToMixTime[r] = n
      }, t.prototype.getMix = function (t, e) {
        var n = t.name + "." + e.name, r = this.animationToMixTime[n];
        return void 0 === r ? this.defaultMix : r
      }, t.deprecatedWarning1 = !1, t
    }();
    t.AnimationStateData = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function () {
      function e(t) {
        this.atlas = t
      }

      return e.prototype.newRegionAttachment = function (e, n, r) {
        var a = this.atlas.findRegion(r);
        if (null == a) throw new Error("Region not found in atlas: " + r + " (region attachment: " + n + ")");
        var i = new t.RegionAttachment(n);
        return i.region = a, i
      }, e.prototype.newMeshAttachment = function (e, n, r) {
        var a = this.atlas.findRegion(r);
        if (null == a) throw new Error("Region not found in atlas: " + r + " (mesh attachment: " + n + ")");
        var i = new t.MeshAttachment(n);
        return i.region = a, i
      }, e.prototype.newBoundingBoxAttachment = function (e, n) {
        return new t.BoundingBoxAttachment(n)
      }, e.prototype.newPathAttachment = function (e, n) {
        return new t.PathAttachment(n)
      }, e.prototype.newPointAttachment = function (e, n) {
        return new t.PointAttachment(n)
      }, e.prototype.newClippingAttachment = function (e, n) {
        return new t.ClippingAttachment(n)
      }, e
    }();
    t.AtlasAttachmentLoader = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    !function (t) {
      t[t.Normal = 0] = "Normal", t[t.Additive = 1] = "Additive", t[t.Multiply = 2] = "Multiply", t[t.Screen = 3] = "Screen"
    }(t.BlendMode || (t.BlendMode = {}))
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function () {
      function e(t, e, n) {
        if (this.matrix = new PIXI.Matrix, this.children = new Array, this.x = 0, this.y = 0, this.rotation = 0, this.scaleX = 0, this.scaleY = 0, this.shearX = 0, this.shearY = 0, this.ax = 0, this.ay = 0, this.arotation = 0, this.ascaleX = 0, this.ascaleY = 0, this.ashearX = 0, this.ashearY = 0, this.appliedValid = !1, this.sorted = !1, this.active = !1, null == t) throw new Error("data cannot be null.");
        if (null == e) throw new Error("skeleton cannot be null.");
        this.data = t, this.skeleton = e, this.parent = n, this.setToSetupPose()
      }

      return Object.defineProperty(e.prototype, "worldX", {
        get: function () {
          return this.matrix.tx
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(e.prototype, "worldY", {
        get: function () {
          return this.matrix.ty
        }, enumerable: !1, configurable: !0
      }), e.prototype.isActive = function () {
        return this.active
      }, e.prototype.update = function () {
        this.updateWorldTransformWith(this.x, this.y, this.rotation, this.scaleX, this.scaleY, this.shearX, this.shearY)
      }, e.prototype.updateWorldTransform = function () {
        this.updateWorldTransformWith(this.x, this.y, this.rotation, this.scaleX, this.scaleY, this.shearX, this.shearY)
      }, e.prototype.updateWorldTransformWith = function (n, r, a, i, o, s, l) {
        this.ax = n, this.ay = r, this.arotation = a, this.ascaleX = i, this.ascaleY = o, this.ashearX = s, this.ashearY = l, this.appliedValid = !0;
        var h = this.parent, u = this.matrix, c = this.skeleton.scaleX,
          p = e.yDown ? -this.skeleton.scaleY : this.skeleton.scaleY;
        if (null == h) {
          var d = this.skeleton, f = a + 90 + l;
          return u.a = t.MathUtils.cosDeg(a + s) * i * c, u.c = t.MathUtils.cosDeg(f) * o * c, u.b = t.MathUtils.sinDeg(a + s) * i * p, u.d = t.MathUtils.sinDeg(f) * o * p, u.tx = n * c + d.x, void (u.ty = r * p + d.y)
        }
        var m = h.matrix.a, g = h.matrix.c, v = h.matrix.b, y = h.matrix.d;
        switch (u.tx = m * n + g * r + h.matrix.tx, u.ty = v * n + y * r + h.matrix.ty, this.data.transformMode) {
          case t.TransformMode.Normal:
            f = a + 90 + l;
            var x = t.MathUtils.cosDeg(a + s) * i, M = t.MathUtils.cosDeg(f) * o, w = t.MathUtils.sinDeg(a + s) * i,
              E = t.MathUtils.sinDeg(f) * o;
            return u.a = m * x + g * w, u.c = m * M + g * E, u.b = v * x + y * w, void (u.d = v * M + y * E);
          case t.TransformMode.OnlyTranslation:
            f = a + 90 + l;
            u.a = t.MathUtils.cosDeg(a + s) * i, u.c = t.MathUtils.cosDeg(f) * o, u.b = t.MathUtils.sinDeg(a + s) * i, u.d = t.MathUtils.sinDeg(f) * o;
            break;
          case t.TransformMode.NoRotationOrReflection:
            var T = 0;
            (I = m * m + v * v) > 1e-4 ? (g = v * (I = Math.abs(m * y - g * v) / I), y = m * I, T = Math.atan2(v, m) * t.MathUtils.radDeg) : (m = 0, v = 0, T = 90 - Math.atan2(y, g) * t.MathUtils.radDeg);
            var b = a + s - T, S = a + l - T + 90;
            x = t.MathUtils.cosDeg(b) * i, M = t.MathUtils.cosDeg(S) * o, w = t.MathUtils.sinDeg(b) * i, E = t.MathUtils.sinDeg(S) * o;
            u.a = m * x - g * w, u.c = m * M - g * E, u.b = v * x + y * w, u.d = v * M + y * E;
            break;
          case t.TransformMode.NoScale:
          case t.TransformMode.NoScaleOrReflection:
            var I, A = t.MathUtils.cosDeg(a), R = t.MathUtils.sinDeg(a), C = (m * A + g * R) / c,
              P = (v * A + y * R) / p;
            (I = Math.sqrt(C * C + P * P)) > 1e-5 && (I = 1 / I), C *= I, P *= I, I = Math.sqrt(C * C + P * P), this.data.transformMode == t.TransformMode.NoScale && m * y - g * v < 0 != (e.yDown ? this.skeleton.scaleX < 0 != this.skeleton.scaleY > 0 : this.skeleton.scaleX < 0 != this.skeleton.scaleY < 0) && (I = -I);
            var k = Math.PI / 2 + Math.atan2(P, C), V = Math.cos(k) * I, _ = Math.sin(k) * I;
            x = t.MathUtils.cosDeg(s) * i, M = t.MathUtils.cosDeg(90 + l) * o, w = t.MathUtils.sinDeg(s) * i, E = t.MathUtils.sinDeg(90 + l) * o;
            u.a = C * x + V * w, u.c = C * M + V * E, u.b = P * x + _ * w, u.d = P * M + _ * E
        }
        u.a *= c, u.c *= c, u.b *= p, u.d *= p
      }, e.prototype.setToSetupPose = function () {
        var t = this.data;
        this.x = t.x, this.y = t.y, this.rotation = t.rotation, this.scaleX = t.scaleX, this.scaleY = t.scaleY, this.shearX = t.shearX, this.shearY = t.shearY
      }, e.prototype.getWorldRotationX = function () {
        return Math.atan2(this.matrix.b, this.matrix.a) * t.MathUtils.radDeg
      }, e.prototype.getWorldRotationY = function () {
        return Math.atan2(this.matrix.d, this.matrix.c) * t.MathUtils.radDeg
      }, e.prototype.getWorldScaleX = function () {
        var t = this.matrix;
        return Math.sqrt(t.a * t.a + t.c * t.c)
      }, e.prototype.getWorldScaleY = function () {
        var t = this.matrix;
        return Math.sqrt(t.b * t.b + t.d * t.d)
      }, e.prototype.updateAppliedTransform = function () {
        this.appliedValid = !0;
        var e = this.parent, n = this.matrix;
        if (null == e) return this.ax = n.tx, this.ay = n.ty, this.arotation = Math.atan2(n.b, n.a) * t.MathUtils.radDeg, this.ascaleX = Math.sqrt(n.a * n.a + n.b * n.b), this.ascaleY = Math.sqrt(n.c * n.c + n.d * n.d), this.ashearX = 0, void (this.ashearY = Math.atan2(n.a * n.c + n.b * n.d, n.a * n.d - n.b * n.c) * t.MathUtils.radDeg);
        var r = e.matrix, a = 1 / (r.a * r.d - r.b * r.c), i = n.tx - r.tx, o = n.ty - r.ty;
        this.ax = i * r.d * a - o * r.c * a, this.ay = o * r.a * a - i * r.b * a;
        var s = a * r.d, l = a * r.a, h = a * r.c, u = a * r.b, c = s * n.a - h * n.b, p = s * n.c - h * n.d,
          d = l * n.b - u * n.a, f = l * n.d - u * n.c;
        if (this.ashearX = 0, this.ascaleX = Math.sqrt(c * c + d * d), this.ascaleX > 1e-4) {
          var m = c * f - p * d;
          this.ascaleY = m / this.ascaleX, this.ashearY = Math.atan2(c * p + d * f, m) * t.MathUtils.radDeg, this.arotation = Math.atan2(d, c) * t.MathUtils.radDeg
        } else this.ascaleX = 0, this.ascaleY = Math.sqrt(p * p + f * f), this.ashearY = 0, this.arotation = 90 - Math.atan2(f, p) * t.MathUtils.radDeg
      }, e.prototype.worldToLocal = function (t) {
        var e = this.matrix, n = e.a, r = e.c, a = e.b, i = e.d, o = 1 / (n * i - r * a), s = t.x - e.tx,
          l = t.y - e.ty;
        return t.x = s * i * o - l * r * o, t.y = l * n * o - s * a * o, t
      }, e.prototype.localToWorld = function (t) {
        var e = this.matrix, n = t.x, r = t.y;
        return t.x = n * e.a + r * e.c + e.tx, t.y = n * e.b + r * e.d + e.ty, t
      }, e.prototype.worldToLocalRotation = function (e) {
        var n = t.MathUtils.sinDeg(e), r = t.MathUtils.cosDeg(e), a = this.matrix;
        return Math.atan2(a.a * n - a.b * r, a.d * r - a.c * n) * t.MathUtils.radDeg
      }, e.prototype.localToWorldRotation = function (e) {
        var n = t.MathUtils.sinDeg(e), r = t.MathUtils.cosDeg(e), a = this.matrix;
        return Math.atan2(r * a.b + n * a.d, r * a.a + n * a.c) * t.MathUtils.radDeg
      }, e.prototype.rotateWorld = function (e) {
        var n = this.matrix, r = n.a, a = n.c, i = n.b, o = n.d, s = t.MathUtils.cosDeg(e), l = t.MathUtils.sinDeg(e);
        n.a = s * r - l * i, n.c = s * a - l * o, n.b = l * r + s * i, n.d = l * a + s * o, this.appliedValid = !1
      }, e.yDown = !1, e
    }();
    t.Bone = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e, n = function () {
      return function (n, r, a) {
        if (this.x = 0, this.y = 0, this.rotation = 0, this.scaleX = 1, this.scaleY = 1, this.shearX = 0, this.shearY = 0, this.transformMode = e.Normal, this.skinRequired = !1, this.color = new t.Color, n < 0) throw new Error("index must be >= 0.");
        if (null == r) throw new Error("name cannot be null.");
        this.index = n, this.name = r, this.parent = a
      }
    }();
    t.BoneData = n, function (t) {
      t[t.Normal = 0] = "Normal", t[t.OnlyTranslation = 1] = "OnlyTranslation", t[t.NoRotationOrReflection = 2] = "NoRotationOrReflection", t[t.NoScale = 3] = "NoScale", t[t.NoScaleOrReflection = 4] = "NoScaleOrReflection"
    }(e = t.TransformMode || (t.TransformMode = {}))
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function () {
      return function (t, e, n) {
        this.name = t, this.order = e, this.skinRequired = n
      }
    }();
    t.ConstraintData = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function () {
      return function (t, e) {
        if (null == e) throw new Error("data cannot be null.");
        this.time = t, this.data = e
      }
    }();
    t.Event = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function () {
      return function (t) {
        this.name = t
      }
    }();
    t.EventData = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function () {
      function e(t, e) {
        if (this.bendDirection = 0, this.compress = !1, this.stretch = !1, this.mix = 1, this.softness = 0, this.active = !1, null == t) throw new Error("data cannot be null.");
        if (null == e) throw new Error("skeleton cannot be null.");
        this.data = t, this.mix = t.mix, this.softness = t.softness, this.bendDirection = t.bendDirection, this.compress = t.compress, this.stretch = t.stretch, this.bones = new Array;
        for (var n = 0; n < t.bones.length; n++) this.bones.push(e.findBone(t.bones[n].name));
        this.target = e.findBone(t.target.name)
      }

      return e.prototype.isActive = function () {
        return this.active
      }, e.prototype.apply = function () {
        this.update()
      }, e.prototype.update = function () {
        var t = this.target, e = this.bones;
        switch (e.length) {
          case 1:
            this.apply1(e[0], t.worldX, t.worldY, this.compress, this.stretch, this.data.uniform, this.mix);
            break;
          case 2:
            this.apply2(e[0], e[1], t.worldX, t.worldY, this.bendDirection, this.stretch, this.softness, this.mix)
        }
      }, e.prototype.apply1 = function (e, n, r, a, i, o, s) {
        e.appliedValid || e.updateAppliedTransform();
        var l = e.parent.matrix, h = l.a, u = l.c, c = l.b, p = l.d, d = -e.ashearX - e.arotation, f = 0, m = 0;
        switch (e.data.transformMode) {
          case t.TransformMode.OnlyTranslation:
            f = n - e.worldX, m = r - e.worldY;
            break;
          case t.TransformMode.NoRotationOrReflection:
            d += Math.atan2(c, h) * t.MathUtils.radDeg;
            var g = Math.abs(h * p - u * c) / (h * h + c * c);
            u = -c * g, p = h * g;
          default:
            var v = n - l.tx, y = r - l.ty, x = h * p - u * c;
            f = (v * p - y * u) / x - e.ax, m = (y * h - v * c) / x - e.ay
        }
        d += Math.atan2(m, f) * t.MathUtils.radDeg, e.ascaleX < 0 && (d += 180), d > 180 ? d -= 360 : d < -180 && (d += 360);
        var M = e.ascaleX, w = e.ascaleY;
        if (a || i) {
          switch (e.data.transformMode) {
            case t.TransformMode.NoScale:
            case t.TransformMode.NoScaleOrReflection:
              f = n - e.worldX, m = r - e.worldY
          }
          var E = e.data.length * M, T = Math.sqrt(f * f + m * m);
          if (a && T < E || i && T > E && E > 1e-4) {
            var b = (T / E - 1) * s + 1;
            M *= b, o && (w *= b)
          }
        }
        e.updateWorldTransformWith(e.ax, e.ay, e.arotation + d * s, M, w, e.ashearX, e.ashearY)
      }, e.prototype.apply2 = function (e, n, r, a, i, o, s, l) {
        if (0 != l) {
          e.appliedValid || e.updateAppliedTransform(), n.appliedValid || n.updateAppliedTransform();
          var h = e.ax, u = e.ay, c = e.ascaleX, p = c, d = e.ascaleY, f = n.ascaleX, m = e.matrix, g = 0, v = 0, y = 0;
          c < 0 ? (c = -c, g = 180, y = -1) : (g = 0, y = 1), d < 0 && (d = -d, y = -y), f < 0 ? (f = -f, v = 180) : v = 0;
          var x = n.ax, M = 0, w = 0, E = 0, T = m.a, b = m.c, S = m.b, I = m.d, A = Math.abs(c - d) <= 1e-4;
          A ? (w = T * x + b * (M = n.ay) + m.tx, E = S * x + I * M + m.ty) : (M = 0, w = T * x + m.tx, E = S * x + m.ty);
          var R = e.parent.matrix;
          T = R.a, b = R.c, S = R.b;
          var C, P, k = 1 / (T * (I = R.d) - b * S), V = w - R.tx, _ = E - R.ty, N = (V * I - _ * b) * k - h,
            F = (_ * T - V * S) * k - u, O = Math.sqrt(N * N + F * F), D = n.data.length * f;
          if (O < 1e-4) return this.apply1(e, r, a, !1, o, !1, l), void n.updateWorldTransformWith(x, M, 0, n.ascaleX, n.ascaleY, n.ashearX, n.ashearY);
          var U = ((V = r - R.tx) * I - (_ = a - R.ty) * b) * k - h, X = (_ * T - V * S) * k - u, B = U * U + X * X;
          if (0 != s) {
            s *= c * (f + 1) / 2;
            var L = Math.sqrt(B), Y = L - O - D * c + s;
            if (Y > 0) {
              var W = Math.min(1, Y / (2 * s)) - 1;
              B = (U -= (W = (Y - s * (1 - W * W)) / L) * U) * U + (X -= W * X) * X
            }
          }
          t:if (A) {
            var q = (B - O * O - (D *= c) * D) / (2 * O * D);
            q < -1 ? q = -1 : q > 1 && (q = 1, o && (p *= (Math.sqrt(B) / (O + D) - 1) * l + 1)), P = Math.acos(q) * i, T = O + D * q, b = D * Math.sin(P), C = Math.atan2(X * T - U * b, U * T + X * b)
          } else {
            var H = (T = c * D) * T, G = (b = d * D) * b, j = Math.atan2(X, U), z = -2 * G * O, Z = G - H;
            if ((I = z * z - 4 * Z * (S = G * O * O + H * B - H * G)) >= 0) {
              var J = Math.sqrt(I);
              z < 0 && (J = -J);
              var K = (J = -(z + J) / 2) / Z, Q = S / J, $ = Math.abs(K) < Math.abs(Q) ? K : Q;
              if ($ * $ <= B) {
                _ = Math.sqrt(B - $ * $) * i, C = j - Math.atan2(_, $), P = Math.atan2(_ / d, ($ - O) / c);
                break t
              }
            }
            var tt = t.MathUtils.PI, et = O - T, nt = et * et, rt = 0, at = 0, it = O + T, ot = it * it, st = 0;
            (S = -T * O / (H - G)) >= -1 && S <= 1 && (S = Math.acos(S), (I = (V = T * Math.cos(S) + O) * V + (_ = b * Math.sin(S)) * _) < nt && (tt = S, nt = I, et = V, rt = _), I > ot && (at = S, ot = I, it = V, st = _)), B <= (nt + ot) / 2 ? (C = j - Math.atan2(rt * i, et), P = tt * i) : (C = j - Math.atan2(st * i, it), P = at * i)
          }
          var lt = Math.atan2(M, x) * y, ht = e.arotation;
          (C = (C - lt) * t.MathUtils.radDeg + g - ht) > 180 ? C -= 360 : C < -180 && (C += 360), e.updateWorldTransformWith(h, u, ht + C * l, p, e.ascaleY, 0, 0), ht = n.arotation, (P = ((P + lt) * t.MathUtils.radDeg - n.ashearX) * y + v - ht) > 180 ? P -= 360 : P < -180 && (P += 360), n.updateWorldTransformWith(x, M, ht + P * l, n.ascaleX, n.ascaleY, n.ashearX, n.ashearY)
        } else n.updateWorldTransform()
      }, e
    }();
    t.IkConstraint = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function (t) {
      function e(e) {
        var n = t.call(this, e, 0, !1) || this;
        return n.bones = new Array, n.bendDirection = 1, n.compress = !1, n.stretch = !1, n.uniform = !1, n.mix = 1, n.softness = 0, n
      }

      return __extends(e, t), e
    }(t.ConstraintData);
    t.IkConstraintData = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function () {
      function e(t, e) {
        if (this.position = 0, this.spacing = 0, this.rotateMix = 0, this.translateMix = 0, this.spaces = new Array, this.positions = new Array, this.world = new Array, this.curves = new Array, this.lengths = new Array, this.segments = new Array, this.active = !1, null == t) throw new Error("data cannot be null.");
        if (null == e) throw new Error("skeleton cannot be null.");
        this.data = t, this.bones = new Array;
        for (var n = 0, r = t.bones.length; n < r; n++) this.bones.push(e.findBone(t.bones[n].name));
        this.target = e.findSlot(t.target.name), this.position = t.position, this.spacing = t.spacing, this.rotateMix = t.rotateMix, this.translateMix = t.translateMix
      }

      return e.prototype.isActive = function () {
        return this.active
      }, e.prototype.apply = function () {
        this.update()
      }, e.prototype.update = function () {
        var n = this.target.getAttachment();
        if (n instanceof t.PathAttachment) {
          var r = this.rotateMix, a = this.translateMix, i = r > 0;
          if (a > 0 || i) {
            var o = this.data, s = o.spacingMode, l = s == t.SpacingMode.Length, h = o.rotateMode,
              u = h == t.RotateMode.Tangent, c = h == t.RotateMode.ChainScale, p = this.bones.length, d = u ? p : p + 1,
              f = this.bones, m = t.Utils.setArraySize(this.spaces, d), g = null, v = this.spacing;
            if (c || l) {
              c && (g = t.Utils.setArraySize(this.lengths, p));
              for (var y = 0, x = d - 1; y < x;) {
                var M = (P = f[y]).data.length;
                if (M < e.epsilon) c && (g[y] = 0), m[++y] = 0; else {
                  var w = M * P.matrix.a, E = M * P.matrix.b, T = Math.sqrt(w * w + E * E);
                  c && (g[y] = T), m[++y] = (l ? M + v : v) * T / M
                }
              }
            } else for (y = 1; y < d; y++) m[y] = v;
            var b = this.computeWorldPositions(n, d, u, o.positionMode == t.PositionMode.Percent, s == t.SpacingMode.Percent),
              S = b[0], I = b[1], A = o.offsetRotation, R = !1;
            if (0 == A) R = h == t.RotateMode.Chain; else R = !1, A *= (C = this.target.bone.matrix).a * C.d - C.b * C.c > 0 ? t.MathUtils.degRad : -t.MathUtils.degRad;
            y = 0;
            for (var C = 3; y < p; y++, C += 3) {
              var P, k = (P = f[y]).matrix;
              k.tx += (S - k.tx) * a, k.ty += (I - k.ty) * a;
              var V = (w = b[C]) - S, _ = (E = b[C + 1]) - I;
              if (c) {
                var N = g[y];
                if (0 != N) {
                  var F = (Math.sqrt(V * V + _ * _) / N - 1) * r + 1;
                  k.a *= F, k.b *= F
                }
              }
              if (S = w, I = E, i) {
                var O = k.a, D = k.c, U = k.b, X = k.d, B = 0, L = 0, Y = 0;
                if (B = u ? b[C - 1] : 0 == m[y + 1] ? b[C + 2] : Math.atan2(_, V), B -= Math.atan2(U, O), R) {
                  L = Math.cos(B), Y = Math.sin(B);
                  var W = P.data.length;
                  S += (W * (L * O - Y * U) - V) * r, I += (W * (Y * O + L * U) - _) * r
                } else B += A;
                B > t.MathUtils.PI ? B -= t.MathUtils.PI2 : B < -t.MathUtils.PI && (B += t.MathUtils.PI2), B *= r, L = Math.cos(B), Y = Math.sin(B), k.a = L * O - Y * U, k.c = L * D - Y * X, k.b = Y * O + L * U, k.d = Y * D + L * X
              }
              P.appliedValid = !1
            }
          }
        }
      }, e.prototype.computeWorldPositions = function (n, r, a, i, o) {
        var s = this.target, l = this.position, h = this.spaces, u = t.Utils.setArraySize(this.positions, 3 * r + 2),
          c = null, p = n.closed, d = n.worldVerticesLength, f = d / 6, m = e.NONE;
        if (!n.constantSpeed) {
          var g = n.lengths, v = g[f -= p ? 1 : 2];
          if (i && (l *= v), o) for (var y = 0; y < r; y++) h[y] *= v;
          c = t.Utils.setArraySize(this.world, 8);
          y = 0;
          for (var x = 0, M = 0; y < r; y++, x += 3) {
            var w = l += H = h[y];
            if (p) (w %= v) < 0 && (w += v), M = 0; else {
              if (w < 0) {
                m != e.BEFORE && (m = e.BEFORE, n.computeWorldVertices(s, 2, 4, c, 0, 2)), this.addBeforePosition(w, c, 0, u, x);
                continue
              }
              if (w > v) {
                m != e.AFTER && (m = e.AFTER, n.computeWorldVertices(s, d - 6, 4, c, 0, 2)), this.addAfterPosition(w - v, c, 0, u, x);
                continue
              }
            }
            for (; ; M++) {
              var E = g[M];
              if (!(w > E)) {
                if (0 == M) w /= E; else w = (w - (Z = g[M - 1])) / (E - Z);
                break
              }
            }
            M != m && (m = M, p && M == f ? (n.computeWorldVertices(s, d - 4, 4, c, 0, 2), n.computeWorldVertices(s, 0, 4, c, 4, 2)) : n.computeWorldVertices(s, 6 * M + 2, 8, c, 0, 2)), this.addCurvePosition(w, c[0], c[1], c[2], c[3], c[4], c[5], c[6], c[7], u, x, a || y > 0 && 0 == H)
          }
          return u
        }
        p ? (d += 2, c = t.Utils.setArraySize(this.world, d), n.computeWorldVertices(s, 2, d - 4, c, 0, 2), n.computeWorldVertices(s, 0, 2, c, d - 4, 2), c[d - 2] = c[0], c[d - 1] = c[1]) : (f--, d -= 4, c = t.Utils.setArraySize(this.world, d), n.computeWorldVertices(s, 2, d, c, 0, 2));
        for (var T = t.Utils.setArraySize(this.curves, f), b = 0, S = c[0], I = c[1], A = 0, R = 0, C = 0, P = 0, k = 0, V = 0, _ = 0, N = 0, F = 0, O = 0, D = 0, U = 0, X = 0, B = 0, L = (y = 0, 2); y < f; y++, L += 6) A = c[L], R = c[L + 1], C = c[L + 2], P = c[L + 3], D = 2 * (_ = .1875 * (S - 2 * A + C)) + (F = .09375 * (3 * (A - C) - S + (k = c[L + 4]))), U = 2 * (N = .1875 * (I - 2 * R + P)) + (O = .09375 * (3 * (R - P) - I + (V = c[L + 5]))), X = .75 * (A - S) + _ + .16666667 * F, B = .75 * (R - I) + N + .16666667 * O, b += Math.sqrt(X * X + B * B), X += D, B += U, D += F, U += O, b += Math.sqrt(X * X + B * B), X += D, B += U, b += Math.sqrt(X * X + B * B), X += D + F, B += U + O, b += Math.sqrt(X * X + B * B), T[y] = b, S = k, I = V;
        if (i && (l *= b), o) for (y = 0; y < r; y++) h[y] *= b;
        for (var Y = this.segments, W = 0, q = (y = 0, x = 0, M = 0, 0); y < r; y++, x += 3) {
          var H;
          w = l += H = h[y];
          if (p) (w %= b) < 0 && (w += b), M = 0; else {
            if (w < 0) {
              this.addBeforePosition(w, c, 0, u, x);
              continue
            }
            if (w > b) {
              this.addAfterPosition(w - b, c, d - 4, u, x);
              continue
            }
          }
          for (; ; M++) {
            var G = T[M];
            if (!(w > G)) {
              if (0 == M) w /= G; else w = (w - (Z = T[M - 1])) / (G - Z);
              break
            }
          }
          if (M != m) {
            m = M;
            var j = 6 * M;
            for (S = c[j], I = c[j + 1], A = c[j + 2], R = c[j + 3], C = c[j + 4], P = c[j + 5], D = 2 * (_ = .03 * (S - 2 * A + C)) + (F = .006 * (3 * (A - C) - S + (k = c[j + 6]))), U = 2 * (N = .03 * (I - 2 * R + P)) + (O = .006 * (3 * (R - P) - I + (V = c[j + 7]))), X = .3 * (A - S) + _ + .16666667 * F, B = .3 * (R - I) + N + .16666667 * O, W = Math.sqrt(X * X + B * B), Y[0] = W, j = 1; j < 8; j++) X += D, B += U, D += F, U += O, W += Math.sqrt(X * X + B * B), Y[j] = W;
            X += D, B += U, W += Math.sqrt(X * X + B * B), Y[8] = W, X += D + F, B += U + O, W += Math.sqrt(X * X + B * B), Y[9] = W, q = 0
          }
          for (w *= W; ; q++) {
            var z = Y[q];
            if (!(w > z)) {
              var Z;
              if (0 == q) w /= z; else w = q + (w - (Z = Y[q - 1])) / (z - Z);
              break
            }
          }
          this.addCurvePosition(.1 * w, S, I, A, R, C, P, k, V, u, x, a || y > 0 && 0 == H)
        }
        return u
      }, e.prototype.addBeforePosition = function (t, e, n, r, a) {
        var i = e[n], o = e[n + 1], s = e[n + 2] - i, l = e[n + 3] - o, h = Math.atan2(l, s);
        r[a] = i + t * Math.cos(h), r[a + 1] = o + t * Math.sin(h), r[a + 2] = h
      }, e.prototype.addAfterPosition = function (t, e, n, r, a) {
        var i = e[n + 2], o = e[n + 3], s = i - e[n], l = o - e[n + 1], h = Math.atan2(l, s);
        r[a] = i + t * Math.cos(h), r[a + 1] = o + t * Math.sin(h), r[a + 2] = h
      }, e.prototype.addCurvePosition = function (t, e, n, r, a, i, o, s, l, h, u, c) {
        (0 == t || isNaN(t)) && (t = 1e-4);
        var p = t * t, d = p * t, f = 1 - t, m = f * f, g = m * f, v = f * t, y = 3 * v, x = f * y, M = y * t,
          w = e * g + r * x + i * M + s * d, E = n * g + a * x + o * M + l * d;
        h[u] = w, h[u + 1] = E, c && (h[u + 2] = Math.atan2(E - (n * m + a * v * 2 + o * p), w - (e * m + r * v * 2 + i * p)))
      }, e.NONE = -1, e.BEFORE = -2, e.AFTER = -3, e.epsilon = 1e-5, e
    }();
    t.PathConstraint = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function (t) {
      function e(e) {
        var n = t.call(this, e, 0, !1) || this;
        return n.bones = new Array, n
      }

      return __extends(e, t), e
    }(t.ConstraintData);
    t.PathConstraintData = e, function (t) {
      t[t.Fixed = 0] = "Fixed", t[t.Percent = 1] = "Percent"
    }(t.PositionMode || (t.PositionMode = {})), function (t) {
      t[t.Length = 0] = "Length", t[t.Fixed = 1] = "Fixed", t[t.Percent = 2] = "Percent"
    }(t.SpacingMode || (t.SpacingMode = {})), function (t) {
      t[t.Tangent = 0] = "Tangent", t[t.Chain = 1] = "Chain", t[t.ChainScale = 2] = "ChainScale"
    }(t.RotateMode || (t.RotateMode = {}))
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function () {
      function e(e) {
        if (this._updateCache = new Array, this.updateCacheReset = new Array, this.time = 0, this.scaleX = 1, this.scaleY = 1, this.x = 0, this.y = 0, null == e) throw new Error("data cannot be null.");
        this.data = e, this.bones = new Array;
        for (var n = 0; n < e.bones.length; n++) {
          var r = e.bones[n], a = void 0;
          if (null == r.parent) a = new t.Bone(r, this, null); else {
            var i = this.bones[r.parent.index];
            a = new t.Bone(r, this, i), i.children.push(a)
          }
          this.bones.push(a)
        }
        this.slots = new Array, this.drawOrder = new Array;
        for (n = 0; n < e.slots.length; n++) {
          var o = e.slots[n], s = (a = this.bones[o.boneData.index], new t.Slot(o, a));
          this.slots.push(s), this.drawOrder.push(s)
        }
        this.ikConstraints = new Array;
        for (n = 0; n < e.ikConstraints.length; n++) {
          var l = e.ikConstraints[n];
          this.ikConstraints.push(new t.IkConstraint(l, this))
        }
        this.transformConstraints = new Array;
        for (n = 0; n < e.transformConstraints.length; n++) {
          var h = e.transformConstraints[n];
          this.transformConstraints.push(new t.TransformConstraint(h, this))
        }
        this.pathConstraints = new Array;
        for (n = 0; n < e.pathConstraints.length; n++) {
          var u = e.pathConstraints[n];
          this.pathConstraints.push(new t.PathConstraint(u, this))
        }
        this.color = new t.Color(1, 1, 1, 1), this.updateCache()
      }

      return e.prototype.updateCache = function () {
        this._updateCache.length = 0, this.updateCacheReset.length = 0;
        for (var t = this.bones, e = 0, n = t.length; e < n; e++) {
          (a = t[e]).sorted = a.data.skinRequired, a.active = !a.sorted
        }
        if (null != this.skin) {
          var r = this.skin.bones;
          for (e = 0, n = this.skin.bones.length; e < n; e++) {
            var a = this.bones[r[e].index];
            do {
              a.sorted = !1, a.active = !0, a = a.parent
            } while (null != a)
          }
        }
        var i = this.ikConstraints, o = this.transformConstraints, s = this.pathConstraints, l = i.length, h = o.length,
          u = s.length, c = l + h + u;
        t:for (e = 0; e < c; e++) {
          for (var p = 0; p < l; p++) {
            if ((d = i[p]).data.order == e) {
              this.sortIkConstraint(d);
              continue t
            }
          }
          for (p = 0; p < h; p++) {
            if ((d = o[p]).data.order == e) {
              this.sortTransformConstraint(d);
              continue t
            }
          }
          for (p = 0; p < u; p++) {
            var d;
            if ((d = s[p]).data.order == e) {
              this.sortPathConstraint(d);
              continue t
            }
          }
        }
        for (e = 0, n = t.length; e < n; e++) this.sortBone(t[e])
      }, e.prototype.sortIkConstraint = function (e) {
        if (e.active = e.target.isActive() && (!e.data.skinRequired || null != this.skin && t.Utils.contains(this.skin.constraints, e.data, !0)), e.active) {
          var n = e.target;
          this.sortBone(n);
          var r = e.bones, a = r[0];
          if (this.sortBone(a), r.length > 1) {
            var i = r[r.length - 1];
            this._updateCache.indexOf(i) > -1 || this.updateCacheReset.push(i)
          }
          this._updateCache.push(e), this.sortReset(a.children), r[r.length - 1].sorted = !0
        }
      }, e.prototype.sortPathConstraint = function (e) {
        if (e.active = e.target.bone.isActive() && (!e.data.skinRequired || null != this.skin && t.Utils.contains(this.skin.constraints, e.data, !0)), e.active) {
          var n = e.target, r = n.data.index, a = n.bone;
          null != this.skin && this.sortPathConstraintAttachment(this.skin, r, a), null != this.data.defaultSkin && this.data.defaultSkin != this.skin && this.sortPathConstraintAttachment(this.data.defaultSkin, r, a);
          for (var i = 0, o = this.data.skins.length; i < o; i++) this.sortPathConstraintAttachment(this.data.skins[i], r, a);
          var s = n.getAttachment();
          s instanceof t.PathAttachment && this.sortPathConstraintAttachmentWith(s, a);
          var l = e.bones, h = l.length;
          for (i = 0; i < h; i++) this.sortBone(l[i]);
          this._updateCache.push(e);
          for (i = 0; i < h; i++) this.sortReset(l[i].children);
          for (i = 0; i < h; i++) l[i].sorted = !0
        }
      }, e.prototype.sortTransformConstraint = function (e) {
        if (e.active = e.target.isActive() && (!e.data.skinRequired || null != this.skin && t.Utils.contains(this.skin.constraints, e.data, !0)), e.active) {
          this.sortBone(e.target);
          var n = e.bones, r = n.length;
          if (e.data.local) for (var a = 0; a < r; a++) {
            var i = n[a];
            this.sortBone(i.parent), this._updateCache.indexOf(i) > -1 || this.updateCacheReset.push(i)
          } else for (a = 0; a < r; a++) this.sortBone(n[a]);
          this._updateCache.push(e);
          for (var o = 0; o < r; o++) this.sortReset(n[o].children);
          for (o = 0; o < r; o++) n[o].sorted = !0
        }
      }, e.prototype.sortPathConstraintAttachment = function (t, e, n) {
        var r = t.attachments[e];
        if (r) for (var a in r) this.sortPathConstraintAttachmentWith(r[a], n)
      }, e.prototype.sortPathConstraintAttachmentWith = function (e, n) {
        if (e instanceof t.PathAttachment) {
          var r = e.bones;
          if (null == r) this.sortBone(n); else for (var a = this.bones, i = 0; i < r.length;) for (var o = r[i++], s = i + o; i < s; i++) {
            var l = r[i];
            this.sortBone(a[l])
          }
        }
      }, e.prototype.sortBone = function (t) {
        if (!t.sorted) {
          var e = t.parent;
          null != e && this.sortBone(e), t.sorted = !0, this._updateCache.push(t)
        }
      }, e.prototype.sortReset = function (t) {
        for (var e = 0, n = t.length; e < n; e++) {
          var r = t[e];
          r.active && (r.sorted && this.sortReset(r.children), r.sorted = !1)
        }
      }, e.prototype.updateWorldTransform = function () {
        for (var t = this.updateCacheReset, e = 0, n = t.length; e < n; e++) {
          var r = t[e];
          r.ax = r.x, r.ay = r.y, r.arotation = r.rotation, r.ascaleX = r.scaleX, r.ascaleY = r.scaleY, r.ashearX = r.shearX, r.ashearY = r.shearY, r.appliedValid = !0
        }
        var a = this._updateCache;
        for (e = 0, n = a.length; e < n; e++) a[e].update()
      }, e.prototype.setToSetupPose = function () {
        this.setBonesToSetupPose(), this.setSlotsToSetupPose()
      }, e.prototype.setBonesToSetupPose = function () {
        for (var t = this.bones, e = 0, n = t.length; e < n; e++) t[e].setToSetupPose();
        var r = this.ikConstraints;
        for (e = 0, n = r.length; e < n; e++) {
          (s = r[e]).mix = s.data.mix, s.softness = s.data.softness, s.bendDirection = s.data.bendDirection, s.compress = s.data.compress, s.stretch = s.data.stretch
        }
        var a = this.transformConstraints;
        for (e = 0, n = a.length; e < n; e++) {
          var i = (s = a[e]).data;
          s.rotateMix = i.rotateMix, s.translateMix = i.translateMix, s.scaleMix = i.scaleMix, s.shearMix = i.shearMix
        }
        var o = this.pathConstraints;
        for (e = 0, n = o.length; e < n; e++) {
          var s;
          i = (s = o[e]).data;
          s.position = i.position, s.spacing = i.spacing, s.rotateMix = i.rotateMix, s.translateMix = i.translateMix
        }
      }, e.prototype.setSlotsToSetupPose = function () {
        var e = this.slots;
        t.Utils.arrayCopy(e, 0, this.drawOrder, 0, e.length);
        for (var n = 0, r = e.length; n < r; n++) e[n].setToSetupPose()
      }, e.prototype.getRootBone = function () {
        return 0 == this.bones.length ? null : this.bones[0]
      }, e.prototype.findBone = function (t) {
        if (null == t) throw new Error("boneName cannot be null.");
        for (var e = this.bones, n = 0, r = e.length; n < r; n++) {
          var a = e[n];
          if (a.data.name == t) return a
        }
        return null
      }, e.prototype.findBoneIndex = function (t) {
        if (null == t) throw new Error("boneName cannot be null.");
        for (var e = this.bones, n = 0, r = e.length; n < r; n++) if (e[n].data.name == t) return n;
        return -1
      }, e.prototype.findSlot = function (t) {
        if (null == t) throw new Error("slotName cannot be null.");
        for (var e = this.slots, n = 0, r = e.length; n < r; n++) {
          var a = e[n];
          if (a.data.name == t) return a
        }
        return null
      }, e.prototype.findSlotIndex = function (t) {
        if (null == t) throw new Error("slotName cannot be null.");
        for (var e = this.slots, n = 0, r = e.length; n < r; n++) if (e[n].data.name == t) return n;
        return -1
      }, e.prototype.setSkinByName = function (t) {
        var e = this.data.findSkin(t);
        if (null == e) throw new Error("Skin not found: " + t);
        this.setSkin(e)
      }, e.prototype.setSkin = function (t) {
        if (t != this.skin) {
          if (null != t) if (null != this.skin) t.attachAll(this, this.skin); else for (var e = this.slots, n = 0, r = e.length; n < r; n++) {
            var a = e[n], i = a.data.attachmentName;
            if (null != i) {
              var o = t.getAttachment(n, i);
              null != o && a.setAttachment(o)
            }
          }
          this.skin = t, this.updateCache()
        }
      }, e.prototype.getAttachmentByName = function (t, e) {
        return this.getAttachment(this.data.findSlotIndex(t), e)
      }, e.prototype.getAttachment = function (t, e) {
        if (null == e) throw new Error("attachmentName cannot be null.");
        if (null != this.skin) {
          var n = this.skin.getAttachment(t, e);
          if (null != n) return n
        }
        return null != this.data.defaultSkin ? this.data.defaultSkin.getAttachment(t, e) : null
      }, e.prototype.setAttachment = function (t, e) {
        if (null == t) throw new Error("slotName cannot be null.");
        for (var n = this.slots, r = 0, a = n.length; r < a; r++) {
          var i = n[r];
          if (i.data.name == t) {
            var o = null;
            if (null != e && null == (o = this.getAttachment(r, e))) throw new Error("Attachment not found: " + e + ", for slot: " + t);
            return void i.setAttachment(o)
          }
        }
        throw new Error("Slot not found: " + t)
      }, e.prototype.findIkConstraint = function (t) {
        if (null == t) throw new Error("constraintName cannot be null.");
        for (var e = this.ikConstraints, n = 0, r = e.length; n < r; n++) {
          var a = e[n];
          if (a.data.name == t) return a
        }
        return null
      }, e.prototype.findTransformConstraint = function (t) {
        if (null == t) throw new Error("constraintName cannot be null.");
        for (var e = this.transformConstraints, n = 0, r = e.length; n < r; n++) {
          var a = e[n];
          if (a.data.name == t) return a
        }
        return null
      }, e.prototype.findPathConstraint = function (t) {
        if (null == t) throw new Error("constraintName cannot be null.");
        for (var e = this.pathConstraints, n = 0, r = e.length; n < r; n++) {
          var a = e[n];
          if (a.data.name == t) return a
        }
        return null
      }, e.prototype.getBounds = function (e, n, r) {
        if (void 0 === r && (r = new Array(2)), null == e) throw new Error("offset cannot be null.");
        if (null == n) throw new Error("size cannot be null.");
        for (var a = this.drawOrder, i = Number.POSITIVE_INFINITY, o = Number.POSITIVE_INFINITY, s = Number.NEGATIVE_INFINITY, l = Number.NEGATIVE_INFINITY, h = 0, u = a.length; h < u; h++) {
          var c = a[h];
          if (c.bone.active) {
            var p = 0, d = null, f = c.getAttachment();
            if (f instanceof t.RegionAttachment) p = 8, d = t.Utils.setArraySize(r, p, 0), f.computeWorldVertices(c.bone, d, 0, 2); else if (f instanceof t.MeshAttachment) {
              var m = f;
              p = m.worldVerticesLength, d = t.Utils.setArraySize(r, p, 0), m.computeWorldVertices(c, 0, p, d, 0, 2)
            }
            if (null != d) for (var g = 0, v = d.length; g < v; g += 2) {
              var y = d[g], x = d[g + 1];
              i = Math.min(i, y), o = Math.min(o, x), s = Math.max(s, y), l = Math.max(l, x)
            }
          }
        }
        e.set(i, o), n.set(s - i, l - o)
      }, e.prototype.update = function (t) {
        this.time += t
      }, Object.defineProperty(e.prototype, "flipX", {
        get: function () {
          return -1 == this.scaleX
        }, set: function (t) {
          e.deprecatedWarning1 || (e.deprecatedWarning1 = !0, console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")), this.scaleX = t ? 1 : -1
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(e.prototype, "flipY", {
        get: function () {
          return -1 == this.scaleY
        }, set: function (t) {
          e.deprecatedWarning1 || (e.deprecatedWarning1 = !0, console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")), this.scaleY = t ? 1 : -1
        }, enumerable: !1, configurable: !0
      }), e.deprecatedWarning1 = !1, e
    }();
    t.Skeleton = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function () {
      function e(t) {
        this.scale = 1, this.linkedMeshes = new Array, this.attachmentLoader = t
      }

      return e.prototype.readSkeletonData = function (r) {
        var a = this.scale, i = new t.SkeletonData;
        i.name = "";
        var o = new n(r);
        if (i.hash = o.readString(), i.version = o.readString(), "3.8.75" === i.version) {
          console.error("Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.")
        }
        i.x = o.readFloat(), i.y = o.readFloat(), i.width = o.readFloat(), i.height = o.readFloat();
        var s = o.readBoolean();
        s && (i.fps = o.readFloat(), i.imagesPath = o.readString(), i.audioPath = o.readString());
        var l = 0;
        l = o.readInt(!0);
        for (var h = 0; h < l; h++) o.strings.push(o.readString());
        l = o.readInt(!0);
        for (h = 0; h < l; h++) {
          var u = o.readString(), c = 0 == h ? null : i.bones[o.readInt(!0)];
          (f = new t.BoneData(h, u, c)).rotation = o.readFloat(), f.x = o.readFloat() * a, f.y = o.readFloat() * a, f.scaleX = o.readFloat(), f.scaleY = o.readFloat(), f.shearX = o.readFloat(), f.shearY = o.readFloat(), f.length = o.readFloat() * a, f.transformMode = e.TransformModeValues[o.readInt(!0)], f.skinRequired = o.readBoolean(), s && t.Color.rgba8888ToColor(f.color, o.readInt32()), i.bones.push(f)
        }
        l = o.readInt(!0);
        for (h = 0; h < l; h++) {
          var p = o.readString(), d = i.bones[o.readInt(!0)], f = new t.SlotData(h, p, d);
          t.Color.rgba8888ToColor(f.color, o.readInt32());
          var m = o.readInt32();
          -1 != m && t.Color.rgb888ToColor(f.darkColor = new t.Color, m), f.attachmentName = o.readStringRef(), f.blendMode = e.BlendModeValues[o.readInt(!0)], i.slots.push(f)
        }
        l = o.readInt(!0);
        h = 0;
        for (var g = void 0; h < l; h++) {
          (f = new t.IkConstraintData(o.readString())).order = o.readInt(!0), f.skinRequired = o.readBoolean(), g = o.readInt(!0);
          for (var v = 0; v < g; v++) f.bones.push(i.bones[o.readInt(!0)]);
          f.target = i.bones[o.readInt(!0)], f.mix = o.readFloat(), f.softness = o.readFloat() * a, f.bendDirection = o.readByte(), f.compress = o.readBoolean(), f.stretch = o.readBoolean(), f.uniform = o.readBoolean(), i.ikConstraints.push(f)
        }
        l = o.readInt(!0);
        for (h = 0, g = void 0; h < l; h++) {
          (f = new t.TransformConstraintData(o.readString())).order = o.readInt(!0), f.skinRequired = o.readBoolean(), g = o.readInt(!0);
          for (v = 0; v < g; v++) f.bones.push(i.bones[o.readInt(!0)]);
          f.target = i.bones[o.readInt(!0)], f.local = o.readBoolean(), f.relative = o.readBoolean(), f.offsetRotation = o.readFloat(), f.offsetX = o.readFloat() * a, f.offsetY = o.readFloat() * a, f.offsetScaleX = o.readFloat(), f.offsetScaleY = o.readFloat(), f.offsetShearY = o.readFloat(), f.rotateMix = o.readFloat(), f.translateMix = o.readFloat(), f.scaleMix = o.readFloat(), f.shearMix = o.readFloat(), i.transformConstraints.push(f)
        }
        l = o.readInt(!0);
        for (h = 0, g = void 0; h < l; h++) {
          (f = new t.PathConstraintData(o.readString())).order = o.readInt(!0), f.skinRequired = o.readBoolean(), g = o.readInt(!0);
          for (v = 0; v < g; v++) f.bones.push(i.bones[o.readInt(!0)]);
          f.target = i.slots[o.readInt(!0)], f.positionMode = e.PositionModeValues[o.readInt(!0)], f.spacingMode = e.SpacingModeValues[o.readInt(!0)], f.rotateMode = e.RotateModeValues[o.readInt(!0)], f.offsetRotation = o.readFloat(), f.position = o.readFloat(), f.positionMode == t.PositionMode.Fixed && (f.position *= a), f.spacing = o.readFloat(), f.spacingMode != t.SpacingMode.Length && f.spacingMode != t.SpacingMode.Fixed || (f.spacing *= a), f.rotateMix = o.readFloat(), f.translateMix = o.readFloat(), i.pathConstraints.push(f)
        }
        var y = this.readSkin(o, i, !0, s);
        null != y && (i.defaultSkin = y, i.skins.push(y));
        h = i.skins.length;
        for (t.Utils.setArraySize(i.skins, l = h + o.readInt(!0)); h < l; h++) i.skins[h] = this.readSkin(o, i, !1, s);
        l = this.linkedMeshes.length;
        for (h = 0; h < l; h++) {
          var x = this.linkedMeshes[h], M = null == x.skin ? i.defaultSkin : i.findSkin(x.skin);
          if (null == M) throw new Error("Skin not found: " + x.skin);
          var w = M.getAttachment(x.slotIndex, x.parent);
          if (null == w) throw new Error("Parent mesh not found: " + x.parent);
          x.mesh.deformAttachment = x.inheritDeform ? w : x.mesh, x.mesh.setParentMesh(w)
        }
        this.linkedMeshes.length = 0, l = o.readInt(!0);
        for (h = 0; h < l; h++) {
          (f = new t.EventData(o.readStringRef())).intValue = o.readInt(!1), f.floatValue = o.readFloat(), f.stringValue = o.readString(), f.audioPath = o.readString(), null != f.audioPath && (f.volume = o.readFloat(), f.balance = o.readFloat()), i.events.push(f)
        }
        l = o.readInt(!0);
        for (h = 0; h < l; h++) i.animations.push(this.readAnimation(o, o.readString(), i));
        return i
      }, e.prototype.readSkin = function (e, n, r, a) {
        var i = null, o = 0;
        if (r) {
          if (0 == (o = e.readInt(!0))) return null;
          i = new t.Skin("default")
        } else {
          (i = new t.Skin(e.readStringRef())).bones.length = e.readInt(!0);
          for (var s = 0, l = i.bones.length; s < l; s++) i.bones[s] = n.bones[e.readInt(!0)];
          for (s = 0, l = e.readInt(!0); s < l; s++) i.constraints.push(n.ikConstraints[e.readInt(!0)]);
          for (s = 0, l = e.readInt(!0); s < l; s++) i.constraints.push(n.transformConstraints[e.readInt(!0)]);
          for (s = 0, l = e.readInt(!0); s < l; s++) i.constraints.push(n.pathConstraints[e.readInt(!0)]);
          o = e.readInt(!0)
        }
        for (s = 0; s < o; s++) for (var h = e.readInt(!0), u = 0, c = e.readInt(!0); u < c; u++) {
          var p = e.readStringRef(), d = this.readAttachment(e, n, i, h, p, a);
          null != d && i.setAttachment(h, p, d)
        }
        return i
      }, e.prototype.readAttachment = function (n, a, i, o, s, l) {
        var h = this.scale, u = n.readStringRef();
        null == u && (u = s);
        var c = n.readByte();
        switch (e.AttachmentTypeValues[c]) {
          case t.AttachmentType.Region:
            var p = n.readStringRef(), d = n.readFloat(), f = n.readFloat(), m = n.readFloat(), g = n.readFloat(),
              v = n.readFloat(), y = n.readFloat(), x = n.readFloat(), M = n.readInt32();
            null == p && (p = u);
            var w = this.attachmentLoader.newRegionAttachment(i, u, p);
            return null == w ? null : (w.path = p, w.x = f * h, w.y = m * h, w.scaleX = g, w.scaleY = v, w.rotation = d, w.width = y * h, w.height = x * h, t.Color.rgba8888ToColor(w.color, M), w);
          case t.AttachmentType.BoundingBox:
            var E = n.readInt(!0), T = this.readVertices(n, E),
              b = (M = l ? n.readInt32() : 0, this.attachmentLoader.newBoundingBoxAttachment(i, u));
            return null == b ? null : (b.worldVerticesLength = E << 1, b.vertices = T.vertices, b.bones = T.bones, l && t.Color.rgba8888ToColor(b.color, M), b);
          case t.AttachmentType.Mesh:
            p = n.readStringRef(), M = n.readInt32(), E = n.readInt(!0);
            var S = this.readFloatArray(n, E << 1, 1), I = this.readShortArray(n),
              A = (T = this.readVertices(n, E), n.readInt(!0)), R = null;
            y = 0, x = 0;
            return l && (R = this.readShortArray(n), y = n.readFloat(), x = n.readFloat()), null == p && (p = u), null == (C = this.attachmentLoader.newMeshAttachment(i, u, p)) ? null : (C.path = p, t.Color.rgba8888ToColor(C.color, M), C.bones = T.bones, C.vertices = T.vertices, C.worldVerticesLength = E << 1, C.triangles = I, C.regionUVs = new Float32Array(S), C.hullLength = A << 1, l && (C.edges = R, C.width = y * h, C.height = x * h), C);
          case t.AttachmentType.LinkedMesh:
            p = n.readStringRef(), M = n.readInt32();
            var C, P = n.readStringRef(), k = n.readStringRef(), V = n.readBoolean();
            y = 0, x = 0;
            return l && (y = n.readFloat(), x = n.readFloat()), null == p && (p = u), null == (C = this.attachmentLoader.newMeshAttachment(i, u, p)) ? null : (C.path = p, t.Color.rgba8888ToColor(C.color, M), l && (C.width = y * h, C.height = x * h), this.linkedMeshes.push(new r(C, P, o, k, V)), C);
          case t.AttachmentType.Path:
            for (var _ = n.readBoolean(), N = n.readBoolean(), F = (E = n.readInt(!0), T = this.readVertices(n, E), t.Utils.newArray(E / 3, 0)), O = 0, D = F.length; O < D; O++) F[O] = n.readFloat() * h;
            M = l ? n.readInt32() : 0;
            return null == (p = this.attachmentLoader.newPathAttachment(i, u)) ? null : (p.closed = _, p.constantSpeed = N, p.worldVerticesLength = E << 1, p.vertices = T.vertices, p.bones = T.bones, p.lengths = F, l && t.Color.rgba8888ToColor(p.color, M), p);
          case t.AttachmentType.Point:
            d = n.readFloat(), f = n.readFloat(), m = n.readFloat(), M = l ? n.readInt32() : 0;
            var U = this.attachmentLoader.newPointAttachment(i, u);
            return null == U ? null : (U.x = f * h, U.y = m * h, U.rotation = d, l && t.Color.rgba8888ToColor(U.color, M), U);
          case t.AttachmentType.Clipping:
            var X = n.readInt(!0),
              B = (E = n.readInt(!0), T = this.readVertices(n, E), M = l ? n.readInt32() : 0, this.attachmentLoader.newClippingAttachment(i, u));
            return null == B ? null : (B.endSlot = a.slots[X], B.worldVerticesLength = E << 1, B.vertices = T.vertices, B.bones = T.bones, l && t.Color.rgba8888ToColor(B.color, M), B)
        }
        return null
      }, e.prototype.readVertices = function (e, n) {
        var r = n << 1, i = new a, o = this.scale;
        if (!e.readBoolean()) return i.vertices = this.readFloatArray(e, r, o), i;
        for (var s = new Array, l = new Array, h = 0; h < n; h++) {
          var u = e.readInt(!0);
          l.push(u);
          for (var c = 0; c < u; c++) l.push(e.readInt(!0)), s.push(e.readFloat() * o), s.push(e.readFloat() * o), s.push(e.readFloat())
        }
        return i.vertices = t.Utils.toFloatArray(s), i.bones = l, i
      }, e.prototype.readFloatArray = function (t, e, n) {
        var r = new Array(e);
        if (1 == n) for (var a = 0; a < e; a++) r[a] = t.readFloat(); else for (a = 0; a < e; a++) r[a] = t.readFloat() * n;
        return r
      }, e.prototype.readShortArray = function (t) {
        for (var e = t.readInt(!0), n = new Array(e), r = 0; r < e; r++) n[r] = t.readShort();
        return n
      }, e.prototype.readAnimation = function (n, r, a) {
        for (var i = new Array, o = this.scale, s = 0, l = new t.Color, h = new t.Color, u = 0, c = n.readInt(!0); u < c; u++) for (var p = n.readInt(!0), d = 0, f = n.readInt(!0); d < f; d++) {
          var m = n.readByte(), g = n.readInt(!0);
          switch (m) {
            case e.SLOT_ATTACHMENT:
              (M = new t.AttachmentTimeline(g)).slotIndex = p;
              for (var v = 0; v < g; v++) M.setFrame(v, n.readFloat(), n.readStringRef());
              i.push(M), s = Math.max(s, M.frames[g - 1]);
              break;
            case e.SLOT_COLOR:
              (M = new t.ColorTimeline(g)).slotIndex = p;
              for (v = 0; v < g; v++) {
                var y = n.readFloat();
                t.Color.rgba8888ToColor(l, n.readInt32()), M.setFrame(v, y, l.r, l.g, l.b, l.a), v < g - 1 && this.readCurve(n, v, M)
              }
              i.push(M), s = Math.max(s, M.frames[(g - 1) * t.ColorTimeline.ENTRIES]);
              break;
            case e.SLOT_TWO_COLOR:
              (M = new t.TwoColorTimeline(g)).slotIndex = p;
              for (v = 0; v < g; v++) {
                y = n.readFloat();
                t.Color.rgba8888ToColor(l, n.readInt32()), t.Color.rgb888ToColor(h, n.readInt32()), M.setFrame(v, y, l.r, l.g, l.b, l.a, h.r, h.g, h.b), v < g - 1 && this.readCurve(n, v, M)
              }
              i.push(M), s = Math.max(s, M.frames[(g - 1) * t.TwoColorTimeline.ENTRIES])
          }
        }
        for (u = 0, c = n.readInt(!0); u < c; u++) {
          var x = n.readInt(!0);
          for (d = 0, f = n.readInt(!0); d < f; d++) {
            m = n.readByte(), g = n.readInt(!0);
            switch (m) {
              case e.BONE_ROTATE:
                (M = new t.RotateTimeline(g)).boneIndex = x;
                for (v = 0; v < g; v++) M.setFrame(v, n.readFloat(), n.readFloat()), v < g - 1 && this.readCurve(n, v, M);
                i.push(M), s = Math.max(s, M.frames[(g - 1) * t.RotateTimeline.ENTRIES]);
                break;
              case e.BONE_TRANSLATE:
              case e.BONE_SCALE:
              case e.BONE_SHEAR:
                var M = void 0, w = 1;
                m == e.BONE_SCALE ? M = new t.ScaleTimeline(g) : m == e.BONE_SHEAR ? M = new t.ShearTimeline(g) : (M = new t.TranslateTimeline(g), w = o), M.boneIndex = x;
                for (v = 0; v < g; v++) M.setFrame(v, n.readFloat(), n.readFloat() * w, n.readFloat() * w), v < g - 1 && this.readCurve(n, v, M);
                i.push(M), s = Math.max(s, M.frames[(g - 1) * t.TranslateTimeline.ENTRIES])
            }
          }
        }
        for (u = 0, c = n.readInt(!0); u < c; u++) {
          var E = n.readInt(!0);
          g = n.readInt(!0);
          (M = new t.IkConstraintTimeline(g)).ikConstraintIndex = E;
          for (v = 0; v < g; v++) M.setFrame(v, n.readFloat(), n.readFloat(), n.readFloat() * o, n.readByte(), n.readBoolean(), n.readBoolean()), v < g - 1 && this.readCurve(n, v, M);
          i.push(M), s = Math.max(s, M.frames[(g - 1) * t.IkConstraintTimeline.ENTRIES])
        }
        for (u = 0, c = n.readInt(!0); u < c; u++) {
          E = n.readInt(!0), g = n.readInt(!0);
          (M = new t.TransformConstraintTimeline(g)).transformConstraintIndex = E;
          for (v = 0; v < g; v++) M.setFrame(v, n.readFloat(), n.readFloat(), n.readFloat(), n.readFloat(), n.readFloat()), v < g - 1 && this.readCurve(n, v, M);
          i.push(M), s = Math.max(s, M.frames[(g - 1) * t.TransformConstraintTimeline.ENTRIES])
        }
        for (u = 0, c = n.readInt(!0); u < c; u++) {
          E = n.readInt(!0);
          var T = a.pathConstraints[E];
          for (d = 0, f = n.readInt(!0); d < f; d++) {
            m = n.readByte(), g = n.readInt(!0);
            switch (m) {
              case e.PATH_POSITION:
              case e.PATH_SPACING:
                M = void 0, w = 1;
                m == e.PATH_SPACING ? (M = new t.PathConstraintSpacingTimeline(g), T.spacingMode != t.SpacingMode.Length && T.spacingMode != t.SpacingMode.Fixed || (w = o)) : (M = new t.PathConstraintPositionTimeline(g), T.positionMode == t.PositionMode.Fixed && (w = o)), M.pathConstraintIndex = E;
                for (v = 0; v < g; v++) M.setFrame(v, n.readFloat(), n.readFloat() * w), v < g - 1 && this.readCurve(n, v, M);
                i.push(M), s = Math.max(s, M.frames[(g - 1) * t.PathConstraintPositionTimeline.ENTRIES]);
                break;
              case e.PATH_MIX:
                (M = new t.PathConstraintMixTimeline(g)).pathConstraintIndex = E;
                for (v = 0; v < g; v++) M.setFrame(v, n.readFloat(), n.readFloat(), n.readFloat()), v < g - 1 && this.readCurve(n, v, M);
                i.push(M), s = Math.max(s, M.frames[(g - 1) * t.PathConstraintMixTimeline.ENTRIES])
            }
          }
        }
        for (u = 0, c = n.readInt(!0); u < c; u++) {
          var b = a.skins[n.readInt(!0)];
          for (d = 0, f = n.readInt(!0); d < f; d++) {
            p = n.readInt(!0);
            for (var S = 0, I = n.readInt(!0); S < I; S++) {
              var A = b.getAttachment(p, n.readStringRef()), R = null != A.bones, C = A.vertices,
                P = R ? C.length / 3 * 2 : C.length;
              g = n.readInt(!0);
              (M = new t.DeformTimeline(g)).slotIndex = p, M.attachment = A;
              for (v = 0; v < g; v++) {
                y = n.readFloat();
                var k = void 0, V = n.readInt(!0);
                if (0 == V) k = R ? t.Utils.newFloatArray(P) : C; else {
                  k = t.Utils.newFloatArray(P);
                  var _ = n.readInt(!0);
                  if (V += _, 1 == o) for (var N = _; N < V; N++) k[N] = n.readFloat(); else for (N = _; N < V; N++) k[N] = n.readFloat() * o;
                  if (!R) {
                    N = 0;
                    for (var F = k.length; N < F; N++) k[N] += C[N]
                  }
                }
                M.setFrame(v, y, k), v < g - 1 && this.readCurve(n, v, M)
              }
              i.push(M), s = Math.max(s, M.frames[g - 1])
            }
          }
        }
        var O = n.readInt(!0);
        if (O > 0) {
          M = new t.DrawOrderTimeline(O);
          var D = a.slots.length;
          for (u = 0; u < O; u++) {
            y = n.readFloat();
            var U = n.readInt(!0), X = t.Utils.newArray(D, 0);
            for (d = D - 1; d >= 0; d--) X[d] = -1;
            var B = t.Utils.newArray(D - U, 0), L = 0, Y = 0;
            for (d = 0; d < U; d++) {
              for (p = n.readInt(!0); L != p;) B[Y++] = L++;
              X[L + n.readInt(!0)] = L++
            }
            for (; L < D;) B[Y++] = L++;
            for (d = D - 1; d >= 0; d--) -1 == X[d] && (X[d] = B[--Y]);
            M.setFrame(u, y, X)
          }
          i.push(M), s = Math.max(s, M.frames[O - 1])
        }
        var W = n.readInt(!0);
        if (W > 0) {
          for (M = new t.EventTimeline(W), u = 0; u < W; u++) {
            y = n.readFloat();
            var q = a.events[n.readInt(!0)], H = new t.Event(y, q);
            H.intValue = n.readInt(!1), H.floatValue = n.readFloat(), H.stringValue = n.readBoolean() ? n.readString() : q.stringValue, null != H.data.audioPath && (H.volume = n.readFloat(), H.balance = n.readFloat()), M.setFrame(u, H)
          }
          i.push(M), s = Math.max(s, M.frames[W - 1])
        }
        return new t.Animation(r, i, s)
      }, e.prototype.readCurve = function (t, n, r) {
        switch (t.readByte()) {
          case e.CURVE_STEPPED:
            r.setStepped(n);
            break;
          case e.CURVE_BEZIER:
            this.setCurve(r, n, t.readFloat(), t.readFloat(), t.readFloat(), t.readFloat())
        }
      }, e.prototype.setCurve = function (t, e, n, r, a, i) {
        t.setCurve(e, n, r, a, i)
      }, e.AttachmentTypeValues = [0, 1, 2, 3, 4, 5, 6], e.TransformModeValues = [t.TransformMode.Normal, t.TransformMode.OnlyTranslation, t.TransformMode.NoRotationOrReflection, t.TransformMode.NoScale, t.TransformMode.NoScaleOrReflection], e.PositionModeValues = [t.PositionMode.Fixed, t.PositionMode.Percent], e.SpacingModeValues = [t.SpacingMode.Length, t.SpacingMode.Fixed, t.SpacingMode.Percent], e.RotateModeValues = [t.RotateMode.Tangent, t.RotateMode.Chain, t.RotateMode.ChainScale], e.BlendModeValues = [t.BlendMode.Normal, t.BlendMode.Additive, t.BlendMode.Multiply, t.BlendMode.Screen], e.BONE_ROTATE = 0, e.BONE_TRANSLATE = 1, e.BONE_SCALE = 2, e.BONE_SHEAR = 3, e.SLOT_ATTACHMENT = 0, e.SLOT_COLOR = 1, e.SLOT_TWO_COLOR = 2, e.PATH_POSITION = 0, e.PATH_SPACING = 1, e.PATH_MIX = 2, e.CURVE_LINEAR = 0, e.CURVE_STEPPED = 1, e.CURVE_BEZIER = 2, e
    }();
    t.SkeletonBinary = e;
    var n = function () {
      function t(t, e, n, r) {
        void 0 === e && (e = new Array), void 0 === n && (n = 0), void 0 === r && (r = new DataView(t.buffer)), this.strings = e, this.index = n, this.buffer = r
      }

      return t.prototype.readByte = function () {
        return this.buffer.getInt8(this.index++)
      }, t.prototype.readShort = function () {
        var t = this.buffer.getInt16(this.index);
        return this.index += 2, t
      }, t.prototype.readInt32 = function () {
        var t = this.buffer.getInt32(this.index);
        return this.index += 4, t
      }, t.prototype.readInt = function (t) {
        var e = this.readByte(), n = 127 & e;
        return 0 != (128 & e) && (n |= (127 & (e = this.readByte())) << 7, 0 != (128 & e) && (n |= (127 & (e = this.readByte())) << 14, 0 != (128 & e) && (n |= (127 & (e = this.readByte())) << 21, 0 != (128 & e) && (n |= (127 & (e = this.readByte())) << 28)))), t ? n : n >>> 1 ^ -(1 & n)
      }, t.prototype.readStringRef = function () {
        var t = this.readInt(!0);
        return 0 == t ? null : this.strings[t - 1]
      }, t.prototype.readString = function () {
        var t = this.readInt(!0);
        switch (t) {
          case 0:
            return null;
          case 1:
            return ""
        }
        t--;
        for (var e = "", n = 0; n < t;) {
          var r = this.readByte();
          switch (r >> 4) {
            case 12:
            case 13:
              e += String.fromCharCode((31 & r) << 6 | 63 & this.readByte()), n += 2;
              break;
            case 14:
              e += String.fromCharCode((15 & r) << 12 | (63 & this.readByte()) << 6 | 63 & this.readByte()), n += 3;
              break;
            default:
              e += String.fromCharCode(r), n++
          }
        }
        return e
      }, t.prototype.readFloat = function () {
        var t = this.buffer.getFloat32(this.index);
        return this.index += 4, t
      }, t.prototype.readBoolean = function () {
        return 0 != this.readByte()
      }, t
    }(), r = function () {
      return function (t, e, n, r, a) {
        this.mesh = t, this.skin = e, this.slotIndex = n, this.parent = r, this.inheritDeform = a
      }
    }(), a = function () {
      return function (t, e) {
        void 0 === t && (t = null), void 0 === e && (e = null), this.bones = t, this.vertices = e
      }
    }()
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function () {
      function e() {
        this.minX = 0, this.minY = 0, this.maxX = 0, this.maxY = 0, this.boundingBoxes = new Array, this.polygons = new Array, this.polygonPool = new t.Pool(function () {
          return t.Utils.newFloatArray(16)
        })
      }

      return e.prototype.update = function (e, n) {
        if (null == e) throw new Error("skeleton cannot be null.");
        var r = this.boundingBoxes, a = this.polygons, i = this.polygonPool, o = e.slots, s = o.length;
        r.length = 0, i.freeAll(a), a.length = 0;
        for (var l = 0; l < s; l++) {
          var h = o[l];
          if (h.bone.active) {
            var u = h.getAttachment();
            if (u instanceof t.BoundingBoxAttachment) {
              var c = u;
              r.push(c);
              var p = i.obtain();
              p.length != c.worldVerticesLength && (p = t.Utils.newFloatArray(c.worldVerticesLength)), a.push(p), c.computeWorldVertices(h, 0, c.worldVerticesLength, p, 0, 2)
            }
          }
        }
        n ? this.aabbCompute() : (this.minX = Number.POSITIVE_INFINITY, this.minY = Number.POSITIVE_INFINITY, this.maxX = Number.NEGATIVE_INFINITY, this.maxY = Number.NEGATIVE_INFINITY)
      }, e.prototype.aabbCompute = function () {
        for (var t = Number.POSITIVE_INFINITY, e = Number.POSITIVE_INFINITY, n = Number.NEGATIVE_INFINITY, r = Number.NEGATIVE_INFINITY, a = this.polygons, i = 0, o = a.length; i < o; i++) for (var s = a[i], l = s, h = 0, u = s.length; h < u; h += 2) {
          var c = l[h], p = l[h + 1];
          t = Math.min(t, c), e = Math.min(e, p), n = Math.max(n, c), r = Math.max(r, p)
        }
        this.minX = t, this.minY = e, this.maxX = n, this.maxY = r
      }, e.prototype.aabbContainsPoint = function (t, e) {
        return t >= this.minX && t <= this.maxX && e >= this.minY && e <= this.maxY
      }, e.prototype.aabbIntersectsSegment = function (t, e, n, r) {
        var a = this.minX, i = this.minY, o = this.maxX, s = this.maxY;
        if (t <= a && n <= a || e <= i && r <= i || t >= o && n >= o || e >= s && r >= s) return !1;
        var l = (r - e) / (n - t), h = l * (a - t) + e;
        if (h > i && h < s) return !0;
        if ((h = l * (o - t) + e) > i && h < s) return !0;
        var u = (i - e) / l + t;
        return u > a && u < o || (u = (s - e) / l + t) > a && u < o
      }, e.prototype.aabbIntersectsSkeleton = function (t) {
        return this.minX < t.maxX && this.maxX > t.minX && this.minY < t.maxY && this.maxY > t.minY
      }, e.prototype.containsPoint = function (t, e) {
        for (var n = this.polygons, r = 0, a = n.length; r < a; r++) if (this.containsPointPolygon(n[r], t, e)) return this.boundingBoxes[r];
        return null
      }, e.prototype.containsPointPolygon = function (t, e, n) {
        for (var r = t, a = t.length, i = a - 2, o = !1, s = 0; s < a; s += 2) {
          var l = r[s + 1], h = r[i + 1];
          if (l < n && h >= n || h < n && l >= n) {
            var u = r[s];
            u + (n - l) / (h - l) * (r[i] - u) < e && (o = !o)
          }
          i = s
        }
        return o
      }, e.prototype.intersectsSegment = function (t, e, n, r) {
        for (var a = this.polygons, i = 0, o = a.length; i < o; i++) if (this.intersectsSegmentPolygon(a[i], t, e, n, r)) return this.boundingBoxes[i];
        return null
      }, e.prototype.intersectsSegmentPolygon = function (t, e, n, r, a) {
        for (var i = t, o = t.length, s = e - r, l = n - a, h = e * a - n * r, u = i[o - 2], c = i[o - 1], p = 0; p < o; p += 2) {
          var d = i[p], f = i[p + 1], m = u * f - c * d, g = u - d, v = c - f, y = s * v - l * g,
            x = (h * g - s * m) / y;
          if ((x >= u && x <= d || x >= d && x <= u) && (x >= e && x <= r || x >= r && x <= e)) {
            var M = (h * v - l * m) / y;
            if ((M >= c && M <= f || M >= f && M <= c) && (M >= n && M <= a || M >= a && M <= n)) return !0
          }
          u = d, c = f
        }
        return !1
      }, e.prototype.getPolygon = function (t) {
        if (null == t) throw new Error("boundingBox cannot be null.");
        var e = this.boundingBoxes.indexOf(t);
        return -1 == e ? null : this.polygons[e]
      }, e.prototype.getWidth = function () {
        return this.maxX - this.minX
      }, e.prototype.getHeight = function () {
        return this.maxY - this.minY
      }, e
    }();
    t.SkeletonBounds = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function () {
      function e() {
        this.triangulator = new t.Triangulator, this.clippingPolygon = new Array, this.clipOutput = new Array, this.clippedVertices = new Array, this.clippedTriangles = new Array, this.scratch = new Array
      }

      return e.prototype.clipStart = function (n, r) {
        if (null != this.clipAttachment) return 0;
        this.clipAttachment = r;
        var a = r.worldVerticesLength, i = t.Utils.setArraySize(this.clippingPolygon, a);
        r.computeWorldVertices(n, 0, a, i, 0, 2);
        var o = this.clippingPolygon;
        e.makeClockwise(o);
        for (var s = this.clippingPolygons = this.triangulator.decompose(o, this.triangulator.triangulate(o)), l = 0, h = s.length; l < h; l++) {
          var u = s[l];
          e.makeClockwise(u), u.push(u[0]), u.push(u[1])
        }
        return s.length
      }, e.prototype.clipEndWithSlot = function (t) {
        null != this.clipAttachment && this.clipAttachment.endSlot == t.data && this.clipEnd()
      }, e.prototype.clipEnd = function () {
        null != this.clipAttachment && (this.clipAttachment = null, this.clippingPolygons = null, this.clippedVertices.length = 0, this.clippedTriangles.length = 0, this.clippingPolygon.length = 0)
      }, e.prototype.isClipping = function () {
        return null != this.clipAttachment
      }, e.prototype.clipTriangles = function (e, n, r, a, i, o, s, l) {
        var h = this.clipOutput, u = this.clippedVertices, c = this.clippedTriangles, p = this.clippingPolygons,
          d = this.clippingPolygons.length, f = l ? 12 : 8, m = 0;
        u.length = 0, c.length = 0;
        t:for (var g = 0; g < a; g += 3) for (var v = r[g] << 1, y = e[v], x = e[v + 1], M = i[v], w = i[v + 1], E = e[v = r[g + 1] << 1], T = e[v + 1], b = i[v], S = i[v + 1], I = e[v = r[g + 2] << 1], A = e[v + 1], R = i[v], C = i[v + 1], P = 0; P < d; P++) {
          var k = u.length;
          if (!this.clip(y, x, E, T, I, A, p[P], h)) {
            (B = t.Utils.setArraySize(u, k + 3 * f))[k] = y, B[k + 1] = x, B[k + 2] = o.r, B[k + 3] = o.g, B[k + 4] = o.b, B[k + 5] = o.a, l ? (B[k + 6] = M, B[k + 7] = w, B[k + 8] = s.r, B[k + 9] = s.g, B[k + 10] = s.b, B[k + 11] = s.a, B[k + 12] = E, B[k + 13] = T, B[k + 14] = o.r, B[k + 15] = o.g, B[k + 16] = o.b, B[k + 17] = o.a, B[k + 18] = b, B[k + 19] = S, B[k + 20] = s.r, B[k + 21] = s.g, B[k + 22] = s.b, B[k + 23] = s.a, B[k + 24] = I, B[k + 25] = A, B[k + 26] = o.r, B[k + 27] = o.g, B[k + 28] = o.b, B[k + 29] = o.a, B[k + 30] = R, B[k + 31] = C, B[k + 32] = s.r, B[k + 33] = s.g, B[k + 34] = s.b, B[k + 35] = s.a) : (B[k + 6] = M, B[k + 7] = w, B[k + 8] = E, B[k + 9] = T, B[k + 10] = o.r, B[k + 11] = o.g, B[k + 12] = o.b, B[k + 13] = o.a, B[k + 14] = b, B[k + 15] = S, B[k + 16] = I, B[k + 17] = A, B[k + 18] = o.r, B[k + 19] = o.g, B[k + 20] = o.b, B[k + 21] = o.a, B[k + 22] = R, B[k + 23] = C), k = c.length, (Z = t.Utils.setArraySize(c, k + 3))[k] = m, Z[k + 1] = m + 1, Z[k + 2] = m + 2, m += 3;
            continue t
          }
          var V = h.length;
          if (0 != V) {
            for (var _ = T - A, N = I - E, F = y - I, O = A - x, D = 1 / (_ * F + N * (x - A)), U = V >> 1, X = this.clipOutput, B = t.Utils.setArraySize(u, k + U * f), L = 0; L < V; L += 2) {
              var Y = X[L], W = X[L + 1];
              B[k] = Y, B[k + 1] = W, B[k + 2] = o.r, B[k + 3] = o.g, B[k + 4] = o.b, B[k + 5] = o.a;
              var q = Y - I, H = W - A, G = (_ * q + N * H) * D, j = (O * q + F * H) * D, z = 1 - G - j;
              B[k + 6] = M * G + b * j + R * z, B[k + 7] = w * G + S * j + C * z, l && (B[k + 8] = s.r, B[k + 9] = s.g, B[k + 10] = s.b, B[k + 11] = s.a), k += f
            }
            k = c.length;
            var Z = t.Utils.setArraySize(c, k + 3 * (U - 2));
            U--;
            for (L = 1; L < U; L++) Z[k] = m, Z[k + 1] = m + L, Z[k + 2] = m + L + 1, k += 3;
            m += U + 1
          }
        }
      }, e.prototype.clip = function (t, e, n, r, a, i, o, s) {
        var l = s, h = !1, u = null;
        o.length % 4 >= 2 ? (u = s, s = this.scratch) : u = this.scratch, u.length = 0, u.push(t), u.push(e), u.push(n), u.push(r), u.push(a), u.push(i), u.push(t), u.push(e), s.length = 0;
        for (var c = o, p = o.length - 4, d = 0; ; d += 2) {
          for (var f = c[d], m = c[d + 1], g = c[d + 2], v = c[d + 3], y = f - g, x = m - v, M = u, w = u.length - 2, E = s.length, T = 0; T < w; T += 2) {
            var b = M[T], S = M[T + 1], I = M[T + 2], A = M[T + 3], R = y * (A - v) - x * (I - g) > 0;
            if (y * (S - v) - x * (b - g) > 0) {
              if (R) {
                s.push(I), s.push(A);
                continue
              }
              var C = ((k = I - b) * (m - S) - (P = A - S) * (f - b)) / (P * (g - f) - k * (v - m));
              s.push(f + (g - f) * C), s.push(m + (v - m) * C)
            } else if (R) {
              var P, k;
              C = ((k = I - b) * (m - S) - (P = A - S) * (f - b)) / (P * (g - f) - k * (v - m));
              s.push(f + (g - f) * C), s.push(m + (v - m) * C), s.push(I), s.push(A)
            }
            h = !0
          }
          if (E == s.length) return l.length = 0, !0;
          if (s.push(s[0]), s.push(s[1]), d == p) break;
          var V = s;
          (s = u).length = 0, u = V
        }
        if (l != s) {
          l.length = 0;
          d = 0;
          for (var _ = s.length - 2; d < _; d++) l[d] = s[d]
        } else l.length = l.length - 2;
        return h
      }, e.makeClockwise = function (t) {
        for (var e = t, n = t.length, r = e[n - 2] * e[1] - e[0] * e[n - 1], a = 0, i = 0, o = 0, s = 0, l = n - 3; s < l; s += 2) a = e[s], i = e[s + 1], o = e[s + 2], r += a * e[s + 3] - o * i;
        if (!(r < 0)) {
          s = 0;
          var h = n - 2;
          for (l = n >> 1; s < l; s += 2) {
            var u = e[s], c = e[s + 1], p = h - s;
            e[s] = e[p], e[s + 1] = e[p + 1], e[p] = u, e[p + 1] = c
          }
        }
      }, e
    }();
    t.SkeletonClipping = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function () {
      function t() {
        this.bones = new Array, this.slots = new Array, this.skins = new Array, this.events = new Array, this.animations = new Array, this.ikConstraints = new Array, this.transformConstraints = new Array, this.pathConstraints = new Array, this.fps = 0
      }

      return t.prototype.findBone = function (t) {
        if (null == t) throw new Error("boneName cannot be null.");
        for (var e = this.bones, n = 0, r = e.length; n < r; n++) {
          var a = e[n];
          if (a.name == t) return a
        }
        return null
      }, t.prototype.findBoneIndex = function (t) {
        if (null == t) throw new Error("boneName cannot be null.");
        for (var e = this.bones, n = 0, r = e.length; n < r; n++) if (e[n].name == t) return n;
        return -1
      }, t.prototype.findSlot = function (t) {
        if (null == t) throw new Error("slotName cannot be null.");
        for (var e = this.slots, n = 0, r = e.length; n < r; n++) {
          var a = e[n];
          if (a.name == t) return a
        }
        return null
      }, t.prototype.findSlotIndex = function (t) {
        if (null == t) throw new Error("slotName cannot be null.");
        for (var e = this.slots, n = 0, r = e.length; n < r; n++) if (e[n].name == t) return n;
        return -1
      }, t.prototype.findSkin = function (t) {
        if (null == t) throw new Error("skinName cannot be null.");
        for (var e = this.skins, n = 0, r = e.length; n < r; n++) {
          var a = e[n];
          if (a.name == t) return a
        }
        return null
      }, t.prototype.findEvent = function (t) {
        if (null == t) throw new Error("eventDataName cannot be null.");
        for (var e = this.events, n = 0, r = e.length; n < r; n++) {
          var a = e[n];
          if (a.name == t) return a
        }
        return null
      }, t.prototype.findAnimation = function (t) {
        if (null == t) throw new Error("animationName cannot be null.");
        for (var e = this.animations, n = 0, r = e.length; n < r; n++) {
          var a = e[n];
          if (a.name == t) return a
        }
        return null
      }, t.prototype.findIkConstraint = function (t) {
        if (null == t) throw new Error("constraintName cannot be null.");
        for (var e = this.ikConstraints, n = 0, r = e.length; n < r; n++) {
          var a = e[n];
          if (a.name == t) return a
        }
        return null
      }, t.prototype.findTransformConstraint = function (t) {
        if (null == t) throw new Error("constraintName cannot be null.");
        for (var e = this.transformConstraints, n = 0, r = e.length; n < r; n++) {
          var a = e[n];
          if (a.name == t) return a
        }
        return null
      }, t.prototype.findPathConstraint = function (t) {
        if (null == t) throw new Error("constraintName cannot be null.");
        for (var e = this.pathConstraints, n = 0, r = e.length; n < r; n++) {
          var a = e[n];
          if (a.name == t) return a
        }
        return null
      }, t.prototype.findPathConstraintIndex = function (t) {
        if (null == t) throw new Error("pathConstraintName cannot be null.");
        for (var e = this.pathConstraints, n = 0, r = e.length; n < r; n++) if (e[n].name == t) return n;
        return -1
      }, t
    }();
    t.SkeletonData = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    t.FAIL_ON_NON_EXISTING_SKIN = !1;
    var e = function () {
      function e(t) {
        this.scale = 1, this.linkedMeshes = new Array, this.attachmentLoader = t
      }

      return e.prototype.readSkeletonData = function (n) {
        var r = this.scale, a = new t.SkeletonData, i = "string" == typeof n ? JSON.parse(n) : n, o = i.skeleton;
        if (null != o) {
          if (a.hash = o.hash, a.version = o.spine, "3.8" !== a.version.substr(0, 3)) {
            var s = "PixiJS Spine plugin supports only format for Spine 3.8. Your model has version " + o.spine + ". Please look in pixi-spine repository README for another branch.";
            console.error(s)
          }
          if ("3.8.75" === a.version) {
            s = "Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";
            console.error(s)
          }
          a.x = o.x, a.y = o.y, a.width = o.width, a.height = o.height, a.fps = o.fps, a.imagesPath = o.images
        }
        if (i.bones) for (var l = 0; l < i.bones.length; l++) {
          var h = i.bones[l], u = null, c = this.getValue(h, "parent", null);
          if (null != c && null == (u = a.findBone(c))) throw new Error("Parent bone not found: " + c);
          (m = new t.BoneData(a.bones.length, h.name, u)).length = this.getValue(h, "length", 0) * r, m.x = this.getValue(h, "x", 0) * r, m.y = this.getValue(h, "y", 0) * r, m.rotation = this.getValue(h, "rotation", 0), m.scaleX = this.getValue(h, "scaleX", 1), m.scaleY = this.getValue(h, "scaleY", 1), m.shearX = this.getValue(h, "shearX", 0), m.shearY = this.getValue(h, "shearY", 0), m.transformMode = e.transformModeFromString(this.getValue(h, "transform", "normal")), m.skinRequired = this.getValue(h, "skin", !1), a.bones.push(m)
        }
        if (i.slots) for (l = 0; l < i.slots.length; l++) {
          var p = (A = i.slots[l]).name, d = A.bone, f = a.findBone(d);
          if (null == f) throw new Error("Slot bone not found: " + d);
          var m = new t.SlotData(a.slots.length, p, f), g = this.getValue(A, "color", null);
          null != g && m.color.setFromString(g);
          var v = this.getValue(A, "dark", null);
          null != v && (m.darkColor = new t.Color(1, 1, 1, 1), m.darkColor.setFromString(v)), m.attachmentName = this.getValue(A, "attachment", null), m.blendMode = e.blendModeFromString(this.getValue(A, "blend", "normal")), a.slots.push(m)
        }
        if (i.ik) for (l = 0; l < i.ik.length; l++) {
          var y = i.ik[l];
          (m = new t.IkConstraintData(y.name)).order = this.getValue(y, "order", 0), m.skinRequired = this.getValue(y, "skin", !1);
          for (var x = 0; x < y.bones.length; x++) {
            d = y.bones[x];
            if (null == (b = a.findBone(d))) throw new Error("IK bone not found: " + d);
            m.bones.push(b)
          }
          var M = y.target;
          if (m.target = a.findBone(M), null == m.target) throw new Error("IK target bone not found: " + M);
          m.mix = this.getValue(y, "mix", 1), m.softness = this.getValue(y, "softness", 0) * r, m.bendDirection = this.getValue(y, "bendPositive", !0) ? 1 : -1, m.compress = this.getValue(y, "compress", !1), m.stretch = this.getValue(y, "stretch", !1), m.uniform = this.getValue(y, "uniform", !1), a.ikConstraints.push(m)
        }
        if (i.transform) for (l = 0; l < i.transform.length; l++) {
          y = i.transform[l];
          (m = new t.TransformConstraintData(y.name)).order = this.getValue(y, "order", 0), m.skinRequired = this.getValue(y, "skin", !1);
          for (x = 0; x < y.bones.length; x++) {
            d = y.bones[x];
            if (null == (b = a.findBone(d))) throw new Error("Transform constraint bone not found: " + d);
            m.bones.push(b)
          }
          M = y.target;
          if (m.target = a.findBone(M), null == m.target) throw new Error("Transform constraint target bone not found: " + M);
          m.local = this.getValue(y, "local", !1), m.relative = this.getValue(y, "relative", !1), m.offsetRotation = this.getValue(y, "rotation", 0), m.offsetX = this.getValue(y, "x", 0) * r, m.offsetY = this.getValue(y, "y", 0) * r, m.offsetScaleX = this.getValue(y, "scaleX", 0), m.offsetScaleY = this.getValue(y, "scaleY", 0), m.offsetShearY = this.getValue(y, "shearY", 0), m.rotateMix = this.getValue(y, "rotateMix", 1), m.translateMix = this.getValue(y, "translateMix", 1), m.scaleMix = this.getValue(y, "scaleMix", 1), m.shearMix = this.getValue(y, "shearMix", 1), a.transformConstraints.push(m)
        }
        if (i.path) for (l = 0; l < i.path.length; l++) {
          y = i.path[l];
          (m = new t.PathConstraintData(y.name)).order = this.getValue(y, "order", 0), m.skinRequired = this.getValue(y, "skin", !1);
          for (x = 0; x < y.bones.length; x++) {
            d = y.bones[x];
            if (null == (b = a.findBone(d))) throw new Error("Transform constraint bone not found: " + d);
            m.bones.push(b)
          }
          M = y.target;
          if (m.target = a.findSlot(M), null == m.target) throw new Error("Path target slot not found: " + M);
          m.positionMode = e.positionModeFromString(this.getValue(y, "positionMode", "percent")), m.spacingMode = e.spacingModeFromString(this.getValue(y, "spacingMode", "length")), m.rotateMode = e.rotateModeFromString(this.getValue(y, "rotateMode", "tangent")), m.offsetRotation = this.getValue(y, "rotation", 0), m.position = this.getValue(y, "position", 0), m.positionMode == t.PositionMode.Fixed && (m.position *= r), m.spacing = this.getValue(y, "spacing", 0), m.spacingMode != t.SpacingMode.Length && m.spacingMode != t.SpacingMode.Fixed || (m.spacing *= r), m.rotateMix = this.getValue(y, "rotateMix", 1), m.translateMix = this.getValue(y, "translateMix", 1), a.pathConstraints.push(m)
        }
        if (i.skins) for (l = 0; l < i.skins.length; l++) {
          var w = i.skins[l], E = new t.Skin(w.name);
          if (w.bones) for (var T = 0; T < w.bones.length; T++) {
            var b;
            if (null == (b = a.findBone(w.bones[T]))) throw new Error("Skin bone not found: " + w.bones[l]);
            E.bones.push(b)
          }
          if (w.ik) for (T = 0; T < w.ik.length; T++) {
            if (null == (S = a.findIkConstraint(w.ik[T]))) throw new Error("Skin IK constraint not found: " + w.ik[l]);
            E.constraints.push(S)
          }
          if (w.transform) for (T = 0; T < w.transform.length; T++) {
            if (null == (S = a.findTransformConstraint(w.transform[T]))) throw new Error("Skin transform constraint not found: " + w.transform[l]);
            E.constraints.push(S)
          }
          if (w.path) for (T = 0; T < w.path.length; T++) {
            var S;
            if (null == (S = a.findPathConstraint(w.path[T]))) throw new Error("Skin path constraint not found: " + w.path[l]);
            E.constraints.push(S)
          }
          for (var p in w.attachments) {
            var I = a.findSlot(p);
            if (null == I) throw new Error("Slot not found: " + p);
            var A = w.attachments[p];
            for (var R in A) {
              var C = this.readAttachment(A[R], E, I.index, R, a);
              null != C && E.setAttachment(I.index, R, C)
            }
          }
          a.skins.push(E), "default" == E.name && (a.defaultSkin = E)
        }
        l = 0;
        for (var P = this.linkedMeshes.length; l < P; l++) {
          var k = this.linkedMeshes[l];
          if (null == (E = null == k.skin ? a.defaultSkin : a.findSkin(k.skin))) throw new Error("Skin not found: " + k.skin);
          var V = E.getAttachment(k.slotIndex, k.parent);
          if (null == V) throw new Error("Parent mesh not found: " + k.parent);
          k.mesh.deformAttachment = k.inheritDeform ? V : k.mesh, k.mesh.setParentMesh(V)
        }
        if (this.linkedMeshes.length = 0, i.events) for (var _ in i.events) {
          var N = i.events[_];
          (m = new t.EventData(_)).intValue = this.getValue(N, "int", 0), m.floatValue = this.getValue(N, "float", 0), m.stringValue = this.getValue(N, "string", ""), m.audioPath = this.getValue(N, "audio", null), null != m.audioPath && (m.volume = this.getValue(N, "volume", 1), m.balance = this.getValue(N, "balance", 0)), a.events.push(m)
        }
        if (i.animations) for (var F in i.animations) {
          var O = i.animations[F];
          this.readAnimation(O, F, a)
        }
        return a
      }, e.prototype.readAttachment = function (e, r, a, i, o) {
        var s = this.scale;
        switch (i = this.getValue(e, "name", i), this.getValue(e, "type", "region")) {
          case"region":
            var l = this.getValue(e, "path", i), h = this.attachmentLoader.newRegionAttachment(r, i, l);
            return null == h ? null : (h.path = l, h.x = this.getValue(e, "x", 0) * s, h.y = this.getValue(e, "y", 0) * s, h.scaleX = this.getValue(e, "scaleX", 1), h.scaleY = this.getValue(e, "scaleY", 1), h.rotation = this.getValue(e, "rotation", 0), h.width = e.width * s, h.height = e.height * s, null != (w = this.getValue(e, "color", null)) && h.color.setFromString(w), h);
          case"boundingbox":
            var u = this.attachmentLoader.newBoundingBoxAttachment(r, i);
            return null == u ? null : (this.readVertices(e, u, e.vertexCount << 1), null != (w = this.getValue(e, "color", null)) && u.color.setFromString(w), u);
          case"mesh":
          case"linkedmesh":
            l = this.getValue(e, "path", i);
            var c = this.attachmentLoader.newMeshAttachment(r, i, l);
            if (null == c) return null;
            c.path = l, null != (w = this.getValue(e, "color", null)) && c.color.setFromString(w), c.width = this.getValue(e, "width", 0) * s, c.height = this.getValue(e, "height", 0) * s;
            var p = this.getValue(e, "parent", null);
            if (null != p) return this.linkedMeshes.push(new n(c, this.getValue(e, "skin", null), a, p, this.getValue(e, "deform", !0))), c;
            var d = e.uvs;
            return this.readVertices(e, c, d.length), c.triangles = e.triangles, c.regionUVs = new Float32Array(d), c.edges = this.getValue(e, "edges", null), c.hullLength = 2 * this.getValue(e, "hull", 0), c;
          case"path":
            if (null == (l = this.attachmentLoader.newPathAttachment(r, i))) return null;
            l.closed = this.getValue(e, "closed", !1), l.constantSpeed = this.getValue(e, "constantSpeed", !0);
            var f = e.vertexCount;
            this.readVertices(e, l, f << 1);
            for (var m = t.Utils.newArray(f / 3, 0), g = 0; g < e.lengths.length; g++) m[g] = e.lengths[g] * s;
            return l.lengths = m, null != (w = this.getValue(e, "color", null)) && l.color.setFromString(w), l;
          case"point":
            var v = this.attachmentLoader.newPointAttachment(r, i);
            return null == v ? null : (v.x = this.getValue(e, "x", 0) * s, v.y = this.getValue(e, "y", 0) * s, v.rotation = this.getValue(e, "rotation", 0), null != (w = this.getValue(e, "color", null)) && v.color.setFromString(w), v);
          case"clipping":
            var y = this.attachmentLoader.newClippingAttachment(r, i);
            if (null == y) return null;
            var x = this.getValue(e, "end", null);
            if (null != x) {
              var M = o.findSlot(x);
              if (null == M) throw new Error("Clipping end slot not found: " + x);
              y.endSlot = M
            }
            var w;
            f = e.vertexCount;
            return this.readVertices(e, y, f << 1), null != (w = this.getValue(e, "color", null)) && y.color.setFromString(w), y
        }
        return null
      }, e.prototype.readVertices = function (e, n, r) {
        var a = this.scale;
        n.worldVerticesLength = r;
        var i = e.vertices;
        if (r != i.length) {
          var o = new Array, s = new Array;
          for (c = 0, p = i.length; c < p;) {
            var l = i[c++];
            s.push(l);
            for (var h = c + 4 * l; c < h; c += 4) s.push(i[c]), o.push(i[c + 1] * a), o.push(i[c + 2] * a), o.push(i[c + 3])
          }
          n.bones = s, n.vertices = t.Utils.toFloatArray(o)
        } else {
          var u = t.Utils.toFloatArray(i);
          if (1 != a) for (var c = 0, p = i.length; c < p; c++) u[c] *= a;
          n.vertices = u
        }
      }, e.prototype.readAnimation = function (e, n, r) {
        var a = this.scale, i = new Array, o = 0;
        if (e.slots) for (var s in e.slots) {
          var l = e.slots[s];
          if (-1 == (J = r.findSlotIndex(s))) throw new Error("Slot not found: " + s);
          for (var h in l) {
            var u = l[h];
            if ("attachment" == h) {
              (M = new t.AttachmentTimeline(u.length)).slotIndex = J;
              for (var c = 0, p = 0; p < u.length; p++) {
                var d = u[p];
                M.setFrame(c++, this.getValue(d, "time", 0), d.name)
              }
              i.push(M), o = Math.max(o, M.frames[M.getFrameCount() - 1])
            } else if ("color" == h) {
              (M = new t.ColorTimeline(u.length)).slotIndex = J;
              for (c = 0, p = 0; p < u.length; p++) {
                d = u[p];
                var f = new t.Color;
                f.setFromString(d.color || "ffffffff"), M.setFrame(c, this.getValue(d, "time", 0), f.r, f.g, f.b, f.a), this.readCurve(d, M, c), c++
              }
              i.push(M), o = Math.max(o, M.frames[(M.getFrameCount() - 1) * t.ColorTimeline.ENTRIES])
            } else {
              if ("twoColor" != h) throw new Error("Invalid timeline type for a slot: " + h + " (" + s + ")");
              (M = new t.TwoColorTimeline(u.length)).slotIndex = J;
              for (c = 0, p = 0; p < u.length; p++) {
                d = u[p];
                var m = new t.Color, g = new t.Color;
                m.setFromString(d.light), g.setFromString(d.dark), M.setFrame(c, this.getValue(d, "time", 0), m.r, m.g, m.b, m.a, g.r, g.g, g.b), this.readCurve(d, M, c), c++
              }
              i.push(M), o = Math.max(o, M.frames[(M.getFrameCount() - 1) * t.TwoColorTimeline.ENTRIES])
            }
          }
        }
        if (e.bones) for (var v in e.bones) {
          var y = e.bones[v], x = r.findBoneIndex(v);
          if (-1 == x) throw new Error("Bone not found: " + v);
          for (var h in y) {
            u = y[h];
            if ("rotate" === h) {
              (M = new t.RotateTimeline(u.length)).boneIndex = x;
              for (c = 0, p = 0; p < u.length; p++) {
                d = u[p];
                M.setFrame(c, this.getValue(d, "time", 0), this.getValue(d, "angle", 0)), this.readCurve(d, M, c), c++
              }
              i.push(M), o = Math.max(o, M.frames[(M.getFrameCount() - 1) * t.RotateTimeline.ENTRIES])
            } else {
              if ("translate" !== h && "scale" !== h && "shear" !== h) throw new Error("Invalid timeline type for a bone: " + h + " (" + v + ")");
              var M = null, w = 1, E = 0;
              "scale" === h ? (M = new t.ScaleTimeline(u.length), E = 1) : "shear" === h ? M = new t.ShearTimeline(u.length) : (M = new t.TranslateTimeline(u.length), w = a), M.boneIndex = x;
              for (c = 0, p = 0; p < u.length; p++) {
                d = u[p];
                var T = this.getValue(d, "x", E), b = this.getValue(d, "y", E);
                M.setFrame(c, this.getValue(d, "time", 0), T * w, b * w), this.readCurve(d, M, c), c++
              }
              i.push(M), o = Math.max(o, M.frames[(M.getFrameCount() - 1) * t.TranslateTimeline.ENTRIES])
            }
          }
        }
        if (e.ik) for (var S in e.ik) {
          var I = e.ik[S], A = r.findIkConstraint(S);
          (M = new t.IkConstraintTimeline(I.length)).ikConstraintIndex = r.ikConstraints.indexOf(A);
          for (c = 0, p = 0; p < I.length; p++) {
            d = I[p];
            M.setFrame(c, this.getValue(d, "time", 0), this.getValue(d, "mix", 1), this.getValue(d, "softness", 0) * a, this.getValue(d, "bendPositive", !0) ? 1 : -1, this.getValue(d, "compress", !1), this.getValue(d, "stretch", !1)), this.readCurve(d, M, c), c++
          }
          i.push(M), o = Math.max(o, M.frames[(M.getFrameCount() - 1) * t.IkConstraintTimeline.ENTRIES])
        }
        if (e.transform) for (var S in e.transform) {
          I = e.transform[S], A = r.findTransformConstraint(S);
          (M = new t.TransformConstraintTimeline(I.length)).transformConstraintIndex = r.transformConstraints.indexOf(A);
          for (c = 0, p = 0; p < I.length; p++) {
            d = I[p];
            M.setFrame(c, this.getValue(d, "time", 0), this.getValue(d, "rotateMix", 1), this.getValue(d, "translateMix", 1), this.getValue(d, "scaleMix", 1), this.getValue(d, "shearMix", 1)), this.readCurve(d, M, c), c++
          }
          i.push(M), o = Math.max(o, M.frames[(M.getFrameCount() - 1) * t.TransformConstraintTimeline.ENTRIES])
        }
        if (e.path) for (var S in e.path) {
          I = e.path[S];
          var R = r.findPathConstraintIndex(S);
          if (-1 == R) throw new Error("Path constraint not found: " + S);
          var C = r.pathConstraints[R];
          for (var h in I) {
            u = I[h];
            if ("position" === h || "spacing" === h) {
              M = null, w = 1;
              "spacing" === h ? (M = new t.PathConstraintSpacingTimeline(u.length), C.spacingMode != t.SpacingMode.Length && C.spacingMode != t.SpacingMode.Fixed || (w = a)) : (M = new t.PathConstraintPositionTimeline(u.length), C.positionMode == t.PositionMode.Fixed && (w = a)), M.pathConstraintIndex = R;
              for (c = 0, p = 0; p < u.length; p++) {
                d = u[p];
                M.setFrame(c, this.getValue(d, "time", 0), this.getValue(d, h, 0) * w), this.readCurve(d, M, c), c++
              }
              i.push(M), o = Math.max(o, M.frames[(M.getFrameCount() - 1) * t.PathConstraintPositionTimeline.ENTRIES])
            } else if ("mix" === h) {
              (M = new t.PathConstraintMixTimeline(u.length)).pathConstraintIndex = R;
              for (c = 0, p = 0; p < u.length; p++) {
                d = u[p];
                M.setFrame(c, this.getValue(d, "time", 0), this.getValue(d, "rotateMix", 1), this.getValue(d, "translateMix", 1)), this.readCurve(d, M, c), c++
              }
              i.push(M), o = Math.max(o, M.frames[(M.getFrameCount() - 1) * t.PathConstraintMixTimeline.ENTRIES])
            }
          }
        }
        if (e.deform) for (var P in e.deform) {
          var k = e.deform[P], V = r.findSkin(P);
          if (null != V) for (var s in k) {
            l = k[s];
            if (-1 == (J = r.findSlotIndex(s))) throw new Error("Slot not found: " + l.name);
            for (var h in l) {
              u = l[h];
              var _ = V.getAttachment(J, h);
              if (null == _) throw new Error("Deform attachment not found: " + u.name);
              var N = null != _.bones, F = _.vertices, O = N ? F.length / 3 * 2 : F.length;
              (M = new t.DeformTimeline(u.length)).slotIndex = J, M.attachment = _;
              c = 0;
              for (var D = 0; D < u.length; D++) {
                d = u[D];
                var U = void 0, X = this.getValue(d, "vertices", null);
                if (null == X) U = N ? t.Utils.newFloatArray(O) : F; else {
                  U = t.Utils.newFloatArray(O);
                  var B = this.getValue(d, "offset", 0);
                  if (t.Utils.arrayCopy(X, 0, U, B, X.length), 1 != a) for (var L = (p = B) + X.length; p < L; p++) U[p] *= a;
                  if (!N) for (p = 0; p < O; p++) U[p] += F[p]
                }
                M.setFrame(c, this.getValue(d, "time", 0), U), this.readCurve(d, M, c), c++
              }
              i.push(M), o = Math.max(o, M.frames[M.getFrameCount() - 1])
            }
          } else if (t.FAIL_ON_NON_EXISTING_SKIN) throw new Error("Skin not found: " + P)
        }
        var Y = e.drawOrder;
        if (null == Y && (Y = e.draworder), null != Y) {
          M = new t.DrawOrderTimeline(Y.length);
          var W = r.slots.length;
          for (c = 0, D = 0; D < Y.length; D++) {
            var q = Y[D], H = null, G = this.getValue(q, "offsets", null);
            if (null != G) {
              H = t.Utils.newArray(W, -1);
              var j = t.Utils.newArray(W - G.length, 0), z = 0, Z = 0;
              for (p = 0; p < G.length; p++) {
                var J, K = G[p];
                if (-1 == (J = r.findSlotIndex(K.slot))) throw new Error("Slot not found: " + K.slot);
                for (; z != J;) j[Z++] = z++;
                H[z + K.offset] = z++
              }
              for (; z < W;) j[Z++] = z++;
              for (p = W - 1; p >= 0; p--) -1 == H[p] && (H[p] = j[--Z])
            }
            M.setFrame(c++, this.getValue(q, "time", 0), H)
          }
          i.push(M), o = Math.max(o, M.frames[M.getFrameCount() - 1])
        }
        if (e.events) {
          for (M = new t.EventTimeline(e.events.length), c = 0, p = 0; p < e.events.length; p++) {
            var Q = e.events[p], $ = r.findEvent(Q.name);
            if (null == $) throw new Error("Event not found: " + Q.name);
            var tt = new t.Event(t.Utils.toSinglePrecision(this.getValue(Q, "time", 0)), $);
            tt.intValue = this.getValue(Q, "int", $.intValue), tt.floatValue = this.getValue(Q, "float", $.floatValue), tt.stringValue = this.getValue(Q, "string", $.stringValue), null != tt.data.audioPath && (tt.volume = this.getValue(Q, "volume", 1), tt.balance = this.getValue(Q, "balance", 0)), M.setFrame(c++, tt)
          }
          i.push(M), o = Math.max(o, M.frames[M.getFrameCount() - 1])
        }
        if (isNaN(o)) throw new Error("Error while parsing animation, duration is NaN");
        r.animations.push(new t.Animation(n, i, o))
      }, e.prototype.readCurve = function (t, e, n) {
        if (t.hasOwnProperty("curve")) if ("stepped" === t.curve) e.setStepped(n); else {
          var r = t.curve;
          e.setCurve(n, r, this.getValue(t, "c2", 0), this.getValue(t, "c3", 1), this.getValue(t, "c4", 1))
        }
      }, e.prototype.getValue = function (t, e, n) {
        return void 0 !== t[e] ? t[e] : n
      }, e.blendModeFromString = function (e) {
        if ("normal" == (e = e.toLowerCase())) return t.BlendMode.Normal;
        if ("additive" == e) return t.BlendMode.Additive;
        if ("multiply" == e) return t.BlendMode.Multiply;
        if ("screen" == e) return t.BlendMode.Screen;
        throw new Error("Unknown blend mode: " + e)
      }, e.positionModeFromString = function (e) {
        if ("fixed" == (e = e.toLowerCase())) return t.PositionMode.Fixed;
        if ("percent" == e) return t.PositionMode.Percent;
        throw new Error("Unknown position mode: " + e)
      }, e.spacingModeFromString = function (e) {
        if ("length" == (e = e.toLowerCase())) return t.SpacingMode.Length;
        if ("fixed" == e) return t.SpacingMode.Fixed;
        if ("percent" == e) return t.SpacingMode.Percent;
        throw new Error("Unknown position mode: " + e)
      }, e.rotateModeFromString = function (e) {
        if ("tangent" == (e = e.toLowerCase())) return t.RotateMode.Tangent;
        if ("chain" == e) return t.RotateMode.Chain;
        if ("chainscale" == e) return t.RotateMode.ChainScale;
        throw new Error("Unknown rotate mode: " + e)
      }, e.transformModeFromString = function (e) {
        if ("normal" == (e = e.toLowerCase())) return t.TransformMode.Normal;
        if ("onlytranslation" == e) return t.TransformMode.OnlyTranslation;
        if ("norotationorreflection" == e) return t.TransformMode.NoRotationOrReflection;
        if ("noscale" == e) return t.TransformMode.NoScale;
        if ("noscaleorreflection" == e) return t.TransformMode.NoScaleOrReflection;
        throw new Error("Unknown transform mode: " + e)
      }, e
    }();
    t.SkeletonJson = e;
    var n = function () {
      return function (t, e, n, r, a) {
        this.mesh = t, this.skin = e, this.slotIndex = n, this.parent = r, this.inheritDeform = a
      }
    }()
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function () {
      return function (t, e, n) {
        this.slotIndex = t, this.name = e, this.attachment = n
      }
    }();
    t.SkinEntry = e;
    var n = function () {
      function n(t) {
        if (this.attachments = new Array, this.bones = Array(), this.constraints = new Array, null == t) throw new Error("name cannot be null.");
        this.name = t
      }

      return n.prototype.setAttachment = function (t, e, n) {
        if (null == n) throw new Error("attachment cannot be null.");
        var r = this.attachments;
        t >= r.length && (r.length = t + 1), r[t] || (r[t] = {}), r[t][e] = n
      }, n.prototype.addSkin = function (t) {
        for (var e = 0; e < t.bones.length; e++) {
          for (var n = t.bones[e], r = !1, a = 0; a < this.bones.length; a++) if (this.bones[a] == n) {
            r = !0;
            break
          }
          r || this.bones.push(n)
        }
        for (e = 0; e < t.constraints.length; e++) {
          var i = t.constraints[e];
          for (r = !1, a = 0; a < this.constraints.length; a++) if (this.constraints[a] == i) {
            r = !0;
            break
          }
          r || this.constraints.push(i)
        }
        var o = t.getAttachments();
        for (e = 0; e < o.length; e++) {
          var s = o[e];
          this.setAttachment(s.slotIndex, s.name, s.attachment)
        }
      }, n.prototype.copySkin = function (e) {
        for (var n = 0; n < e.bones.length; n++) {
          for (var r = e.bones[n], a = !1, i = 0; i < this.bones.length; i++) if (this.bones[i] == r) {
            a = !0;
            break
          }
          a || this.bones.push(r)
        }
        for (n = 0; n < e.constraints.length; n++) {
          var o = e.constraints[n];
          for (a = !1, i = 0; i < this.constraints.length; i++) if (this.constraints[i] == o) {
            a = !0;
            break
          }
          a || this.constraints.push(o)
        }
        var s = e.getAttachments();
        for (n = 0; n < s.length; n++) {
          var l = s[n];
          null != l.attachment && (l.attachment instanceof t.MeshAttachment ? (l.attachment = l.attachment.newLinkedMesh(), this.setAttachment(l.slotIndex, l.name, l.attachment)) : (l.attachment = l.attachment.copy(), this.setAttachment(l.slotIndex, l.name, l.attachment)))
        }
      }, n.prototype.getAttachment = function (t, e) {
        var n = this.attachments[t];
        return n ? n[e] : null
      }, n.prototype.removeAttachment = function (t, e) {
        var n = this.attachments[t];
        n && (n[e] = null)
      }, n.prototype.getAttachments = function () {
        for (var t = new Array, n = 0; n < this.attachments.length; n++) {
          var r = this.attachments[n];
          if (r) for (var a in r) {
            var i = r[a];
            i && t.push(new e(n, a, i))
          }
        }
        return t
      }, n.prototype.getAttachmentsForSlot = function (t, n) {
        var r = this.attachments[t];
        if (r) for (var a in r) {
          var i = r[a];
          i && n.push(new e(t, a, i))
        }
      }, n.prototype.clear = function () {
        this.attachments.length = 0, this.bones.length = 0, this.constraints.length = 0
      }, n.prototype.attachAll = function (t, e) {
        for (var n = 0, r = 0; r < t.slots.length; r++) {
          var a = t.slots[r], i = a.getAttachment();
          if (i && n < e.attachments.length) {
            var o = e.attachments[n];
            for (var s in o) {
              if (i == o[s]) {
                var l = this.getAttachment(n, s);
                null != l && a.setAttachment(l);
                break
              }
            }
          }
          n++
        }
      }, n
    }();
    t.Skin = n
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function () {
      function e(e, n) {
        if (this.deform = new Array, null == e) throw new Error("data cannot be null.");
        if (null == n) throw new Error("bone cannot be null.");
        this.data = e, this.bone = n, this.color = new t.Color, this.darkColor = null == e.darkColor ? null : new t.Color, this.setToSetupPose(), this.blendMode = this.data.blendMode
      }

      return e.prototype.getAttachment = function () {
        return this.attachment
      }, e.prototype.setAttachment = function (t) {
        this.attachment != t && (this.attachment = t, this.attachmentTime = this.bone.skeleton.time, this.deform.length = 0)
      }, e.prototype.setAttachmentTime = function (t) {
        this.attachmentTime = this.bone.skeleton.time - t
      }, e.prototype.getAttachmentTime = function () {
        return this.bone.skeleton.time - this.attachmentTime
      }, e.prototype.setToSetupPose = function () {
        this.color.setFromColor(this.data.color), null != this.darkColor && this.darkColor.setFromColor(this.data.darkColor), null == this.data.attachmentName ? this.attachment = null : (this.attachment = null, this.setAttachment(this.bone.skeleton.getAttachment(this.data.index, this.data.attachmentName)))
      }, e
    }();
    t.Slot = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function () {
      return function (e, n, r) {
        if (this.color = new t.Color(1, 1, 1, 1), e < 0) throw new Error("index must be >= 0.");
        if (null == n) throw new Error("name cannot be null.");
        if (null == r) throw new Error("boneData cannot be null.");
        this.index = e, this.name = n, this.boneData = r
      }
    }();
    t.SlotData = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e, n, r = function () {
      function t(t) {
        this._image = t
      }

      return t.prototype.getImage = function () {
        return this._image
      }, t.filterFromString = function (t) {
        switch (t.toLowerCase()) {
          case"nearest":
            return e.Nearest;
          case"linear":
            return e.Linear;
          case"mipmap":
            return e.MipMap;
          case"mipmapnearestnearest":
            return e.MipMapNearestNearest;
          case"mipmaplinearnearest":
            return e.MipMapLinearNearest;
          case"mipmapnearestlinear":
            return e.MipMapNearestLinear;
          case"mipmaplinearlinear":
            return e.MipMapLinearLinear;
          default:
            throw new Error("Unknown texture filter " + t)
        }
      }, t.wrapFromString = function (t) {
        switch (t.toLowerCase()) {
          case"mirroredtepeat":
            return n.MirroredRepeat;
          case"clamptoedge":
            return n.ClampToEdge;
          case"repeat":
            return n.Repeat;
          default:
            throw new Error("Unknown texture wrap " + t)
        }
      }, t
    }();
    t.Texture = r, function (t) {
      t[t.Nearest = 9728] = "Nearest", t[t.Linear = 9729] = "Linear", t[t.MipMap = 9987] = "MipMap", t[t.MipMapNearestNearest = 9984] = "MipMapNearestNearest", t[t.MipMapLinearNearest = 9985] = "MipMapLinearNearest", t[t.MipMapNearestLinear = 9986] = "MipMapNearestLinear", t[t.MipMapLinearLinear = 9987] = "MipMapLinearLinear"
    }(e = t.TextureFilter || (t.TextureFilter = {})), function (t) {
      t[t.MirroredRepeat = 33648] = "MirroredRepeat", t[t.ClampToEdge = 33071] = "ClampToEdge", t[t.Repeat = 10497] = "Repeat"
    }(n = t.TextureWrap || (t.TextureWrap = {}));
    var a = function () {
      function t() {
        this.size = null
      }

      return Object.defineProperty(t.prototype, "width", {
        get: function () {
          var t = this.texture;
          return "3" == PIXI.VERSION[0] ? t.crop.width : t.trim ? t.trim.width : t.orig.width
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(t.prototype, "height", {
        get: function () {
          var t = this.texture;
          return "3" == PIXI.VERSION[0] ? t.crop.height : t.trim ? t.trim.height : t.orig.height
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(t.prototype, "u", {
        get: function () {
          return this.texture._uvs.x0
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(t.prototype, "v", {
        get: function () {
          return this.texture._uvs.y0
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(t.prototype, "u2", {
        get: function () {
          return this.texture._uvs.x2
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(t.prototype, "v2", {
        get: function () {
          return this.texture._uvs.y2
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(t.prototype, "offsetX", {
        get: function () {
          var t = this.texture;
          return t.trim ? t.trim.x : 0
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(t.prototype, "offsetY", {
        get: function () {
          return console.warn("Deprecation Warning: @Hackerham: I guess, if you are using PIXI-SPINE ATLAS region.offsetY, you want a texture, right? Use region.texture from now on."), this.spineOffsetY
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(t.prototype, "pixiOffsetY", {
        get: function () {
          var t = this.texture;
          return t.trim ? t.trim.y : 0
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(t.prototype, "spineOffsetY", {
        get: function () {
          var t = this.texture;
          return this.originalHeight - this.height - (t.trim ? t.trim.y : 0)
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(t.prototype, "originalWidth", {
        get: function () {
          var t = this.texture;
          return "3" == PIXI.VERSION[0] ? t.trim ? t.trim.width : t.crop.width : t.orig.width
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(t.prototype, "originalHeight", {
        get: function () {
          var t = this.texture;
          return "3" == PIXI.VERSION[0] ? t.trim ? t.trim.height : t.crop.height : t.orig.height
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(t.prototype, "x", {
        get: function () {
          return this.texture.frame.x
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(t.prototype, "y", {
        get: function () {
          return this.texture.frame.y
        }, enumerable: !1, configurable: !0
      }), Object.defineProperty(t.prototype, "rotate", {
        get: function () {
          return 0 !== this.texture.rotate
        }, enumerable: !1, configurable: !0
      }), t
    }();
    t.TextureRegion = a
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function () {
      function e(t, e, n) {
        this.pages = new Array, this.regions = new Array, t && this.addSpineAtlas(t, e, n)
      }

      return e.prototype.addTexture = function (e, n) {
        for (var i = this.pages, o = null, s = 0; s < i.length; s++) if (i[s].baseTexture === n.baseTexture) {
          o = i[s];
          break
        }
        if (null === o) {
          (o = new r).name = "texturePage";
          var l = n.baseTexture;
          o.width = l.realWidth, o.height = l.realHeight, o.baseTexture = l, o.minFilter = o.magFilter = t.TextureFilter.Nearest, o.uWrap = t.TextureWrap.ClampToEdge, o.vWrap = t.TextureWrap.ClampToEdge, i.push(o)
        }
        var h = new a;
        return h.name = e, h.page = o, h.texture = n, h.index = -1, this.regions.push(h), h
      }, e.prototype.addTextureHash = function (t, e) {
        for (var n in t) t.hasOwnProperty(n) && this.addTexture(e && -1 !== n.indexOf(".") ? n.substr(0, n.lastIndexOf(".")) : n, t[n])
      }, e.prototype.addSpineAtlas = function (t, e, n) {
        return this.load(t, e, n)
      }, e.prototype.load = function (e, i, o) {
        var s = this;
        if (null == i) throw new Error("textureLoader cannot be null.");
        var l = new n(e), h = new Array(4), u = null, c = function () {
          for (; ;) {
            var e = l.readLine();
            if (null == e) return o && o(s);
            if (0 == (e = e.trim()).length) u = null; else {
              if (!u) {
                (u = new r).name = e, 2 == l.readTuple(h) && (u.width = parseInt(h[0]), u.height = parseInt(h[1]), l.readTuple(h)), l.readTuple(h), u.minFilter = t.Texture.filterFromString(h[0]), u.magFilter = t.Texture.filterFromString(h[1]);
                var n = l.readValue();
                u.uWrap = t.TextureWrap.ClampToEdge, u.vWrap = t.TextureWrap.ClampToEdge, "x" == n ? u.uWrap = t.TextureWrap.Repeat : "y" == n ? u.vWrap = t.TextureWrap.Repeat : "xy" == n && (u.uWrap = u.vWrap = t.TextureWrap.Repeat), i(e, function (t) {
                  if (null === t) return s.pages.splice(s.pages.indexOf(u), 1), o && o(null);
                  u.baseTexture = t, t.valid || t.setSize(u.width, u.height), s.pages.push(u), u.setFilters(), u.width && u.height || (u.width = t.realWidth, u.height = t.realHeight, u.width && u.height || console.log("ERROR spine atlas page " + u.name + ": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")), c()
                }), s.pages.push(u);
                break
              }
              var p = new a;
              p.name = e, p.page = u;
              var d = l.readValue(), f = 0;
              f = "true" == d.toLocaleLowerCase() ? 6 : "false" == d.toLocaleLowerCase() ? 0 : (720 - parseFloat(d)) % 360 / 45, l.readTuple(h);
              var m = parseInt(h[0]), g = parseInt(h[1]);
              l.readTuple(h);
              var v = parseInt(h[0]), y = parseInt(h[1]), x = u.baseTexture.resolution;
              m /= x, g /= x, v /= x, y /= x;
              var M = f % 4 != 0, w = new PIXI.Rectangle(m, g, M ? y : v, M ? v : y);
              4 == l.readTuple(h) && 4 == l.readTuple(h) && l.readTuple(h);
              var E = parseInt(h[0]) / x, T = parseInt(h[1]) / x;
              l.readTuple(h);
              var b = parseInt(h[0]) / x, S = parseInt(h[1]) / x, I = new PIXI.Rectangle(0, 0, E, T),
                A = new PIXI.Rectangle(b, T - y - S, v, y);
              if ("3" != PIXI.VERSION[0]) p.texture = new PIXI.Texture(p.page.baseTexture, w, I, A, f); else {
                var R = new PIXI.Rectangle(m, g, v, y), C = R.clone();
                A.width = E, A.height = T, p.texture = new PIXI.Texture(p.page.baseTexture, R, C, A, f)
              }
              p.index = parseInt(l.readValue()), p.texture.updateUvs(), s.regions.push(p)
            }
          }
        };
        c()
      }, e.prototype.findRegion = function (t) {
        for (var e = 0; e < this.regions.length; e++) if (this.regions[e].name == t) return this.regions[e];
        return null
      }, e.prototype.dispose = function () {
        for (var t = 0; t < this.pages.length; t++) this.pages[t].baseTexture.dispose()
      }, e
    }();
    t.TextureAtlas = e;
    var n = function () {
      function t(t) {
        this.index = 0, this.lines = t.split(/\r\n|\r|\n/)
      }

      return t.prototype.readLine = function () {
        return this.index >= this.lines.length ? null : this.lines[this.index++]
      }, t.prototype.readValue = function () {
        var t = this.readLine(), e = t.indexOf(":");
        if (-1 == e) throw new Error("Invalid line: " + t);
        return t.substring(e + 1).trim()
      }, t.prototype.readTuple = function (t) {
        var e = this.readLine(), n = e.indexOf(":");
        if (-1 == n) throw new Error("Invalid line: " + e);
        for (var r = 0, a = n + 1; r < 3; r++) {
          var i = e.indexOf(",", a);
          if (-1 == i) break;
          t[r] = e.substr(a, i - a).trim(), a = i + 1
        }
        return t[r] = e.substring(a).trim(), r + 1
      }, t
    }(), r = function () {
      function e() {
      }

      return e.prototype.setFilters = function () {
        var e = this.baseTexture, n = this.minFilter;
        n == t.TextureFilter.Linear ? e.scaleMode = PIXI.SCALE_MODES.LINEAR : this.minFilter == t.TextureFilter.Nearest ? e.scaleMode = PIXI.SCALE_MODES.NEAREST : (e.mipmap = PIXI.MIPMAP_MODES.POW2, n == t.TextureFilter.MipMapNearestNearest ? e.scaleMode = PIXI.SCALE_MODES.NEAREST : e.scaleMode = PIXI.SCALE_MODES.LINEAR)
      }, e
    }();
    t.TextureAtlasPage = r;
    var a = function (t) {
      function e() {
        return null !== t && t.apply(this, arguments) || this
      }

      return __extends(e, t), e
    }(t.TextureRegion);
    t.TextureAtlasRegion = a
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function () {
      function e(e, n) {
        if (this.rotateMix = 0, this.translateMix = 0, this.scaleMix = 0, this.shearMix = 0, this.temp = new t.Vector2, this.active = !1, null == e) throw new Error("data cannot be null.");
        if (null == n) throw new Error("skeleton cannot be null.");
        this.data = e, this.rotateMix = e.rotateMix, this.translateMix = e.translateMix, this.scaleMix = e.scaleMix, this.shearMix = e.shearMix, this.bones = new Array;
        for (var r = 0; r < e.bones.length; r++) this.bones.push(n.findBone(e.bones[r].name));
        this.target = n.findBone(e.target.name)
      }

      return e.prototype.isActive = function () {
        return this.active
      }, e.prototype.apply = function () {
        this.update()
      }, e.prototype.update = function () {
        this.data.local ? this.data.relative ? this.applyRelativeLocal() : this.applyAbsoluteLocal() : this.data.relative ? this.applyRelativeWorld() : this.applyAbsoluteWorld()
      }, e.prototype.applyAbsoluteWorld = function () {
        for (var e = this.rotateMix, n = this.translateMix, r = this.scaleMix, a = this.shearMix, i = this.target, o = i.matrix, s = o.a, l = o.c, h = o.b, u = o.d, c = s * u - l * h > 0 ? t.MathUtils.degRad : -t.MathUtils.degRad, p = this.data.offsetRotation * c, d = this.data.offsetShearY * c, f = this.bones, m = 0, g = f.length; m < g; m++) {
          var v = f[m], y = !1, x = v.matrix;
          if (0 != e) {
            var M = x.a, w = x.c, E = x.b, T = x.d;
            (C = Math.atan2(h, s) - Math.atan2(E, M) + p) > t.MathUtils.PI ? C -= t.MathUtils.PI2 : C < -t.MathUtils.PI && (C += t.MathUtils.PI2), C *= e;
            var b = Math.cos(C), S = Math.sin(C);
            x.a = b * M - S * E, x.c = b * w - S * T, x.b = S * M + b * E, x.d = S * w + b * T, y = !0
          }
          if (0 != n) {
            var I = this.temp;
            i.localToWorld(I.set(this.data.offsetX, this.data.offsetY)), x.tx += (I.x - x.tx) * n, x.ty += (I.y - x.ty) * n, y = !0
          }
          if (r > 0) {
            var A = Math.sqrt(x.a * x.a + x.b * x.b), R = Math.sqrt(s * s + h * h);
            A > 1e-5 && (A = (A + (R - A + this.data.offsetScaleX) * r) / A), x.a *= A, x.b *= A, A = Math.sqrt(x.c * x.c + x.d * x.d), R = Math.sqrt(l * l + u * u), A > 1e-5 && (A = (A + (R - A + this.data.offsetScaleY) * r) / A), x.c *= A, x.d *= A, y = !0
          }
          if (a > 0) {
            w = x.c, T = x.d;
            var C, P = Math.atan2(T, w);
            (C = Math.atan2(u, l) - Math.atan2(h, s) - (P - Math.atan2(x.b, x.a))) > t.MathUtils.PI ? C -= t.MathUtils.PI2 : C < -t.MathUtils.PI && (C += t.MathUtils.PI2), C = P + (C + d) * a;
            A = Math.sqrt(w * w + T * T);
            x.c = Math.cos(C) * A, x.d = Math.sin(C) * A, y = !0
          }
          y && (v.appliedValid = !1)
        }
      }, e.prototype.applyRelativeWorld = function () {
        for (var e = this.rotateMix, n = this.translateMix, r = this.scaleMix, a = this.shearMix, i = this.target, o = i.matrix, s = o.a, l = o.c, h = o.b, u = o.d, c = s * u - l * h > 0 ? t.MathUtils.degRad : -t.MathUtils.degRad, p = this.data.offsetRotation * c, d = this.data.offsetShearY * c, f = this.bones, m = 0, g = f.length; m < g; m++) {
          var v = f[m], y = !1, x = v.matrix;
          if (0 != e) {
            var M = x.a, w = x.c, E = x.b, T = x.d;
            (R = Math.atan2(h, s) + p) > t.MathUtils.PI ? R -= t.MathUtils.PI2 : R < -t.MathUtils.PI && (R += t.MathUtils.PI2), R *= e;
            var b = Math.cos(R), S = Math.sin(R);
            x.a = b * M - S * E, x.c = b * w - S * T, x.b = S * M + b * E, x.d = S * w + b * T, y = !0
          }
          if (0 != n) {
            var I = this.temp;
            i.localToWorld(I.set(this.data.offsetX, this.data.offsetY)), x.tx += I.x * n, x.ty += I.y * n, y = !0
          }
          if (r > 0) {
            var A = (Math.sqrt(s * s + h * h) - 1 + this.data.offsetScaleX) * r + 1;
            x.a *= A, x.b *= A, A = (Math.sqrt(l * l + u * u) - 1 + this.data.offsetScaleY) * r + 1, x.c *= A, x.d *= A, y = !0
          }
          if (a > 0) {
            var R;
            (R = Math.atan2(u, l) - Math.atan2(h, s)) > t.MathUtils.PI ? R -= t.MathUtils.PI2 : R < -t.MathUtils.PI && (R += t.MathUtils.PI2);
            w = x.c, T = x.d;
            R = Math.atan2(T, w) + (R - t.MathUtils.PI / 2 + d) * a;
            A = Math.sqrt(w * w + T * T);
            x.c = Math.cos(R) * A, x.d = Math.sin(R) * A, y = !0
          }
          y && (v.appliedValid = !1)
        }
      }, e.prototype.applyAbsoluteLocal = function () {
        var t = this.rotateMix, e = this.translateMix, n = this.scaleMix, r = this.shearMix, a = this.target;
        a.appliedValid || a.updateAppliedTransform();
        for (var i = this.bones, o = 0, s = i.length; o < s; o++) {
          var l = i[o];
          l.appliedValid || l.updateAppliedTransform();
          var h = l.arotation;
          if (0 != t) {
            var u = a.arotation - h + this.data.offsetRotation;
            h += (u -= 360 * (16384 - (16384.499999999996 - u / 360 | 0))) * t
          }
          var c = l.ax, p = l.ay;
          0 != e && (c += (a.ax - c + this.data.offsetX) * e, p += (a.ay - p + this.data.offsetY) * e);
          var d = l.ascaleX, f = l.ascaleY;
          n > 0 && (d > 1e-5 && (d = (d + (a.ascaleX - d + this.data.offsetScaleX) * n) / d), f > 1e-5 && (f = (f + (a.ascaleY - f + this.data.offsetScaleY) * n) / f));
          var m = l.ashearY;
          if (r > 0) {
            u = a.ashearY - m + this.data.offsetShearY;
            u -= 360 * (16384 - (16384.499999999996 - u / 360 | 0)), l.shearY += u * r
          }
          l.updateWorldTransformWith(c, p, h, d, f, l.ashearX, m)
        }
      }, e.prototype.applyRelativeLocal = function () {
        var t = this.rotateMix, e = this.translateMix, n = this.scaleMix, r = this.shearMix, a = this.target;
        a.appliedValid || a.updateAppliedTransform();
        for (var i = this.bones, o = 0, s = i.length; o < s; o++) {
          var l = i[o];
          l.appliedValid || l.updateAppliedTransform();
          var h = l.arotation;
          0 != t && (h += (a.arotation + this.data.offsetRotation) * t);
          var u = l.ax, c = l.ay;
          0 != e && (u += (a.ax + this.data.offsetX) * e, c += (a.ay + this.data.offsetY) * e);
          var p = l.ascaleX, d = l.ascaleY;
          n > 0 && (p > 1e-5 && (p *= (a.ascaleX - 1 + this.data.offsetScaleX) * n + 1), d > 1e-5 && (d *= (a.ascaleY - 1 + this.data.offsetScaleY) * n + 1));
          var f = l.ashearY;
          r > 0 && (f += (a.ashearY + this.data.offsetShearY) * r), l.updateWorldTransformWith(u, c, h, p, d, l.ashearX, f)
        }
      }, e
    }();
    t.TransformConstraint = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function (t) {
      function e(e) {
        var n = t.call(this, e, 0, !1) || this;
        return n.bones = new Array, n.rotateMix = 0, n.translateMix = 0, n.scaleMix = 0, n.shearMix = 0, n.offsetRotation = 0, n.offsetX = 0, n.offsetY = 0, n.offsetScaleX = 0, n.offsetScaleY = 0, n.offsetShearY = 0, n.relative = !1, n.local = !1, n
      }

      return __extends(e, t), e
    }(t.ConstraintData);
    t.TransformConstraintData = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function () {
      function e() {
        this.convexPolygons = new Array, this.convexPolygonsIndices = new Array, this.indicesArray = new Array, this.isConcaveArray = new Array, this.triangles = new Array, this.polygonPool = new t.Pool(function () {
          return new Array
        }), this.polygonIndicesPool = new t.Pool(function () {
          return new Array
        })
      }

      return e.prototype.triangulate = function (t) {
        var n = t, r = t.length >> 1, a = this.indicesArray;
        a.length = 0;
        for (var i = 0; i < r; i++) a[i] = i;
        var o = this.isConcaveArray;
        o.length = 0;
        i = 0;
        for (var s = r; i < s; ++i) o[i] = e.isConcave(i, r, n, a);
        var l = this.triangles;
        for (l.length = 0; r > 3;) {
          for (var h = r - 1, u = (i = 0, 1); ;) {
            t:if (!o[i]) {
              for (var c = a[h] << 1, p = a[i] << 1, d = a[u] << 1, f = n[c], m = n[c + 1], g = n[p], v = n[p + 1], y = n[d], x = n[d + 1], M = (u + 1) % r; M != h; M = (M + 1) % r) if (o[M]) {
                var w = a[M] << 1, E = n[w], T = n[w + 1];
                if (e.positiveArea(y, x, f, m, E, T) && e.positiveArea(f, m, g, v, E, T) && e.positiveArea(g, v, y, x, E, T)) break t
              }
              break
            }
            if (0 == u) {
              do {
                if (!o[i]) break;
                i--
              } while (i > 0);
              break
            }
            h = i, i = u, u = (u + 1) % r
          }
          l.push(a[(r + i - 1) % r]), l.push(a[i]), l.push(a[(i + 1) % r]), a.splice(i, 1), o.splice(i, 1);
          var b = (--r + i - 1) % r, S = i == r ? 0 : i;
          o[b] = e.isConcave(b, r, n, a), o[S] = e.isConcave(S, r, n, a)
        }
        return 3 == r && (l.push(a[2]), l.push(a[0]), l.push(a[1])), l
      }, e.prototype.decompose = function (t, n) {
        var r = t, a = this.convexPolygons;
        this.polygonPool.freeAll(a), a.length = 0;
        var i = this.convexPolygonsIndices;
        this.polygonIndicesPool.freeAll(i), i.length = 0;
        var o = this.polygonIndicesPool.obtain();
        o.length = 0;
        var s = this.polygonPool.obtain();
        s.length = 0;
        for (var l = -1, h = 0, u = 0, c = n.length; u < c; u += 3) {
          var p = n[u] << 1, d = n[u + 1] << 1, f = n[u + 2] << 1, m = r[p], g = r[p + 1], v = r[d], y = r[d + 1],
            x = r[f], M = r[f + 1], w = !1;
          if (l == p) {
            var E = s.length - 4, T = e.winding(s[E], s[E + 1], s[E + 2], s[E + 3], x, M),
              b = e.winding(x, M, s[0], s[1], s[2], s[3]);
            T == h && b == h && (s.push(x), s.push(M), o.push(f), w = !0)
          }
          w || (s.length > 0 ? (a.push(s), i.push(o)) : (this.polygonPool.free(s), this.polygonIndicesPool.free(o)), (s = this.polygonPool.obtain()).length = 0, s.push(m), s.push(g), s.push(v), s.push(y), s.push(x), s.push(M), (o = this.polygonIndicesPool.obtain()).length = 0, o.push(p), o.push(d), o.push(f), h = e.winding(m, g, v, y, x, M), l = p)
        }
        s.length > 0 && (a.push(s), i.push(o));
        for (u = 0, c = a.length; u < c; u++) if (0 != (o = i[u]).length) for (var S = o[0], I = o[o.length - 1], A = (s = a[u])[E = s.length - 4], R = s[E + 1], C = s[E + 2], P = s[E + 3], k = s[0], V = s[1], _ = s[2], N = s[3], F = e.winding(A, R, C, P, k, V), O = 0; O < c; O++) if (O != u) {
          var D = i[O];
          if (3 == D.length) {
            var U = D[0], X = D[1], B = D[2], L = a[O];
            x = L[L.length - 2], M = L[L.length - 1];
            if (U == S && X == I) {
              T = e.winding(A, R, C, P, x, M), b = e.winding(x, M, k, V, _, N);
              T == F && b == F && (L.length = 0, D.length = 0, s.push(x), s.push(M), o.push(B), A = C, R = P, C = x, P = M, O = 0)
            }
          }
        }
        for (u = a.length - 1; u >= 0; u--) 0 == (s = a[u]).length && (a.splice(u, 1), this.polygonPool.free(s), o = i[u], i.splice(u, 1), this.polygonIndicesPool.free(o));
        return a
      }, e.isConcave = function (t, e, n, r) {
        var a = r[(e + t - 1) % e] << 1, i = r[t] << 1, o = r[(t + 1) % e] << 1;
        return !this.positiveArea(n[a], n[a + 1], n[i], n[i + 1], n[o], n[o + 1])
      }, e.positiveArea = function (t, e, n, r, a, i) {
        return t * (i - r) + n * (e - i) + a * (r - e) >= 0
      }, e.winding = function (t, e, n, r, a, i) {
        var o = n - t, s = r - e;
        return a * s - i * o + o * e - t * s >= 0 ? 1 : -1
      }, e
    }();
    t.Triangulator = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function () {
      function t() {
        this.array = new Array
      }

      return t.prototype.add = function (t) {
        var e = this.contains(t);
        return this.array[0 | t] = 0 | t, !e
      }, t.prototype.contains = function (t) {
        return null != this.array[0 | t]
      }, t.prototype.remove = function (t) {
        this.array[0 | t] = void 0
      }, t.prototype.clear = function () {
        this.array.length = 0
      }, t
    }();
    t.IntSet = e;
    var n = function () {
      function t(t, e, n, r) {
        void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === n && (n = 0), void 0 === r && (r = 0), this.r = t, this.g = e, this.b = n, this.a = r
      }

      return t.prototype.set = function (t, e, n, r) {
        return this.r = t, this.g = e, this.b = n, this.a = r, this.clamp(), this
      }, t.prototype.setFromColor = function (t) {
        return this.r = t.r, this.g = t.g, this.b = t.b, this.a = t.a, this
      }, t.prototype.setFromString = function (t) {
        return t = "#" == t.charAt(0) ? t.substr(1) : t, this.r = parseInt(t.substr(0, 2), 16) / 255, this.g = parseInt(t.substr(2, 2), 16) / 255, this.b = parseInt(t.substr(4, 2), 16) / 255, this.a = (8 != t.length ? 255 : parseInt(t.substr(6, 2), 16)) / 255, this
      }, t.prototype.add = function (t, e, n, r) {
        return this.r += t, this.g += e, this.b += n, this.a += r, this.clamp(), this
      }, t.prototype.clamp = function () {
        return this.r < 0 ? this.r = 0 : this.r > 1 && (this.r = 1), this.g < 0 ? this.g = 0 : this.g > 1 && (this.g = 1), this.b < 0 ? this.b = 0 : this.b > 1 && (this.b = 1), this.a < 0 ? this.a = 0 : this.a > 1 && (this.a = 1), this
      }, t.rgba8888ToColor = function (t, e) {
        t.r = ((4278190080 & e) >>> 24) / 255, t.g = ((16711680 & e) >>> 16) / 255, t.b = ((65280 & e) >>> 8) / 255, t.a = (255 & e) / 255
      }, t.rgb888ToColor = function (t, e) {
        t.r = ((16711680 & e) >>> 16) / 255, t.g = ((65280 & e) >>> 8) / 255, t.b = (255 & e) / 255
      }, t.WHITE = new t(1, 1, 1, 1), t.RED = new t(1, 0, 0, 1), t.GREEN = new t(0, 1, 0, 1), t.BLUE = new t(0, 0, 1, 1), t.MAGENTA = new t(1, 0, 1, 1), t
    }();
    t.Color = n;
    var r = function () {
      function t() {
      }

      return t.clamp = function (t, e, n) {
        return t < e ? e : t > n ? n : t
      }, t.cosDeg = function (e) {
        return Math.cos(e * t.degRad)
      }, t.sinDeg = function (e) {
        return Math.sin(e * t.degRad)
      }, t.signum = function (t) {
        return t > 0 ? 1 : t < 0 ? -1 : 0
      }, t.toInt = function (t) {
        return t > 0 ? Math.floor(t) : Math.ceil(t)
      }, t.cbrt = function (t) {
        var e = Math.pow(Math.abs(t), 1 / 3);
        return t < 0 ? -e : e
      }, t.randomTriangular = function (e, n) {
        return t.randomTriangularWith(e, n, .5 * (e + n))
      }, t.randomTriangularWith = function (t, e, n) {
        var r = Math.random(), a = e - t;
        return r <= (n - t) / a ? t + Math.sqrt(r * a * (n - t)) : e - Math.sqrt((1 - r) * a * (e - n))
      }, t.PI = 3.1415927, t.PI2 = 2 * t.PI, t.radiansToDegrees = 180 / t.PI, t.radDeg = t.radiansToDegrees, t.degreesToRadians = t.PI / 180, t.degRad = t.degreesToRadians, t
    }();
    t.MathUtils = r;
    var a = function () {
      function t() {
      }

      return t.prototype.apply = function (t, e, n) {
        return t + (e - t) * this.applyInternal(n)
      }, t
    }();
    t.Interpolation = a;
    var i = function (t) {
      function e(e) {
        var n = t.call(this) || this;
        return n.power = 2, n.power = e, n
      }

      return __extends(e, t), e.prototype.applyInternal = function (t) {
        return t <= .5 ? Math.pow(2 * t, this.power) / 2 : Math.pow(2 * (t - 1), this.power) / (this.power % 2 == 0 ? -2 : 2) + 1
      }, e
    }(a);
    t.Pow = i;
    var o = function (t) {
      function e(e) {
        return t.call(this, e) || this
      }

      return __extends(e, t), e.prototype.applyInternal = function (t) {
        return Math.pow(t - 1, this.power) * (this.power % 2 == 0 ? -1 : 1) + 1
      }, e
    }(i);
    t.PowOut = o;
    var s = function () {
      function t() {
      }

      return t.arrayCopy = function (t, e, n, r, a) {
        for (var i = e, o = r; i < e + a; i++, o++) n[o] = t[i]
      }, t.setArraySize = function (t, e, n) {
        void 0 === n && (n = 0);
        var r = t.length;
        if (r == e) return t;
        if (t.length = e, r < e) for (var a = r; a < e; a++) t[a] = n;
        return t
      }, t.ensureArrayCapacity = function (e, n, r) {
        return void 0 === r && (r = 0), e.length >= n ? e : t.setArraySize(e, n, r)
      }, t.newArray = function (t, e) {
        for (var n = new Array(t), r = 0; r < t; r++) n[r] = e;
        return n
      }, t.newFloatArray = function (e) {
        if (t.SUPPORTS_TYPED_ARRAYS) return new Float32Array(e);
        for (var n = new Array(e), r = 0; r < n.length; r++) n[r] = 0;
        return n
      }, t.newShortArray = function (e) {
        if (t.SUPPORTS_TYPED_ARRAYS) return new Int16Array(e);
        for (var n = new Array(e), r = 0; r < n.length; r++) n[r] = 0;
        return n
      }, t.toFloatArray = function (e) {
        return t.SUPPORTS_TYPED_ARRAYS ? new Float32Array(e) : e
      }, t.toSinglePrecision = function (e) {
        return t.SUPPORTS_TYPED_ARRAYS ? Math.fround(e) : e
      }, t.webkit602BugfixHelper = function (t, e) {
      }, t.contains = function (t, e, n) {
        void 0 === n && (n = !0);
        for (var r = 0; r < t.length; r++) if (t[r] == e) return !0;
        return !1
      }, t.SUPPORTS_TYPED_ARRAYS = "undefined" != typeof Float32Array, t
    }();
    t.Utils = s;
    var l = function () {
      function t() {
      }

      return t.logBones = function (t) {
        for (var e = 0; e < t.bones.length; e++) {
          var n = t.bones[e], r = n.matrix;
          console.log(n.data.name + ", " + r.a + ", " + r.b + ", " + r.c + ", " + r.d + ", " + r.tx + ", " + r.ty)
        }
      }, t
    }();
    t.DebugUtils = l;
    var h = function () {
      function t(t) {
        this.items = new Array, this.instantiator = t
      }

      return t.prototype.obtain = function () {
        return this.items.length > 0 ? this.items.pop() : this.instantiator()
      }, t.prototype.free = function (t) {
        t.reset && t.reset(), this.items.push(t)
      }, t.prototype.freeAll = function (t) {
        for (var e = 0; e < t.length; e++) t[e].reset && t[e].reset(), this.items[e] = t[e]
      }, t.prototype.clear = function () {
        this.items.length = 0
      }, t
    }();
    t.Pool = h;
    var u = function () {
      function t(t, e) {
        void 0 === t && (t = 0), void 0 === e && (e = 0), this.x = t, this.y = e
      }

      return t.prototype.set = function (t, e) {
        return this.x = t, this.y = e, this
      }, t.prototype.length = function () {
        var t = this.x, e = this.y;
        return Math.sqrt(t * t + e * e)
      }, t.prototype.normalize = function () {
        var t = this.length();
        return 0 != t && (this.x /= t, this.y /= t), this
      }, t
    }();
    t.Vector2 = u;
    var c = function () {
      function t() {
        this.maxDelta = .064, this.framesPerSecond = 0, this.delta = 0, this.totalTime = 0, this.lastTime = Date.now() / 1e3, this.frameCount = 0, this.frameTime = 0
      }

      return t.prototype.update = function () {
        var t = Date.now() / 1e3;
        this.delta = t - this.lastTime, this.frameTime += this.delta, this.totalTime += this.delta, this.delta > this.maxDelta && (this.delta = this.maxDelta), this.lastTime = t, this.frameCount++, this.frameTime > 1 && (this.framesPerSecond = this.frameCount / this.frameTime, this.frameTime = 0, this.frameCount = 0)
      }, t
    }();
    t.TimeKeeper = c;
    var p = function () {
      function t(t) {
        void 0 === t && (t = 32), this.addedValues = 0, this.lastValue = 0, this.mean = 0, this.dirty = !0, this.values = new Array(t)
      }

      return t.prototype.hasEnoughData = function () {
        return this.addedValues >= this.values.length
      }, t.prototype.addValue = function (t) {
        this.addedValues < this.values.length && this.addedValues++, this.values[this.lastValue++] = t, this.lastValue > this.values.length - 1 && (this.lastValue = 0), this.dirty = !0
      }, t.prototype.getMean = function () {
        if (this.hasEnoughData()) {
          if (this.dirty) {
            for (var t = 0, e = 0; e < this.values.length; e++) t += this.values[e];
            this.mean = t / this.values.length, this.dirty = !1
          }
          return this.mean
        }
        return 0
      }, t
    }();
    t.WindowedMean = p
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function () {
      return function (t) {
        if (null == t) throw new Error("name cannot be null.");
        this.name = t
      }
    }();
    t.Attachment = e;
    var n = function (e) {
      function n(t) {
        var r = e.call(this, t) || this;
        return r.id = (65535 & n.nextID++) << 11, r.worldVerticesLength = 0, r.deformAttachment = r, r
      }

      return __extends(n, e), n.prototype.computeWorldVerticesOld = function (t, e) {
        this.computeWorldVertices(t, 0, this.worldVerticesLength, e, 0, 2)
      }, n.prototype.computeWorldVertices = function (t, e, n, r, a, i) {
        n = a + (n >> 1) * i;
        var o = t.bone.skeleton, s = t.deform, l = this.vertices, h = this.bones;
        if (null != h) {
          for (var u = 0, c = 0, p = 0; p < e; p += 2) {
            u += (g = h[u]) + 1, c += g
          }
          var d = o.bones;
          if (0 == s.length) for (R = a, b = 3 * c; R < n; R += i) {
            var f = 0, m = 0, g = h[u++];
            for (g += u; u < g; u++, b += 3) {
              M = d[h[u]].matrix, C = l[b], P = l[b + 1];
              var v = l[b + 2];
              f += (C * M.a + P * M.c + M.tx) * v, m += (C * M.b + P * M.d + M.ty) * v
            }
            r[R] = f, r[R + 1] = m
          } else for (var y = s, x = (R = a, b = 3 * c, c << 1); R < n; R += i) {
            f = 0, m = 0, g = h[u++];
            for (g += u; u < g; u++, b += 3, x += 2) {
              M = d[h[u]].matrix, C = l[b] + y[x], P = l[b + 1] + y[x + 1], v = l[b + 2];
              f += (C * M.a + P * M.c + M.tx) * v, m += (C * M.b + P * M.d + M.ty) * v
            }
            r[R] = f, r[R + 1] = m
          }
        } else {
          s.length > 0 && (l = s);
          for (var M, w = (M = t.bone.matrix).tx, E = M.ty, T = M.a, b = M.c, S = M.b, I = M.d, A = e, R = a; R < n; A += 2, R += i) {
            var C = l[A], P = l[A + 1];
            r[R] = C * T + P * b + w, r[R + 1] = C * S + P * I + E
          }
        }
      }, n.prototype.copyTo = function (e) {
        null != this.bones ? (e.bones = new Array(this.bones.length), t.Utils.arrayCopy(this.bones, 0, e.bones, 0, this.bones.length)) : e.bones = null, null != this.vertices ? (e.vertices = t.Utils.newFloatArray(this.vertices.length), t.Utils.arrayCopy(this.vertices, 0, e.vertices, 0, this.vertices.length)) : e.vertices = null, e.worldVerticesLength = this.worldVerticesLength, e.deformAttachment = this.deformAttachment
      }, n.nextID = 0, n
    }(e);
    t.VertexAttachment = n
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    !function (t) {
      t[t.Region = 0] = "Region", t[t.BoundingBox = 1] = "BoundingBox", t[t.Mesh = 2] = "Mesh", t[t.LinkedMesh = 3] = "LinkedMesh", t[t.Path = 4] = "Path", t[t.Point = 5] = "Point", t[t.Clipping = 6] = "Clipping"
    }(t.AttachmentType || (t.AttachmentType = {}))
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function (e) {
      function n(n) {
        var r = e.call(this, n) || this;
        return r.color = new t.Color(1, 1, 1, 1), r
      }

      return __extends(n, e), n.prototype.copy = function () {
        var t = new n(name);
        return this.copyTo(t), t.color.setFromColor(this.color), t
      }, n
    }(t.VertexAttachment);
    t.BoundingBoxAttachment = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function (e) {
      function n(n) {
        var r = e.call(this, n) || this;
        return r.color = new t.Color(.2275, .2275, .8078, 1), r
      }

      return __extends(n, e), n.prototype.copy = function () {
        var t = new n(name);
        return this.copyTo(t), t.endSlot = this.endSlot, t.color.setFromColor(this.color), t
      }, n
    }(t.VertexAttachment);
    t.ClippingAttachment = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function (e) {
      function n(n) {
        var r = e.call(this, n) || this;
        return r.color = new t.Color(1, 1, 1, 1), r.tempColor = new t.Color(0, 0, 0, 0), r
      }

      return __extends(n, e), n.prototype.getParentMesh = function () {
        return this.parentMesh
      }, n.prototype.setParentMesh = function (t) {
        this.parentMesh = t, null != t && (this.bones = t.bones, this.vertices = t.vertices, this.worldVerticesLength = t.worldVerticesLength, this.regionUVs = t.regionUVs, this.triangles = t.triangles, this.hullLength = t.hullLength, this.worldVerticesLength = t.worldVerticesLength)
      }, n.prototype.copy = function () {
        if (null != this.parentMesh) return this.newLinkedMesh();
        var e = new n(this.name);
        return e.region = this.region, e.path = this.path, e.color.setFromColor(this.color), this.copyTo(e), e.regionUVs = new Float32Array(this.regionUVs.length), t.Utils.arrayCopy(this.regionUVs, 0, e.regionUVs, 0, this.regionUVs.length), e.uvs = new Array(this.uvs.length), t.Utils.arrayCopy(this.uvs, 0, e.uvs, 0, this.uvs.length), e.triangles = new Array(this.triangles.length), t.Utils.arrayCopy(this.triangles, 0, e.triangles, 0, this.triangles.length), e.hullLength = this.hullLength, null != this.edges && (e.edges = new Array(this.edges.length), t.Utils.arrayCopy(this.edges, 0, e.edges, 0, this.edges.length)), e.width = this.width, e.height = this.height, e
      }, n.prototype.newLinkedMesh = function () {
        var t = new n(this.name);
        return t.region = this.region, t.path = this.path, t.color.setFromColor(this.color), t.deformAttachment = this.deformAttachment, t.setParentMesh(null != this.parentMesh ? this.parentMesh : this), t
      }, n
    }(t.VertexAttachment);
    t.MeshAttachment = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function (e) {
      function n(n) {
        var r = e.call(this, n) || this;
        return r.closed = !1, r.constantSpeed = !1, r.color = new t.Color(1, 1, 1, 1), r
      }

      return __extends(n, e), n.prototype.copy = function () {
        var e = new n(name);
        return this.copyTo(e), e.lengths = new Array(this.lengths.length), t.Utils.arrayCopy(this.lengths, 0, e.lengths, 0, this.lengths.length), e.closed = closed, e.constantSpeed = this.constantSpeed, e.color.setFromColor(this.color), e
      }, n
    }(t.VertexAttachment);
    t.PathAttachment = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function (e) {
      function n(n) {
        var r = e.call(this, n) || this;
        return r.color = new t.Color(.38, .94, 0, 1), r
      }

      return __extends(n, e), n.prototype.computeWorldPosition = function (t, e) {
        var n = t.matrix;
        return e.x = this.x * n.a + this.y * n.c + t.worldX, e.y = this.x * n.b + this.y * n.d + t.worldY, e
      }, n.prototype.computeWorldRotation = function (e) {
        var n = e.matrix, r = t.MathUtils.cosDeg(this.rotation), a = t.MathUtils.sinDeg(this.rotation),
          i = r * n.a + a * n.c, o = r * n.b + a * n.d;
        return Math.atan2(o, i) * t.MathUtils.radDeg
      }, n.prototype.copy = function () {
        var t = new n(name);
        return t.x = this.x, t.y = this.y, t.rotation = this.rotation, t.color.setFromColor(this.color), t
      }, n
    }(t.VertexAttachment);
    t.PointAttachment = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function (e) {
      function n(n) {
        var r = e.call(this, n) || this;
        return r.x = 0, r.y = 0, r.scaleX = 1, r.scaleY = 1, r.rotation = 0, r.width = 0, r.height = 0, r.color = new t.Color(1, 1, 1, 1), r.offset = t.Utils.newFloatArray(8), r.uvs = t.Utils.newFloatArray(8), r.tempColor = new t.Color(1, 1, 1, 1), r
      }

      return __extends(n, e), n.prototype.updateOffset = function () {
        var t = this.width / this.region.originalWidth * this.scaleX,
          e = this.height / this.region.originalHeight * this.scaleY,
          r = -this.width / 2 * this.scaleX + this.region.offsetX * t,
          a = -this.height / 2 * this.scaleY + this.region.offsetY * e, i = r + this.region.width * t,
          o = a + this.region.height * e, s = this.rotation * Math.PI / 180, l = Math.cos(s), h = Math.sin(s),
          u = r * l + this.x, c = r * h, p = a * l + this.y, d = a * h, f = i * l + this.x, m = i * h,
          g = o * l + this.y, v = o * h, y = this.offset;
        y[n.OX1] = u - d, y[n.OY1] = p + c, y[n.OX2] = u - v, y[n.OY2] = g + c, y[n.OX3] = f - v, y[n.OY3] = g + m, y[n.OX4] = f - d, y[n.OY4] = p + m
      }, n.prototype.setRegion = function (t) {
        this.region = t;
        var e = this.uvs;
        t.rotate ? (e[2] = t.u, e[3] = t.v2, e[4] = t.u, e[5] = t.v, e[6] = t.u2, e[7] = t.v, e[0] = t.u2, e[1] = t.v2) : (e[0] = t.u, e[1] = t.v2, e[2] = t.u, e[3] = t.v, e[4] = t.u2, e[5] = t.v, e[6] = t.u2, e[7] = t.v2)
      }, n.prototype.computeWorldVertices = function (t, e, r, a) {
        var i = this.offset, o = t.matrix, s = o.tx, l = o.ty, h = o.a, u = o.c, c = o.b, p = o.d, d = 0, f = 0;
        d = i[n.OX1], f = i[n.OY1], e[r] = d * h + f * u + s, e[r + 1] = d * c + f * p + l, r += a, d = i[n.OX2], f = i[n.OY2], e[r] = d * h + f * u + s, e[r + 1] = d * c + f * p + l, r += a, d = i[n.OX3], f = i[n.OY3], e[r] = d * h + f * u + s, e[r + 1] = d * c + f * p + l, r += a, d = i[n.OX4], f = i[n.OY4], e[r] = d * h + f * u + s, e[r + 1] = d * c + f * p + l
      }, n.prototype.copy = function () {
        var e = new n(name);
        return e.region = this.region, e.rendererObject = this.rendererObject, e.path = this.path, e.x = this.x, e.y = this.y, e.scaleX = this.scaleX, e.scaleY = this.scaleY, e.rotation = this.rotation, e.width = this.width, e.height = this.height, t.Utils.arrayCopy(this.uvs, 0, e.uvs, 0, 8), t.Utils.arrayCopy(this.offset, 0, e.offset, 0, 8), e.color.setFromColor(this.color), e
      }, n.OX1 = 0, n.OY1 = 1, n.OX2 = 2, n.OY2 = 3, n.OX3 = 4, n.OY3 = 5, n.OX4 = 6, n.OY4 = 7, n.X1 = 0, n.Y1 = 1, n.C1R = 2, n.C1G = 3, n.C1B = 4, n.C1A = 5, n.U1 = 6, n.V1 = 7, n.X2 = 8, n.Y2 = 9, n.C2R = 10, n.C2G = 11, n.C2B = 12, n.C2A = 13, n.U2 = 14, n.V2 = 15, n.X3 = 16, n.Y3 = 17, n.C3R = 18, n.C3G = 19, n.C3B = 20, n.C3A = 21, n.U3 = 22, n.V3 = 23, n.X4 = 24, n.Y4 = 25, n.C4R = 26, n.C4G = 27, n.C4B = 28, n.C4A = 29, n.U4 = 30, n.V4 = 31, n
    }(t.Attachment);
    t.RegionAttachment = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function () {
      function e(t, e) {
        this.jitterX = 0, this.jitterY = 0, this.jitterX = t, this.jitterY = e
      }

      return e.prototype.begin = function (t) {
      }, e.prototype.transform = function (e, n, r, a) {
        e.x += t.MathUtils.randomTriangular(-this.jitterX, this.jitterY), e.y += t.MathUtils.randomTriangular(-this.jitterX, this.jitterY)
      }, e.prototype.end = function () {
      }, e
    }();
    t.JitterEffect = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function (t) {
  !function (t) {
    var e = function () {
      function e(t) {
        this.centerX = 0, this.centerY = 0, this.radius = 0, this.angle = 0, this.worldX = 0, this.worldY = 0, this.radius = t
      }

      return e.prototype.begin = function (t) {
        this.worldX = t.x + this.centerX, this.worldY = t.y + this.centerY
      }, e.prototype.transform = function (n, r, a, i) {
        var o = this.angle * t.MathUtils.degreesToRadians, s = n.x - this.worldX, l = n.y - this.worldY,
          h = Math.sqrt(s * s + l * l);
        if (h < this.radius) {
          var u = e.interpolation.apply(0, o, (this.radius - h) / this.radius), c = Math.cos(u), p = Math.sin(u);
          n.x = c * s - p * l + this.worldX, n.y = p * s + c * l + this.worldY
        }
      }, e.prototype.end = function () {
      }, e.interpolation = new t.PowOut(2), e
    }();
    t.SwirlEffect = e
  }(t.core || (t.core = {}))
}(pixi_spine || (pixi_spine = {})), function () {
  var t;
  Math.fround || (Math.fround = Math.fround = (t = new Float32Array(1), function (e) {
    return t[0] = e, t[0]
  }))
}(), function (t) {
  t.core.Bone.yDown = !0;
  var e = [0, 0, 0], n = function (t) {
    function e() {
      var e = null !== t && t.apply(this, arguments) || this;
      return e.region = null, e.attachment = null, e
    }

    return __extends(e, t), e
  }(PIXI.Sprite);
  t.SpineSprite = n;
  var r = PIXI.GraphicsGeometry.prototype;
  if (!r.invalidate) {
    var a = [];
    r.invalidate = function () {
      var t = this.graphicsData;
      a.push(0), this.graphicsData = a, this.clear(), this.graphicsData = t
    }
  }
  var i = function (t) {
    function e(e, n, r, a, i) {
      var o = t.call(this, e, n, r, a, i) || this;
      return o.region = null, o.attachment = null, o
    }

    return __extends(e, t), e
  }(PIXI.SimpleMesh);
  t.SpineMesh = i;
  var o = function (r) {
    function a(e) {
      var n = r.call(this) || this;
      if (!e) throw new Error("The spineData param is required.");
      if ("string" == typeof e) throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');
      n.spineData = e, n.skeleton = new t.core.Skeleton(e), n.skeleton.updateWorldTransform(), n.stateData = new t.core.AnimationStateData(e), n.state = new t.core.AnimationState(n.stateData), n.slotContainers = [], n.tempClipContainers = [];
      for (var a = 0, i = n.skeleton.slots.length; a < i; a++) {
        var o = n.skeleton.slots[a], s = o.getAttachment(), l = n.newContainer();
        if (n.slotContainers.push(l), n.addChild(l), n.tempClipContainers.push(null), s instanceof t.core.RegionAttachment) {
          var h = s.region.name, u = n.createSprite(o, s, h);
          o.currentSprite = u, o.currentSpriteName = h, l.addChild(u)
        } else if (s instanceof t.core.MeshAttachment) {
          var c = n.createMesh(o, s);
          o.currentMesh = c, o.currentMeshName = s.name, l.addChild(c)
        } else {
          if (!(s instanceof t.core.ClippingAttachment)) continue;
          n.createGraphics(o, s), l.addChild(o.clippingContainer), l.addChild(o.currentGraphics)
        }
      }
      return n.tintRgb = new Float32Array([1, 1, 1]), n.autoUpdate = !0, n.visible = !0, n
    }

    return __extends(a, r), Object.defineProperty(a.prototype, "autoUpdate", {
      get: function () {
        return this._autoUpdate
      }, set: function (t) {
        t !== this._autoUpdate && (this._autoUpdate = t, this.updateTransform = t ? a.prototype.autoUpdateTransform : PIXI.Container.prototype.updateTransform)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(a.prototype, "visible", {
      get: function () {
        return this._visible
      }, set: function (t) {
        t !== this._visible && (this._visible = t, t && (this.lastTime = 0))
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(a.prototype, "tint", {
      get: function () {
        return PIXI.utils.rgb2hex(this.tintRgb)
      }, set: function (t) {
        this.tintRgb = PIXI.utils.hex2rgb(t, this.tintRgb)
      }, enumerable: !1, configurable: !0
    }), Object.defineProperty(a.prototype, "delayLimit", {
      get: function () {
        return (void 0 !== this.localDelayLimit ? this.localDelayLimit : a.globalDelayLimit) || Number.MAX_VALUE
      }, enumerable: !1, configurable: !0
    }), a.prototype.update = function (n) {
      var r = this.delayLimit;
      if (n > r && (n = r), this.state.update(n), this.state.apply(this.skeleton), this.skeleton) {
        this.skeleton.updateWorldTransform();
        var a = this.skeleton.slots, i = this.color, o = null, s = null;
        i ? (o = i.light, s = i.dark) : o = this.tintRgb;
        for (var l = 0, h = a.length; l < h; l++) {
          var u = (A = a[l]).getAttachment(), c = this.slotContainers[l];
          if (u) {
            var p = null, d = u.color;
            if (u instanceof t.core.RegionAttachment) {
              var f = u.region;
              if (f) {
                A.currentMesh && (A.currentMesh.visible = !1, A.currentMesh = null, A.currentMeshName = void 0);
                var m = f;
                if (A.currentSpriteName && A.currentSpriteName === m.name) A.currentSpriteName !== m.name || A.hackRegion || this.setSpriteRegion(u, A.currentSprite, f); else {
                  var g = m.name;
                  if (A.currentSprite && (A.currentSprite.visible = !1), A.sprites = A.sprites || {}, void 0 !== A.sprites[g]) A.sprites[g].visible = !0; else {
                    var v = this.createSprite(A, u, g);
                    c.addChild(v)
                  }
                  A.currentSprite = A.sprites[g], A.currentSpriteName = g
                }
              }
              (y = c.transform).setFromMatrix(A.bone.matrix), A.currentSprite.color ? p = A.currentSprite.color : (e[0] = o[0] * A.color.r * d.r, e[1] = o[1] * A.color.g * d.g, e[2] = o[2] * A.color.b * d.b, A.currentSprite.tint = PIXI.utils.rgb2hex(e)), A.currentSprite.blendMode = A.blendMode
            } else if (u instanceof t.core.MeshAttachment) {
              var y;
              if (A.currentSprite) A.currentSprite.visible = !1, A.currentSprite = null, A.currentSpriteName = void 0, (y = new PIXI.Transform)._parentID = -1, y._worldID = c.transform._worldID, c.transform = y;
              if (!A.currentMeshName || A.currentMeshName !== u.name) {
                var x = u.name;
                if (A.currentMesh && (A.currentMesh.visible = !1), A.meshes = A.meshes || {}, void 0 !== A.meshes[x]) A.meshes[x].visible = !0; else {
                  var M = this.createMesh(A, u);
                  c.addChild(M)
                }
                A.currentMesh = A.meshes[x], A.currentMeshName = x
              }
              u.computeWorldVerticesOld(A, A.currentMesh.vertices), A.currentMesh.color ? p = A.currentMesh.color : (e[0] = o[0] * A.color.r * d.r, e[1] = o[1] * A.color.g * d.g, e[2] = o[2] * A.color.b * d.b, A.currentMesh.tint = PIXI.utils.rgb2hex(e)), A.currentMesh.blendMode = A.blendMode
            } else {
              if (!(u instanceof t.core.ClippingAttachment)) {
                c.visible = !1;
                continue
              }
              A.currentGraphics || (this.createGraphics(A, u), c.addChild(A.clippingContainer), c.addChild(A.currentGraphics)), this.updateGraphics(A, u)
            }
            if (c.visible = !0, p) {
              var w = A.color.r * d.r, E = A.color.g * d.g, T = A.color.b * d.b;
              p.setLight(o[0] * w + s[0] * (1 - w), o[1] * E + s[1] * (1 - E), o[2] * T + s[2] * (1 - T)), A.darkColor ? (w = A.darkColor.r, E = A.darkColor.g, T = A.darkColor.b) : (w = 0, E = 0, T = 0), p.setDark(o[0] * w + s[0] * (1 - w), o[1] * E + s[1] * (1 - E), o[2] * T + s[2] * (1 - T))
            }
            c.alpha = A.color.a
          } else c.visible = !1
        }
        var b = this.skeleton.drawOrder, S = null, I = null;
        for (l = 0, h = b.length; l < h; l++) {
          var A = a[b[l].data.index];
          c = this.slotContainers[b[l].data.index];
          if (I || null !== c.parent && c.parent !== this && (c.parent.removeChild(c), c.parent = this), A.currentGraphics && A.getAttachment()) I = A.clippingContainer, S = A.getAttachment(), I.children.length = 0, this.children[l] = c, S.endSlot == A.data && (S.endSlot = null); else if (I) {
            var R = this.tempClipContainers[l];
            R || ((R = this.tempClipContainers[l] = this.newContainer()).visible = !1), this.children[l] = R, c.parent = null, I.addChild(c), S.endSlot == A.data && (I.renderable = !0, I = null, S = null)
          } else this.children[l] = c
        }
      }
    }, a.prototype.setSpriteRegion = function (e, n, r) {
      n.attachment === e && n.region === r || (n.region = r, n.attachment = e, n.texture = r.texture, n.rotation = e.rotation * t.core.MathUtils.degRad, n.position.x = e.x, n.position.y = e.y, n.alpha = e.color.a, r.size ? (n.scale.x = r.size.width / r.originalWidth, n.scale.y = -r.size.height / r.originalHeight) : (n.scale.x = e.scaleX * e.width / r.originalWidth, n.scale.y = -e.scaleY * e.height / r.originalHeight))
    }, a.prototype.setMeshRegion = function (t, e, n) {
      e.attachment === t && e.region === n || (e.region = n, e.attachment = t, e.texture = n.texture, n.texture.updateUvs(), e.uvBuffer.update(t.regionUVs))
    }, a.prototype.autoUpdateTransform = function () {
      if (a.globalAutoUpdate) {
        this.lastTime = this.lastTime || Date.now();
        var t = .001 * (Date.now() - this.lastTime);
        this.lastTime = Date.now(), this.update(t)
      } else this.lastTime = 0;
      PIXI.Container.prototype.updateTransform.call(this)
    }, a.prototype.createSprite = function (t, e, n) {
      var r = e.region;
      t.hackAttachment === e && (r = t.hackRegion);
      var a = r.texture, i = this.newSprite(a);
      return i.anchor.set(.5), this.setSpriteRegion(e, i, e.region), t.sprites = t.sprites || {}, t.sprites[n] = i, i
    }, a.prototype.createMesh = function (t, e) {
      var n = e.region;
      t.hackAttachment === e && (n = t.hackRegion, t.hackAttachment = null, t.hackRegion = null);
      var r = this.newMesh(n.texture, new Float32Array(e.regionUVs.length), e.regionUVs, new Uint16Array(e.triangles), PIXI.DRAW_MODES.TRIANGLES);
      return r.canvasPadding && (r.canvasPadding = 1.5), r.alpha = e.color.a, r.region = e.region, this.setMeshRegion(e, r, n), t.meshes = t.meshes || {}, t.meshes[e.name] = r, r
    }, a.prototype.createGraphics = function (t, e) {
      var n = this.newGraphics(), r = new PIXI.Polygon([]);
      return n.clear(), n.beginFill(16777215, 1), n.drawPolygon(r), n.renderable = !1, t.currentGraphics = n, t.clippingContainer = this.newContainer(), t.clippingContainer.mask = t.currentGraphics, n
    }, a.prototype.updateGraphics = function (t, e) {
      var n = t.currentGraphics.geometry, r = n.graphicsData[0].shape.points, a = e.worldVerticesLength;
      r.length = a, e.computeWorldVertices(t, 0, a, r, 0, 2), n.invalidate()
    }, a.prototype.hackTextureBySlotIndex = function (e, n, r) {
      void 0 === n && (n = null), void 0 === r && (r = null);
      var a = this.skeleton.slots[e];
      if (!a) return !1;
      var i = a.getAttachment(), o = i.region;
      return n ? ((o = new t.core.TextureRegion).texture = n, o.size = r, a.hackRegion = o, a.hackAttachment = i) : (a.hackRegion = null, a.hackAttachment = null), a.currentSprite && a.currentSprite.region != o ? (this.setSpriteRegion(i, a.currentSprite, o), a.currentSprite.region = o) : a.currentMesh && a.currentMesh.region != o && this.setMeshRegion(i, a.currentMesh, o), !0
    }, a.prototype.hackTextureBySlotName = function (t, e, n) {
      void 0 === e && (e = null), void 0 === n && (n = null);
      var r = this.skeleton.findSlotIndex(t);
      return -1 != r && this.hackTextureBySlotIndex(r, e, n)
    }, a.prototype.newContainer = function () {
      return new PIXI.Container
    }, a.prototype.newSprite = function (t) {
      return new n(t)
    }, a.prototype.newGraphics = function () {
      return new PIXI.Graphics
    }, a.prototype.newMesh = function (t, e, n, r, a) {
      return new i(t, e, n, r, a)
    }, a.prototype.transformHack = function () {
      return 1
    }, a.prototype.hackAttachmentGroups = function (t, e, n) {
      if (t) {
        for (var r = [], a = [], i = 0, o = this.skeleton.slots.length; i < o; i++) {
          var s = this.skeleton.slots[i], l = s.currentSpriteName || s.currentMeshName || "",
            h = s.currentSprite || s.currentMesh;
          l.endsWith(t) ? (h.parentGroup = e, a.push(h)) : n && h && (h.parentGroup = n, r.push(h))
        }
        return [r, a]
      }
    }, a.prototype.destroy = function (t) {
      for (var e = 0, n = this.skeleton.slots.length; e < n; e++) {
        var a = this.skeleton.slots[e];
        for (var i in a.meshes) a.meshes[i].destroy(t);
        for (var o in a.meshes = null, a.sprites) a.sprites[o].destroy(t);
        a.sprites = null
      }
      for (e = 0, n = this.slotContainers.length; e < n; e++) this.slotContainers[e].destroy(t);
      this.spineData = null, this.skeleton = null, this.slotContainers = null, this.stateData = null, this.state = null, this.tempClipContainers = null, r.prototype.destroy.call(this, t)
    }, a.globalAutoUpdate = !0, a.globalDelayLimit = 0, a.clippingPolygon = [], a
  }(PIXI.Container);
  t.Spine = o
}(pixi_spine || (pixi_spine = {})), function (t) {
  PIXI.spine = t;
  var e = PIXI.Texture.prototype;
  e._updateUvs || (e._updateUvs = e.updateUvs)
}(pixi_spine || (pixi_spine = {})), function (t) {
  PIXI.LoaderResource.setExtensionXhrType("skel", PIXI.LoaderResource.XHR_RESPONSE_TYPE.BUFFER);
  var e = function () {
    function e() {
    }

    return e.use = function (e, a) {
      if (!e.data) return a();
      var i = function (t) {
        return t.type === PIXI.LoaderResource.TYPE.JSON
      }(e) && e.data.bones, o = function (t) {
        return t.xhrType === PIXI.LoaderResource.XHR_RESPONSE_TYPE.BUFFER
      }(e) && ("skel" === e.extension || e.metadata.spineMetadata);
      if (!i && !o) return a();
      var s = null, l = e.data;
      i ? s = new t.core.SkeletonJson(null) : (s = new t.core.SkeletonBinary(null), e.data instanceof ArrayBuffer && (l = new Uint8Array(e.data)));
      var h = e.metadata || {}, u = h ? e.metadata.spineSkeletonScale : null;
      u && (s.scale = u);
      var c = h ? e.metadata.spineAtlas : null;
      if (!1 === c) return a();
      if (c && c.pages) return s.attachmentLoader = new t.core.AtlasAttachmentLoader(c), e.spineData = s.readSkeletonData(l), e.spineAtlas = c, a();
      var p = h.spineAtlasSuffix || ".atlas", d = e.url, f = d.indexOf("?");
      f > 0 && (d = d.substr(0, f)), d = d.substr(0, d.lastIndexOf(".")) + p, e.metadata && e.metadata.spineAtlasFile && (d = e.metadata.spineAtlasFile), d = d.replace(this.baseUrl, "");
      var m = {
          crossOrigin: e.crossOrigin,
          xhrType: PIXI.LoaderResource.XHR_RESPONSE_TYPE.TEXT,
          metadata: h.spineMetadata || null,
          parentResource: e
        }, g = {crossOrigin: e.crossOrigin, metadata: h.imageMetadata || null, parentResource: e},
        v = e.url.substr(0, e.url.lastIndexOf("/") + 1);
      v = v.replace(this.baseUrl, "");
      var y = h.imageNamePrefix || e.name + "_atlas_page_",
        x = h.images ? r(h.images) : h.image ? r({default: h.image}) : h.imageLoader ? h.imageLoader(this, y, v, g) : n(this, y, v, g),
        M = function (n) {
          new t.core.TextureAtlas(n, x, function (n) {
            n && (s.attachmentLoader = new t.core.AtlasAttachmentLoader(n), e.spineData = s.readSkeletonData(l), e.spineAtlas = n), a()
          })
        };
      e.metadata && e.metadata.atlasRawData ? M(e.metadata.atlasRawData) : this.add(e.name + "_atlas", d, m, function (t) {
        t.error ? a() : M(t.data)
      })
    }, e
  }();

  function n(t, e, n, r) {
    return n && n.lastIndexOf("/") !== n.length - 1 && (n += "/"), function (a, i) {
      var o = e + a, s = n + a, l = t.resources[o];
      if (l) {
        var h = function () {
          i(l.texture.baseTexture)
        };
        l.texture ? h() : l.onAfterMiddleware.add(h)
      } else t.add(o, s, r, function (t) {
        t.error ? i(null) : i(t.texture.baseTexture)
      })
    }
  }

  function r(t) {
    return function (e, n) {
      var r = t[e] || t.default;
      r && r.baseTexture ? n(r.baseTexture) : n(r)
    }
  }

  t.AtlasParser = e, t.imageLoaderAdapter = n, t.syncImageLoaderAdapter = function (t, e) {
    return t && t.lastIndexOf("/") !== t.length - 1 && (t += "/"), function (t, n) {
      n(PIXI.BaseTexture.from(t, e))
    }
  }, t.staticImageLoader = r, PIXI.Loader && PIXI.Loader.registerPlugin(e)
}(pixi_spine || (pixi_spine = {}));
!function (e) {
  e.Atlas = function (e, t, r) {
    this.pages = [], this.regions = [], "string" == typeof e && this.addSpineAtlas.call(this, e, t, r)
  }, e.Atlas.prototype = {
    addTexture: function (t, r) {
      for (var n = this.pages, i = null, a = 0; a < n.length; a++) if (n[a].rendererObject === r.baseTexture) {
        i = n[a];
        break
      }
      if (null === i) {
        (i = new e.AtlasPage).name = "texturePage";
        var s = r.baseTexture;
        i.width = s.realWidth, i.height = s.realHeight, i.rendererObject = s, i.format = "RGBA8888", i.minFilter = i.magFilter = "Nearest", i.uWrap = e.Atlas.TextureWrap.clampToEdge, i.vWrap = e.Atlas.TextureWrap.clampToEdge, n.push(i)
      }
      var u = new e.AtlasRegion;
      return u.name = t, u.page = i, u.texture = r, u.index = -1, this.regions.push(u), u
    }, addTextureHash: function (e, t) {
      for (var r in e) e.hasOwnProperty(r) && this.addTexture(t && -1 !== r.indexOf(".") ? r.substr(0, r.lastIndexOf(".")) : r, e[r])
    }, addSpineAtlas: function (t, r, n) {
      function i() {
        for (; ;) {
          var t = l.readLine();
          if (null === t) return n && n(u);
          if ((t = l.trim(t)).length) {
            if (!o) {
              (o = new e.AtlasPage).name = t, 2 == l.readTuple(p) && (o.width = parseInt(p[0]), o.height = parseInt(p[1]), l.readTuple(p)), o.format = e.Atlas.Format[p[0]], l.readTuple(p), o.minFilter = e.Atlas.TextureFilter[p[0]], o.magFilter = e.Atlas.TextureFilter[p[1]];
              var a = l.readValue();
              o.uWrap = e.Atlas.TextureWrap.clampToEdge, o.vWrap = e.Atlas.TextureWrap.clampToEdge, "x" == a ? o.uWrap = e.Atlas.TextureWrap.repeat : "y" == a ? o.vWrap = e.Atlas.TextureWrap.repeat : "xy" == a && (o.uWrap = o.vWrap = e.Atlas.TextureWrap.repeat), r(t, function (e) {
                o.rendererObject = e, e.hasLoaded || (e.width = o.width, e.height = o.height), u.pages.push(o), o.width && o.height || (o.width = e.realWidth, o.height = e.realHeight, o.width && o.height || console.log("ERROR spine atlas page " + o.name + ": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")), i()
              });
              break
            }
            var s = new e.AtlasRegion;
            s.name = t, s.page = o;
            var h = "true" === l.readValue() ? 6 : 0;
            l.readTuple(p);
            var g = parseInt(p[0]), d = parseInt(p[1]);
            l.readTuple(p);
            var f = parseInt(p[0]), c = parseInt(p[1]), x = o.rendererObject.resolution;
            g /= x, d /= x, f /= x, c /= x;
            var m = new PIXI.Rectangle(g, d, h ? c : f, h ? f : c);
            4 == l.readTuple(p) && (s.splits = [parseInt(p[0]), parseInt(p[1]), parseInt(p[2]), parseInt(p[3])], 4 == l.readTuple(p) && (s.pads = [parseInt(p[0]), parseInt(p[1]), parseInt(p[2]), parseInt(p[3])], l.readTuple(p)));
            var I = parseInt(p[0]) / x, v = parseInt(p[1]) / x;
            l.readTuple(p);
            var w = parseInt(p[0]) / x, A = parseInt(p[1]) / x, T = new PIXI.Rectangle(0, 0, I, v),
              O = new PIXI.Rectangle(w, v - c - A, f, c);
            if ("4" == PIXI.VERSION[0]) s.texture = new PIXI.Texture(s.page.rendererObject, m, T, O, h); else {
              var y = new PIXI.Rectangle(g, d, f, c), R = y.clone();
              O.width = I, O.height = v, s.texture = new PIXI.Texture(s.page.rendererObject, y, R, O, h)
            }
            s.index = parseInt(l.readValue()), s.texture._updateUvs(), u.regions.push(s)
          } else o = null
        }
      }

      if ("function" != typeof r) {
        var a = r, s = n;
        r = syncImageLoaderAdapter(a, s), n = null
      }
      this.texturesLoading = 0;
      var u = this, l = new e.AtlasReader(t), p = [];
      p.length = 4;
      var o = null;
      i()
    }, findRegion: function (e) {
      for (var t = this.regions, r = 0, n = t.length; r < n; r++) if (t[r].name == e) return t[r];
      return null
    }, dispose: function () {
      for (var e = this.pages, t = 0, r = e.length; t < r; t++) e[t].rendererObject.destroy(!0)
    }, updateUVs: function (e) {
      for (var t = this.regions, r = 0, n = t.length; r < n; r++) {
        var i = t[r];
        i.page == e && i.texture._updateUvs()
      }
    }
  }, e.Atlas.Format = {
    alpha: 0,
    intensity: 1,
    luminanceAlpha: 2,
    rgb565: 3,
    rgba4444: 4,
    rgb888: 5,
    rgba8888: 6
  }, e.Atlas.TextureFilter = {
    nearest: 0,
    linear: 1,
    mipMap: 2,
    mipMapNearestNearest: 3,
    mipMapLinearNearest: 4,
    mipMapNearestLinear: 5,
    mipMapLinearLinear: 6
  }, e.Atlas.TextureWrap = {mirroredRepeat: 0, clampToEdge: 1, repeat: 2}, e.AtlasPage = function () {
  }, e.AtlasPage.prototype = {
    name: null,
    format: null,
    minFilter: null,
    magFilter: null,
    uWrap: null,
    vWrap: null,
    rendererObject: null,
    width: 0,
    height: 0
  }, e.AtlasReader = function (e) {
    this.lines = e.split(/\r\n|\r|\n/)
  }, e.AtlasReader.prototype = {
    index: 0, trim: function (e) {
      return e.replace(/^\s+|\s+$/g, "")
    }, readLine: function () {
      return this.index >= this.lines.length ? null : this.lines[this.index++]
    }, readValue: function () {
      var e = this.readLine(), t = e.indexOf(":");
      if (-1 == t) throw"Invalid line: " + e;
      return this.trim(e.substring(t + 1))
    }, readTuple: function (e) {
      var t = this.readLine(), r = t.indexOf(":");
      if (-1 == r) throw"Invalid line: " + t;
      for (var n = 0, i = r + 1; n < 3; n++) {
        var a = t.indexOf(",", i);
        if (-1 == a) break;
        e[n] = this.trim(t.substr(i, a - i)), i = a + 1
      }
      return e[n] = this.trim(t.substring(i)), n + 1
    }
  }, e.AtlasRegion = function () {
  }, e.AtlasRegion.prototype = {
    name: null,
    texture: null,
    page: null,
    index: 0,
    splits: null,
    pads: null
  }, Object.defineProperties(e.AtlasRegion.prototype, {
    x: {
      get: function () {
        return this.texture.frame.x
      }
    }, y: {
      get: function () {
        return this.texture.frame.y
      }
    }, width: {
      get: function () {
        var e = this.texture;
        return "3" == PIXI.VERSION[0] ? e.crop.width : e.trim ? e.trim.width : e.orig.width
      }
    }, height: {
      get: function () {
        var e = this.texture;
        return "3" == PIXI.VERSION[0] ? e.crop.height : e.trim ? e.trim.height : e.orig.height
      }
    }, u: {
      get: function () {
        return this.texture._uvs.x0
      }
    }, v: {
      get: function () {
        return this.texture._uvs.y0
      }
    }, u2: {
      get: function () {
        return this.texture._uvs.x2
      }
    }, v2: {
      get: function () {
        return this.texture._uvs.y2
      }
    }, rotate: {
      get: function () {
        return !!this.texture.rotate
      }
    }, offsetX: {
      get: function () {
        var e = this.texture;
        return e.trim ? e.trim.x : 0
      }
    }, offsetY: {
      get: function () {
        return console.warn("Deprecation Warning: @Hackerham: I guess, if you are using PIXI-SPINE ATLAS region.offsetY, you want a texture, right? Use region.texture from now on."), this.spineOffsetY
      }
    }, pixiOffsetY: {
      get: function () {
        var e = this.texture;
        return e.trim ? e.trim.y : 0
      }
    }, spineOffsetY: {
      get: function () {
        var e = this.texture;
        return this.originalHeight - this.height - (e.trim ? e.trim.y : 0)
      }
    }, originalWidth: {
      get: function () {
        var e = this.texture;
        return "3" == PIXI.VERSION[0] ? e.trim ? e.trim.width : e.crop.width : e.orig.width
      }
    }, originalHeight: {
      get: function () {
        var e = this.texture;
        return "3" == PIXI.VERSION[0] ? e.trim ? e.trim.height : e.crop.height : e.orig.height
      }
    }
  })
}(PIXI.spine);

this.PIXI = this.PIXI || {}, function (t, i) {
  "use strict";
  var e, s = function () {
    function i(i, e, s) {
      this.value = i, this.time = e, this.next = null, this.isStepped = !1, this.ease = s ? "function" == typeof s ? s : t.ParticleUtils.generateEase(s) : null
    }

    return i.createList = function (e) {
      if ("list" in e) {
        var s = e.list, a = void 0, n = s[0], r = n.value, o = n.time,
          h = a = new i("string" == typeof r ? t.ParticleUtils.hexToRGB(r) : r, o, e.ease);
        if (s.length > 2 || 2 === s.length && s[1].value !== r) for (var l = 1; l < s.length; ++l) {
          var p = s[l], c = p.value, u = p.time;
          a.next = new i("string" == typeof c ? t.ParticleUtils.hexToRGB(c) : c, u), a = a.next
        }
        return h.isStepped = !!e.isStepped, h
      }
      var m = new i("string" == typeof e.start ? t.ParticleUtils.hexToRGB(e.start) : e.start, 0);
      return e.end !== e.start && (m.next = new i("string" == typeof e.end ? t.ParticleUtils.hexToRGB(e.end) : e.end, 1)), m
    }, i
  }(), a = i;

  function n(t) {
    return e(t)
  }

  e = parseInt(/^(\d+)\./.exec(i.VERSION)[1], 10) < 5 ? a.Texture.fromImage : a.Texture.from, function (t) {
    t.verbose = !1, t.DEG_TO_RADS = Math.PI / 180, t.rotatePoint = function (i, e) {
      if (i) {
        i *= t.DEG_TO_RADS;
        var s = Math.sin(i), a = Math.cos(i), n = e.x * a - e.y * s, r = e.x * s + e.y * a;
        e.x = n, e.y = r
      }
    }, t.combineRGBComponents = function (t, i, e) {
      return t << 16 | i << 8 | e
    }, t.normalize = function (i) {
      var e = 1 / t.length(i);
      i.x *= e, i.y *= e
    }, t.scaleBy = function (t, i) {
      t.x *= i, t.y *= i
    }, t.length = function (t) {
      return Math.sqrt(t.x * t.x + t.y * t.y)
    }, t.hexToRGB = function (t, i) {
      var e;
      return i || (i = {}), "#" === t.charAt(0) ? t = t.substr(1) : 0 === t.indexOf("0x") && (t = t.substr(2)), 8 === t.length && (e = t.substr(0, 2), t = t.substr(2)), i.r = parseInt(t.substr(0, 2), 16), i.g = parseInt(t.substr(2, 2), 16), i.b = parseInt(t.substr(4, 2), 16), e && (i.a = parseInt(e, 16)), i
    }, t.generateEase = function (t) {
      var i = t.length, e = 1 / i;
      return function (s) {
        var a = i * s | 0, n = (s - a * e) * i, r = t[a] || t[i - 1];
        return r.s + n * (2 * (1 - n) * (r.cp - r.s) + n * (r.e - r.s))
      }
    }, t.getBlendMode = function (t) {
      if (!t) return i.BLEND_MODES.NORMAL;
      for (t = t.toUpperCase(); t.indexOf(" ") >= 0;) t = t.replace(" ", "_");
      return i.BLEND_MODES[t] || i.BLEND_MODES.NORMAL
    }, t.createSteppedGradient = function (i, e) {
      void 0 === e && (e = 10), ("number" != typeof e || e <= 0) && (e = 10);
      var a = new s(t.hexToRGB(i[0].value), i[0].time);
      a.isStepped = !0;
      for (var n = a, r = i[0], o = 1, h = i[o], l = 1; l < e; ++l) {
        for (var p = l / e; p > h.time;) r = h, h = i[++o];
        p = (p - r.time) / (h.time - r.time);
        var c = t.hexToRGB(r.value), u = t.hexToRGB(h.value),
          m = {r: (u.r - c.r) * p + c.r, g: (u.g - c.g) * p + c.g, b: (u.b - c.b) * p + c.b};
        n.next = new s(m, l / e), n = n.next
      }
      return a
    }
  }(t.ParticleUtils || (t.ParticleUtils = {}));
  var r = function (t, i) {
    return (r = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, i) {
      t.__proto__ = i
    } || function (t, i) {
      for (var e in i) i.hasOwnProperty(e) && (t[e] = i[e])
    })(t, i)
  };

  function o(t, i) {
    function e() {
      this.constructor = t
    }

    r(t, i), t.prototype = null === i ? Object.create(i) : (e.prototype = i.prototype, new e)
  }

  function h(t) {
    return this.ease && (t = this.ease(t)), (this.next.value - this.current.value) * t + this.current.value
  }

  function l(i) {
    this.ease && (i = this.ease(i));
    var e = this.current.value, s = this.next.value, a = (s.r - e.r) * i + e.r, n = (s.g - e.g) * i + e.g,
      r = (s.b - e.b) * i + e.b;
    return t.ParticleUtils.combineRGBComponents(a, n, r)
  }

  function p(t) {
    for (this.ease && (t = this.ease(t)); t > this.next.time;) this.current = this.next, this.next = this.next.next;
    return t = (t - this.current.time) / (this.next.time - this.current.time), (this.next.value - this.current.value) * t + this.current.value
  }

  function c(i) {
    for (this.ease && (i = this.ease(i)); i > this.next.time;) this.current = this.next, this.next = this.next.next;
    i = (i - this.current.time) / (this.next.time - this.current.time);
    var e = this.current.value, s = this.next.value, a = (s.r - e.r) * i + e.r, n = (s.g - e.g) * i + e.g,
      r = (s.b - e.b) * i + e.b;
    return t.ParticleUtils.combineRGBComponents(a, n, r)
  }

  function u(t) {
    for (this.ease && (t = this.ease(t)); this.next && t > this.next.time;) this.current = this.next, this.next = this.next.next;
    return this.current.value
  }

  function m(i) {
    for (this.ease && (i = this.ease(i)); this.next && i > this.next.time;) this.current = this.next, this.next = this.next.next;
    var e = this.current.value;
    return t.ParticleUtils.combineRGBComponents(e.r, e.g, e.b)
  }

  var d, f = function () {
    function t(t) {
      void 0 === t && (t = !1), this.current = null, this.next = null, this.isColor = !!t, this.interpolate = null, this.ease = null
    }

    return t.prototype.reset = function (t) {
      this.current = t, this.next = t.next, this.next && this.next.time >= 1 ? this.interpolate = this.isColor ? l : h : t.isStepped ? this.interpolate = this.isColor ? m : u : this.interpolate = this.isColor ? c : p, this.ease = this.current.ease
    }, t
  }(), x = function (e) {
    function s(t) {
      var a = e.call(this) || this;
      return a.emitter = t, a.anchor.x = a.anchor.y = .5, a.velocity = new i.Point, a.rotationSpeed = 0, a.rotationAcceleration = 0, a.maxLife = 0, a.age = 0, a.ease = null, a.extraData = null, a.alphaList = new f, a.speedList = new f, a.speedMultiplier = 1, a.acceleration = new i.Point, a.maxSpeed = NaN, a.scaleList = new f, a.scaleMultiplier = 1, a.colorList = new f(!0), a._doAlpha = !1, a._doScale = !1, a._doSpeed = !1, a._doAcceleration = !1, a._doColor = !1, a._doNormalMovement = !1, a._oneOverLife = 0, a.next = null, a.prev = null, a.init = a.init, a.Particle_init = s.prototype.init, a.update = a.update, a.Particle_update = s.prototype.update, a.Sprite_destroy = e.prototype.destroy, a.Particle_destroy = s.prototype.destroy, a.applyArt = a.applyArt, a.kill = a.kill, a
    }

    return o(s, e), s.prototype.init = function () {
      this.age = 0, this.velocity.x = this.speedList.current.value * this.speedMultiplier, this.velocity.y = 0, t.ParticleUtils.rotatePoint(this.rotation, this.velocity), this.noRotation ? this.rotation = 0 : this.rotation *= t.ParticleUtils.DEG_TO_RADS, this.rotationSpeed *= t.ParticleUtils.DEG_TO_RADS, this.rotationAcceleration *= t.ParticleUtils.DEG_TO_RADS, this.alpha = this.alphaList.current.value, this.scale.x = this.scale.y = this.scaleList.current.value, this._doAlpha = !!this.alphaList.current.next, this._doSpeed = !!this.speedList.current.next, this._doScale = !!this.scaleList.current.next, this._doColor = !!this.colorList.current.next, this._doAcceleration = 0 !== this.acceleration.x || 0 !== this.acceleration.y, this._doNormalMovement = this._doSpeed || 0 !== this.speedList.current.value || this._doAcceleration, this._oneOverLife = 1 / this.maxLife;
      var i = this.colorList.current.value;
      this.tint = t.ParticleUtils.combineRGBComponents(i.r, i.g, i.b), this.visible = !0
    }, s.prototype.applyArt = function (t) {
      this.texture = t || i.Texture.EMPTY
    }, s.prototype.update = function (i) {
      if (this.age += i, this.age >= this.maxLife || this.age < 0) return this.kill(), -1;
      var e = this.age * this._oneOverLife;
      if (this.ease && (e = 4 === this.ease.length ? this.ease(e, 0, 1, 1) : this.ease(e)), this._doAlpha && (this.alpha = this.alphaList.interpolate(e)), this._doScale) {
        var s = this.scaleList.interpolate(e) * this.scaleMultiplier;
        this.scale.x = this.scale.y = s
      }
      if (this._doNormalMovement) {
        var a = void 0, n = void 0;
        if (this._doSpeed) {
          var r = this.speedList.interpolate(e) * this.speedMultiplier;
          t.ParticleUtils.normalize(this.velocity), t.ParticleUtils.scaleBy(this.velocity, r), a = this.velocity.x * i, n = this.velocity.y * i
        } else if (this._doAcceleration) {
          var o = this.velocity.x, h = this.velocity.y;
          if (this.velocity.x += this.acceleration.x * i, this.velocity.y += this.acceleration.y * i, this.maxSpeed) {
            var l = t.ParticleUtils.length(this.velocity);
            l > this.maxSpeed && t.ParticleUtils.scaleBy(this.velocity, this.maxSpeed / l)
          }
          a = (o + this.velocity.x) / 2 * i, n = (h + this.velocity.y) / 2 * i
        } else a = this.velocity.x * i, n = this.velocity.y * i;
        this.position.x += a, this.position.y += n
      }
      if (this._doColor && (this.tint = this.colorList.interpolate(e)), 0 !== this.rotationAcceleration) {
        var p = this.rotationSpeed + this.rotationAcceleration * i;
        this.rotation += (this.rotationSpeed + p) / 2 * i, this.rotationSpeed = p
      } else 0 !== this.rotationSpeed ? this.rotation += this.rotationSpeed * i : this.acceleration && !this.noRotation && (this.rotation = Math.atan2(this.velocity.y, this.velocity.x));
      return e
    }, s.prototype.kill = function () {
      this.emitter.recycle(this)
    }, s.prototype.destroy = function () {
      this.parent && this.parent.removeChild(this), this.Sprite_destroy(), this.emitter = this.velocity = this.colorList = this.scaleList = this.alphaList = this.speedList = this.ease = this.next = this.prev = null
    }, s.parseArt = function (i) {
      var e;
      for (e = i.length; e >= 0; --e) "string" == typeof i[e] && (i[e] = n(i[e]));
      if (t.ParticleUtils.verbose) for (e = i.length - 1; e > 0; --e) if (i[e].baseTexture !== i[e - 1].baseTexture) {
        window.console && console.warn("PixiParticles: using particle textures from different images may hinder performance in WebGL");
        break
      }
      return i
    }, s.parseData = function (t) {
      return t
    }, s
  }(i.Sprite), y = function () {
    function t(t) {
      this.segments = [], this.countingLengths = [], this.totalLength = 0, this.init(t)
    }

    return t.prototype.init = function (t) {
      if (t && t.length) if (Array.isArray(t[0])) for (var i = 0; i < t.length; ++i) for (var e = t[i], s = e[0], a = 1; a < e.length; ++a) {
        var n = e[a];
        this.segments.push({p1: s, p2: n, l: 0}), s = n
      } else for (s = t[0], i = 1; i < t.length; ++i) {
        n = t[i];
        this.segments.push({p1: s, p2: n, l: 0}), s = n
      } else this.segments.push({p1: {x: 0, y: 0}, p2: {x: 0, y: 0}, l: 0});
      for (i = 0; i < this.segments.length; ++i) {
        var r = this.segments[i], o = r.p1, h = r.p2,
          l = Math.sqrt((h.x - o.x) * (h.x - o.x) + (h.y - o.y) * (h.y - o.y));
        this.segments[i].l = l, this.totalLength += l, this.countingLengths.push(this.totalLength)
      }
    }, t.prototype.getRandomPoint = function (t) {
      var i, e, s = Math.random() * this.totalLength;
      if (1 === this.segments.length) i = this.segments[0], e = s; else for (var a = 0; a < this.countingLengths.length; ++a) if (s < this.countingLengths[a]) {
        i = this.segments[a], e = 0 === a ? s : s - this.countingLengths[a - 1];
        break
      }
      e /= i.l || 1;
      var n = i.p1, r = i.p2;
      t.x = n.x + e * (r.x - n.x), t.y = n.y + e * (r.y - n.y)
    }, t
  }(), _ = i;
  d = parseInt(/^(\d+)\./.exec(i.VERSION)[1], 10) < 5 ? _.ticker.shared : _.Ticker.shared;
  var v = new i.Point, P = function () {
      function e(t, i, e) {
        this._currentImageIndex = -1, this._particleConstructor = x, this.particleImages = null, this.startAlpha = null, this.startSpeed = null, this.minimumSpeedMultiplier = 1, this.acceleration = null, this.maxSpeed = NaN, this.startScale = null, this.minimumScaleMultiplier = 1, this.startColor = null, this.minLifetime = 0, this.maxLifetime = 0, this.minStartRotation = 0, this.maxStartRotation = 0, this.noRotation = !1, this.minRotationSpeed = 0, this.maxRotationSpeed = 0, this.particleBlendMode = 0, this.customEase = null, this.extraData = null, this._frequency = 1, this.spawnChance = 1, this.maxParticles = 1e3, this.emitterLifetime = -1, this.spawnPos = null, this.spawnType = null, this._spawnFunc = null, this.spawnRect = null, this.spawnCircle = null, this.spawnPolygonalChain = null, this.particlesPerWave = 1, this.particleSpacing = 0, this.angleStart = 0, this.rotation = 0, this.ownerPos = null, this._prevEmitterPos = null, this._prevPosIsValid = !1, this._posChanged = !1, this._parent = null, this.addAtBack = !1, this.particleCount = 0, this._emit = !1, this._spawnTimer = 0, this._emitterLife = -1, this._activeParticlesFirst = null, this._activeParticlesLast = null, this._poolFirst = null, this._origConfig = null, this._origArt = null, this._autoUpdate = !1, this._currentImageIndex = -1, this._destroyWhenComplete = !1, this._completeCallback = null, this.parent = t, i && e && this.init(i, e), this.recycle = this.recycle, this.update = this.update, this.rotate = this.rotate, this.updateSpawnPos = this.updateSpawnPos, this.updateOwnerPos = this.updateOwnerPos
      }

      return Object.defineProperty(e.prototype, "orderedArt", {
        get: function () {
          return -1 !== this._currentImageIndex
        }, set: function (t) {
          this._currentImageIndex = t ? 0 : -1
        }, enumerable: !0, configurable: !0
      }), Object.defineProperty(e.prototype, "frequency", {
        get: function () {
          return this._frequency
        }, set: function (t) {
          this._frequency = "number" == typeof t && t > 0 ? t : 1
        }, enumerable: !0, configurable: !0
      }), Object.defineProperty(e.prototype, "particleConstructor", {
        get: function () {
          return this._particleConstructor
        }, set: function (t) {
          if (t !== this._particleConstructor) {
            this._particleConstructor = t, this.cleanup();
            for (var i = this._poolFirst; i; i = i.next) i.destroy();
            this._poolFirst = null, this._origConfig && this._origArt && this.init(this._origArt, this._origConfig)
          }
        }, enumerable: !0, configurable: !0
      }), Object.defineProperty(e.prototype, "parent", {
        get: function () {
          return this._parent
        }, set: function (t) {
          this.cleanup(), this._parent = t
        }, enumerable: !0, configurable: !0
      }), e.prototype.init = function (e, a) {
        if (e && a) {
          this.cleanup(), this._origConfig = a, this._origArt = e, e = Array.isArray(e) ? e.slice() : [e];
          var n = this._particleConstructor;
          this.particleImages = n.parseArt ? n.parseArt(e) : e, a.alpha ? this.startAlpha = s.createList(a.alpha) : this.startAlpha = new s(1, 0), a.speed ? (this.startSpeed = s.createList(a.speed), this.minimumSpeedMultiplier = ("minimumSpeedMultiplier" in a ? a.minimumSpeedMultiplier : a.speed.minimumSpeedMultiplier) || 1) : (this.minimumSpeedMultiplier = 1, this.startSpeed = new s(0, 0));
          var r = a.acceleration;
          r && (r.x || r.y) ? (this.startSpeed.next = null, this.acceleration = new i.Point(r.x, r.y), this.maxSpeed = a.maxSpeed || NaN) : this.acceleration = new i.Point, a.scale ? (this.startScale = s.createList(a.scale), this.minimumScaleMultiplier = ("minimumScaleMultiplier" in a ? a.minimumScaleMultiplier : a.scale.minimumScaleMultiplier) || 1) : (this.startScale = new s(1, 0), this.minimumScaleMultiplier = 1), a.color ? this.startColor = s.createList(a.color) : this.startColor = new s({
            r: 255,
            g: 255,
            b: 255
          }, 0), a.startRotation ? (this.minStartRotation = a.startRotation.min, this.maxStartRotation = a.startRotation.max) : this.minStartRotation = this.maxStartRotation = 0, a.noRotation && (this.minStartRotation || this.maxStartRotation) ? this.noRotation = !!a.noRotation : this.noRotation = !1, a.rotationSpeed ? (this.minRotationSpeed = a.rotationSpeed.min, this.maxRotationSpeed = a.rotationSpeed.max) : this.minRotationSpeed = this.maxRotationSpeed = 0, this.rotationAcceleration = a.rotationAcceleration || 0, this.minLifetime = a.lifetime.min, this.maxLifetime = a.lifetime.max, this.particleBlendMode = t.ParticleUtils.getBlendMode(a.blendMode), a.ease ? this.customEase = "function" == typeof a.ease ? a.ease : t.ParticleUtils.generateEase(a.ease) : this.customEase = null, n.parseData ? this.extraData = n.parseData(a.extraData) : this.extraData = a.extraData || null, this.spawnRect = this.spawnCircle = null, this.particlesPerWave = 1, a.particlesPerWave && a.particlesPerWave > 1 && (this.particlesPerWave = a.particlesPerWave), this.particleSpacing = 0, this.angleStart = 0, this.parseSpawnType(a), this.frequency = a.frequency, this.spawnChance = "number" == typeof a.spawnChance && a.spawnChance > 0 ? a.spawnChance : 1, this.emitterLifetime = a.emitterLifetime || -1, this.maxParticles = a.maxParticles > 0 ? a.maxParticles : 1e3, this.addAtBack = !!a.addAtBack, this.rotation = 0, this.ownerPos = new i.Point, this.spawnPos = new i.Point(a.pos.x, a.pos.y), this.initAdditional(e, a), this._prevEmitterPos = this.spawnPos.clone(), this._prevPosIsValid = !1, this._spawnTimer = 0, this.emit = void 0 === a.emit || !!a.emit, this.autoUpdate = !!a.autoUpdate, this.orderedArt = !!a.orderedArt
        }
      }, e.prototype.initAdditional = function (t, i) {
      }, e.prototype.parseSpawnType = function (t) {
        var e;
        switch (t.spawnType) {
          case"rect":
            this.spawnType = "rect", this._spawnFunc = this._spawnRect;
            var s = t.spawnRect;
            this.spawnRect = new i.Rectangle(s.x, s.y, s.w, s.h);
            break;
          case"circle":
            this.spawnType = "circle", this._spawnFunc = this._spawnCircle, e = t.spawnCircle, this.spawnCircle = new i.Circle(e.x, e.y, e.r);
            break;
          case"ring":
            this.spawnType = "ring", this._spawnFunc = this._spawnRing, e = t.spawnCircle, this.spawnCircle = new i.Circle(e.x, e.y, e.r), this.spawnCircle.minRadius = e.minR;
            break;
          case"burst":
            this.spawnType = "burst", this._spawnFunc = this._spawnBurst, this.particleSpacing = t.particleSpacing, this.angleStart = t.angleStart ? t.angleStart : 0;
            break;
          case"point":
            this.spawnType = "point", this._spawnFunc = this._spawnPoint;
            break;
          case"polygonalChain":
            this.spawnType = "polygonalChain", this._spawnFunc = this._spawnPolygonalChain, this.spawnPolygonalChain = new y(t.spawnPolygon);
            break;
          default:
            this.spawnType = "point", this._spawnFunc = this._spawnPoint
        }
      }, e.prototype.recycle = function (t) {
        t.next && (t.next.prev = t.prev), t.prev && (t.prev.next = t.next), t === this._activeParticlesLast && (this._activeParticlesLast = t.prev), t === this._activeParticlesFirst && (this._activeParticlesFirst = t.next), t.prev = null, t.next = this._poolFirst, this._poolFirst = t, t.parent && t.parent.removeChild(t), --this.particleCount
      }, e.prototype.rotate = function (i) {
        if (this.rotation !== i) {
          var e = i - this.rotation;
          this.rotation = i, t.ParticleUtils.rotatePoint(e, this.spawnPos), this._posChanged = !0
        }
      }, e.prototype.updateSpawnPos = function (t, i) {
        this._posChanged = !0, this.spawnPos.x = t, this.spawnPos.y = i
      }, e.prototype.updateOwnerPos = function (t, i) {
        this._posChanged = !0, this.ownerPos.x = t, this.ownerPos.y = i
      }, e.prototype.resetPositionTracking = function () {
        this._prevPosIsValid = !1
      }, Object.defineProperty(e.prototype, "emit", {
        get: function () {
          return this._emit
        }, set: function (t) {
          this._emit = !!t, this._emitterLife = this.emitterLifetime
        }, enumerable: !0, configurable: !0
      }), Object.defineProperty(e.prototype, "autoUpdate", {
        get: function () {
          return this._autoUpdate
        }, set: function (t) {
          this._autoUpdate && !t ? d.remove(this.update, this) : !this._autoUpdate && t && d.add(this.update, this), this._autoUpdate = !!t
        }, enumerable: !0, configurable: !0
      }), e.prototype.playOnceAndDestroy = function (t) {
        this.autoUpdate = !0, this.emit = !0, this._destroyWhenComplete = !0, this._completeCallback = t
      }, e.prototype.playOnce = function (t) {
        this.emit = !0, this._completeCallback = t
      }, e.prototype.update = function (t) {
        if (this._autoUpdate && (t = t / i.settings.TARGET_FPMS / 1e3), this._parent) {
          var e, s, a, n, r;
          for (s = this._activeParticlesFirst; s; s = a) a = s.next, s.update(t);
          this._prevPosIsValid && (n = this._prevEmitterPos.x, r = this._prevEmitterPos.y);
          var o = this.ownerPos.x + this.spawnPos.x, h = this.ownerPos.y + this.spawnPos.y;
          if (this._emit) for (this._spawnTimer -= t < 0 ? 0 : t; this._spawnTimer <= 0;) {
            if (this._emitterLife >= 0 && (this._emitterLife -= this._frequency, this._emitterLife <= 0)) {
              this._spawnTimer = 0, this._emitterLife = 0, this.emit = !1;
              break
            }
            if (this.particleCount >= this.maxParticles) this._spawnTimer += this._frequency; else {
              var l = void 0;
              if (l = this.minLifetime === this.maxLifetime ? this.minLifetime : Math.random() * (this.maxLifetime - this.minLifetime) + this.minLifetime, -this._spawnTimer < l) {
                var p = void 0, c = void 0;
                if (this._prevPosIsValid && this._posChanged) {
                  var u = 1 + this._spawnTimer / t;
                  p = (o - n) * u + n, c = (h - r) * u + r
                } else p = o, c = h;
                e = 0;
                for (var m = Math.min(this.particlesPerWave, this.maxParticles - this.particleCount); e < m; ++e) if (!(this.spawnChance < 1 && Math.random() >= this.spawnChance)) {
                  var d = void 0;
                  if (this._poolFirst ? (d = this._poolFirst, this._poolFirst = this._poolFirst.next, d.next = null) : d = new this.particleConstructor(this), this.particleImages.length > 1 ? -1 !== this._currentImageIndex ? (d.applyArt(this.particleImages[this._currentImageIndex++]), (this._currentImageIndex < 0 || this._currentImageIndex >= this.particleImages.length) && (this._currentImageIndex = 0)) : d.applyArt(this.particleImages[Math.floor(Math.random() * this.particleImages.length)]) : d.applyArt(this.particleImages[0]), d.alphaList.reset(this.startAlpha), 1 !== this.minimumSpeedMultiplier && (d.speedMultiplier = Math.random() * (1 - this.minimumSpeedMultiplier) + this.minimumSpeedMultiplier), d.speedList.reset(this.startSpeed), d.acceleration.x = this.acceleration.x, d.acceleration.y = this.acceleration.y, d.maxSpeed = this.maxSpeed, 1 !== this.minimumScaleMultiplier && (d.scaleMultiplier = Math.random() * (1 - this.minimumScaleMultiplier) + this.minimumScaleMultiplier), d.scaleList.reset(this.startScale), d.colorList.reset(this.startColor), this.minRotationSpeed === this.maxRotationSpeed ? d.rotationSpeed = this.minRotationSpeed : d.rotationSpeed = Math.random() * (this.maxRotationSpeed - this.minRotationSpeed) + this.minRotationSpeed, d.rotationAcceleration = this.rotationAcceleration, d.noRotation = this.noRotation, d.maxLife = l, d.blendMode = this.particleBlendMode, d.ease = this.customEase, d.extraData = this.extraData, this.applyAdditionalProperties(d), this._spawnFunc(d, p, c, e), d.init(), d.parent) {
                    var f = this._parent.children;
                    if (f[0] === d) f.shift(); else if (f[f.length - 1] === d) f.pop(); else {
                      var x = f.indexOf(d);
                      f.splice(x, 1)
                    }
                    this.addAtBack ? f.unshift(d) : f.push(d)
                  } else this.addAtBack ? this._parent.addChildAt(d, 0) : this._parent.addChild(d);
                  this._activeParticlesLast ? (this._activeParticlesLast.next = d, d.prev = this._activeParticlesLast, this._activeParticlesLast = d) : this._activeParticlesLast = this._activeParticlesFirst = d, ++this.particleCount, d.update(-this._spawnTimer)
                }
              }
              this._spawnTimer += this._frequency
            }
          }
          if (this._posChanged && (this._prevEmitterPos.x = o, this._prevEmitterPos.y = h, this._prevPosIsValid = !0, this._posChanged = !1), !this._emit && !this._activeParticlesFirst) {
            if (this._completeCallback) {
              var y = this._completeCallback;
              this._completeCallback = null, y()
            }
            this._destroyWhenComplete && this.destroy()
          }
        }
      }, e.prototype.applyAdditionalProperties = function (t) {
      }, e.prototype._spawnPoint = function (t, i, e) {
        this.minStartRotation === this.maxStartRotation ? t.rotation = this.minStartRotation + this.rotation : t.rotation = Math.random() * (this.maxStartRotation - this.minStartRotation) + this.minStartRotation + this.rotation, t.position.x = i, t.position.y = e
      }, e.prototype._spawnRect = function (i, e, s) {
        this.minStartRotation === this.maxStartRotation ? i.rotation = this.minStartRotation + this.rotation : i.rotation = Math.random() * (this.maxStartRotation - this.minStartRotation) + this.minStartRotation + this.rotation, v.x = Math.random() * this.spawnRect.width + this.spawnRect.x, v.y = Math.random() * this.spawnRect.height + this.spawnRect.y, 0 !== this.rotation && t.ParticleUtils.rotatePoint(this.rotation, v), i.position.x = e + v.x, i.position.y = s + v.y
      }, e.prototype._spawnCircle = function (i, e, s) {
        this.minStartRotation === this.maxStartRotation ? i.rotation = this.minStartRotation + this.rotation : i.rotation = Math.random() * (this.maxStartRotation - this.minStartRotation) + this.minStartRotation + this.rotation, v.x = Math.random() * this.spawnCircle.radius, v.y = 0, t.ParticleUtils.rotatePoint(360 * Math.random(), v), v.x += this.spawnCircle.x, v.y += this.spawnCircle.y, 0 !== this.rotation && t.ParticleUtils.rotatePoint(this.rotation, v), i.position.x = e + v.x, i.position.y = s + v.y
      }, e.prototype._spawnRing = function (i, e, s) {
        var a = this.spawnCircle;
        this.minStartRotation === this.maxStartRotation ? i.rotation = this.minStartRotation + this.rotation : i.rotation = Math.random() * (this.maxStartRotation - this.minStartRotation) + this.minStartRotation + this.rotation, a.minRadius !== a.radius ? v.x = Math.random() * (a.radius - a.minRadius) + a.minRadius : v.x = a.radius, v.y = 0;
        var n = 360 * Math.random();
        i.rotation += n, t.ParticleUtils.rotatePoint(n, v), v.x += this.spawnCircle.x, v.y += this.spawnCircle.y, 0 !== this.rotation && t.ParticleUtils.rotatePoint(this.rotation, v), i.position.x = e + v.x, i.position.y = s + v.y
      }, e.prototype._spawnPolygonalChain = function (i, e, s) {
        this.minStartRotation === this.maxStartRotation ? i.rotation = this.minStartRotation + this.rotation : i.rotation = Math.random() * (this.maxStartRotation - this.minStartRotation) + this.minStartRotation + this.rotation, this.spawnPolygonalChain.getRandomPoint(v), 0 !== this.rotation && t.ParticleUtils.rotatePoint(this.rotation, v), i.position.x = e + v.x, i.position.y = s + v.y
      }, e.prototype._spawnBurst = function (t, i, e, s) {
        0 === this.particleSpacing ? t.rotation = 360 * Math.random() : t.rotation = this.angleStart + this.particleSpacing * s + this.rotation, t.position.x = i, t.position.y = e
      }, e.prototype.cleanup = function () {
        var t, i;
        for (t = this._activeParticlesFirst; t; t = i) i = t.next, this.recycle(t), t.parent && t.parent.removeChild(t);
        this._activeParticlesFirst = this._activeParticlesLast = null, this.particleCount = 0
      }, e.prototype.destroy = function () {
        var t;
        this.autoUpdate = !1, this.cleanup();
        for (var i = this._poolFirst; i; i = t) t = i.next, i.destroy();
        this._poolFirst = this._parent = this.particleImages = this.spawnPos = this.ownerPos = this.startColor = this.startScale = this.startAlpha = this.startSpeed = this.customEase = this._completeCallback = null
      }, e
    }(), g = new i.Point,
    S = ["pow", "sqrt", "abs", "floor", "round", "ceil", "E", "PI", "sin", "cos", "tan", "asin", "acos", "atan", "atan2", "log"],
    w = new RegExp(["[01234567890\\.\\*\\-\\+\\/\\(\\)x ,]"].concat(S).join("|"), "g");
  var R = function (e) {
    function s(t) {
      var s = e.call(this, t) || this;
      return s.path = null, s.initialRotation = 0, s.initialPosition = new i.Point, s.movement = 0, s
    }

    return o(s, e), s.prototype.init = function () {
      this.initialRotation = this.rotation, this.Particle_init(), this.path = this.extraData.path, this._doNormalMovement = !this.path, this.movement = 0, this.initialPosition.x = this.position.x, this.initialPosition.y = this.position.y
    }, s.prototype.update = function (i) {
      var e = this.Particle_update(i);
      if (e >= 0 && this.path) {
        if (this._doSpeed) {
          var s = this.speedList.interpolate(e) * this.speedMultiplier;
          this.movement += s * i
        } else {
          s = this.speedList.current.value * this.speedMultiplier;
          this.movement += s * i
        }
        g.x = this.movement, g.y = this.path(this.movement), t.ParticleUtils.rotatePoint(this.initialRotation, g), this.position.x = this.initialPosition.x + g.x, this.position.y = this.initialPosition.y + g.y
      }
      return e
    }, s.prototype.destroy = function () {
      this.Particle_destroy(), this.path = this.initialPosition = null
    }, s.parseArt = function (t) {
      return x.parseArt(t)
    }, s.parseData = function (i) {
      var e = {};
      if (i && i.path) try {
        e.path = function (t) {
          for (var i = t.match(w), e = i.length - 1; e >= 0; --e) S.indexOf(i[e]) >= 0 && (i[e] = "Math." + i[e]);
          return t = i.join(""), new Function("x", "return " + t + ";")
        }(i.path)
      } catch (i) {
        t.ParticleUtils.verbose && console.error("PathParticle: error in parsing path expression"), e.path = null
      } else t.ParticleUtils.verbose && console.error("PathParticle requires a path string in extraData!"), e.path = null;
      return e
    }, s
  }(x), C = function (t) {
    function e(i) {
      var e = t.call(this, i) || this;
      return e.textures = null, e.duration = 0, e.framerate = 0, e.elapsed = 0, e.loop = !1, e
    }

    return o(e, t), e.prototype.init = function () {
      this.Particle_init(), this.elapsed = 0, this.framerate < 0 && (this.duration = this.maxLife, this.framerate = this.textures.length / this.duration)
    }, e.prototype.applyArt = function (t) {
      this.textures = t.textures, this.framerate = t.framerate, this.duration = t.duration, this.loop = t.loop
    }, e.prototype.update = function (t) {
      var e = this.Particle_update(t);
      if (e >= 0) {
        this.elapsed += t, this.elapsed > this.duration && (this.loop ? this.elapsed = this.elapsed % this.duration : this.elapsed = this.duration - 1e-6);
        var s = this.elapsed * this.framerate + 1e-7 | 0;
        this.texture = this.textures[s] || i.Texture.EMPTY
      }
      return e
    }, e.prototype.destroy = function () {
      this.Particle_destroy(), this.textures = null
    }, e.parseArt = function (t) {
      for (var e = [], s = 0; s < t.length; ++s) {
        for (var a = t[s], r = e[s] = {}, o = r.textures = [], h = a.textures, l = 0; l < h.length; ++l) {
          var p = h[l];
          if ("string" == typeof p) o.push(n(p)); else if (p instanceof i.Texture) o.push(p); else {
            var c = p.count || 1;
            for (p = "string" == typeof p.texture ? n(p.texture) : p.texture; c > 0; --c) o.push(p)
          }
        }
        "matchLife" === a.framerate ? (r.framerate = -1, r.duration = 0, r.loop = !1) : (r.loop = !!a.loop, r.framerate = a.framerate > 0 ? a.framerate : 60, r.duration = o.length / r.framerate)
      }
      return e
    }, e
  }(x);
  t.AnimatedParticle = C, t.Emitter = P, t.GetTextureFromString = n, t.Particle = x, t.PathParticle = R, t.PolygonalChain = y, t.PropertyList = f, t.PropertyNode = s
}(this.PIXI.particles = this.PIXI.particles || {}, PIXI);
pixi_display || (pixi_display = {}), Object.assign(PIXI.Container.prototype, {
  render: function (e) {
    this._activeParentLayer && this._activeParentLayer != e._activeLayer || (this.visible ? (this.displayOrder = e.incDisplayOrder(), this.worldAlpha <= 0 || !this.renderable || (e._activeLayer = null, this.containerRenderWebGL(e), e._activeLayer = this._activeParentLayer)) : this.displayOrder = 0)
  }, renderCanvas: function (e) {
    this._activeParentLayer && this._activeParentLayer != e._activeLayer || (this.visible ? (this.displayOrder = e.incDisplayOrder(), this.worldAlpha <= 0 || !this.renderable || (e._activeLayer = null, this.containerRenderCanvas(e), e._activeLayer = this._activeParentLayer)) : this.displayOrder = 0)
  }, containerRenderWebGL: PIXI.Container.prototype.render, containerRenderCanvas: PIXI.Container.prototype.renderCanvas
}), Object.assign(PIXI.DisplayObject.prototype, {
  parentLayer: null,
  _activeParentLayer: null,
  parentGroup: null,
  zOrder: 0,
  zIndex: 0,
  updateOrder: 0,
  displayOrder: 0,
  layerableChildren: !0,
  isLayer: !1
}), PIXI.ParticleContainer ? PIXI.ParticleContainer.prototype.layerableChildren = !1 : PIXI.ParticleContainer && (PIXI.ParticleContainer.prototype.layerableChildren = !1);
var pixi_display, __extends = this && this.__extends || function () {
  var e = function (t, r) {
    return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
      e.__proto__ = t
    } || function (e, t) {
      for (var r in t) t.hasOwnProperty(r) && (e[r] = t[r])
    })(t, r)
  };
  return function (t, r) {
    function i() {
      this.constructor = t
    }

    e(t, r), t.prototype = null === r ? Object.create(r) : (i.prototype = r.prototype, new i)
  }
}();
!function (e) {
  var t = function (e) {
    function t(t, r) {
      var i = e.call(this) || this;
      return i._activeLayer = null, i._activeStage = null, i._activeChildren = [], i._lastUpdateId = -1, i.useRenderTexture = !1, i.useDoubleBuffer = !1, i.sortPriority = 0, i.clearColor = new Float32Array([0, 0, 0, 0]), i.canDrawWithoutLayer = !1, i.canDrawInParentStage = !0, i.zIndex = 0, i.enableSort = !1, i._tempResult = [], i._tempZero = [], i.useZeroOptimization = !1, i.zIndex = t, i.enableSort = !!r, "function" == typeof r && i.on("sort", r), i
    }

    return __extends(t, e), t.prototype.doSort = function (e, r) {
      if (this.listeners("sort", !0)) for (var i = 0; i < r.length; i++) this.emit("sort", r[i]);
      this.useZeroOptimization ? this.doSortWithZeroOptimization(e, r) : r.sort(t.compareZIndex)
    }, t.compareZIndex = function (e, t) {
      return e.zOrder < t.zOrder ? -1 : e.zOrder > t.zOrder ? 1 : e.updateOrder - t.updateOrder
    }, t.prototype.doSortWithZeroOptimization = function (e, t) {
      throw new Error("not implemented yet")
    }, t.prototype.clear = function () {
      this._activeLayer = null, this._activeStage = null, this._activeChildren.length = 0
    }, t.prototype.addDisplayObject = function (e, t) {
      this.check(e), t._activeParentLayer = this._activeLayer, this._activeLayer ? this._activeLayer._activeChildren.push(t) : this._activeChildren.push(t)
    }, t.prototype.foundLayer = function (e, r) {
      this.check(e), null != this._activeLayer && t.conflict(), this._activeLayer = r, this._activeStage = e
    }, t.prototype.foundStage = function (e) {
      this._activeLayer || this.canDrawInParentStage || this.clear()
    }, t.prototype.check = function (e) {
      if (this._lastUpdateId < t._layerUpdateId) this._lastUpdateId = t._layerUpdateId, this.clear(), this._activeStage = e; else if (this.canDrawInParentStage) {
        for (var r = this._activeStage; r && r != e;) r = r._activeParentStage;
        if (this._activeStage = r, null == r) return void this.clear()
      }
    }, t.conflict = function () {
      t._lastLayerConflict + 5e3 < Date.now() && (t._lastLayerConflict = Date.now(), console.log("PIXI-display plugin found two layers with the same group in one stage - that's not healthy. Please place a breakpoint here and debug it"))
    }, t._layerUpdateId = 0, t._lastLayerConflict = 0, t
  }(PIXI.utils.EventEmitter);
  e.Group = t
}(pixi_display || (pixi_display = {})), function (e) {
  function t(t, r, i, n, a) {
    this.search || (this.search = new e.LayersTreeSearch), this.search.findHit(t, r, i, n);
    var s = this.delayedEvents;
    if (s && s.length) {
      t.stopPropagationHint = !1;
      var o = s.length;
      this.delayedEvents = [];
      for (var u = 0; u < o; u++) {
        var h = s[u], l = h.displayObject, d = h.eventString, p = h.eventData;
        p.stopsPropagatingAt === l && (p.stopPropagationHint = !0), this.dispatchEvent(l, d, p)
      }
    }
  }

  e.processInteractive51 = t, e.patchInteractionManager = function (r) {
    r && (r.search ? r.search.worksWithDisplay || (r.search = new e.LayersTreeSearch) : r.processInteractive = t)
  }
}(pixi_display || (pixi_display = {})), function (e) {
  var t = function () {
    function e(e) {
      this.layer = e, this.renderTexture = null, this.doubleBuffer = null, this.currentBufferIndex = 0, this._tempRenderTarget = null, this._tempRenderTargetSource = new PIXI.Rectangle
    }

    return e.prototype.initRenderTexture = function (e) {
      var t = e ? e.screen.width : 100, r = e ? e.screen.height : 100, i = e ? e.resolution : PIXI.settings.RESOLUTION;
      this.renderTexture = PIXI.RenderTexture.create({
        width: t,
        height: r,
        resolution: i
      }), this.layer.group.useDoubleBuffer && (this.doubleBuffer = [PIXI.RenderTexture.create({
        width: t,
        height: r,
        resolution: i
      }), PIXI.RenderTexture.create({width: t, height: r, resolution: i})])
    }, e.prototype.getRenderTexture = function () {
      return this.renderTexture || this.initRenderTexture(), this.renderTexture
    }, e.prototype.pushTexture = function (e) {
      var t = e.screen;
      this.renderTexture || this.initRenderTexture(e);
      var r = this.renderTexture, i = this.layer.group, n = this.doubleBuffer;
      if (r.width === t.width && r.height === t.height && r.baseTexture.resolution === e.resolution || (r.baseTexture.resolution = e.resolution, r.resize(t.width, t.height), n && (n[0].baseTexture.resolution = e.resolution, n[0].resize(t.width, t.height), n[1].baseTexture.resolution = e.resolution, n[1].resize(t.width, t.height))), this._tempRenderTarget = e.renderTexture.current, this._tempRenderTargetSource.copyFrom(e.renderTexture.sourceFrame), e.batch.flush(), i.useDoubleBuffer) {
        var a = n[this.currentBufferIndex];
        a.baseTexture._glTextures[e.CONTEXT_UID] || (e.renderTexture.bind(a, void 0, void 0), e.texture.bind(a), i.clearColor && e.renderTexture.clear(i.clearColor)), e.texture.unbind(r), r.baseTexture._glTextures = a.baseTexture._glTextures, r.baseTexture.framebuffer = a.baseTexture.framebuffer, a = n[1 - this.currentBufferIndex], e.renderTexture.bind(a, void 0, void 0)
      } else e.renderTexture.bind(r, void 0, void 0);
      i.clearColor && e.renderTexture.clear(i.clearColor);
      var s = e.filter.defaultFilterStack;
      s.length > 1 && (s[s.length - 1].renderTexture = e.renderTexture.current)
    }, e.prototype.popTexture = function (e) {
      e.batch.flush();
      var t = e.filter.defaultFilterStack;
      t.length > 1 && (t[t.length - 1].renderTexture = this._tempRenderTarget), e.renderTexture.bind(this._tempRenderTarget, this._tempRenderTargetSource, void 0), this._tempRenderTarget = null;
      var r = this.renderTexture, i = this.layer.group, n = this.doubleBuffer;
      if (i.useDoubleBuffer) {
        e.texture.unbind(r), this.currentBufferIndex = 1 - this.currentBufferIndex;
        var a = n[this.currentBufferIndex];
        r.baseTexture._glTextures = a.baseTexture._glTextures, r.baseTexture.framebuffer = a.baseTexture.framebuffer
      }
    }, e.prototype.destroy = function () {
      this.renderTexture && (this.renderTexture.destroy(), this.doubleBuffer && (this.doubleBuffer[0].destroy(!0), this.doubleBuffer[1].destroy(!0)))
    }, e
  }();
  e.LayerTextureCache = t;
  var r = function (r) {
    function i(t) {
      void 0 === t && (t = null);
      var i = r.call(this) || this;
      return i.isLayer = !0, i.group = null, i._activeChildren = [], i._tempChildren = null, i._activeStageParent = null, i._sortedChildren = [], i._tempLayerParent = null, i.insertChildrenBeforeActive = !0, i.insertChildrenAfterActive = !0, null != t ? (i.group = t, i.zIndex = t.zIndex) : i.group = new e.Group(0, !1), i._tempChildren = i.children, i
    }

    return __extends(i, r), i.prototype.beginWork = function (e) {
      var t = this._activeChildren;
      this._activeStageParent = e, this.group.foundLayer(e, this);
      var r = this.group._activeChildren;
      t.length = 0;
      for (var i = 0; i < r.length; i++) r[i]._activeParentLayer = this, t.push(r[i]);
      r.length = 0
    }, i.prototype.endWork = function () {
      for (var e = this.children, t = this._activeChildren, r = this._sortedChildren, i = 0; i < t.length; i++) this.emit("display", t[i]);
      if (r.length = 0, this.insertChildrenBeforeActive) for (i = 0; i < e.length; i++) r.push(e[i]);
      for (i = 0; i < t.length; i++) r.push(t[i]);
      if (!this.insertChildrenBeforeActive && this.insertChildrenAfterActive) for (i = 0; i < e.length; i++) r.push(e[i]);
      this.group.enableSort && this.doSort()
    }, Object.defineProperty(i.prototype, "useRenderTexture", {
      get: function () {
        return this.group.useRenderTexture
      }, set: function (e) {
        this.group.useRenderTexture = e
      }, enumerable: !0, configurable: !0
    }), Object.defineProperty(i.prototype, "useDoubleBuffer", {
      get: function () {
        return this.group.useDoubleBuffer
      }, set: function (e) {
        this.group.useDoubleBuffer = e
      }, enumerable: !0, configurable: !0
    }), Object.defineProperty(i.prototype, "clearColor", {
      get: function () {
        return this.group.clearColor
      }, set: function (e) {
        this.group.clearColor = e
      }, enumerable: !0, configurable: !0
    }), Object.defineProperty(i.prototype, "sortPriority", {
      get: function () {
        return this.group.sortPriority
      }, set: function (e) {
        this.group.sortPriority = e
      }, enumerable: !0, configurable: !0
    }), i.prototype.getRenderTexture = function () {
      return this.textureCache || (this.textureCache = new t(this)), this.textureCache.getRenderTexture()
    }, i.prototype.updateDisplayLayers = function () {
    }, i.prototype.doSort = function () {
      this.group.doSort(this, this._sortedChildren)
    }, i.prototype._preRender = function (e) {
      return (!this._activeParentLayer || this._activeParentLayer == e._activeLayer) && (this.visible ? (this.displayOrder = e.incDisplayOrder(), !(this.worldAlpha <= 0 || !this.renderable) && (this.children !== this._sortedChildren && this._tempChildren != this.children && (this._tempChildren = this.children), this._boundsID++, this.children = this._sortedChildren, this._tempLayerParent = e._activeLayer, e._activeLayer = this, !0)) : (this.displayOrder = 0, !1))
    }, i.prototype._postRender = function (e) {
      this.children = this._tempChildren, e._activeLayer = this._tempLayerParent, this._tempLayerParent = null
    }, i.prototype.render = function (e) {
      this._preRender(e) && (this.group.useRenderTexture && (this.textureCache || (this.textureCache = new t(this)), this.textureCache.pushTexture(e)), this.containerRenderWebGL(e), this._postRender(e), this.group.useRenderTexture && this.textureCache.popTexture(e))
    }, i.prototype.destroy = function (e) {
      this.textureCache && (this.textureCache.destroy(), this.textureCache = null), r.prototype.destroy.call(this, e)
    }, i
  }(PIXI.Container);
  e.Layer = r, r.prototype.renderCanvas = function (e) {
    this._preRender(e) && (this.containerRenderCanvas(e), this._postRender(e))
  }
}(pixi_display || (pixi_display = {})), function (e) {
  var t = PIXI.Point, r = function () {
    function e() {
      this._tempPoint = new t, this._queue = [[], []], this._eventDisplayOrder = 0, this.worksWithDisplay = !0
    }

    return e.prototype.recursiveFindHit = function (e, t, r, i, n) {
      if (!t || !t.visible) return 0;
      var a = 0, s = i = t.interactive || i;
      t.hitArea && (s = !1), t._activeParentLayer && (n = !1);
      var o = t._mask;
      r < 1 / 0 && o && (o.containsPoint(e) || (n = !0)), r < 1 / 0 && t.filterArea && (t.filterArea.contains(e.x, e.y) || (n = !0));
      var u = t.children;
      if (t.interactiveChildren && u) for (var h = u.length - 1; h >= 0; h--) {
        var l = u[h], d = this.recursiveFindHit(e, l, r, s, n);
        if (d) {
          if (!l.parent) continue;
          a = d, r = d
        }
      }
      return i && (n ? t.interactive && this._queueAdd(t, 0) : (r < t.displayOrder && (t.hitArea ? (t.worldTransform.applyInverse(e, this._tempPoint), t.hitArea.contains(this._tempPoint.x, this._tempPoint.y) && (a = t.displayOrder)) : t.containsPoint && t.containsPoint(e) && (a = t.displayOrder)), t.interactive && this._queueAdd(t, a === 1 / 0 ? 0 : a))), a
    }, e.prototype.findHit = function (e, t, r, i) {
      var n = null, a = null;
      a = e.data && e.data.global ? (n = e).data.global : e, this._startInteractionProcess(), this.recursiveFindHit(a, t, i ? 0 : 1 / 0, !1, !1), this._finishInteractionProcess(n, r)
    }, e.prototype._startInteractionProcess = function () {
      this._eventDisplayOrder = 1, this._queue || (this._queue = [[], []]), this._queue[0].length = 0, this._queue[1].length = 0
    }, e.prototype._queueAdd = function (e, t) {
      var r = this._queue;
      if (t < this._eventDisplayOrder) r[0].push(e); else {
        if (t > this._eventDisplayOrder) {
          this._eventDisplayOrder = t;
          for (var i = r[1], n = 0, a = i.length; n < a; n++) r[0].push(i[n]);
          r[1].length = 0
        }
        r[1].push(e)
      }
    }, e.prototype._finishInteractionProcess = function (e, t) {
      for (var r = this._queue, i = r[0], n = 0, a = i.length; n < a; n++) e ? t && t(e, i[n], !1) : t(i[n], !1);
      for (n = 0, a = (i = r[1]).length; n < a; n++) e ? (e.target || (e.target = i[n]), t && t(e, i[n], !0)) : t(i[n], !0)
    }, e
  }();
  e.LayersTreeSearch = r
}(pixi_display || (pixi_display = {})), function (e) {
  var t = function (t) {
    function r() {
      var e = t.call(this) || this;
      return e.isStage = !0, e._tempGroups = [], e._activeLayers = [], e._activeParentStage = null, e
    }

    return __extends(r, t), r.prototype.clear = function () {
      this._activeLayers.length = 0, this._tempGroups.length = 0
    }, r.prototype.destroy = function (e) {
      this.clear(), t.prototype.destroy.call(this, e)
    }, r.prototype._addRecursive = function (e) {
      if (e.visible) {
        if (e.isLayer) {
          var t = e;
          this._activeLayers.push(t), t.beginWork(this)
        }
        if (e != this && e.isStage) {
          e.updateAsChildStage(this)
        } else {
          var i = e.parentGroup;
          null != i && i.addDisplayObject(this, e);
          var n = e.parentLayer;
          if (null != n && (i = n.group).addDisplayObject(this, e), e.updateOrder = ++r._updateOrderCounter, !(e.alpha <= 0 || !e.renderable || !e.layerableChildren || i && i.sortPriority)) {
            var a = e.children;
            if (a && a.length) for (var s = 0; s < a.length; s++) this._addRecursive(a[s])
          }
        }
      }
    }, r.prototype._addRecursiveChildren = function (e) {
      if (!(e.alpha <= 0) && e.renderable && e.layerableChildren) {
        var t = e.children;
        if (t && t.length) for (var r = 0; r < t.length; r++) this._addRecursive(t[r])
      }
    }, r.prototype._updateStageInner = function () {
      this.clear(), this._addRecursive(this);
      for (var e = this._activeLayers, t = 0; t < e.length; t++) {
        if ((n = e[t]).group.sortPriority) {
          n.endWork();
          for (var r = n._sortedChildren, i = 0; i < r.length; i++) this._addRecursiveChildren(r[i])
        }
      }
      for (t = 0; t < e.length; t++) {
        var n;
        (n = e[t]).group.sortPriority || n.endWork()
      }
    }, r.prototype.updateAsChildStage = function (e) {
      this._activeParentStage = e, r._updateOrderCounter = 0, this._updateStageInner()
    }, r.prototype.updateStage = function () {
      this._activeParentStage = null, e.Group._layerUpdateId++, this._updateStageInner()
    }, r._updateOrderCounter = 0, r
  }(e.Layer);
  e.Stage = t
}(pixi_display || (pixi_display = {})), function (e) {
  Object.assign(PIXI.Renderer.prototype, {
    _lastDisplayOrder: 0, _activeLayer: null, incDisplayOrder: function () {
      return ++this._lastDisplayOrder
    }, _oldRender: PIXI.Renderer.prototype.render, render: function (t, r, i, n, a) {
      r || (this._lastDisplayOrder = 0), this._activeLayer = null, t.isStage && t.updateStage(), e.patchInteractionManager(this.plugins.interaction), this._oldRender(t, r, i, n, a)
    }
  });
  var t = PIXI.CanvasRenderer;
  t && Object.assign(t.prototype, {
    _lastDisplayOrder: 0, _activeLayer: null, incDisplayOrder: function () {
      return ++this._lastDisplayOrder
    }, _oldRender: t.prototype.render, render: function (t, r, i, n, a) {
      r || (this._lastDisplayOrder = 0), this._activeLayer = null, t.isStage && t.updateStage(), e.patchInteractionManager(this.plugins.interaction), this._oldRender(t, r, i, n, a)
    }
  })
}(pixi_display || (pixi_display = {})), function (e) {
  PIXI.display = e
}(pixi_display || (pixi_display = {}));
var t = function (e, n) {
  return (t = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (t, e) {
    t.__proto__ = e
  } || function (t, e) {
    for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
  })(e, n)
};
var e = ["pointerover", "pointerenter", "pointerdown", "pointermove", "pointerup", "pointercancel", "pointerout", "pointerleave", "gotpointercapture", "lostpointercapture", "mouseover", "mouseenter", "mousedown", "mousemove", "mouseup", "mousecancel", "mouseout", "mouseleave", "touchover", "touchenter", "touchdown", "touchmove", "touchup", "touchcancel", "touchout", "touchleave"],
  n = function (n) {
    function o(t, o) {
      var i = n.call(this, t) || this;
      return i.styles = o, e.forEach(function (t) {
        i.on(t, function (t) {
          return i.handleInteraction(t)
        })
      }), i
    }

    return function (e, n) {
      function o() {
        this.constructor = e
      }

      t(e, n), e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
    }(o, n), o.prototype.handleInteraction = function (t) {
      var e = t, n = t.data.getLocalPosition(this), o = this.hitboxes.reduce(function (t, e) {
        return void 0 !== t ? t : e.hitbox.contains(n.x, n.y) ? e : void 0
      }, void 0);
      e.targetTag = void 0 === o ? void 0 : o.tag
    }, Object.defineProperty(o.prototype, "styles", {
      set: function (t) {
        for (var e in this.textStyles = {}, this.textStyles.default = this.assign({}, o.DEFAULT_TAG_STYLE), t) "default" === e ? this.assign(this.textStyles.default, t[e]) : this.textStyles[e] = this.assign({}, t[e]);
        this._style = new PIXI.TextStyle(this.textStyles.default), this.dirty = !0
      }, enumerable: !0, configurable: !0
    }), o.prototype.setTagStyle = function (t, e) {
      t in this.textStyles ? this.assign(this.textStyles[t], e) : this.textStyles[t] = this.assign({}, e), this._style = new PIXI.TextStyle(this.textStyles.default), this.dirty = !0
    }, o.prototype.deleteTagStyle = function (t) {
      "default" === t ? this.textStyles.default = this.assign({}, o.DEFAULT_TAG_STYLE) : delete this.textStyles[t], this._style = new PIXI.TextStyle(this.textStyles.default), this.dirty = !0
    }, o.prototype.getTagRegex = function (t, e) {
      var n = Object.keys(this.textStyles).join("|"),
        o = "<" + (n = t ? "(" + n + ")" : "(?:" + n + ")") + "(?:\\s+[A-Za-z0-9_\\-]+=(?:\"(?:[^\"]+|\\\\\")*\"|'(?:[^']+|\\\\')*'))*\\s*>|</" + n + "\\s*>";
      return e && (o = "(" + o + ")"), new RegExp(o, "g")
    }, o.prototype.getPropertyRegex = function () {
      return new RegExp("([A-Za-z0-9_\\-]+)=(?:\"((?:[^\"]+|\\\\\")*)\"|'((?:[^']+|\\\\')*)')", "g")
    }, o.prototype._getTextDataPerLine = function (t) {
      for (var e = [], n = this.getTagRegex(!0, !1), o = [this.assign({}, this.textStyles.default)], i = [{
        name: "default",
        properties: {}
      }], s = 0; s < t.length; s++) {
        for (var r = [], a = [], h = void 0; h = n.exec(t[s]);) a.push(h);
        if (0 === a.length) r.push(this.createTextData(t[s], o[o.length - 1], i[i.length - 1])); else {
          for (var l = 0, c = 0; c < a.length; c++) {
            if (a[c].index > l && r.push(this.createTextData(t[s].substring(l, a[c].index), o[o.length - 1], i[i.length - 1])), "/" === a[c][0][1]) o.length > 1 && (o.pop(), i.pop()); else {
              o.push(this.assign({}, o[o.length - 1], this.textStyles[a[c][1]]));
              for (var x = {}, d = this.getPropertyRegex(), u = void 0; u = d.exec(a[c][0]);) x[u[1]] = u[2] || u[3];
              i.push({name: a[c][1], properties: x})
            }
            l = a[c].index + a[c][0].length
          }
          l < t[s].length && r.push(this.createTextData(t[s].substring(l), o[o.length - 1], i[i.length - 1]))
        }
        e.push(r)
      }
      return e
    }, o.prototype.getFontString = function (t) {
      return new PIXI.TextStyle(t).toFontString()
    }, o.prototype.createTextData = function (t, e, n) {
      return {text: t, style: e, width: 0, height: 0, fontProperties: void 0, tag: n}
    }, o.prototype.getDropShadowPadding = function () {
      var t = this, e = 0, n = 0;
      return Object.keys(this.textStyles).forEach(function (o) {
        var i = t.textStyles[o], s = i.dropShadowBlur;
        e = Math.max(e, i.dropShadowDistance || 0), n = Math.max(n, s || 0)
      }), e + n
    }, o.prototype.updateText = function () {
      var t = this;
      if (this.dirty) {
        this.hitboxes = [], this.texture.baseTexture.resolution = this.resolution;
        var e = this.textStyles, n = this.text;
        this._style.wordWrap && (n = this.wordWrap(this.text));
        for (var i = n.split(/(?:\r\n|\r|\n)/), s = this._getTextDataPerLine(i), r = [], a = [], h = [], l = 0, c = 0; c < i.length; c++) {
          for (var x = 0, d = 0, u = 0, g = 0; g < s[c].length; g++) {
            var p = s[c][g].style;
            this.context.font = this.getFontString(p), s[c][g].width = this.context.measureText(s[c][g].text).width, 0 !== s[c][g].text.length && (s[c][g].width += (s[c][g].text.length - 1) * p.letterSpacing, g > 0 && (x += p.letterSpacing / 2), g < s[c].length - 1 && (x += p.letterSpacing / 2)), x += s[c][g].width, s[c][g].fontProperties = PIXI.TextMetrics.measureFont(this.context.font), s[c][g].height = s[c][g].fontProperties.fontSize, "number" == typeof p.valign ? (d = Math.min(d, p.valign - s[c][g].fontProperties.descent), u = Math.max(u, p.valign + s[c][g].fontProperties.ascent)) : (d = Math.min(d, -s[c][g].fontProperties.descent), u = Math.max(u, s[c][g].fontProperties.ascent))
          }
          r[c] = x, a[c] = d, h[c] = u, l = Math.max(l, x)
        }
        var f = Object.keys(e).map(function (t) {
          return e[t]
        }).reduce(function (t, e) {
          return Math.max(t, e.strokeThickness || 0)
        }, 0), y = this.getDropShadowPadding(), b = l + 2 * f + 2 * y, v = h.reduce(function (t, e) {
          return t + e
        }, 0) - a.reduce(function (t, e) {
          return t + e
        }, 0) + 2 * f + 2 * y;
        this.canvas.width = b * this.resolution, this.canvas.height = v * this.resolution, this.context.scale(this.resolution, this.resolution), this.context.textBaseline = "alphabetic", this.context.lineJoin = "round";
        var S = y + f, T = [];
        for (c = 0; c < s.length; c++) {
          var w = s[c], m = void 0;
          switch (this._style.align) {
            case"left":
              m = y + f;
              break;
            case"center":
              m = y + f + (l - r[c]) / 2;
              break;
            case"right":
              m = y + f + l - r[c]
          }
          for (g = 0; g < w.length; g++) {
            var P = w[g], k = P.style, _ = P.text, I = P.fontProperties, O = P.width, F = P.tag, A = S + I.ascent;
            switch (k.valign) {
              case"top":
                break;
              case"baseline":
                A += h[c] - I.ascent;
                break;
              case"middle":
                A += (h[c] - a[c] - I.ascent - I.descent) / 2;
                break;
              case"bottom":
                A += h[c] - a[c] - I.ascent - I.descent;
                break;
              default:
                A += h[c] - I.ascent - k.valign
            }
            if (0 === k.letterSpacing) T.push({
              text: _,
              style: k,
              x: m,
              y: A,
              width: O,
              ascent: I.ascent,
              descent: I.descent,
              tag: F
            }), m += w[g].width; else {
              this.context.font = this.getFontString(w[g].style);
              for (var D = 0; D < _.length; D++) {
                (D > 0 || g > 0) && (m += k.letterSpacing / 2);
                var E = this.context.measureText(_.charAt(D)).width;
                T.push({
                  text: _.charAt(D),
                  style: k,
                  x: m,
                  y: A,
                  width: E,
                  ascent: I.ascent,
                  descent: I.descent,
                  tag: F
                }), m += E, (D < _.length - 1 || g < w.length - 1) && (m += k.letterSpacing / 2)
              }
            }
          }
          S += h[c] - a[c]
        }
        this.context.save(), T.forEach(function (e) {
          var n = e.style, o = e.text, i = e.x, s = e.y;
          if (n.dropShadow) {
            t.context.font = t.getFontString(n);
            var r = n.dropShadowColor;
            "number" == typeof r && (r = PIXI.utils.hex2string(r)), t.context.shadowColor = r, t.context.shadowBlur = n.dropShadowBlur, t.context.shadowOffsetX = Math.cos(n.dropShadowAngle) * n.dropShadowDistance * t.resolution, t.context.shadowOffsetY = Math.sin(n.dropShadowAngle) * n.dropShadowDistance * t.resolution, t.context.fillText(o, i, s)
          }
        }), this.context.restore(), T.forEach(function (e) {
          var n = e.style, o = e.text, i = e.x, s = e.y;
          if (void 0 !== n.stroke && n.strokeThickness) {
            t.context.font = t.getFontString(n);
            var r = n.stroke;
            "number" == typeof r && (r = PIXI.utils.hex2string(r)), t.context.strokeStyle = r, t.context.lineWidth = n.strokeThickness, t.context.strokeText(o, i, s)
          }
        }), T.forEach(function (e) {
          var n = e.style, o = e.text, i = e.x, s = e.y;
          if (void 0 !== n.fill) {
            t.context.font = t.getFontString(n);
            var r = n.fill;
            if ("number" == typeof r) r = PIXI.utils.hex2string(r); else if (Array.isArray(r)) for (var a = 0; a < r.length; a++) {
              var h = r[a];
              "number" == typeof h && (r[a] = PIXI.utils.hex2string(h))
            }
            t.context.fillStyle = t._generateFillStyle(new PIXI.TextStyle(n), [o]), t.context.fillText(o, i, s)
          }
        }), T.forEach(function (e) {
          var n = e.style, i = e.x, s = e.y, r = e.width, a = e.ascent, h = e.descent, l = e.tag,
            c = -t._style.padding - t.getDropShadowPadding();
          t.hitboxes.push({
            tag: l,
            hitbox: new PIXI.Rectangle(i + c, s - a + c, r, a + h)
          }), (void 0 === n.debug ? o.debugOptions.spans.enabled : n.debug) && (t.context.lineWidth = 1, o.debugOptions.spans.bounding && (t.context.fillStyle = o.debugOptions.spans.bounding, t.context.strokeStyle = o.debugOptions.spans.bounding, t.context.beginPath(), t.context.rect(i, s - a, r, a + h), t.context.fill(), t.context.stroke(), t.context.stroke()), o.debugOptions.spans.baseline && (t.context.strokeStyle = o.debugOptions.spans.baseline, t.context.beginPath(), t.context.moveTo(i, s), t.context.lineTo(i + r, s), t.context.closePath(), t.context.stroke()), o.debugOptions.spans.top && (t.context.strokeStyle = o.debugOptions.spans.top, t.context.beginPath(), t.context.moveTo(i, s - a), t.context.lineTo(i + r, s - a), t.context.closePath(), t.context.stroke()), o.debugOptions.spans.bottom && (t.context.strokeStyle = o.debugOptions.spans.bottom, t.context.beginPath(), t.context.moveTo(i, s + h), t.context.lineTo(i + r, s + h), t.context.closePath(), t.context.stroke()), o.debugOptions.spans.text && (t.context.fillStyle = "#ffffff", t.context.strokeStyle = "#000000", t.context.lineWidth = 2, t.context.font = "8px monospace", t.context.strokeText(l.name, i, s - a + 8), t.context.fillText(l.name, i, s - a + 8), t.context.strokeText(r.toFixed(2) + "x" + (a + h).toFixed(2), i, s - a + 16), t.context.fillText(r.toFixed(2) + "x" + (a + h).toFixed(2), i, s - a + 16)))
        }), o.debugOptions.objects.enabled && (o.debugOptions.objects.bounding && (this.context.fillStyle = o.debugOptions.objects.bounding, this.context.beginPath(), this.context.rect(0, 0, b, v), this.context.fill()), o.debugOptions.objects.text && (this.context.fillStyle = "#ffffff", this.context.strokeStyle = "#000000", this.context.lineWidth = 2, this.context.font = "8px monospace", this.context.strokeText(b.toFixed(2) + "x" + v.toFixed(2), 0, 8, b), this.context.fillText(b.toFixed(2) + "x" + v.toFixed(2), 0, 8, b))), this.updateTexture()
      }
    }, o.prototype.wordWrap = function (t) {
      var e = "", n = this.getTagRegex(!0, !0), o = t.split("\n"), i = this._style.wordWrapWidth,
        s = [this.assign({}, this.textStyles.default)];
      this.context.font = this.getFontString(this.textStyles.default);
      for (var r = 0; r < o.length; r++) {
        for (var a = i, h = o[r].split(n), l = !0, c = 0; c < h.length; c++) if (n.test(h[c])) e += h[c], "/" === h[c][1] ? (c += 2, s.pop()) : (s.push(this.assign({}, s[s.length - 1], this.textStyles[h[++c]])), c++), this.context.font = this.getFontString(s[s.length - 1]); else for (var x = h[c].split(" "), d = 0; d < x.length; d++) {
          var u = this.context.measureText(x[d]).width;
          if (this._style.breakWords && u > a) {
            var g = x[d].split("");
            d > 0 && (e += " ", a -= this.context.measureText(" ").width);
            for (var p = 0; p < g.length; p++) {
              var f = this.context.measureText(g[p]).width;
              f > a ? (e += "\n" + g[p], a = i - f) : (e += g[p], a -= f)
            }
          } else if (this._style.breakWords) e += x[d], a -= u; else {
            var y = u + (d > 0 ? this.context.measureText(" ").width : 0);
            y > a ? (l || (e += "\n"), e += x[d], a = i - u) : (a -= y, d > 0 && (e += " "), e += x[d])
          }
          l = !1
        }
        r < o.length - 1 && (e += "\n")
      }
      return e
    }, o.prototype.updateTexture = function () {
      var t = this._texture, e = this.getDropShadowPadding();
      t.baseTexture.hasLoaded = !0, t.baseTexture.resolution = this.resolution, t.baseTexture.realWidth = this.canvas.width, t.baseTexture.realHeight = this.canvas.height, t.baseTexture.width = this.canvas.width / this.resolution, t.baseTexture.height = this.canvas.height / this.resolution, t.trim.width = t.frame.width = this.canvas.width / this.resolution, t.trim.height = t.frame.height = this.canvas.height / this.resolution, t.trim.x = -this._style.padding - e, t.trim.y = -this._style.padding - e, t.orig.width = t.frame.width - 2 * (this._style.padding + e), t.orig.height = t.frame.height - 2 * (this._style.padding + e), this._onTextureUpdate(), t.baseTexture.emit("update", t.baseTexture), this.dirty = !1
    }, o.prototype.assign = function (t) {
      for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
      for (var o = 0, i = e; o < i.length; o++) {
        var s = i[o];
        for (var r in s) t[r] = s[r]
      }
      return t
    }, o.DEFAULT_TAG_STYLE = {
      align: "left",
      breakWords: !1,
      dropShadow: !1,
      dropShadowAngle: Math.PI / 6,
      dropShadowBlur: 0,
      dropShadowColor: "#000000",
      dropShadowDistance: 5,
      fill: "black",
      fillGradientType: PIXI.TEXT_GRADIENT.LINEAR_VERTICAL,
      fontFamily: "Arial",
      fontSize: 26,
      fontStyle: "normal",
      fontVariant: "normal",
      fontWeight: "normal",
      letterSpacing: 0,
      lineHeight: 0,
      lineJoin: "miter",
      miterLimit: 10,
      padding: 0,
      stroke: "black",
      strokeThickness: 0,
      textBaseline: "alphabetic",
      valign: "baseline",
      wordWrap: !1,
      wordWrapWidth: 100
    }, o.debugOptions = {
      spans: {
        enabled: !1,
        baseline: "#44BB44",
        top: "#BB4444",
        bottom: "#4444BB",
        bounding: "rgba(255, 255, 255, 0.1)",
        text: !0
      }, objects: {enabled: !1, bounding: "rgba(255, 255, 255, 0.05)", text: !0}
    }, o
  }(PIXI.Text);
PIXI.MultistyleText = n;

this.createjs = this.createjs || {}, function () {
  var e = createjs.SoundJS = createjs.SoundJS || {};
  e.version = "1.0.0", e.buildDate = "Thu, 14 Sep 2017 19:47:47 GMT"
}(), this.createjs = this.createjs || {}, createjs.extend = function (e, t) {
  "use strict";

  function s() {
    this.constructor = e
  }

  return s.prototype = t.prototype, e.prototype = new s
}, this.createjs = this.createjs || {}, createjs.promote = function (e, t) {
  "use strict";
  var s = e.prototype, n = Object.getPrototypeOf && Object.getPrototypeOf(s) || s.__proto__;
  if (n) for (var r in s[(t += "_") + "constructor"] = n.constructor, n) s.hasOwnProperty(r) && "function" == typeof n[r] && (s[t + r] = n[r]);
  return e
}, this.createjs = this.createjs || {}, createjs.deprecate = function (e, t) {
  "use strict";
  return function () {
    var s = "Deprecated property or method '" + t + "'. See docs for info.";
    return console && (console.warn ? console.warn(s) : console.log(s)), e && e.apply(this, arguments)
  }
}, this.createjs = this.createjs || {}, createjs.indexOf = function (e, t) {
  "use strict";
  for (var s = 0, n = e.length; s < n; s++) if (t === e[s]) return s;
  return -1
}, this.createjs = this.createjs || {}, function () {
  "use strict";
  createjs.proxy = function (e, t) {
    var s = Array.prototype.slice.call(arguments, 2);
    return function () {
      return e.apply(t, Array.prototype.slice.call(arguments, 0).concat(s))
    }
  }
}(), this.createjs = this.createjs || {}, function () {
  "use strict";

  function e() {
    throw"BrowserDetect cannot be instantiated"
  }

  var t = e.agent = window.navigator.userAgent;
  e.isWindowPhone = t.indexOf("IEMobile") > -1 || t.indexOf("Windows Phone") > -1, e.isFirefox = t.indexOf("Firefox") > -1, e.isOpera = null != window.opera, e.isChrome = t.indexOf("Chrome") > -1, e.isIOS = (t.indexOf("iPod") > -1 || t.indexOf("iPhone") > -1 || t.indexOf("iPad") > -1) && !e.isWindowPhone, e.isAndroid = t.indexOf("Android") > -1 && !e.isWindowPhone, e.isBlackberry = t.indexOf("Blackberry") > -1, createjs.BrowserDetect = e
}(), this.createjs = this.createjs || {}, function () {
  "use strict";

  function e() {
    this._listeners = null, this._captureListeners = null
  }

  var t = e.prototype;
  e.initialize = function (e) {
    e.addEventListener = t.addEventListener, e.on = t.on, e.removeEventListener = e.off = t.removeEventListener, e.removeAllEventListeners = t.removeAllEventListeners, e.hasEventListener = t.hasEventListener, e.dispatchEvent = t.dispatchEvent, e._dispatchEvent = t._dispatchEvent, e.willTrigger = t.willTrigger
  }, t.addEventListener = function (e, t, s) {
    var n,
      r = (n = s ? this._captureListeners = this._captureListeners || {} : this._listeners = this._listeners || {})[e];
    return r && this.removeEventListener(e, t, s), (r = n[e]) ? r.push(t) : n[e] = [t], t
  }, t.on = function (e, t, s, n, r, i) {
    return t.handleEvent && (s = s || t, t = t.handleEvent), s = s || this, this.addEventListener(e, function (e) {
      t.call(s, e, r), n && e.remove()
    }, i)
  }, t.removeEventListener = function (e, t, s) {
    var n = s ? this._captureListeners : this._listeners;
    if (n) {
      var r = n[e];
      if (r) for (var i = 0, a = r.length; i < a; i++) if (r[i] == t) {
        1 == a ? delete n[e] : r.splice(i, 1);
        break
      }
    }
  }, t.off = t.removeEventListener, t.removeAllEventListeners = function (e) {
    e ? (this._listeners && delete this._listeners[e], this._captureListeners && delete this._captureListeners[e]) : this._listeners = this._captureListeners = null
  }, t.dispatchEvent = function (e, t, s) {
    if ("string" == typeof e) {
      var n = this._listeners;
      if (!(t || n && n[e])) return !0;
      e = new createjs.Event(e, t, s)
    } else e.target && e.clone && (e = e.clone());
    try {
      e.target = this
    } catch (e) {
    }
    if (e.bubbles && this.parent) {
      for (var r = this, i = [r]; r.parent;) i.push(r = r.parent);
      var a, o = i.length;
      for (a = o - 1; a >= 0 && !e.propagationStopped; a--) i[a]._dispatchEvent(e, 1 + (0 == a));
      for (a = 1; a < o && !e.propagationStopped; a++) i[a]._dispatchEvent(e, 3)
    } else this._dispatchEvent(e, 2);
    return !e.defaultPrevented
  }, t.hasEventListener = function (e) {
    var t = this._listeners, s = this._captureListeners;
    return !!(t && t[e] || s && s[e])
  }, t.willTrigger = function (e) {
    for (var t = this; t;) {
      if (t.hasEventListener(e)) return !0;
      t = t.parent
    }
    return !1
  }, t.toString = function () {
    return "[EventDispatcher]"
  }, t._dispatchEvent = function (e, t) {
    var s, n, r = t <= 2 ? this._captureListeners : this._listeners;
    if (e && r && (n = r[e.type]) && (s = n.length)) {
      try {
        e.currentTarget = this
      } catch (e) {
      }
      try {
        e.eventPhase = 0 | t
      } catch (e) {
      }
      e.removed = !1, n = n.slice();
      for (var i = 0; i < s && !e.immediatePropagationStopped; i++) {
        var a = n[i];
        a.handleEvent ? a.handleEvent(e) : a(e), e.removed && (this.off(e.type, a, 1 == t), e.removed = !1)
      }
    }
    2 === t && this._dispatchEvent(e, 2.1)
  }, createjs.EventDispatcher = e
}(), this.createjs = this.createjs || {}, function () {
  "use strict";

  function e(e, t, s) {
    this.type = e, this.target = null, this.currentTarget = null, this.eventPhase = 0, this.bubbles = !!t, this.cancelable = !!s, this.timeStamp = (new Date).getTime(), this.defaultPrevented = !1, this.propagationStopped = !1, this.immediatePropagationStopped = !1, this.removed = !1
  }

  var t = e.prototype;
  t.preventDefault = function () {
    this.defaultPrevented = this.cancelable && !0
  }, t.stopPropagation = function () {
    this.propagationStopped = !0
  }, t.stopImmediatePropagation = function () {
    this.immediatePropagationStopped = this.propagationStopped = !0
  }, t.remove = function () {
    this.removed = !0
  }, t.clone = function () {
    return new e(this.type, this.bubbles, this.cancelable)
  }, t.set = function (e) {
    for (var t in e) this[t] = e[t];
    return this
  }, t.toString = function () {
    return "[Event (type=" + this.type + ")]"
  }, createjs.Event = e
}(), this.createjs = this.createjs || {}, function () {
  "use strict";

  function e(e, t, s) {
    this.Event_constructor("error"), this.title = e, this.message = t, this.data = s
  }

  createjs.extend(e, createjs.Event).clone = function () {
    return new createjs.ErrorEvent(this.title, this.message, this.data)
  }, createjs.ErrorEvent = createjs.promote(e, "Event")
}(), this.createjs = this.createjs || {}, function (e) {
  "use strict";

  function t(e, t) {
    this.Event_constructor("progress"), this.loaded = e, this.total = null == t ? 1 : t, this.progress = 0 == t ? 0 : this.loaded / this.total
  }

  createjs.extend(t, createjs.Event).clone = function () {
    return new createjs.ProgressEvent(this.loaded, this.total)
  }, createjs.ProgressEvent = createjs.promote(t, "Event")
}(window), this.createjs = this.createjs || {}, function () {
  "use strict";

  function e() {
    this.src = null, this.type = null, this.id = null, this.maintainOrder = !1, this.callback = null, this.data = null, this.method = createjs.Methods.GET, this.values = null, this.headers = null, this.withCredentials = !1, this.mimeType = null, this.crossOrigin = null, this.loadTimeout = s.LOAD_TIMEOUT_DEFAULT
  }

  var t = e.prototype = {}, s = e;
  s.LOAD_TIMEOUT_DEFAULT = 8e3, s.create = function (t) {
    if ("string" == typeof t) {
      var n = new e;
      return n.src = t, n
    }
    if (t instanceof s) return t;
    if (t instanceof Object && t.src) return null == t.loadTimeout && (t.loadTimeout = s.LOAD_TIMEOUT_DEFAULT), t;
    throw new Error("Type not recognized.")
  }, t.set = function (e) {
    for (var t in e) this[t] = e[t];
    return this
  }, createjs.LoadItem = s
}(), this.createjs = this.createjs || {}, function () {
  var e = {POST: "POST", GET: "GET"};
  createjs.Methods = e
}(), this.createjs = this.createjs || {}, function () {
  var e = {
    BINARY: "binary",
    CSS: "css",
    FONT: "font",
    FONTCSS: "fontcss",
    IMAGE: "image",
    JAVASCRIPT: "javascript",
    JSON: "json",
    JSONP: "jsonp",
    MANIFEST: "manifest",
    SOUND: "sound",
    VIDEO: "video",
    SPRITESHEET: "spritesheet",
    SVG: "svg",
    TEXT: "text",
    XML: "xml"
  };
  createjs.Types = e
}(), function () {
  var e = {
    a: function () {
      return e.el("a")
    }, svg: function () {
      return e.el("svg")
    }, object: function () {
      return e.el("object")
    }, image: function () {
      return e.el("image")
    }, img: function () {
      return e.el("img")
    }, style: function () {
      return e.el("style")
    }, link: function () {
      return e.el("link")
    }, script: function () {
      return e.el("script")
    }, audio: function () {
      return e.el("audio")
    }, video: function () {
      return e.el("video")
    }, text: function (e) {
      return document.createTextNode(e)
    }, el: function (e) {
      return document.createElement(e)
    }
  };
  createjs.Elements = e
}(), function () {
  var e = {
    container: null, appendToHead: function (t) {
      e.getHead().appendChild(t)
    }, appendToBody: function (t) {
      if (null == e.container) {
        e.container = document.createElement("div"), e.container.id = "preloadjs-container";
        var s = e.container.style;
        s.visibility = "hidden", s.position = "absolute", s.width = e.container.style.height = "10px", s.overflow = "hidden", s.transform = s.msTransform = s.webkitTransform = s.oTransform = "translate(-10px, -10px)", e.getBody().appendChild(e.container)
      }
      e.container.appendChild(t)
    }, getHead: function () {
      return document.head || document.getElementsByTagName("head")[0]
    }, getBody: function () {
      return document.body || document.getElementsByTagName("body")[0]
    }, removeChild: function (e) {
      e.parent && e.parent.removeChild(e)
    }, isImageTag: function (e) {
      return e instanceof HTMLImageElement
    }, isAudioTag: function (e) {
      return !!window.HTMLAudioElement && e instanceof HTMLAudioElement
    }, isVideoTag: function (e) {
      return !!window.HTMLVideoElement && e instanceof HTMLVideoElement
    }
  };
  createjs.DomUtils = e
}(), function () {
  var e = {
    isBinary: function (e) {
      switch (e) {
        case createjs.Types.IMAGE:
        case createjs.Types.BINARY:
          return !0;
        default:
          return !1
      }
    }, isText: function (e) {
      switch (e) {
        case createjs.Types.TEXT:
        case createjs.Types.JSON:
        case createjs.Types.MANIFEST:
        case createjs.Types.XML:
        case createjs.Types.CSS:
        case createjs.Types.SVG:
        case createjs.Types.JAVASCRIPT:
        case createjs.Types.SPRITESHEET:
          return !0;
        default:
          return !1
      }
    }, getTypeByExtension: function (e) {
      if (null == e) return createjs.Types.TEXT;
      switch (e.toLowerCase()) {
        case"jpeg":
        case"jpg":
        case"gif":
        case"png":
        case"webp":
        case"bmp":
          return createjs.Types.IMAGE;
        case"ogg":
        case"mp3":
        case"webm":
          return createjs.Types.SOUND;
        case"mp4":
        case"webm":
        case"ts":
          return createjs.Types.VIDEO;
        case"json":
          return createjs.Types.JSON;
        case"xml":
          return createjs.Types.XML;
        case"css":
          return createjs.Types.CSS;
        case"js":
          return createjs.Types.JAVASCRIPT;
        case"svg":
          return createjs.Types.SVG;
        default:
          return createjs.Types.TEXT
      }
    }
  };
  createjs.RequestUtils = e
}(), function () {
  var e = {
    ABSOLUTE_PATT: /^(?:\w+:)?\/{2}/i,
    RELATIVE_PATT: /^[./]*?\//i,
    EXTENSION_PATT: /\/?[^/]+\.(\w{1,5})$/i,
    parseURI: function (t) {
      var s = {
        absolute: !1,
        relative: !1,
        protocol: null,
        hostname: null,
        port: null,
        pathname: null,
        search: null,
        hash: null,
        host: null
      };
      if (null == t) return s;
      var n = createjs.Elements.a();
      for (var r in n.href = t, s) r in n && (s[r] = n[r]);
      var i, a = t.indexOf("?");
      return a > -1 && (t = t.substr(0, a)), e.ABSOLUTE_PATT.test(t) ? s.absolute = !0 : e.RELATIVE_PATT.test(t) && (s.relative = !0), (i = t.match(e.EXTENSION_PATT)) && (s.extension = i[1].toLowerCase()), s
    },
    formatQueryString: function (e, t) {
      if (null == e) throw new Error("You must specify data.");
      var s = [];
      for (var n in e) s.push(n + "=" + escape(e[n]));
      return t && (s = s.concat(t)), s.join("&")
    },
    buildURI: function (e, t) {
      if (null == t) return e;
      var s = [], n = e.indexOf("?");
      if (-1 != n) {
        var r = e.slice(n + 1);
        s = s.concat(r.split("&"))
      }
      return -1 != n ? e.slice(0, n) + "?" + this.formatQueryString(t, s) : e + "?" + this.formatQueryString(t, s)
    },
    isCrossDomain: function (e) {
      var t = createjs.Elements.a();
      t.href = e.src;
      var s = createjs.Elements.a();
      return s.href = location.href, "" != t.hostname && (t.port != s.port || t.protocol != s.protocol || t.hostname != s.hostname)
    },
    isLocal: function (e) {
      var t = createjs.Elements.a();
      return t.href = e.src, "" == t.hostname && "file:" == t.protocol
    }
  };
  createjs.URLUtils = e
}(), this.createjs = this.createjs || {}, function () {
  "use strict";

  function e(e, t, s) {
    this.EventDispatcher_constructor(), this.loaded = !1, this.canceled = !1, this.progress = 0, this.type = s, this.resultFormatter = null, this._item = e ? createjs.LoadItem.create(e) : null, this._preferXHR = t, this._result = null, this._rawResult = null, this._loadedItems = null, this._tagSrcAttribute = null, this._tag = null
  }

  var t = createjs.extend(e, createjs.EventDispatcher), s = e;
  try {
    Object.defineProperties(s, {
      POST: {
        get: createjs.deprecate(function () {
          return createjs.Methods.POST
        }, "AbstractLoader.POST")
      }, GET: {
        get: createjs.deprecate(function () {
          return createjs.Methods.GET
        }, "AbstractLoader.GET")
      }, BINARY: {
        get: createjs.deprecate(function () {
          return createjs.Types.BINARY
        }, "AbstractLoader.BINARY")
      }, CSS: {
        get: createjs.deprecate(function () {
          return createjs.Types.CSS
        }, "AbstractLoader.CSS")
      }, FONT: {
        get: createjs.deprecate(function () {
          return createjs.Types.FONT
        }, "AbstractLoader.FONT")
      }, FONTCSS: {
        get: createjs.deprecate(function () {
          return createjs.Types.FONTCSS
        }, "AbstractLoader.FONTCSS")
      }, IMAGE: {
        get: createjs.deprecate(function () {
          return createjs.Types.IMAGE
        }, "AbstractLoader.IMAGE")
      }, JAVASCRIPT: {
        get: createjs.deprecate(function () {
          return createjs.Types.JAVASCRIPT
        }, "AbstractLoader.JAVASCRIPT")
      }, JSON: {
        get: createjs.deprecate(function () {
          return createjs.Types.JSON
        }, "AbstractLoader.JSON")
      }, JSONP: {
        get: createjs.deprecate(function () {
          return createjs.Types.JSONP
        }, "AbstractLoader.JSONP")
      }, MANIFEST: {
        get: createjs.deprecate(function () {
          return createjs.Types.MANIFEST
        }, "AbstractLoader.MANIFEST")
      }, SOUND: {
        get: createjs.deprecate(function () {
          return createjs.Types.SOUND
        }, "AbstractLoader.SOUND")
      }, VIDEO: {
        get: createjs.deprecate(function () {
          return createjs.Types.VIDEO
        }, "AbstractLoader.VIDEO")
      }, SPRITESHEET: {
        get: createjs.deprecate(function () {
          return createjs.Types.SPRITESHEET
        }, "AbstractLoader.SPRITESHEET")
      }, SVG: {
        get: createjs.deprecate(function () {
          return createjs.Types.SVG
        }, "AbstractLoader.SVG")
      }, TEXT: {
        get: createjs.deprecate(function () {
          return createjs.Types.TEXT
        }, "AbstractLoader.TEXT")
      }, XML: {
        get: createjs.deprecate(function () {
          return createjs.Types.XML
        }, "AbstractLoader.XML")
      }
    })
  } catch (e) {
  }
  t.getItem = function () {
    return this._item
  }, t.getResult = function (e) {
    return e ? this._rawResult : this._result
  }, t.getTag = function () {
    return this._tag
  }, t.setTag = function (e) {
    this._tag = e
  }, t.load = function () {
    this._createRequest(), this._request.on("complete", this, this), this._request.on("progress", this, this), this._request.on("loadStart", this, this), this._request.on("abort", this, this), this._request.on("timeout", this, this), this._request.on("error", this, this);
    var e = new createjs.Event("initialize");
    e.loader = this._request, this.dispatchEvent(e), this._request.load()
  }, t.cancel = function () {
    this.canceled = !0, this.destroy()
  }, t.destroy = function () {
    this._request && (this._request.removeAllEventListeners(), this._request.destroy()), this._request = null, this._item = null, this._rawResult = null, this._result = null, this._loadItems = null, this.removeAllEventListeners()
  }, t.getLoadedItems = function () {
    return this._loadedItems
  }, t._createRequest = function () {
    this._preferXHR ? this._request = new createjs.XHRRequest(this._item) : this._request = new createjs.TagRequest(this._item, this._tag || this._createTag(), this._tagSrcAttribute)
  }, t._createTag = function (e) {
    return null
  }, t._sendLoadStart = function () {
    this._isCanceled() || this.dispatchEvent("loadstart")
  }, t._sendProgress = function (e) {
    if (!this._isCanceled()) {
      var t = null;
      "number" == typeof e ? (this.progress = e, t = new createjs.ProgressEvent(this.progress)) : (t = e, this.progress = e.loaded / e.total, t.progress = this.progress, (isNaN(this.progress) || this.progress == 1 / 0) && (this.progress = 0)), this.hasEventListener("progress") && this.dispatchEvent(t)
    }
  }, t._sendComplete = function () {
    if (!this._isCanceled()) {
      this.loaded = !0;
      var e = new createjs.Event("complete");
      e.rawResult = this._rawResult, null != this._result && (e.result = this._result), this.dispatchEvent(e)
    }
  }, t._sendError = function (e) {
    !this._isCanceled() && this.hasEventListener("error") && (null == e && (e = new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")), this.dispatchEvent(e))
  }, t._isCanceled = function () {
    return !(null != window.createjs && !this.canceled)
  }, t.resultFormatter = null, t.handleEvent = function (e) {
    switch (e.type) {
      case"complete":
        this._rawResult = e.target._response;
        var t = this.resultFormatter && this.resultFormatter(this);
        t instanceof Function ? t.call(this, createjs.proxy(this._resultFormatSuccess, this), createjs.proxy(this._resultFormatFailed, this)) : (this._result = t || this._rawResult, this._sendComplete());
        break;
      case"progress":
        this._sendProgress(e);
        break;
      case"error":
        this._sendError(e);
        break;
      case"loadstart":
        this._sendLoadStart();
        break;
      case"abort":
      case"timeout":
        this._isCanceled() || this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_" + e.type.toUpperCase() + "_ERROR"))
    }
  }, t._resultFormatSuccess = function (e) {
    this._result = e, this._sendComplete()
  }, t._resultFormatFailed = function (e) {
    this._sendError(e)
  }, t.toString = function () {
    return "[PreloadJS AbstractLoader]"
  }, createjs.AbstractLoader = createjs.promote(e, "EventDispatcher")
}(), this.createjs = this.createjs || {}, function () {
  "use strict";

  function e(e, t, s) {
    this.AbstractLoader_constructor(e, t, s), this.resultFormatter = this._formatResult, this._tagSrcAttribute = "src", this.on("initialize", this._updateXHR, this)
  }

  var t = createjs.extend(e, createjs.AbstractLoader);
  t.load = function () {
    this._tag || (this._tag = this._createTag(this._item.src)), this._tag.preload = "auto", this._tag.load(), this.AbstractLoader_load()
  }, t._createTag = function () {
  }, t._createRequest = function () {
    this._preferXHR ? this._request = new createjs.XHRRequest(this._item) : this._request = new createjs.MediaTagRequest(this._item, this._tag || this._createTag(), this._tagSrcAttribute)
  }, t._updateXHR = function (e) {
    e.loader.setResponseType && e.loader.setResponseType("blob")
  }, t._formatResult = function (e) {
    if (this._tag.removeEventListener && this._tag.removeEventListener("canplaythrough", this._loadedHandler), this._tag.onstalled = null, this._preferXHR) {
      var t = window.URL || window.webkitURL, s = e.getResult(!0);
      e.getTag().src = t.createObjectURL(s)
    }
    return e.getTag()
  }, createjs.AbstractMediaLoader = createjs.promote(e, "AbstractLoader")
}(), this.createjs = this.createjs || {}, function () {
  "use strict";
  var e = function (e) {
    this._item = e
  }, t = createjs.extend(e, createjs.EventDispatcher);
  t.load = function () {
  }, t.destroy = function () {
  }, t.cancel = function () {
  }, createjs.AbstractRequest = createjs.promote(e, "EventDispatcher")
}(), this.createjs = this.createjs || {}, function () {
  "use strict";

  function e(e, t, s) {
    this.AbstractRequest_constructor(e), this._tag = t, this._tagSrcAttribute = s, this._loadedHandler = createjs.proxy(this._handleTagComplete, this), this._addedToDOM = !1
  }

  var t = createjs.extend(e, createjs.AbstractRequest);
  t.load = function () {
    this._tag.onload = createjs.proxy(this._handleTagComplete, this), this._tag.onreadystatechange = createjs.proxy(this._handleReadyStateChange, this), this._tag.onerror = createjs.proxy(this._handleError, this);
    var e = new createjs.Event("initialize");
    e.loader = this._tag, this.dispatchEvent(e), this._loadTimeout = setTimeout(createjs.proxy(this._handleTimeout, this), this._item.loadTimeout), this._tag[this._tagSrcAttribute] = this._item.src, null == this._tag.parentNode && (createjs.DomUtils.appendToBody(this._tag), this._addedToDOM = !0)
  }, t.destroy = function () {
    this._clean(), this._tag = null, this.AbstractRequest_destroy()
  }, t._handleReadyStateChange = function () {
    clearTimeout(this._loadTimeout);
    var e = this._tag;
    "loaded" != e.readyState && "complete" != e.readyState || this._handleTagComplete()
  }, t._handleError = function () {
    this._clean(), this.dispatchEvent("error")
  }, t._handleTagComplete = function () {
    this._rawResult = this._tag, this._result = this.resultFormatter && this.resultFormatter(this) || this._rawResult, this._clean(), this.dispatchEvent("complete")
  }, t._handleTimeout = function () {
    this._clean(), this.dispatchEvent(new createjs.Event("timeout"))
  }, t._clean = function () {
    this._tag.onload = null, this._tag.onreadystatechange = null, this._tag.onerror = null, this._addedToDOM && null != this._tag.parentNode && this._tag.parentNode.removeChild(this._tag), clearTimeout(this._loadTimeout)
  }, t._handleStalled = function () {
  }, createjs.TagRequest = createjs.promote(e, "AbstractRequest")
}(), this.createjs = this.createjs || {}, function () {
  "use strict";

  function e(e, t, s) {
    this.AbstractRequest_constructor(e), this._tag = t, this._tagSrcAttribute = s, this._loadedHandler = createjs.proxy(this._handleTagComplete, this)
  }

  var t = createjs.extend(e, createjs.TagRequest);
  t.load = function () {
    var e = createjs.proxy(this._handleStalled, this);
    this._stalledCallback = e;
    var t = createjs.proxy(this._handleProgress, this);
    this._handleProgress = t, this._tag.addEventListener("stalled", e), this._tag.addEventListener("progress", t), this._tag.addEventListener && this._tag.addEventListener("canplaythrough", this._loadedHandler, !1), this.TagRequest_load()
  }, t._handleReadyStateChange = function () {
    clearTimeout(this._loadTimeout);
    var e = this._tag;
    "loaded" != e.readyState && "complete" != e.readyState || this._handleTagComplete()
  }, t._handleStalled = function () {
  }, t._handleProgress = function (e) {
    if (e && !(e.loaded > 0 && 0 == e.total)) {
      var t = new createjs.ProgressEvent(e.loaded, e.total);
      this.dispatchEvent(t)
    }
  }, t._clean = function () {
    this._tag.removeEventListener && this._tag.removeEventListener("canplaythrough", this._loadedHandler), this._tag.removeEventListener("stalled", this._stalledCallback), this._tag.removeEventListener("progress", this._progressCallback), this.TagRequest__clean()
  }, createjs.MediaTagRequest = createjs.promote(e, "TagRequest")
}(), this.createjs = this.createjs || {}, function () {
  "use strict";

  function e(e) {
    this.AbstractRequest_constructor(e), this._request = null, this._loadTimeout = null, this._xhrLevel = 1, this._response = null, this._rawResponse = null, this._canceled = !1, this._handleLoadStartProxy = createjs.proxy(this._handleLoadStart, this), this._handleProgressProxy = createjs.proxy(this._handleProgress, this), this._handleAbortProxy = createjs.proxy(this._handleAbort, this), this._handleErrorProxy = createjs.proxy(this._handleError, this), this._handleTimeoutProxy = createjs.proxy(this._handleTimeout, this), this._handleLoadProxy = createjs.proxy(this._handleLoad, this), this._handleReadyStateChangeProxy = createjs.proxy(this._handleReadyStateChange, this), this._createXHR(e)
  }

  var t = createjs.extend(e, createjs.AbstractRequest);
  e.ACTIVEX_VERSIONS = ["Msxml2.XMLHTTP.6.0", "Msxml2.XMLHTTP.5.0", "Msxml2.XMLHTTP.4.0", "MSXML2.XMLHTTP.3.0", "MSXML2.XMLHTTP", "Microsoft.XMLHTTP"], t.getResult = function (e) {
    return e && this._rawResponse ? this._rawResponse : this._response
  }, t.cancel = function () {
    this.canceled = !0, this._clean(), this._request.abort()
  }, t.load = function () {
    if (null != this._request) {
      null != this._request.addEventListener ? (this._request.addEventListener("loadstart", this._handleLoadStartProxy, !1), this._request.addEventListener("progress", this._handleProgressProxy, !1), this._request.addEventListener("abort", this._handleAbortProxy, !1), this._request.addEventListener("error", this._handleErrorProxy, !1), this._request.addEventListener("timeout", this._handleTimeoutProxy, !1), this._request.addEventListener("load", this._handleLoadProxy, !1), this._request.addEventListener("readystatechange", this._handleReadyStateChangeProxy, !1)) : (this._request.onloadstart = this._handleLoadStartProxy, this._request.onprogress = this._handleProgressProxy, this._request.onabort = this._handleAbortProxy, this._request.onerror = this._handleErrorProxy, this._request.ontimeout = this._handleTimeoutProxy, this._request.onload = this._handleLoadProxy, this._request.onreadystatechange = this._handleReadyStateChangeProxy), 1 == this._xhrLevel && (this._loadTimeout = setTimeout(createjs.proxy(this._handleTimeout, this), this._item.loadTimeout));
      try {
        this._item.values ? this._request.send(createjs.URLUtils.formatQueryString(this._item.values)) : this._request.send()
      } catch (e) {
        this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND", null, e))
      }
    } else this._handleError()
  }, t.setResponseType = function (e) {
    "blob" === e && (e = window.URL ? "blob" : "arraybuffer", this._responseType = e), this._request.responseType = e
  }, t.getAllResponseHeaders = function () {
    return this._request.getAllResponseHeaders instanceof Function ? this._request.getAllResponseHeaders() : null
  }, t.getResponseHeader = function (e) {
    return this._request.getResponseHeader instanceof Function ? this._request.getResponseHeader(e) : null
  }, t._handleProgress = function (e) {
    if (e && !(e.loaded > 0 && 0 == e.total)) {
      var t = new createjs.ProgressEvent(e.loaded, e.total);
      this.dispatchEvent(t)
    }
  }, t._handleLoadStart = function (e) {
    clearTimeout(this._loadTimeout), this.dispatchEvent("loadstart")
  }, t._handleAbort = function (e) {
    this._clean(), this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED", null, e))
  }, t._handleError = function (e) {
    this._clean(), this.dispatchEvent(new createjs.ErrorEvent(e.message))
  }, t._handleReadyStateChange = function (e) {
    4 == this._request.readyState && this._handleLoad()
  }, t._handleLoad = function (e) {
    if (!this.loaded) {
      this.loaded = !0;
      var t = this._checkError();
      if (t) this._handleError(t); else {
        if (this._response = this._getResponse(), "arraybuffer" === this._responseType) try {
          this._response = new Blob([this._response])
        } catch (e) {
          if (window.BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder, "TypeError" === e.name && window.BlobBuilder) {
            var s = new BlobBuilder;
            s.append(this._response), this._response = s.getBlob()
          }
        }
        this._clean(), this.dispatchEvent(new createjs.Event("complete"))
      }
    }
  }, t._handleTimeout = function (e) {
    this._clean(), this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT", null, e))
  }, t._checkError = function () {
    var e = parseInt(this._request.status);
    return e >= 400 && e <= 599 ? new Error(e) : 0 == e && /^https?:/.test(location.protocol) ? new Error(0) : null
  }, t._getResponse = function () {
    if (null != this._response) return this._response;
    if (null != this._request.response) return this._request.response;
    try {
      if (null != this._request.responseText) return this._request.responseText
    } catch (e) {
    }
    try {
      if (null != this._request.responseXML) return this._request.responseXML
    } catch (e) {
    }
    return null
  }, t._createXHR = function (e) {
    var t = createjs.URLUtils.isCrossDomain(e), n = {}, r = null;
    if (window.XMLHttpRequest) r = new XMLHttpRequest, t && void 0 === r.withCredentials && window.XDomainRequest && (r = new XDomainRequest); else {
      for (var i = 0, a = s.ACTIVEX_VERSIONS.length; i < a; i++) {
        var o = s.ACTIVEX_VERSIONS[i];
        try {
          r = new ActiveXObject(o);
          break
        } catch (e) {
        }
      }
      if (null == r) return !1
    }
    null == e.mimeType && createjs.RequestUtils.isText(e.type) && (e.mimeType = "text/plain; charset=utf-8"), e.mimeType && r.overrideMimeType && r.overrideMimeType(e.mimeType), this._xhrLevel = "string" == typeof r.responseType ? 2 : 1;
    var u = null;
    if (u = e.method == createjs.Methods.GET ? createjs.URLUtils.buildURI(e.src, e.values) : e.src, r.open(e.method || createjs.Methods.GET, u, !0), t && r instanceof XMLHttpRequest && 1 == this._xhrLevel && (n.Origin = location.origin), e.values && e.method == createjs.Methods.POST && (n["Content-Type"] = "application/x-www-form-urlencoded"), t || n["X-Requested-With"] || (n["X-Requested-With"] = "XMLHttpRequest"), e.headers) for (var c in e.headers) n[c] = e.headers[c];
    for (c in n) r.setRequestHeader(c, n[c]);
    return r instanceof XMLHttpRequest && void 0 !== e.withCredentials && (r.withCredentials = e.withCredentials), this._request = r, !0
  }, t._clean = function () {
    clearTimeout(this._loadTimeout), null != this._request.removeEventListener ? (this._request.removeEventListener("loadstart", this._handleLoadStartProxy), this._request.removeEventListener("progress", this._handleProgressProxy), this._request.removeEventListener("abort", this._handleAbortProxy), this._request.removeEventListener("error", this._handleErrorProxy), this._request.removeEventListener("timeout", this._handleTimeoutProxy), this._request.removeEventListener("load", this._handleLoadProxy), this._request.removeEventListener("readystatechange", this._handleReadyStateChangeProxy)) : (this._request.onloadstart = null, this._request.onprogress = null, this._request.onabort = null, this._request.onerror = null, this._request.ontimeout = null, this._request.onload = null, this._request.onreadystatechange = null)
  }, t.toString = function () {
    return "[PreloadJS XHRRequest]"
  }, createjs.XHRRequest = createjs.promote(e, "AbstractRequest")
}(), this.createjs = this.createjs || {}, function () {
  "use strict";

  function e(e, t) {
    this.AbstractMediaLoader_constructor(e, t, createjs.Types.SOUND), createjs.DomUtils.isAudioTag(e) ? this._tag = e : createjs.DomUtils.isAudioTag(e.src) ? this._tag = e : createjs.DomUtils.isAudioTag(e.tag) && (this._tag = createjs.DomUtils.isAudioTag(e) ? e : e.src), null != this._tag && (this._preferXHR = !1)
  }

  var t = createjs.extend(e, createjs.AbstractMediaLoader);
  e.canLoadItem = function (e) {
    return e.type == createjs.Types.SOUND
  }, t._createTag = function (e) {
    var t = createjs.Elements.audio();
    return t.autoplay = !1, t.preload = "none", t.src = e, t
  }, createjs.SoundLoader = createjs.promote(e, "AbstractMediaLoader")
}(), this.createjs = this.createjs || {}, function () {
  "use strict";
  var e = function () {
    this.interrupt = null, this.delay = null, this.offset = null, this.loop = null, this.volume = null, this.pan = null, this.startTime = null, this.duration = null
  }, t = e.prototype = {}, s = e;
  s.create = function (e) {
    if ("string" == typeof e) return console && (console.warn || console.log)("Deprecated behaviour. Sound.play takes a configuration object instead of individual arguments. See docs for info."), (new createjs.PlayPropsConfig).set({interrupt: e});
    if (null == e || e instanceof s || e instanceof Object) return (new createjs.PlayPropsConfig).set(e);
    if (null == e) throw new Error("PlayProps configuration not recognized.")
  }, t.set = function (e) {
    if (null != e) for (var t in e) this[t] = e[t];
    return this
  }, t.toString = function () {
    return "[PlayPropsConfig]"
  }, createjs.PlayPropsConfig = s
}(), this.createjs = this.createjs || {}, function () {
  "use strict";

  function e() {
    throw"Sound cannot be instantiated"
  }

  var t = e;

  function s(e, t) {
    this.init(e, t)
  }

  t.INTERRUPT_ANY = "any", t.INTERRUPT_EARLY = "early", t.INTERRUPT_LATE = "late", t.INTERRUPT_NONE = "none", t.PLAY_INITED = "playInited", t.PLAY_SUCCEEDED = "playSucceeded", t.PLAY_INTERRUPTED = "playInterrupted", t.PLAY_FINISHED = "playFinished", t.PLAY_FAILED = "playFailed", t.SUPPORTED_EXTENSIONS = ["mp3", "ogg", "opus", "mpeg", "wav", "m4a", "mp4", "aiff", "wma", "mid"], t.EXTENSION_MAP = {m4a: "mp4"}, t.FILE_PATTERN = /^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/, t.defaultInterruptBehavior = t.INTERRUPT_NONE, t.alternateExtensions = [], t.activePlugin = null, t._masterVolume = 1, t._getMasterVolume = function () {
    return this._masterVolume
  }, t.getVolume = createjs.deprecate(t._getMasterVolume, "Sound.getVolume"), t._setMasterVolume = function (e) {
    if (null != Number(e) && (e = Math.max(0, Math.min(1, e)), t._masterVolume = e, !this.activePlugin || !this.activePlugin.setVolume || !this.activePlugin.setVolume(e))) for (var s = this._instances, n = 0, r = s.length; n < r; n++) s[n].setMasterVolume(e)
  }, t.setVolume = createjs.deprecate(t._setMasterVolume, "Sound.setVolume"), t._masterMute = !1, t._getMute = function () {
    return this._masterMute
  }, t.getMute = createjs.deprecate(t._getMute, "Sound.getMute"), t._setMute = function (e) {
    if (null != e && (this._masterMute = e, !this.activePlugin || !this.activePlugin.setMute || !this.activePlugin.setMute(e))) for (var t = this._instances, s = 0, n = t.length; s < n; s++) t[s].setMasterMute(e)
  }, t.setMute = createjs.deprecate(t._setMute, "Sound.setMute"), t._getCapabilities = function () {
    return null == t.activePlugin ? null : t.activePlugin._capabilities
  }, t.getCapabilities = createjs.deprecate(t._getCapabilities, "Sound.getCapabilities"), Object.defineProperties(t, {
    volume: {
      get: t._getMasterVolume,
      set: t._setMasterVolume
    }, muted: {get: t._getMute, set: t._setMute}, capabilities: {get: t._getCapabilities}
  }), t._pluginsRegistered = !1, t._lastID = 0, t._instances = [], t._idHash = {}, t._preloadHash = {}, t._defaultPlayPropsHash = {}, t.addEventListener = null, t.removeEventListener = null, t.removeAllEventListeners = null, t.dispatchEvent = null, t.hasEventListener = null, t._listeners = null, createjs.EventDispatcher.initialize(t), t.getPreloadHandlers = function () {
    return {callback: createjs.proxy(t.initLoad, t), types: ["sound"], extensions: t.SUPPORTED_EXTENSIONS}
  }, t._handleLoadComplete = function (e) {
    var s = e.target.getItem().src;
    if (t._preloadHash[s]) for (var n = 0, r = t._preloadHash[s].length; n < r; n++) {
      var i = t._preloadHash[s][n];
      if (t._preloadHash[s][n] = !0, t.hasEventListener("fileload")) (e = new createjs.Event("fileload")).src = i.src, e.id = i.id, e.data = i.data, e.sprite = i.sprite, t.dispatchEvent(e)
    }
  }, t._handleLoadError = function (e) {
    var s = e.target.getItem().src;
    if (t._preloadHash[s]) for (var n = 0, r = t._preloadHash[s].length; n < r; n++) {
      var i = t._preloadHash[s][n];
      if (t._preloadHash[s][n] = !1, t.hasEventListener("fileerror")) (e = new createjs.Event("fileerror")).src = i.src, e.id = i.id, e.data = i.data, e.sprite = i.sprite, t.dispatchEvent(e)
    }
  }, t._registerPlugin = function (e) {
    return !!e.isSupported() && (t.activePlugin = new e, !0)
  }, t.registerPlugins = function (e) {
    t._pluginsRegistered = !0;
    for (var s = 0, n = e.length; s < n; s++) if (t._registerPlugin(e[s])) return !0;
    return !1
  }, t.initializeDefaultPlugins = function () {
    return null != t.activePlugin || !t._pluginsRegistered && !!t.registerPlugins([createjs.WebAudioPlugin, createjs.HTMLAudioPlugin])
  }, t.isReady = function () {
    return null != t.activePlugin
  }, t.initLoad = function (e) {
    return "video" == e.type || t._registerSound(e)
  }, t._registerSound = function (e) {
    if (!t.initializeDefaultPlugins()) return !1;
    var n;
    if (e.src instanceof Object ? (n = t._parseSrc(e.src)).src = e.path + n.src : n = t._parsePath(e.src), null == n) return !1;
    e.src = n.src, e.type = "sound";
    var r = e.data, i = null;
    if (null != r && (isNaN(r.channels) ? isNaN(r) || (i = parseInt(r)) : i = parseInt(r.channels), r.audioSprite)) for (var a, o = r.audioSprite.length; o--;) a = r.audioSprite[o], t._idHash[a.id] = {
      src: e.src,
      startTime: parseInt(a.startTime),
      duration: parseInt(a.duration)
    }, a.defaultPlayProps && (t._defaultPlayPropsHash[a.id] = createjs.PlayPropsConfig.create(a.defaultPlayProps));
    null != e.id && (t._idHash[e.id] = {src: e.src});
    var u = t.activePlugin.register(e);
    return s.create(e.src, i), null != r && isNaN(r) ? e.data.channels = i || s.maxPerChannel() : e.data = i || s.maxPerChannel(), u.type && (e.type = u.type), e.defaultPlayProps && (t._defaultPlayPropsHash[e.src] = createjs.PlayPropsConfig.create(e.defaultPlayProps)), u
  }, t.registerSound = function (e, s, n, r, i) {
    var a = {src: e, id: s, data: n, defaultPlayProps: i};
    e instanceof Object && e.src && (r = s, a = e), (a = createjs.LoadItem.create(a)).path = r, null == r || a.src instanceof Object || (a.src = r + a.src);
    var o = t._registerSound(a);
    if (!o) return !1;
    if (t._preloadHash[a.src] || (t._preloadHash[a.src] = []), t._preloadHash[a.src].push(a), 1 == t._preloadHash[a.src].length) o.on("complete", this._handleLoadComplete, this), o.on("error", this._handleLoadError, this), t.activePlugin.preload(o); else if (1 == t._preloadHash[a.src][0]) return !0;
    return a
  }, t.registerSounds = function (e, t) {
    var s = [];
    e.path && (t ? t += e.path : t = e.path, e = e.manifest);
    for (var n = 0, r = e.length; n < r; n++) s[n] = createjs.Sound.registerSound(e[n].src, e[n].id, e[n].data, t, e[n].defaultPlayProps);
    return s
  }, t.removeSound = function (e, n) {
    if (null == t.activePlugin) return !1;
    var r;
    if (e instanceof Object && e.src && (e = e.src), e instanceof Object ? r = t._parseSrc(e) : (e = t._getSrcById(e).src, r = t._parsePath(e)), null == r) return !1;
    for (var i in e = r.src, null != n && (e = n + e), t._idHash) t._idHash[i].src == e && delete t._idHash[i];
    return s.removeSrc(e), delete t._preloadHash[e], t.activePlugin.removeSound(e), !0
  }, t.removeSounds = function (e, t) {
    var s = [];
    e.path && (t ? t += e.path : t = e.path, e = e.manifest);
    for (var n = 0, r = e.length; n < r; n++) s[n] = createjs.Sound.removeSound(e[n].src, t);
    return s
  }, t.removeAllSounds = function () {
    t._idHash = {}, t._preloadHash = {}, s.removeAll(), t.activePlugin && t.activePlugin.removeAllSounds()
  }, t.loadComplete = function (e) {
    if (!t.isReady()) return !1;
    var s = t._parsePath(e);
    return e = s ? t._getSrcById(s.src).src : t._getSrcById(e).src, null != t._preloadHash[e] && 1 == t._preloadHash[e][0]
  }, t._parsePath = function (e) {
    "string" != typeof e && (e = e.toString());
    var s = e.match(t.FILE_PATTERN);
    if (null == s) return !1;
    for (var n = s[4], r = s[5], i = t.capabilities, a = 0; !i[r];) if (r = t.alternateExtensions[a++], a > t.alternateExtensions.length) return null;
    return {name: n, src: e = e.replace("." + s[5], "." + r), extension: r}
  }, t._parseSrc = function (e) {
    var s = {name: void 0, src: void 0, extension: void 0}, n = t.capabilities;
    for (var r in e) if (e.hasOwnProperty(r) && n[r]) {
      s.src = e[r], s.extension = r;
      break
    }
    if (!s.src) return !1;
    var i = s.src.lastIndexOf("/");
    return s.name = -1 != i ? s.src.slice(i + 1) : s.src, s
  }, t.play = function (e, s) {
    var n = createjs.PlayPropsConfig.create(s), r = t.createInstance(e, n.startTime, n.duration);
    return t._playInstance(r, n) || r._playFailed(), r
  }, t.createInstance = function (e, n, r) {
    if (!t.initializeDefaultPlugins()) return new createjs.DefaultSoundInstance(e, n, r);
    var i = t._defaultPlayPropsHash[e];
    e = t._getSrcById(e);
    var a = t._parsePath(e.src), o = null;
    return null != a && null != a.src ? (s.create(a.src), null == n && (n = e.startTime), o = t.activePlugin.create(a.src, n, r || e.duration), (i = i || t._defaultPlayPropsHash[a.src]) && o.applyPlayProps(i)) : o = new createjs.DefaultSoundInstance(e, n, r), o.uniqueId = t._lastID++, o
  }, t.stop = function () {
    for (var e = this._instances, t = e.length; t--;) e[t].stop()
  }, t.setDefaultPlayProps = function (e, s) {
    e = t._getSrcById(e), t._defaultPlayPropsHash[t._parsePath(e.src).src] = createjs.PlayPropsConfig.create(s)
  }, t.getDefaultPlayProps = function (e) {
    return e = t._getSrcById(e), t._defaultPlayPropsHash[t._parsePath(e.src).src]
  }, t._playInstance = function (e, s) {
    var n = t._defaultPlayPropsHash[e.src] || {};
    if (null == s.interrupt && (s.interrupt = n.interrupt || t.defaultInterruptBehavior), null == s.delay && (s.delay = n.delay || 0), null == s.offset && (s.offset = e.position), null == s.loop && (s.loop = e.loop), null == s.volume && (s.volume = e.volume), null == s.pan && (s.pan = e.pan), 0 == s.delay) {
      if (!t._beginPlaying(e, s)) return !1
    } else {
      var r = setTimeout(function () {
        t._beginPlaying(e, s)
      }, s.delay);
      e.delayTimeoutId = r
    }
    return this._instances.push(e), !0
  }, t._beginPlaying = function (e, t) {
    if (!s.add(e, t.interrupt)) return !1;
    if (!e._beginPlaying(t)) {
      var n = createjs.indexOf(this._instances, e);
      return n > -1 && this._instances.splice(n, 1), !1
    }
    return !0
  }, t._getSrcById = function (e) {
    return t._idHash[e] || {src: e}
  }, t._playFinished = function (e) {
    s.remove(e);
    var t = createjs.indexOf(this._instances, e);
    t > -1 && this._instances.splice(t, 1)
  }, createjs.Sound = e, s.channels = {}, s.create = function (e, t) {
    return null == s.get(e) && (s.channels[e] = new s(e, t), !0)
  }, s.removeSrc = function (e) {
    var t = s.get(e);
    return null != t && (t._removeAll(), delete s.channels[e], !0)
  }, s.removeAll = function () {
    for (var e in s.channels) s.channels[e]._removeAll();
    s.channels = {}
  }, s.add = function (e, t) {
    var n = s.get(e.src);
    return null != n && n._add(e, t)
  }, s.remove = function (e) {
    var t = s.get(e.src);
    return null != t && (t._remove(e), !0)
  }, s.maxPerChannel = function () {
    return n.maxDefault
  }, s.get = function (e) {
    return s.channels[e]
  };
  var n = s.prototype;
  n.constructor = s, n.src = null, n.max = null, n.maxDefault = 100, n.length = 0, n.init = function (e, t) {
    this.src = e, this.max = t || this.maxDefault, -1 == this.max && (this.max = this.maxDefault), this._instances = []
  }, n._get = function (e) {
    return this._instances[e]
  }, n._add = function (e, t) {
    return !!this._getSlot(t, e) && (this._instances.push(e), this.length++, !0)
  }, n._remove = function (e) {
    var t = createjs.indexOf(this._instances, e);
    return -1 != t && (this._instances.splice(t, 1), this.length--, !0)
  }, n._removeAll = function () {
    for (var e = this.length - 1; e >= 0; e--) this._instances[e].stop()
  }, n._getSlot = function (t, s) {
    var n, r;
    if (t != e.INTERRUPT_NONE && null == (r = this._get(0))) return !0;
    for (var i = 0, a = this.max; i < a; i++) {
      if (null == (n = this._get(i))) return !0;
      if (n.playState == e.PLAY_FINISHED || n.playState == e.PLAY_INTERRUPTED || n.playState == e.PLAY_FAILED) {
        r = n;
        break
      }
      t != e.INTERRUPT_NONE && ((t == e.INTERRUPT_EARLY && n.position < r.position || t == e.INTERRUPT_LATE && n.position > r.position) && (r = n))
    }
    return null != r && (r._interrupt(), this._remove(r), !0)
  }, n.toString = function () {
    return "[Sound SoundChannel]"
  }
}(), this.createjs = this.createjs || {}, function () {
  "use strict";
  var e = function (e, t, s, n) {
    this.EventDispatcher_constructor(), this.src = e, this.uniqueId = -1, this.playState = null, this.delayTimeoutId = null, this._volume = 1, Object.defineProperty(this, "volume", {
      get: this._getVolume,
      set: this._setVolume
    }), this._pan = 0, Object.defineProperty(this, "pan", {
      get: this._getPan,
      set: this._setPan
    }), this._startTime = Math.max(0, t || 0), Object.defineProperty(this, "startTime", {
      get: this._getStartTime,
      set: this._setStartTime
    }), this._duration = Math.max(0, s || 0), Object.defineProperty(this, "duration", {
      get: this._getDuration,
      set: this._setDuration
    }), this._playbackResource = null, Object.defineProperty(this, "playbackResource", {
      get: this._getPlaybackResource,
      set: this._setPlaybackResource
    }), !1 !== n && !0 !== n && this._setPlaybackResource(n), this._position = 0, Object.defineProperty(this, "position", {
      get: this._getPosition,
      set: this._setPosition
    }), this._loop = 0, Object.defineProperty(this, "loop", {
      get: this._getLoop,
      set: this._setLoop
    }), this._muted = !1, Object.defineProperty(this, "muted", {
      get: this._getMuted,
      set: this._setMuted
    }), this._paused = !1, Object.defineProperty(this, "paused", {get: this._getPaused, set: this._setPaused})
  }, t = createjs.extend(e, createjs.EventDispatcher);
  t.play = function (e) {
    var t = createjs.PlayPropsConfig.create(e);
    return this.playState == createjs.Sound.PLAY_SUCCEEDED ? (this.applyPlayProps(t), void (this._paused && this._setPaused(!1))) : (this._cleanUp(), createjs.Sound._playInstance(this, t), this)
  }, t.stop = function () {
    return this._position = 0, this._paused = !1, this._handleStop(), this._cleanUp(), this.playState = createjs.Sound.PLAY_FINISHED, this
  }, t.destroy = function () {
    this._cleanUp(), this.src = null, this.playbackResource = null, this.removeAllEventListeners()
  }, t.applyPlayProps = function (e) {
    return null != e.offset && this._setPosition(e.offset), null != e.loop && this._setLoop(e.loop), null != e.volume && this._setVolume(e.volume), null != e.pan && this._setPan(e.pan), null != e.startTime && (this._setStartTime(e.startTime), this._setDuration(e.duration)), this
  }, t.toString = function () {
    return "[AbstractSoundInstance]"
  }, t._getPaused = function () {
    return this._paused
  }, t._setPaused = function (e) {
    if (!(!0 !== e && !1 !== e || this._paused == e || 1 == e && this.playState != createjs.Sound.PLAY_SUCCEEDED)) return this._paused = e, e ? this._pause() : this._resume(), clearTimeout(this.delayTimeoutId), this
  }, t._setVolume = function (e) {
    return e == this._volume ? this : (this._volume = Math.max(0, Math.min(1, e)), this._muted || this._updateVolume(), this)
  }, t._getVolume = function () {
    return this._volume
  }, t._setMuted = function (e) {
    if (!0 === e || !1 === e) return this._muted = e, this._updateVolume(), this
  }, t._getMuted = function () {
    return this._muted
  }, t._setPan = function (e) {
    return e == this._pan ? this : (this._pan = Math.max(-1, Math.min(1, e)), this._updatePan(), this)
  }, t._getPan = function () {
    return this._pan
  }, t._getPosition = function () {
    return this._paused || this.playState != createjs.Sound.PLAY_SUCCEEDED || (this._position = this._calculateCurrentPosition()), this._position
  }, t._setPosition = function (e) {
    return this._position = Math.max(0, e), this.playState == createjs.Sound.PLAY_SUCCEEDED && this._updatePosition(), this
  }, t._getStartTime = function () {
    return this._startTime
  }, t._setStartTime = function (e) {
    return e == this._startTime ? this : (this._startTime = Math.max(0, e || 0), this._updateStartTime(), this)
  }, t._getDuration = function () {
    return this._duration
  }, t._setDuration = function (e) {
    return e == this._duration ? this : (this._duration = Math.max(0, e || 0), this._updateDuration(), this)
  }, t._setPlaybackResource = function (e) {
    return this._playbackResource = e, 0 == this._duration && this._playbackResource && this._setDurationFromSource(), this
  }, t._getPlaybackResource = function () {
    return this._playbackResource
  }, t._getLoop = function () {
    return this._loop
  }, t._setLoop = function (e) {
    null != this._playbackResource && (0 != this._loop && 0 == e ? this._removeLooping(e) : 0 == this._loop && 0 != e && this._addLooping(e)), this._loop = e
  }, t._sendEvent = function (e) {
    var t = new createjs.Event(e);
    this.dispatchEvent(t)
  }, t._cleanUp = function () {
    clearTimeout(this.delayTimeoutId), this._handleCleanUp(), this._paused = !1, createjs.Sound._playFinished(this)
  }, t._interrupt = function () {
    this._cleanUp(), this.playState = createjs.Sound.PLAY_INTERRUPTED, this._sendEvent("interrupted")
  }, t._beginPlaying = function (e) {
    return this._setPosition(e.offset), this._setLoop(e.loop), this._setVolume(e.volume), this._setPan(e.pan), null != e.startTime && (this._setStartTime(e.startTime), this._setDuration(e.duration)), null != this._playbackResource && this._position < this._duration ? (this._paused = !1, this._handleSoundReady(), this.playState = createjs.Sound.PLAY_SUCCEEDED, this._sendEvent("succeeded"), !0) : (this._playFailed(), !1)
  }, t._playFailed = function () {
    this._cleanUp(), this.playState = createjs.Sound.PLAY_FAILED, this._sendEvent("failed")
  }, t._handleSoundComplete = function (e) {
    if (this._position = 0, 0 != this._loop) return this._loop--, this._handleLoop(), void this._sendEvent("loop");
    this._cleanUp(), this.playState = createjs.Sound.PLAY_FINISHED, this._sendEvent("complete")
  }, t._handleSoundReady = function () {
  }, t._updateVolume = function () {
  }, t._updatePan = function () {
  }, t._updateStartTime = function () {
  }, t._updateDuration = function () {
  }, t._setDurationFromSource = function () {
  }, t._calculateCurrentPosition = function () {
  }, t._updatePosition = function () {
  }, t._removeLooping = function (e) {
  }, t._addLooping = function (e) {
  }, t._pause = function () {
  }, t._resume = function () {
  }, t._handleStop = function () {
  }, t._handleCleanUp = function () {
  }, t._handleLoop = function () {
  }, createjs.AbstractSoundInstance = createjs.promote(e, "EventDispatcher"), createjs.DefaultSoundInstance = createjs.AbstractSoundInstance
}(), this.createjs = this.createjs || {}, function () {
  "use strict";
  var e = function () {
    this._capabilities = null, this._loaders = {}, this._audioSources = {}, this._soundInstances = {}, this._volume = 1, this._loaderClass, this._soundInstanceClass
  }, t = e.prototype;
  e._capabilities = null, e.isSupported = function () {
    return !0
  }, t.register = function (e) {
    var t = this._loaders[e.src];
    return t && !t.canceled ? this._loaders[e.src] : (this._audioSources[e.src] = !0, this._soundInstances[e.src] = [], (t = new this._loaderClass(e)).on("complete", this._handlePreloadComplete, this), this._loaders[e.src] = t, t)
  }, t.preload = function (e) {
    e.on("error", this._handlePreloadError, this), e.load()
  }, t.isPreloadStarted = function (e) {
    return null != this._audioSources[e]
  }, t.isPreloadComplete = function (e) {
    return !(null == this._audioSources[e] || 1 == this._audioSources[e])
  }, t.removeSound = function (e) {
    if (this._soundInstances[e]) {
      for (var t = this._soundInstances[e].length; t--;) {
        this._soundInstances[e][t].destroy()
      }
      delete this._soundInstances[e], delete this._audioSources[e], this._loaders[e] && this._loaders[e].destroy(), delete this._loaders[e]
    }
  }, t.removeAllSounds = function () {
    for (var e in this._audioSources) this.removeSound(e)
  }, t.create = function (e, t, s) {
    this.isPreloadStarted(e) || this.preload(this.register(e));
    var n = new this._soundInstanceClass(e, t, s, this._audioSources[e]);
    return this._soundInstances[e] && this._soundInstances[e].push(n), n.setMasterVolume && n.setMasterVolume(createjs.Sound.volume), n.setMasterMute && n.setMasterMute(createjs.Sound.muted), n
  }, t.setVolume = function (e) {
    return this._volume = e, this._updateVolume(), !0
  }, t.getVolume = function () {
    return this._volume
  }, t.setMute = function (e) {
    return this._updateVolume(), !0
  }, t.toString = function () {
    return "[AbstractPlugin]"
  }, t._handlePreloadComplete = function (e) {
    var t = e.target.getItem().src;
    this._audioSources[t] = e.result;
    for (var s = 0, n = this._soundInstances[t].length; s < n; s++) this._soundInstances[t] = null
  }, t._handlePreloadError = function (e) {
  }, t._updateVolume = function () {
  }, createjs.AbstractPlugin = e
}(), this.createjs = this.createjs || {}, function () {
  "use strict";

  function e(e) {
    this.AbstractLoader_constructor(e, !0, createjs.Types.SOUND)
  }

  var t = createjs.extend(e, createjs.AbstractLoader);
  e.context = null, t.toString = function () {
    return "[WebAudioLoader]"
  }, t._createRequest = function () {
    this._request = new createjs.XHRRequest(this._item, !1), this._request.setResponseType("arraybuffer")
  }, t._sendComplete = function (t) {
    e.context.decodeAudioData(this._rawResult, createjs.proxy(this._handleAudioDecoded, this), createjs.proxy(this._sendError, this))
  }, t._handleAudioDecoded = function (e) {
    this._result = e, this.AbstractLoader__sendComplete()
  }, createjs.WebAudioLoader = createjs.promote(e, "AbstractLoader")
}(), this.createjs = this.createjs || {}, function () {
  "use strict";

  function e(e, t, n, r) {
    this.AbstractSoundInstance_constructor(e, t, n, r), this.gainNode = s.context.createGain(), this.panNode = s.context.createPanner(), this.panNode.panningModel = s._panningModel, this.panNode.connect(this.gainNode), this._updatePan(), this.sourceNode = null, this._soundCompleteTimeout = null, this._sourceNodeNext = null, this._playbackStartTime = 0, this._endedHandler = createjs.proxy(this._handleSoundComplete, this)
  }

  var t = createjs.extend(e, createjs.AbstractSoundInstance), s = e;
  s.context = null, s._scratchBuffer = null, s.destinationNode = null, s._panningModel = "equalpower", t.destroy = function () {
    this.AbstractSoundInstance_destroy(), this.panNode.disconnect(0), this.panNode = null, this.gainNode.disconnect(0), this.gainNode = null
  }, t.toString = function () {
    return "[WebAudioSoundInstance]"
  }, t._updatePan = function () {
    this.panNode.setPosition(this._pan, 0, -.5)
  }, t._removeLooping = function (e) {
    this._sourceNodeNext = this._cleanUpAudioNode(this._sourceNodeNext)
  }, t._addLooping = function (e) {
    this.playState == createjs.Sound.PLAY_SUCCEEDED && (this._sourceNodeNext = this._createAndPlayAudioNode(this._playbackStartTime, 0))
  }, t._setDurationFromSource = function () {
    this._duration = 1e3 * this.playbackResource.duration
  }, t._handleCleanUp = function () {
    this.sourceNode && this.playState == createjs.Sound.PLAY_SUCCEEDED && (this.sourceNode = this._cleanUpAudioNode(this.sourceNode), this._sourceNodeNext = this._cleanUpAudioNode(this._sourceNodeNext)), 0 != this.gainNode.numberOfOutputs && this.gainNode.disconnect(0), clearTimeout(this._soundCompleteTimeout), this._playbackStartTime = 0
  }, t._cleanUpAudioNode = function (e) {
    if (e) {
      if (e.stop(0), e.disconnect(0), createjs.BrowserDetect.isIOS) try {
        e.buffer = s._scratchBuffer
      } catch (e) {
      }
      e = null
    }
    return e
  }, t._handleSoundReady = function (e) {
    this.gainNode.connect(s.destinationNode);
    var t = .001 * this._duration, n = Math.min(.001 * Math.max(0, this._position), t);
    this.sourceNode = this._createAndPlayAudioNode(s.context.currentTime - t, n), this._playbackStartTime = this.sourceNode.startTime - n, this._soundCompleteTimeout = setTimeout(this._endedHandler, 1e3 * (t - n)), 0 != this._loop && (this._sourceNodeNext = this._createAndPlayAudioNode(this._playbackStartTime, 0))
  }, t._createAndPlayAudioNode = function (e, t) {
    var n = s.context.createBufferSource();
    n.buffer = this.playbackResource, n.connect(this.panNode);
    var r = .001 * this._duration;
    return n.startTime = e + r, n.start(n.startTime, t + .001 * this._startTime, r - t), n
  }, t._pause = function () {
    this._position = 1e3 * (s.context.currentTime - this._playbackStartTime), this.sourceNode = this._cleanUpAudioNode(this.sourceNode), this._sourceNodeNext = this._cleanUpAudioNode(this._sourceNodeNext), 0 != this.gainNode.numberOfOutputs && this.gainNode.disconnect(0), clearTimeout(this._soundCompleteTimeout)
  }, t._resume = function () {
    this._handleSoundReady()
  }, t._updateVolume = function () {
    var e = this._muted ? 0 : this._volume;
    this.gainNode.gain.setTargetAtTime(e, 0, 0.0001)
  }, t._calculateCurrentPosition = function () {
    return 1e3 * (s.context.currentTime - this._playbackStartTime)
  }, t._updatePosition = function () {
    this.sourceNode = this._cleanUpAudioNode(this.sourceNode), this._sourceNodeNext = this._cleanUpAudioNode(this._sourceNodeNext), clearTimeout(this._soundCompleteTimeout), this._paused || this._handleSoundReady()
  }, t._handleLoop = function () {
    this._cleanUpAudioNode(this.sourceNode), this.sourceNode = this._sourceNodeNext, this._playbackStartTime = this.sourceNode.startTime, this._sourceNodeNext = this._createAndPlayAudioNode(this._playbackStartTime, 0), this._soundCompleteTimeout = setTimeout(this._endedHandler, this._duration)
  }, t._updateDuration = function () {
    this.playState == createjs.Sound.PLAY_SUCCEEDED && (this._pause(), this._resume())
  }, createjs.WebAudioSoundInstance = createjs.promote(e, "AbstractSoundInstance")
}(), this.createjs = this.createjs || {}, function () {
  "use strict";

  function e() {
    this.AbstractPlugin_constructor(), this._panningModel = s._panningModel, this.context = s.context, this.dynamicsCompressorNode = this.context.createDynamicsCompressor(), this.dynamicsCompressorNode.connect(this.context.destination), this.gainNode = this.context.createGain(), this.gainNode.connect(this.dynamicsCompressorNode), createjs.WebAudioSoundInstance.destinationNode = this.gainNode, this._capabilities = s._capabilities, this._loaderClass = createjs.WebAudioLoader, this._soundInstanceClass = createjs.WebAudioSoundInstance, this._addPropsToClasses()
  }

  var t = createjs.extend(e, createjs.AbstractPlugin), s = e;
  s._capabilities = null, s._panningModel = "equalpower", s.context = null, s._scratchBuffer = null, s._unlocked = !1, s.DEFAULT_SAMPLE_RATE = 44100, s.isSupported = function () {
    var e = createjs.BrowserDetect.isIOS || createjs.BrowserDetect.isAndroid || createjs.BrowserDetect.isBlackberry;
    return !("file:" == location.protocol && !e && !this._isFileXHRSupported()) && (s._generateCapabilities(), null != s.context)
  }, s.playEmptySound = function () {
    if (null != s.context) {
      var e = s.context.createBufferSource();
      e.buffer = s._scratchBuffer, e.connect(s.context.destination), e.start(0, 0, 0)
    }
  }, s._isFileXHRSupported = function () {
    var e = !0, t = new XMLHttpRequest;
    try {
      t.open("GET", "WebAudioPluginTest.fail", !1)
    } catch (t) {
      return e = !1
    }
    t.onerror = function () {
      e = !1
    }, t.onload = function () {
      e = 404 == this.status || 200 == this.status || 0 == this.status && "" != this.response
    };
    try {
      t.send()
    } catch (t) {
      e = !1
    }
    return e
  }, s._generateCapabilities = function () {
    if (null == s._capabilities) {
      var e = document.createElement("audio");
      if (null == e.canPlayType) return null;
      if (null == s.context && (s.context = s._createAudioContext(), null == s.context)) return null;
      null == s._scratchBuffer && (s._scratchBuffer = s.context.createBuffer(1, 1, 22050)), s._compatibilitySetUp(), "ontouchstart" in window && "running" != s.context.state && (s._unlock(), document.addEventListener("mousedown", s._unlock, !0), document.addEventListener("touchstart", s._unlock, !0), document.addEventListener("touchend", s._unlock, !0)), s._capabilities = {
        panning: !0,
        volume: !0,
        tracks: -1
      };
      for (var t = createjs.Sound.SUPPORTED_EXTENSIONS, n = createjs.Sound.EXTENSION_MAP, r = 0, i = t.length; r < i; r++) {
        var a = t[r], o = n[a] || a;
        s._capabilities[a] = "no" != e.canPlayType("audio/" + a) && "" != e.canPlayType("audio/" + a) || "no" != e.canPlayType("audio/" + o) && "" != e.canPlayType("audio/" + o)
      }
      s.context.destination.numberOfChannels < 2 && (s._capabilities.panning = !1)
    }
  }, s._createAudioContext = function () {
    var e = window.AudioContext || window.webkitAudioContext;
    if (null == e) return null;
    var t = new e;
    if (/(iPhone|iPad)/i.test(navigator.userAgent) && t.sampleRate !== s.DEFAULT_SAMPLE_RATE) {
      var n = t.createBuffer(1, 1, s.DEFAULT_SAMPLE_RATE), r = t.createBufferSource();
      r.buffer = n, r.connect(t.destination), r.start(0), r.disconnect(), t.close(), t = new e
    }

    function i() {
      t.resume && t.resume(), document.removeEventListener("click", i), document.removeEventListener("touch", i)
    }

    return document.addEventListener("click", i), document.addEventListener("touch", i), t
  }, s._compatibilitySetUp = function () {
    if (s._panningModel = "equalpower", !s.context.createGain) {
      s.context.createGain = s.context.createGainNode;
      var e = s.context.createBufferSource();
      e.__proto__.start = e.__proto__.noteGrainOn, e.__proto__.stop = e.__proto__.noteOff, s._panningModel = 0
    }
  }, s._unlock = function () {
    s._unlocked || (s.playEmptySound(), "running" == s.context.state && (document.removeEventListener("mousedown", s._unlock, !0), document.removeEventListener("touchend", s._unlock, !0), document.removeEventListener("touchstart", s._unlock, !0), s._unlocked = !0))
  }, t.toString = function () {
    return "[WebAudioPlugin]"
  }, t._addPropsToClasses = function () {
    var e = this._soundInstanceClass;
    e.context = this.context, e._scratchBuffer = s._scratchBuffer, e.destinationNode = this.gainNode, e._panningModel = this._panningModel, this._loaderClass.context = this.context
  }, t._updateVolume = function () {
    var e = createjs.Sound._masterMute ? 0 : this._volume;
    this.gainNode.gain.setTargetAtTime(e, 0, 0.0001)
  }, createjs.WebAudioPlugin = createjs.promote(e, "AbstractPlugin")
}(), this.createjs = this.createjs || {}, function () {
  "use strict";

  function e() {
    throw"HTMLAudioTagPool cannot be instantiated"
  }

  var t = e;

  function s(e) {
    this._tags = []
  }

  t._tags = {}, t._tagPool = new s, t._tagUsed = {}, t.get = function (e) {
    var s = t._tags[e];
    return null == s ? (s = t._tags[e] = t._tagPool.get()).src = e : t._tagUsed[e] ? (s = t._tagPool.get()).src = e : t._tagUsed[e] = !0, s
  }, t.set = function (e, s) {
    s == t._tags[e] ? t._tagUsed[e] = !1 : t._tagPool.set(s)
  }, t.remove = function (e) {
    var s = t._tags[e];
    return null != s && (t._tagPool.set(s), delete t._tags[e], delete t._tagUsed[e], !0)
  }, t.getDuration = function (e) {
    var s = t._tags[e];
    return null != s && s.duration ? 1e3 * s.duration : 0
  }, createjs.HTMLAudioTagPool = e;
  var n = s.prototype;
  n.constructor = s, n.get = function () {
    var e;
    return null == (e = 0 == this._tags.length ? this._createTag() : this._tags.pop()).parentNode && document.body.appendChild(e), e
  }, n.set = function (e) {
    -1 == createjs.indexOf(this._tags, e) && (this._tags.src = null, this._tags.push(e))
  }, n.toString = function () {
    return "[TagPool]"
  }, n._createTag = function () {
    var e = document.createElement("audio");
    return e.autoplay = !1, e.preload = "none", e
  }
}(), this.createjs = this.createjs || {}, function () {
  "use strict";

  function e(e, t, s, n) {
    this.AbstractSoundInstance_constructor(e, t, s, n), this._audioSpriteStopTime = null, this._delayTimeoutId = null, this._endedHandler = createjs.proxy(this._handleSoundComplete, this), this._readyHandler = createjs.proxy(this._handleTagReady, this), this._stalledHandler = createjs.proxy(this._playFailed, this), this._audioSpriteEndHandler = createjs.proxy(this._handleAudioSpriteLoop, this), this._loopHandler = createjs.proxy(this._handleSoundComplete, this), s ? this._audioSpriteStopTime = .001 * (t + s) : this._duration = createjs.HTMLAudioTagPool.getDuration(this.src)
  }

  var t = createjs.extend(e, createjs.AbstractSoundInstance);
  t.setMasterVolume = function (e) {
    this._updateVolume()
  }, t.setMasterMute = function (e) {
    this._updateVolume()
  }, t.toString = function () {
    return "[HTMLAudioSoundInstance]"
  }, t._removeLooping = function () {
    null != this._playbackResource && (this._playbackResource.loop = !1, this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1))
  }, t._addLooping = function () {
    null == this._playbackResource || this._audioSpriteStopTime || (this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1), this._playbackResource.loop = !0)
  }, t._handleCleanUp = function () {
    var e = this._playbackResource;
    if (null != e) {
      e.pause(), e.loop = !1, e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED, this._endedHandler, !1), e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY, this._readyHandler, !1), e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED, this._stalledHandler, !1), e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1), e.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE, this._audioSpriteEndHandler, !1);
      try {
        e.currentTime = this._startTime
      } catch (e) {
      }
      createjs.HTMLAudioTagPool.set(this.src, e), this._playbackResource = null
    }
  }, t._beginPlaying = function (e) {
    return this._playbackResource = createjs.HTMLAudioTagPool.get(this.src), this.AbstractSoundInstance__beginPlaying(e)
  }, t._handleSoundReady = function (e) {
    if (4 !== this._playbackResource.readyState) {
      var t = this._playbackResource;
      return t.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY, this._readyHandler, !1), t.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED, this._stalledHandler, !1), t.preload = "auto", void t.load()
    }
    this._updateVolume(), this._playbackResource.currentTime = .001 * (this._startTime + this._position), this._audioSpriteStopTime ? this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE, this._audioSpriteEndHandler, !1) : (this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED, this._endedHandler, !1), 0 != this._loop && (this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1), this._playbackResource.loop = !0)), this._playbackResource.play()
  }, t._handleTagReady = function (e) {
    this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY, this._readyHandler, !1), this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED, this._stalledHandler, !1), this._handleSoundReady()
  }, t._pause = function () {
    this._playbackResource.pause()
  }, t._resume = function () {
    this._playbackResource.play()
  }, t._updateVolume = function () {
    if (null != this._playbackResource) {
      var e = this._muted || createjs.Sound._masterMute ? 0 : this._volume * createjs.Sound._masterVolume;
      e != this._playbackResource.volume && (this._playbackResource.volume = e)
    }
  }, t._calculateCurrentPosition = function () {
    return 1e3 * this._playbackResource.currentTime - this._startTime
  }, t._updatePosition = function () {
    this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1), this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._handleSetPositionSeek, !1);
    try {
      this._playbackResource.currentTime = .001 * (this._position + this._startTime)
    } catch (e) {
      this._handleSetPositionSeek(null)
    }
  }, t._handleSetPositionSeek = function (e) {
    null != this._playbackResource && (this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._handleSetPositionSeek, !1), this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1))
  }, t._handleAudioSpriteLoop = function (e) {
    this._playbackResource.currentTime <= this._audioSpriteStopTime || (this._playbackResource.pause(), 0 == this._loop ? this._handleSoundComplete(null) : (this._position = 0, this._loop--, this._playbackResource.currentTime = .001 * this._startTime, this._paused || this._playbackResource.play(), this._sendEvent("loop")))
  }, t._handleLoop = function (e) {
    0 == this._loop && (this._playbackResource.loop = !1, this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, !1))
  }, t._updateStartTime = function () {
    this._audioSpriteStopTime = .001 * (this._startTime + this._duration), this.playState == createjs.Sound.PLAY_SUCCEEDED && (this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED, this._endedHandler, !1), this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE, this._audioSpriteEndHandler, !1))
  }, t._updateDuration = function () {
    this._audioSpriteStopTime = .001 * (this._startTime + this._duration), this.playState == createjs.Sound.PLAY_SUCCEEDED && (this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED, this._endedHandler, !1), this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE, this._audioSpriteEndHandler, !1))
  }, t._setDurationFromSource = function () {
    this._duration = createjs.HTMLAudioTagPool.getDuration(this.src), this._playbackResource = null
  }, createjs.HTMLAudioSoundInstance = createjs.promote(e, "AbstractSoundInstance")
}(), this.createjs = this.createjs || {}, function () {
  "use strict";

  function e() {
    this.AbstractPlugin_constructor(), this._capabilities = s._capabilities, this._loaderClass = createjs.SoundLoader, this._soundInstanceClass = createjs.HTMLAudioSoundInstance
  }

  var t = createjs.extend(e, createjs.AbstractPlugin), s = e;
  s.MAX_INSTANCES = 30, s._AUDIO_READY = "canplaythrough", s._AUDIO_ENDED = "ended", s._AUDIO_SEEKED = "seeked", s._AUDIO_STALLED = "stalled", s._TIME_UPDATE = "timeupdate", s._capabilities = null, s.isSupported = function () {
    return s._generateCapabilities(), null != s._capabilities
  }, s._generateCapabilities = function () {
    if (null == s._capabilities) {
      var e = document.createElement("audio");
      if (null == e.canPlayType) return null;
      s._capabilities = {panning: !1, volume: !0, tracks: -1};
      for (var t = createjs.Sound.SUPPORTED_EXTENSIONS, n = createjs.Sound.EXTENSION_MAP, r = 0, i = t.length; r < i; r++) {
        var a = t[r], o = n[a] || a;
        s._capabilities[a] = "no" != e.canPlayType("audio/" + a) && "" != e.canPlayType("audio/" + a) || "no" != e.canPlayType("audio/" + o) && "" != e.canPlayType("audio/" + o)
      }
    }
  }, t.register = function (e) {
    var t = createjs.HTMLAudioTagPool.get(e.src), s = this.AbstractPlugin_register(e);
    return s.setTag(t), s
  }, t.removeSound = function (e) {
    this.AbstractPlugin_removeSound(e), createjs.HTMLAudioTagPool.remove(e)
  }, t.create = function (e, t, s) {
    var n = this.AbstractPlugin_create(e, t, s);
    return n.playbackResource = null, n
  }, t.toString = function () {
    return "[HTMLAudioPlugin]"
  }, t.setVolume = t.getVolume = t.setMute = null, createjs.HTMLAudioPlugin = createjs.promote(e, "AbstractPlugin")
}();

// @license TweenJS | (c) 2011-2015 gskinner.com, inc. | MIT license.
this.createjs = this.createjs || {}, createjs.extend = function (a, b) {
  "use strict";

  function c() {
    this.constructor = a
  }

  return c.prototype = b.prototype, a.prototype = new c
}, this.createjs = this.createjs || {}, createjs.promote = function (a, b) {
  "use strict";
  var c = a.prototype, d = Object.getPrototypeOf && Object.getPrototypeOf(c) || c.__proto__;
  if (d) {
    c[(b += "_") + "constructor"] = d.constructor;
    for (var e in d) c.hasOwnProperty(e) && "function" == typeof d[e] && (c[b + e] = d[e])
  }
  return a
}, this.createjs = this.createjs || {}, function () {
  "use strict";

  function Event(a, b, c) {
    this.type = a, this.target = null, this.currentTarget = null, this.eventPhase = 0, this.bubbles = !!b, this.cancelable = !!c, this.timeStamp = (new Date).getTime(), this.defaultPrevented = !1, this.propagationStopped = !1, this.immediatePropagationStopped = !1, this.removed = !1
  }

  var a = Event.prototype;
  a.preventDefault = function () {
    this.defaultPrevented = this.cancelable && !0
  }, a.stopPropagation = function () {
    this.propagationStopped = !0
  }, a.stopImmediatePropagation = function () {
    this.immediatePropagationStopped = this.propagationStopped = !0
  }, a.remove = function () {
    this.removed = !0
  }, a.clone = function () {
    return new Event(this.type, this.bubbles, this.cancelable)
  }, a.set = function (a) {
    for (var b in a) this[b] = a[b];
    return this
  }, a.toString = function () {
    return "[Event (type=" + this.type + ")]"
  }, createjs.Event = Event
}(), this.createjs = this.createjs || {}, function () {
  "use strict";

  function EventDispatcher() {
    this._listeners = null, this._captureListeners = null
  }

  var a = EventDispatcher.prototype;
  EventDispatcher.initialize = function (b) {
    b.addEventListener = a.addEventListener, b.on = a.on, b.removeEventListener = b.off = a.removeEventListener, b.removeAllEventListeners = a.removeAllEventListeners, b.hasEventListener = a.hasEventListener, b.dispatchEvent = a.dispatchEvent, b._dispatchEvent = a._dispatchEvent, b.willTrigger = a.willTrigger
  }, a.addEventListener = function (a, b, c) {
    var d;
    d = c ? this._captureListeners = this._captureListeners || {} : this._listeners = this._listeners || {};
    var e = d[a];
    return e && this.removeEventListener(a, b, c), e = d[a], e ? e.push(b) : d[a] = [b], b
  }, a.on = function (a, b, c, d, e, f) {
    return b.handleEvent && (c = c || b, b = b.handleEvent), c = c || this, this.addEventListener(a, function (a) {
      b.call(c, a, e), d && a.remove()
    }, f)
  }, a.removeEventListener = function (a, b, c) {
    var d = c ? this._captureListeners : this._listeners;
    if (d) {
      var e = d[a];
      if (e) for (var f = 0, g = e.length; g > f; f++) if (e[f] == b) {
        1 == g ? delete d[a] : e.splice(f, 1);
        break
      }
    }
  }, a.off = a.removeEventListener, a.removeAllEventListeners = function (a) {
    a ? (this._listeners && delete this._listeners[a], this._captureListeners && delete this._captureListeners[a]) : this._listeners = this._captureListeners = null
  }, a.dispatchEvent = function (a, b, c) {
    if ("string" == typeof a) {
      var d = this._listeners;
      if (!(b || d && d[a])) return !0;
      a = new createjs.Event(a, b, c)
    } else a.target && a.clone && (a = a.clone());
    try {
      a.target = this
    } catch (e) {
    }
    if (a.bubbles && this.parent) {
      for (var f = this, g = [f]; f.parent;) g.push(f = f.parent);
      var h, i = g.length;
      for (h = i - 1; h >= 0 && !a.propagationStopped; h--) g[h]._dispatchEvent(a, 1 + (0 == h));
      for (h = 1; i > h && !a.propagationStopped; h++) g[h]._dispatchEvent(a, 3)
    } else this._dispatchEvent(a, 2);
    return !a.defaultPrevented
  }, a.hasEventListener = function (a) {
    var b = this._listeners, c = this._captureListeners;
    return !!(b && b[a] || c && c[a])
  }, a.willTrigger = function (a) {
    for (var b = this; b;) {
      if (b.hasEventListener(a)) return !0;
      b = b.parent
    }
    return !1
  }, a.toString = function () {
    return "[EventDispatcher]"
  }, a._dispatchEvent = function (a, b) {
    var c, d = 1 == b ? this._captureListeners : this._listeners;
    if (a && d) {
      var e = d[a.type];
      if (!e || !(c = e.length)) return;
      try {
        a.currentTarget = this
      } catch (f) {
      }
      try {
        a.eventPhase = b
      } catch (f) {
      }
      a.removed = !1, e = e.slice();
      for (var g = 0; c > g && !a.immediatePropagationStopped; g++) {
        var h = e[g];
        h.handleEvent ? h.handleEvent(a) : h(a), a.removed && (this.off(a.type, h, 1 == b), a.removed = !1)
      }
    }
  }, createjs.EventDispatcher = EventDispatcher
}(), this.createjs = this.createjs || {}, function () {
  "use strict";

  function Tween(a, b, c) {
    this.ignoreGlobalPause = !1, this.loop = !1, this.duration = 0, this.pluginData = c || {}, this.target = a, this.position = null, this.passive = !1, this._paused = !1, this._curQueueProps = {}, this._initQueueProps = {}, this._steps = [], this._actions = [], this._prevPosition = 0, this._stepPosition = 0, this._prevPos = -1, this._target = a, this._useTicks = !1, this._inited = !1, this._registered = !1, b && (this._useTicks = b.useTicks, this.ignoreGlobalPause = b.ignoreGlobalPause, this.loop = b.loop, b.onChange && this.addEventListener("change", b.onChange), b.override && Tween.removeTweens(a)), b && b.paused ? this._paused = !0 : createjs.Tween._register(this, !0), b && null != b.position && this.setPosition(b.position, Tween.NONE)
  }

  var a = createjs.extend(Tween, createjs.EventDispatcher);
  Tween.NONE = 0, Tween.LOOP = 1, Tween.REVERSE = 2, Tween.IGNORE = {}, Tween._tweens = [], Tween._plugins = {}, Tween.get = function (a, b, c, d) {
    return d && Tween.removeTweens(a), new Tween(a, b, c)
  }, Tween.tick = function (a, b) {
    for (var c = Tween._tweens.slice(), d = c.length - 1; d >= 0; d--) {
      var e = c[d];
      b && !e.ignoreGlobalPause || e._paused || e.tick(e._useTicks ? 1 : a)
    }
  }, Tween.handleEvent = function (a) {
    "tick" == a.type && this.tick(a.delta, a.paused)
  }, Tween.removeTweens = function (a) {
    if (a.tweenjs_count) {
      for (var b = Tween._tweens, c = b.length - 1; c >= 0; c--) {
        var d = b[c];
        d._target == a && (d._paused = !0, b.splice(c, 1))
      }
      a.tweenjs_count = 0
    }
  }, Tween.removeAllTweens = function () {
    for (var a = Tween._tweens, b = 0, c = a.length; c > b; b++) {
      var d = a[b];
      d._paused = !0, d.target && (d.target.tweenjs_count = 0)
    }
    a.length = 0
  }, Tween.hasActiveTweens = function (a) {
    return a ? null != a.tweenjs_count && !!a.tweenjs_count : Tween._tweens && !!Tween._tweens.length
  }, Tween.installPlugin = function (a, b) {
    var c = a.priority;
    null == c && (a.priority = c = 0);
    for (var d = 0, e = b.length, f = Tween._plugins; e > d; d++) {
      var g = b[d];
      if (f[g]) {
        for (var h = f[g], i = 0, j = h.length; j > i && !(c < h[i].priority); i++) ;
        f[g].splice(i, 0, a)
      } else f[g] = [a]
    }
  }, Tween._register = function (a, b) {
    var c = a._target, d = Tween._tweens;
    if (b && !a._registered) c && (c.tweenjs_count = c.tweenjs_count ? c.tweenjs_count + 1 : 1), d.push(a), !Tween._inited && createjs.Ticker && (createjs.Ticker.addEventListener("tick", Tween), Tween._inited = !0); else if (!b && a._registered) {
      c && c.tweenjs_count--;
      for (var e = d.length; e--;) if (d[e] == a) {
        d.splice(e, 1);
        break
      }
    }
    a._registered = b
  }, a.wait = function (a, b) {
    if (null == a || 0 >= a) return this;
    var c = this._cloneProps(this._curQueueProps);
    return this._addStep({d: a, p0: c, e: this._linearEase, p1: c, v: b})
  }, a.to = function (a, b, c) {
    return (isNaN(b) || 0 > b) && (b = 0), this._addStep({
      d: b || 0,
      p0: this._cloneProps(this._curQueueProps),
      e: c,
      p1: this._cloneProps(this._appendQueueProps(a))
    })
  }, a.call = function (a, b, c) {
    return this._addAction({f: a, p: b ? b : [this], o: c ? c : this._target})
  }, a.set = function (a, b) {
    return this._addAction({f: this._set, o: this, p: [a, b ? b : this._target]})
  }, a.play = function (a) {
    return a || (a = this), this.call(a.setPaused, [!1], a)
  }, a.pause = function (a) {
    return a || (a = this), this.call(a.setPaused, [!0], a)
  }, a.setPosition = function (a, b) {
    0 > a && (a = 0), null == b && (b = 1);
    var c = a, d = !1;
    if (c >= this.duration && (this.loop ? c %= this.duration : (c = this.duration, d = !0)), c == this._prevPos) return d;
    var e = this._prevPos;
    if (this.position = this._prevPos = c, this._prevPosition = a, this._target) if (d) this._updateTargetProps(null, 1); else if (this._steps.length > 0) {
      for (var f = 0, g = this._steps.length; g > f && !(this._steps[f].t > c); f++) ;
      var h = this._steps[f - 1];
      this._updateTargetProps(h, (this._stepPosition = c - h.t) / h.d)
    }
    return 0 != b && this._actions.length > 0 && (this._useTicks ? this._runActions(c, c) : 1 == b && e > c ? (e != this.duration && this._runActions(e, this.duration), this._runActions(0, c, !0)) : this._runActions(e, c)), d && this.setPaused(!0), this.dispatchEvent("change"), d
  }, a.tick = function (a) {
    this._paused || this.setPosition(this._prevPosition + a)
  }, a.setPaused = function (a) {
    return this._paused === !!a ? this : (this._paused = !!a, Tween._register(this, !a), this)
  }, a.w = a.wait, a.t = a.to, a.c = a.call, a.s = a.set, a.toString = function () {
    return "[Tween]"
  }, a.clone = function () {
    throw"Tween can not be cloned."
  }, a._updateTargetProps = function (a, b) {
    var c, d, e, f, g, h;
    if (a || 1 != b) {
      if (this.passive = !!a.v, this.passive) return;
      a.e && (b = a.e(b, 0, 1, 1)), c = a.p0, d = a.p1
    } else this.passive = !1, c = d = this._curQueueProps;
    for (var i in this._initQueueProps) {
      null == (f = c[i]) && (c[i] = f = this._initQueueProps[i]), null == (g = d[i]) && (d[i] = g = f), e = f == g || 0 == b || 1 == b || "number" != typeof f ? 1 == b ? g : f : f + (g - f) * b;
      var j = !1;
      if (h = Tween._plugins[i]) for (var k = 0, l = h.length; l > k; k++) {
        var m = h[k].tween(this, i, e, c, d, b, !!a && c == d, !a);
        m == Tween.IGNORE ? j = !0 : e = m
      }
      j || (this._target[i] = e)
    }
  }, a._runActions = function (a, b, c) {
    var d = a, e = b, f = -1, g = this._actions.length, h = 1;
    for (a > b && (d = b, e = a, f = g, g = h = -1); (f += h) != g;) {
      var i = this._actions[f], j = i.t;
      (j == e || j > d && e > j || c && j == a) && i.f.apply(i.o, i.p)
    }
  }, a._appendQueueProps = function (a) {
    var b, c, d, e, f;
    for (var g in a) if (void 0 === this._initQueueProps[g]) {
      if (c = this._target[g], b = Tween._plugins[g]) for (d = 0, e = b.length; e > d; d++) c = b[d].init(this, g, c);
      this._initQueueProps[g] = this._curQueueProps[g] = void 0 === c ? null : c
    } else c = this._curQueueProps[g];
    for (var g in a) {
      if (c = this._curQueueProps[g], b = Tween._plugins[g]) for (f = f || {}, d = 0, e = b.length; e > d; d++) b[d].step && b[d].step(this, g, c, a[g], f);
      this._curQueueProps[g] = a[g]
    }
    return f && this._appendQueueProps(f), this._curQueueProps
  }, a._cloneProps = function (a) {
    var b = {};
    for (var c in a) b[c] = a[c];
    return b
  }, a._addStep = function (a) {
    return a.d > 0 && (this._steps.push(a), a.t = this.duration, this.duration += a.d), this
  }, a._addAction = function (a) {
    return a.t = this.duration, this._actions.push(a), this
  }, a._set = function (a, b) {
    for (var c in a) b[c] = a[c]
  }, createjs.Tween = createjs.promote(Tween, "EventDispatcher")
}(), this.createjs = this.createjs || {}, function () {
  "use strict";

  function Timeline(a, b, c) {
    this.EventDispatcher_constructor(), this.ignoreGlobalPause = !1, this.duration = 0, this.loop = !1, this.position = null, this._paused = !1, this._tweens = [], this._labels = null, this._labelList = null, this._prevPosition = 0, this._prevPos = -1, this._useTicks = !1, this._registered = !1, c && (this._useTicks = c.useTicks, this.loop = c.loop, this.ignoreGlobalPause = c.ignoreGlobalPause, c.onChange && this.addEventListener("change", c.onChange)), a && this.addTween.apply(this, a), this.setLabels(b), c && c.paused ? this._paused = !0 : createjs.Tween._register(this, !0), c && null != c.position && this.setPosition(c.position, createjs.Tween.NONE)
  }

  var a = createjs.extend(Timeline, createjs.EventDispatcher);
  a.addTween = function (a) {
    var b = arguments.length;
    if (b > 1) {
      for (var c = 0; b > c; c++) this.addTween(arguments[c]);
      return arguments[0]
    }
    return 0 == b ? null : (this.removeTween(a), this._tweens.push(a), a.setPaused(!0), a._paused = !1, a._useTicks = this._useTicks, a.duration > this.duration && (this.duration = a.duration), this._prevPos >= 0 && a.setPosition(this._prevPos, createjs.Tween.NONE), a)
  }, a.removeTween = function (a) {
    var b = arguments.length;
    if (b > 1) {
      for (var c = !0, d = 0; b > d; d++) c = c && this.removeTween(arguments[d]);
      return c
    }
    if (0 == b) return !1;
    for (var e = this._tweens, d = e.length; d--;) if (e[d] == a) return e.splice(d, 1), a.duration >= this.duration && this.updateDuration(), !0;
    return !1
  }, a.addLabel = function (a, b) {
    this._labels[a] = b;
    var c = this._labelList;
    if (c) {
      for (var d = 0, e = c.length; e > d && !(b < c[d].position); d++) ;
      c.splice(d, 0, {label: a, position: b})
    }
  }, a.setLabels = function (a) {
    this._labels = a ? a : {}
  }, a.getLabels = function () {
    var a = this._labelList;
    if (!a) {
      a = this._labelList = [];
      var b = this._labels;
      for (var c in b) a.push({label: c, position: b[c]});
      a.sort(function (a, b) {
        return a.position - b.position
      })
    }
    return a
  }, a.getCurrentLabel = function () {
    var a = this.getLabels(), b = this.position, c = a.length;
    if (c) {
      for (var d = 0; c > d && !(b < a[d].position); d++) ;
      return 0 == d ? null : a[d - 1].label
    }
    return null
  }, a.gotoAndPlay = function (a) {
    this.setPaused(!1), this._goto(a)
  }, a.gotoAndStop = function (a) {
    this.setPaused(!0), this._goto(a)
  }, a.setPosition = function (a, b) {
    var c = this._calcPosition(a), d = !this.loop && a >= this.duration;
    if (c == this._prevPos) return d;
    this._prevPosition = a, this.position = this._prevPos = c;
    for (var e = 0, f = this._tweens.length; f > e; e++) if (this._tweens[e].setPosition(c, b), c != this._prevPos) return !1;
    return d && this.setPaused(!0), this.dispatchEvent("change"), d
  }, a.setPaused = function (a) {
    this._paused = !!a, createjs.Tween._register(this, !a)
  }, a.updateDuration = function () {
    this.duration = 0;
    for (var a = 0, b = this._tweens.length; b > a; a++) {
      var c = this._tweens[a];
      c.duration > this.duration && (this.duration = c.duration)
    }
  }, a.tick = function (a) {
    this.setPosition(this._prevPosition + a)
  }, a.resolve = function (a) {
    var b = Number(a);
    return isNaN(b) && (b = this._labels[a]), b
  }, a.toString = function () {
    return "[Timeline]"
  }, a.clone = function () {
    throw"Timeline can not be cloned."
  }, a._goto = function (a) {
    var b = this.resolve(a);
    null != b && this.setPosition(b)
  }, a._calcPosition = function (a) {
    return 0 > a ? 0 : a < this.duration ? a : this.loop ? a % this.duration : this.duration
  }, createjs.Timeline = createjs.promote(Timeline, "EventDispatcher")
}(), this.createjs = this.createjs || {}, function () {
  "use strict";

  function Ease() {
    throw"Ease cannot be instantiated."
  }

  Ease.linear = function (a) {
    return a
  }, Ease.none = Ease.linear, Ease.get = function (a) {
    return -1 > a && (a = -1), a > 1 && (a = 1), function (b) {
      return 0 == a ? b : 0 > a ? b * (b * -a + 1 + a) : b * ((2 - b) * a + (1 - a))
    }
  }, Ease.getPowIn = function (a) {
    return function (b) {
      return Math.pow(b, a)
    }
  }, Ease.getPowOut = function (a) {
    return function (b) {
      return 1 - Math.pow(1 - b, a)
    }
  }, Ease.getPowInOut = function (a) {
    return function (b) {
      return (b *= 2) < 1 ? .5 * Math.pow(b, a) : 1 - .5 * Math.abs(Math.pow(2 - b, a))
    }
  }, Ease.quadIn = Ease.getPowIn(2), Ease.quadOut = Ease.getPowOut(2), Ease.quadInOut = Ease.getPowInOut(2), Ease.cubicIn = Ease.getPowIn(3), Ease.cubicOut = Ease.getPowOut(3), Ease.cubicInOut = Ease.getPowInOut(3), Ease.quartIn = Ease.getPowIn(4), Ease.quartOut = Ease.getPowOut(4), Ease.quartInOut = Ease.getPowInOut(4), Ease.quintIn = Ease.getPowIn(5), Ease.quintOut = Ease.getPowOut(5), Ease.quintInOut = Ease.getPowInOut(5), Ease.sineIn = function (a) {
    return 1 - Math.cos(a * Math.PI / 2)
  }, Ease.sineOut = function (a) {
    return Math.sin(a * Math.PI / 2)
  }, Ease.sineInOut = function (a) {
    return -.5 * (Math.cos(Math.PI * a) - 1)
  }, Ease.getBackIn = function (a) {
    return function (b) {
      return b * b * ((a + 1) * b - a)
    }
  }, Ease.backIn = Ease.getBackIn(1.7), Ease.getBackOut = function (a) {
    return function (b) {
      return --b * b * ((a + 1) * b + a) + 1
    }
  }, Ease.backOut = Ease.getBackOut(1.7), Ease.getBackInOut = function (a) {
    return a *= 1.525, function (b) {
      return (b *= 2) < 1 ? .5 * b * b * ((a + 1) * b - a) : .5 * ((b -= 2) * b * ((a + 1) * b + a) + 2)
    }
  }, Ease.backInOut = Ease.getBackInOut(1.7), Ease.circIn = function (a) {
    return -(Math.sqrt(1 - a * a) - 1)
  }, Ease.circOut = function (a) {
    return Math.sqrt(1 - --a * a)
  }, Ease.circInOut = function (a) {
    return (a *= 2) < 1 ? -.5 * (Math.sqrt(1 - a * a) - 1) : .5 * (Math.sqrt(1 - (a -= 2) * a) + 1)
  }, Ease.bounceIn = function (a) {
    return 1 - Ease.bounceOut(1 - a)
  }, Ease.bounceOut = function (a) {
    return 1 / 2.75 > a ? 7.5625 * a * a : 2 / 2.75 > a ? 7.5625 * (a -= 1.5 / 2.75) * a + .75 : 2.5 / 2.75 > a ? 7.5625 * (a -= 2.25 / 2.75) * a + .9375 : 7.5625 * (a -= 2.625 / 2.75) * a + .984375
  }, Ease.bounceInOut = function (a) {
    return .5 > a ? .5 * Ease.bounceIn(2 * a) : .5 * Ease.bounceOut(2 * a - 1) + .5
  }, Ease.getElasticIn = function (a, b) {
    var c = 2 * Math.PI;
    return function (d) {
      if (0 == d || 1 == d) return d;
      var e = b / c * Math.asin(1 / a);
      return -(a * Math.pow(2, 10 * (d -= 1)) * Math.sin((d - e) * c / b))
    }
  }, Ease.elasticIn = Ease.getElasticIn(1, .3), Ease.getElasticOut = function (a, b) {
    var c = 2 * Math.PI;
    return function (d) {
      if (0 == d || 1 == d) return d;
      var e = b / c * Math.asin(1 / a);
      return a * Math.pow(2, -10 * d) * Math.sin((d - e) * c / b) + 1
    }
  }, Ease.elasticOut = Ease.getElasticOut(1, .3), Ease.getElasticInOut = function (a, b) {
    var c = 2 * Math.PI;
    return function (d) {
      var e = b / c * Math.asin(1 / a);
      return (d *= 2) < 1 ? -.5 * a * Math.pow(2, 10 * (d -= 1)) * Math.sin((d - e) * c / b) : a * Math.pow(2, -10 * (d -= 1)) * Math.sin((d - e) * c / b) * .5 + 1
    }
  }, Ease.elasticInOut = Ease.getElasticInOut(1, .3 * 1.5), createjs.Ease = Ease
}(), this.createjs = this.createjs || {}, function () {
  "use strict";

  function MotionGuidePlugin() {
    throw"MotionGuidePlugin cannot be instantiated."
  }

  MotionGuidePlugin.priority = 0, MotionGuidePlugin._rotOffS, MotionGuidePlugin._rotOffE, MotionGuidePlugin._rotNormS, MotionGuidePlugin._rotNormE, MotionGuidePlugin.install = function () {
    return createjs.Tween.installPlugin(MotionGuidePlugin, ["guide", "x", "y", "rotation"]), createjs.Tween.IGNORE
  }, MotionGuidePlugin.init = function (a, b, c) {
    var d = a.target;
    return d.hasOwnProperty("x") || (d.x = 0), d.hasOwnProperty("y") || (d.y = 0), d.hasOwnProperty("rotation") || (d.rotation = 0), "rotation" == b && (a.__needsRot = !0), "guide" == b ? null : c
  }, MotionGuidePlugin.step = function (a, b, c, d, e) {
    if ("rotation" == b && (a.__rotGlobalS = c, a.__rotGlobalE = d, MotionGuidePlugin.testRotData(a, e)), "guide" != b) return d;
    var f, g = d;
    g.hasOwnProperty("path") || (g.path = []);
    var h = g.path;
    if (g.hasOwnProperty("end") || (g.end = 1), g.hasOwnProperty("start") || (g.start = c && c.hasOwnProperty("end") && c.path === h ? c.end : 0), g.hasOwnProperty("_segments") && g._length) return d;
    var i = h.length, j = 10;
    if (!(i >= 6 && (i - 2) % 4 == 0)) throw"invalid 'path' data, please see documentation for valid paths";
    g._segments = [], g._length = 0;
    for (var k = 2; i > k; k += 4) {
      for (var l, m, n = h[k - 2], o = h[k - 1], p = h[k + 0], q = h[k + 1], r = h[k + 2], s = h[k + 3], t = n, u = o, v = 0, w = [], x = 1; j >= x; x++) {
        var y = x / j, z = 1 - y;
        l = z * z * n + 2 * z * y * p + y * y * r, m = z * z * o + 2 * z * y * q + y * y * s, v += w[w.push(Math.sqrt((f = l - t) * f + (f = m - u) * f)) - 1], t = l, u = m
      }
      g._segments.push(v), g._segments.push(w), g._length += v
    }
    f = g.orient, g.orient = !0;
    var A = {};
    return MotionGuidePlugin.calc(g, g.start, A), a.__rotPathS = Number(A.rotation.toFixed(5)), MotionGuidePlugin.calc(g, g.end, A), a.__rotPathE = Number(A.rotation.toFixed(5)), g.orient = !1, MotionGuidePlugin.calc(g, g.end, e), g.orient = f, g.orient ? (a.__guideData = g, MotionGuidePlugin.testRotData(a, e), d) : d
  }, MotionGuidePlugin.testRotData = function (a, b) {
    if (void 0 === a.__rotGlobalS || void 0 === a.__rotGlobalE) {
      if (a.__needsRot) return;
      a.__rotGlobalS = a.__rotGlobalE = void 0 !== a._curQueueProps.rotation ? a._curQueueProps.rotation : b.rotation = a.target.rotation || 0
    }
    if (void 0 !== a.__guideData) {
      var c = a.__guideData, d = a.__rotGlobalE - a.__rotGlobalS, e = a.__rotPathE - a.__rotPathS, f = d - e;
      if ("auto" == c.orient) f > 180 ? f -= 360 : -180 > f && (f += 360); else if ("cw" == c.orient) {
        for (; 0 > f;) f += 360;
        0 == f && d > 0 && 180 != d && (f += 360)
      } else if ("ccw" == c.orient) {
        for (f = d - (e > 180 ? 360 - e : e); f > 0;) f -= 360;
        0 == f && 0 > d && -180 != d && (f -= 360)
      }
      c.rotDelta = f, c.rotOffS = a.__rotGlobalS - a.__rotPathS, a.__rotGlobalS = a.__rotGlobalE = a.__guideData = a.__needsRot = void 0
    }
  }, MotionGuidePlugin.tween = function (a, b, c, d, e, f, g) {
    var h = e.guide;
    if (void 0 == h || h === d.guide) return c;
    if (h.lastRatio != f) {
      var i = (h.end - h.start) * (g ? h.end : f) + h.start;
      switch (MotionGuidePlugin.calc(h, i, a.target), h.orient) {
        case"cw":
        case"ccw":
        case"auto":
          a.target.rotation += h.rotOffS + h.rotDelta * f;
          break;
        case"fixed":
        default:
          a.target.rotation += h.rotOffS
      }
      h.lastRatio = f
    }
    return "rotation" != b || h.orient && "false" != h.orient ? a.target[b] : c
  }, MotionGuidePlugin.calc = function (a, b, c) {
    if (void 0 == a._segments) throw"Missing critical pre-calculated information, please file a bug";
    void 0 == c && (c = {x: 0, y: 0, rotation: 0});
    for (var d = a._segments, e = a.path, f = a._length * b, g = d.length - 2, h = 0; f > d[h] && g > h;) f -= d[h], h += 2;
    var i = d[h + 1], j = 0;
    for (g = i.length - 1; f > i[j] && g > j;) f -= i[j], j++;
    var k = j / ++g + f / (g * i[j]);
    h = 2 * h + 2;
    var l = 1 - k;
    return c.x = l * l * e[h - 2] + 2 * l * k * e[h + 0] + k * k * e[h + 2], c.y = l * l * e[h - 1] + 2 * l * k * e[h + 1] + k * k * e[h + 3], a.orient && (c.rotation = 57.2957795 * Math.atan2((e[h + 1] - e[h - 1]) * l + (e[h + 3] - e[h + 1]) * k, (e[h + 0] - e[h - 2]) * l + (e[h + 2] - e[h + 0]) * k)), c
  }, createjs.MotionGuidePlugin = MotionGuidePlugin
}(), this.createjs = this.createjs || {}, function () {
  "use strict";
  var a = createjs.TweenJS = createjs.TweenJS || {};
  a.version = "0.6.2", a.buildDate = "Thu, 26 Nov 2015 20:44:31 GMT"
}();

/*!
 * Socket.IO v2.3.0
 * (c) 2014-2019 Guillermo Rauch
 * Released under the MIT License.
 */
!function (t, e) {
  "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.io = e() : t.io = e()
}(this, function () {
  return function (t) {
    function e(r) {
      if (n[r]) return n[r].exports;
      var o = n[r] = {exports: {}, id: r, loaded: !1};
      return t[r].call(o.exports, o, o.exports, e), o.loaded = !0, o.exports
    }

    var n = {};
    return e.m = t, e.c = n, e.p = "", e(0)
  }([function (t, e, n) {
    function r(t, e) {
      "object" == typeof t && (e = t, t = void 0), e = e || {};
      var n, r = o(t), i = r.source, u = r.id, p = r.path, h = c[u] && p in c[u].nsps,
        f = e.forceNew || e["force new connection"] || !1 === e.multiplex || h;
      return f ? (a("ignoring socket cache for %s", i), n = s(i, e)) : (c[u] || (a("new io instance for %s", i), c[u] = s(i, e)), n = c[u]), r.query && !e.query && (e.query = r.query), n.socket(r.path, e)
    }

    var o = n(1), i = n(7), s = n(15), a = n(3)("socket.io-client");
    t.exports = e = r;
    var c = e.managers = {};
    e.protocol = i.protocol, e.connect = r, e.Manager = n(15), e.Socket = n(39)
  }, function (t, e, n) {
    function r(t, e) {
      var n = t;
      e = e || "undefined" != typeof location && location, null == t && (t = e.protocol + "//" + e.host), "string" == typeof t && ("/" === t.charAt(0) && (t = "/" === t.charAt(1) ? e.protocol + t : e.host + t), /^(https?|wss?):\/\//.test(t) || (i("protocol-less url %s", t), t = "undefined" != typeof e ? e.protocol + "//" + t : "https://" + t), i("parse %s", t), n = o(t)), n.port || (/^(http|ws)$/.test(n.protocol) ? n.port = "80" : /^(http|ws)s$/.test(n.protocol) && (n.port = "443")), n.path = n.path || "/";
      var r = n.host.indexOf(":") !== -1, s = r ? "[" + n.host + "]" : n.host;
      return n.id = n.protocol + "://" + s + ":" + n.port, n.href = n.protocol + "://" + s + (e && e.port === n.port ? "" : ":" + n.port), n
    }

    var o = n(2), i = n(3)("socket.io-client:url");
    t.exports = r
  }, function (t, e) {
    var n = /^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
      r = ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"];
    t.exports = function (t) {
      var e = t, o = t.indexOf("["), i = t.indexOf("]");
      o != -1 && i != -1 && (t = t.substring(0, o) + t.substring(o, i).replace(/:/g, ";") + t.substring(i, t.length));
      for (var s = n.exec(t || ""), a = {}, c = 14; c--;) a[r[c]] = s[c] || "";
      return o != -1 && i != -1 && (a.source = e, a.host = a.host.substring(1, a.host.length - 1).replace(/;/g, ":"), a.authority = a.authority.replace("[", "").replace("]", "").replace(/;/g, ":"), a.ipv6uri = !0), a
    }
  }, function (t, e, n) {
    (function (r) {
      "use strict";

      function o() {
        return !("undefined" == typeof window || !window.process || "renderer" !== window.process.type && !window.process.__nwjs) || ("undefined" == typeof navigator || !navigator.userAgent || !navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) && ("undefined" != typeof document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || "undefined" != typeof window && window.console && (window.console.firebug || window.console.exception && window.console.table) || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))
      }

      function i(e) {
        if (e[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + e[0] + (this.useColors ? "%c " : " ") + "+" + t.exports.humanize(this.diff), this.useColors) {
          var n = "color: " + this.color;
          e.splice(1, 0, n, "color: inherit");
          var r = 0, o = 0;
          e[0].replace(/%[a-zA-Z%]/g, function (t) {
            "%%" !== t && (r++, "%c" === t && (o = r))
          }), e.splice(o, 0, n)
        }
      }

      function s() {
        var t;
        return "object" === ("undefined" == typeof console ? "undefined" : p(console)) && console.log && (t = console).log.apply(t, arguments)
      }

      function a(t) {
        try {
          t ? e.storage.setItem("debug", t) : e.storage.removeItem("debug")
        } catch (n) {
        }
      }

      function c() {
        var t = void 0;
        try {
          t = e.storage.getItem("debug")
        } catch (n) {
        }
        return !t && "undefined" != typeof r && "env" in r && (t = r.env.DEBUG), t
      }

      function u() {
        try {
          return localStorage
        } catch (t) {
        }
      }

      var p = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
        return typeof t
      } : function (t) {
        return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
      };
      e.log = s, e.formatArgs = i, e.save = a, e.load = c, e.useColors = o, e.storage = u(), e.colors = ["#0000CC", "#0000FF", "#0033CC", "#0033FF", "#0066CC", "#0066FF", "#0099CC", "#0099FF", "#00CC00", "#00CC33", "#00CC66", "#00CC99", "#00CCCC", "#00CCFF", "#3300CC", "#3300FF", "#3333CC", "#3333FF", "#3366CC", "#3366FF", "#3399CC", "#3399FF", "#33CC00", "#33CC33", "#33CC66", "#33CC99", "#33CCCC", "#33CCFF", "#6600CC", "#6600FF", "#6633CC", "#6633FF", "#66CC00", "#66CC33", "#9900CC", "#9900FF", "#9933CC", "#9933FF", "#99CC00", "#99CC33", "#CC0000", "#CC0033", "#CC0066", "#CC0099", "#CC00CC", "#CC00FF", "#CC3300", "#CC3333", "#CC3366", "#CC3399", "#CC33CC", "#CC33FF", "#CC6600", "#CC6633", "#CC9900", "#CC9933", "#CCCC00", "#CCCC33", "#FF0000", "#FF0033", "#FF0066", "#FF0099", "#FF00CC", "#FF00FF", "#FF3300", "#FF3333", "#FF3366", "#FF3399", "#FF33CC", "#FF33FF", "#FF6600", "#FF6633", "#FF9900", "#FF9933", "#FFCC00", "#FFCC33"], t.exports = n(5)(e);
      var h = t.exports.formatters;
      h.j = function (t) {
        try {
          return JSON.stringify(t)
        } catch (e) {
          return "[UnexpectedJSONParseError]: " + e.message
        }
      }
    }).call(e, n(4))
  }, function (t, e) {
    function n() {
      throw new Error("setTimeout has not been defined")
    }

    function r() {
      throw new Error("clearTimeout has not been defined")
    }

    function o(t) {
      if (p === setTimeout) return setTimeout(t, 0);
      if ((p === n || !p) && setTimeout) return p = setTimeout, setTimeout(t, 0);
      try {
        return p(t, 0)
      } catch (e) {
        try {
          return p.call(null, t, 0)
        } catch (e) {
          return p.call(this, t, 0)
        }
      }
    }

    function i(t) {
      if (h === clearTimeout) return clearTimeout(t);
      if ((h === r || !h) && clearTimeout) return h = clearTimeout, clearTimeout(t);
      try {
        return h(t)
      } catch (e) {
        try {
          return h.call(null, t)
        } catch (e) {
          return h.call(this, t)
        }
      }
    }

    function s() {
      y && l && (y = !1, l.length ? d = l.concat(d) : m = -1, d.length && a())
    }

    function a() {
      if (!y) {
        var t = o(s);
        y = !0;
        for (var e = d.length; e;) {
          for (l = d, d = []; ++m < e;) l && l[m].run();
          m = -1, e = d.length
        }
        l = null, y = !1, i(t)
      }
    }

    function c(t, e) {
      this.fun = t, this.array = e
    }

    function u() {
    }

    var p, h, f = t.exports = {};
    !function () {
      try {
        p = "function" == typeof setTimeout ? setTimeout : n
      } catch (t) {
        p = n
      }
      try {
        h = "function" == typeof clearTimeout ? clearTimeout : r
      } catch (t) {
        h = r
      }
    }();
    var l, d = [], y = !1, m = -1;
    f.nextTick = function (t) {
      var e = new Array(arguments.length - 1);
      if (arguments.length > 1) for (var n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
      d.push(new c(t, e)), 1 !== d.length || y || o(a)
    }, c.prototype.run = function () {
      this.fun.apply(null, this.array)
    }, f.title = "browser", f.browser = !0, f.env = {}, f.argv = [], f.version = "", f.versions = {}, f.on = u, f.addListener = u, f.once = u, f.off = u, f.removeListener = u, f.removeAllListeners = u, f.emit = u, f.prependListener = u, f.prependOnceListener = u, f.listeners = function (t) {
      return []
    }, f.binding = function (t) {
      throw new Error("process.binding is not supported")
    }, f.cwd = function () {
      return "/"
    }, f.chdir = function (t) {
      throw new Error("process.chdir is not supported")
    }, f.umask = function () {
      return 0
    }
  }, function (t, e, n) {
    "use strict";

    function r(t) {
      if (Array.isArray(t)) {
        for (var e = 0, n = Array(t.length); e < t.length; e++) n[e] = t[e];
        return n
      }
      return Array.from(t)
    }

    function o(t) {
      function e(t) {
        for (var e = 0, n = 0; n < t.length; n++) e = (e << 5) - e + t.charCodeAt(n), e |= 0;
        return o.colors[Math.abs(e) % o.colors.length]
      }

      function o(t) {
        function n() {
          for (var t = arguments.length, e = Array(t), i = 0; i < t; i++) e[i] = arguments[i];
          if (n.enabled) {
            var s = n, a = Number(new Date), c = a - (r || a);
            s.diff = c, s.prev = r, s.curr = a, r = a, e[0] = o.coerce(e[0]), "string" != typeof e[0] && e.unshift("%O");
            var u = 0;
            e[0] = e[0].replace(/%([a-zA-Z%])/g, function (t, n) {
              if ("%%" === t) return t;
              u++;
              var r = o.formatters[n];
              if ("function" == typeof r) {
                var i = e[u];
                t = r.call(s, i), e.splice(u, 1), u--
              }
              return t
            }), o.formatArgs.call(s, e);
            var p = s.log || o.log;
            p.apply(s, e)
          }
        }

        var r = void 0;
        return n.namespace = t, n.enabled = o.enabled(t), n.useColors = o.useColors(), n.color = e(t), n.destroy = i, n.extend = s, "function" == typeof o.init && o.init(n), o.instances.push(n), n
      }

      function i() {
        var t = o.instances.indexOf(this);
        return t !== -1 && (o.instances.splice(t, 1), !0)
      }

      function s(t, e) {
        var n = o(this.namespace + ("undefined" == typeof e ? ":" : e) + t);
        return n.log = this.log, n
      }

      function a(t) {
        o.save(t), o.names = [], o.skips = [];
        var e = void 0, n = ("string" == typeof t ? t : "").split(/[\s,]+/), r = n.length;
        for (e = 0; e < r; e++) n[e] && (t = n[e].replace(/\*/g, ".*?"), "-" === t[0] ? o.skips.push(new RegExp("^" + t.substr(1) + "$")) : o.names.push(new RegExp("^" + t + "$")));
        for (e = 0; e < o.instances.length; e++) {
          var i = o.instances[e];
          i.enabled = o.enabled(i.namespace)
        }
      }

      function c() {
        var t = [].concat(r(o.names.map(p)), r(o.skips.map(p).map(function (t) {
          return "-" + t
        }))).join(",");
        return o.enable(""), t
      }

      function u(t) {
        if ("*" === t[t.length - 1]) return !0;
        var e = void 0, n = void 0;
        for (e = 0, n = o.skips.length; e < n; e++) if (o.skips[e].test(t)) return !1;
        for (e = 0, n = o.names.length; e < n; e++) if (o.names[e].test(t)) return !0;
        return !1
      }

      function p(t) {
        return t.toString().substring(2, t.toString().length - 2).replace(/\.\*\?$/, "*")
      }

      function h(t) {
        return t instanceof Error ? t.stack || t.message : t
      }

      return o.debug = o, o["default"] = o, o.coerce = h, o.disable = c, o.enable = a, o.enabled = u, o.humanize = n(6), Object.keys(t).forEach(function (e) {
        o[e] = t[e]
      }), o.instances = [], o.names = [], o.skips = [], o.formatters = {}, o.selectColor = e, o.enable(o.load()), o
    }

    t.exports = o
  }, function (t, e) {
    function n(t) {
      if (t = String(t), !(t.length > 100)) {
        var e = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);
        if (e) {
          var n = parseFloat(e[1]), r = (e[2] || "ms").toLowerCase();
          switch (r) {
            case"years":
            case"year":
            case"yrs":
            case"yr":
            case"y":
              return n * h;
            case"weeks":
            case"week":
            case"w":
              return n * p;
            case"days":
            case"day":
            case"d":
              return n * u;
            case"hours":
            case"hour":
            case"hrs":
            case"hr":
            case"h":
              return n * c;
            case"minutes":
            case"minute":
            case"mins":
            case"min":
            case"m":
              return n * a;
            case"seconds":
            case"second":
            case"secs":
            case"sec":
            case"s":
              return n * s;
            case"milliseconds":
            case"millisecond":
            case"msecs":
            case"msec":
            case"ms":
              return n;
            default:
              return
          }
        }
      }
    }

    function r(t) {
      var e = Math.abs(t);
      return e >= u ? Math.round(t / u) + "d" : e >= c ? Math.round(t / c) + "h" : e >= a ? Math.round(t / a) + "m" : e >= s ? Math.round(t / s) + "s" : t + "ms"
    }

    function o(t) {
      var e = Math.abs(t);
      return e >= u ? i(t, e, u, "day") : e >= c ? i(t, e, c, "hour") : e >= a ? i(t, e, a, "minute") : e >= s ? i(t, e, s, "second") : t + " ms"
    }

    function i(t, e, n, r) {
      var o = e >= 1.5 * n;
      return Math.round(t / n) + " " + r + (o ? "s" : "")
    }

    var s = 1e3, a = 60 * s, c = 60 * a, u = 24 * c, p = 7 * u, h = 365.25 * u;
    t.exports = function (t, e) {
      e = e || {};
      var i = typeof t;
      if ("string" === i && t.length > 0) return n(t);
      if ("number" === i && isFinite(t)) return e["long"] ? o(t) : r(t);
      throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(t))
    }
  }, function (t, e, n) {
    function r() {
    }

    function o(t) {
      var n = "" + t.type;
      if (e.BINARY_EVENT !== t.type && e.BINARY_ACK !== t.type || (n += t.attachments + "-"), t.nsp && "/" !== t.nsp && (n += t.nsp + ","), null != t.id && (n += t.id), null != t.data) {
        var r = i(t.data);
        if (r === !1) return g;
        n += r
      }
      return f("encoded %j as %s", t, n), n
    }

    function i(t) {
      try {
        return JSON.stringify(t)
      } catch (e) {
        return !1
      }
    }

    function s(t, e) {
      function n(t) {
        var n = d.deconstructPacket(t), r = o(n.packet), i = n.buffers;
        i.unshift(r), e(i)
      }

      d.removeBlobs(t, n)
    }

    function a() {
      this.reconstructor = null
    }

    function c(t) {
      var n = 0, r = {type: Number(t.charAt(0))};
      if (null == e.types[r.type]) return h("unknown packet type " + r.type);
      if (e.BINARY_EVENT === r.type || e.BINARY_ACK === r.type) {
        for (var o = ""; "-" !== t.charAt(++n) && (o += t.charAt(n), n != t.length);) ;
        if (o != Number(o) || "-" !== t.charAt(n)) throw new Error("Illegal attachments");
        r.attachments = Number(o)
      }
      if ("/" === t.charAt(n + 1)) for (r.nsp = ""; ++n;) {
        var i = t.charAt(n);
        if ("," === i) break;
        if (r.nsp += i, n === t.length) break
      } else r.nsp = "/";
      var s = t.charAt(n + 1);
      if ("" !== s && Number(s) == s) {
        for (r.id = ""; ++n;) {
          var i = t.charAt(n);
          if (null == i || Number(i) != i) {
            --n;
            break
          }
          if (r.id += t.charAt(n), n === t.length) break
        }
        r.id = Number(r.id)
      }
      if (t.charAt(++n)) {
        var a = u(t.substr(n)), c = a !== !1 && (r.type === e.ERROR || y(a));
        if (!c) return h("invalid payload");
        r.data = a
      }
      return f("decoded %s as %j", t, r), r
    }

    function u(t) {
      try {
        return JSON.parse(t)
      } catch (e) {
        return !1
      }
    }

    function p(t) {
      this.reconPack = t, this.buffers = []
    }

    function h(t) {
      return {type: e.ERROR, data: "parser error: " + t}
    }

    var f = n(8)("socket.io-parser"), l = n(11), d = n(12), y = n(13), m = n(14);
    e.protocol = 4, e.types = ["CONNECT", "DISCONNECT", "EVENT", "ACK", "ERROR", "BINARY_EVENT", "BINARY_ACK"], e.CONNECT = 0, e.DISCONNECT = 1, e.EVENT = 2, e.ACK = 3, e.ERROR = 4, e.BINARY_EVENT = 5, e.BINARY_ACK = 6, e.Encoder = r, e.Decoder = a;
    var g = e.ERROR + '"encode error"';
    r.prototype.encode = function (t, n) {
      if (f("encoding packet %j", t), e.BINARY_EVENT === t.type || e.BINARY_ACK === t.type) s(t, n); else {
        var r = o(t);
        n([r])
      }
    }, l(a.prototype), a.prototype.add = function (t) {
      var n;
      if ("string" == typeof t) n = c(t), e.BINARY_EVENT === n.type || e.BINARY_ACK === n.type ? (this.reconstructor = new p(n), 0 === this.reconstructor.reconPack.attachments && this.emit("decoded", n)) : this.emit("decoded", n); else {
        if (!m(t) && !t.base64) throw new Error("Unknown type: " + t);
        if (!this.reconstructor) throw new Error("got binary data when not reconstructing a packet");
        n = this.reconstructor.takeBinaryData(t), n && (this.reconstructor = null, this.emit("decoded", n))
      }
    }, a.prototype.destroy = function () {
      this.reconstructor && this.reconstructor.finishedReconstruction()
    }, p.prototype.takeBinaryData = function (t) {
      if (this.buffers.push(t), this.buffers.length === this.reconPack.attachments) {
        var e = d.reconstructPacket(this.reconPack, this.buffers);
        return this.finishedReconstruction(), e
      }
      return null
    }, p.prototype.finishedReconstruction = function () {
      this.reconPack = null, this.buffers = []
    }
  }, function (t, e, n) {
    (function (r) {
      "use strict";

      function o() {
        return !("undefined" == typeof window || !window.process || "renderer" !== window.process.type) || ("undefined" == typeof navigator || !navigator.userAgent || !navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) && ("undefined" != typeof document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || "undefined" != typeof window && window.console && (window.console.firebug || window.console.exception && window.console.table) || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))
      }

      function i(t) {
        var n = this.useColors;
        if (t[0] = (n ? "%c" : "") + this.namespace + (n ? " %c" : " ") + t[0] + (n ? "%c " : " ") + "+" + e.humanize(this.diff), n) {
          var r = "color: " + this.color;
          t.splice(1, 0, r, "color: inherit");
          var o = 0, i = 0;
          t[0].replace(/%[a-zA-Z%]/g, function (t) {
            "%%" !== t && (o++, "%c" === t && (i = o))
          }), t.splice(i, 0, r)
        }
      }

      function s() {
        return "object" === ("undefined" == typeof console ? "undefined" : p(console)) && console.log && Function.prototype.apply.call(console.log, console, arguments)
      }

      function a(t) {
        try {
          null == t ? e.storage.removeItem("debug") : e.storage.debug = t
        } catch (n) {
        }
      }

      function c() {
        var t;
        try {
          t = e.storage.debug
        } catch (n) {
        }
        return !t && "undefined" != typeof r && "env" in r && (t = r.env.DEBUG), t
      }

      function u() {
        try {
          return window.localStorage
        } catch (t) {
        }
      }

      var p = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
        return typeof t
      } : function (t) {
        return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
      };
      e = t.exports = n(9), e.log = s, e.formatArgs = i, e.save = a, e.load = c, e.useColors = o, e.storage = "undefined" != typeof chrome && "undefined" != typeof chrome.storage ? chrome.storage.local : u(), e.colors = ["#0000CC", "#0000FF", "#0033CC", "#0033FF", "#0066CC", "#0066FF", "#0099CC", "#0099FF", "#00CC00", "#00CC33", "#00CC66", "#00CC99", "#00CCCC", "#00CCFF", "#3300CC", "#3300FF", "#3333CC", "#3333FF", "#3366CC", "#3366FF", "#3399CC", "#3399FF", "#33CC00", "#33CC33", "#33CC66", "#33CC99", "#33CCCC", "#33CCFF", "#6600CC", "#6600FF", "#6633CC", "#6633FF", "#66CC00", "#66CC33", "#9900CC", "#9900FF", "#9933CC", "#9933FF", "#99CC00", "#99CC33", "#CC0000", "#CC0033", "#CC0066", "#CC0099", "#CC00CC", "#CC00FF", "#CC3300", "#CC3333", "#CC3366", "#CC3399", "#CC33CC", "#CC33FF", "#CC6600", "#CC6633", "#CC9900", "#CC9933", "#CCCC00", "#CCCC33", "#FF0000", "#FF0033", "#FF0066", "#FF0099", "#FF00CC", "#FF00FF", "#FF3300", "#FF3333", "#FF3366", "#FF3399", "#FF33CC", "#FF33FF", "#FF6600", "#FF6633", "#FF9900", "#FF9933", "#FFCC00", "#FFCC33"], e.formatters.j = function (t) {
        try {
          return JSON.stringify(t)
        } catch (e) {
          return "[UnexpectedJSONParseError]: " + e.message
        }
      }, e.enable(c())
    }).call(e, n(4))
  }, function (t, e, n) {
    "use strict";

    function r(t) {
      var n, r = 0;
      for (n in t) r = (r << 5) - r + t.charCodeAt(n), r |= 0;
      return e.colors[Math.abs(r) % e.colors.length]
    }

    function o(t) {
      function n() {
        if (n.enabled) {
          var t = n, r = +new Date, i = r - (o || r);
          t.diff = i, t.prev = o, t.curr = r, o = r;
          for (var s = new Array(arguments.length), a = 0; a < s.length; a++) s[a] = arguments[a];
          s[0] = e.coerce(s[0]), "string" != typeof s[0] && s.unshift("%O");
          var c = 0;
          s[0] = s[0].replace(/%([a-zA-Z%])/g, function (n, r) {
            if ("%%" === n) return n;
            c++;
            var o = e.formatters[r];
            if ("function" == typeof o) {
              var i = s[c];
              n = o.call(t, i), s.splice(c, 1), c--
            }
            return n
          }), e.formatArgs.call(t, s);
          var u = n.log || e.log || console.log.bind(console);
          u.apply(t, s)
        }
      }

      var o;
      return n.namespace = t, n.enabled = e.enabled(t), n.useColors = e.useColors(), n.color = r(t), n.destroy = i, "function" == typeof e.init && e.init(n), e.instances.push(n), n
    }

    function i() {
      var t = e.instances.indexOf(this);
      return t !== -1 && (e.instances.splice(t, 1), !0)
    }

    function s(t) {
      e.save(t), e.names = [], e.skips = [];
      var n, r = ("string" == typeof t ? t : "").split(/[\s,]+/), o = r.length;
      for (n = 0; n < o; n++) r[n] && (t = r[n].replace(/\*/g, ".*?"), "-" === t[0] ? e.skips.push(new RegExp("^" + t.substr(1) + "$")) : e.names.push(new RegExp("^" + t + "$")));
      for (n = 0; n < e.instances.length; n++) {
        var i = e.instances[n];
        i.enabled = e.enabled(i.namespace)
      }
    }

    function a() {
      e.enable("")
    }

    function c(t) {
      if ("*" === t[t.length - 1]) return !0;
      var n, r;
      for (n = 0, r = e.skips.length; n < r; n++) if (e.skips[n].test(t)) return !1;
      for (n = 0, r = e.names.length; n < r; n++) if (e.names[n].test(t)) return !0;
      return !1
    }

    function u(t) {
      return t instanceof Error ? t.stack || t.message : t
    }

    e = t.exports = o.debug = o["default"] = o, e.coerce = u, e.disable = a, e.enable = s, e.enabled = c, e.humanize = n(10), e.instances = [], e.names = [], e.skips = [], e.formatters = {}
  }, function (t, e) {
    function n(t) {
      if (t = String(t), !(t.length > 100)) {
        var e = /^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);
        if (e) {
          var n = parseFloat(e[1]), r = (e[2] || "ms").toLowerCase();
          switch (r) {
            case"years":
            case"year":
            case"yrs":
            case"yr":
            case"y":
              return n * p;
            case"days":
            case"day":
            case"d":
              return n * u;
            case"hours":
            case"hour":
            case"hrs":
            case"hr":
            case"h":
              return n * c;
            case"minutes":
            case"minute":
            case"mins":
            case"min":
            case"m":
              return n * a;
            case"seconds":
            case"second":
            case"secs":
            case"sec":
            case"s":
              return n * s;
            case"milliseconds":
            case"millisecond":
            case"msecs":
            case"msec":
            case"ms":
              return n;
            default:
              return
          }
        }
      }
    }

    function r(t) {
      return t >= u ? Math.round(t / u) + "d" : t >= c ? Math.round(t / c) + "h" : t >= a ? Math.round(t / a) + "m" : t >= s ? Math.round(t / s) + "s" : t + "ms"
    }

    function o(t) {
      return i(t, u, "day") || i(t, c, "hour") || i(t, a, "minute") || i(t, s, "second") || t + " ms"
    }

    function i(t, e, n) {
      if (!(t < e)) return t < 1.5 * e ? Math.floor(t / e) + " " + n : Math.ceil(t / e) + " " + n + "s"
    }

    var s = 1e3, a = 60 * s, c = 60 * a, u = 24 * c, p = 365.25 * u;
    t.exports = function (t, e) {
      e = e || {};
      var i = typeof t;
      if ("string" === i && t.length > 0) return n(t);
      if ("number" === i && isNaN(t) === !1) return e["long"] ? o(t) : r(t);
      throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(t))
    }
  }, function (t, e, n) {
    function r(t) {
      if (t) return o(t)
    }

    function o(t) {
      for (var e in r.prototype) t[e] = r.prototype[e];
      return t
    }

    t.exports = r, r.prototype.on = r.prototype.addEventListener = function (t, e) {
      return this._callbacks = this._callbacks || {}, (this._callbacks["$" + t] = this._callbacks["$" + t] || []).push(e), this
    }, r.prototype.once = function (t, e) {
      function n() {
        this.off(t, n), e.apply(this, arguments)
      }

      return n.fn = e, this.on(t, n), this
    }, r.prototype.off = r.prototype.removeListener = r.prototype.removeAllListeners = r.prototype.removeEventListener = function (t, e) {
      if (this._callbacks = this._callbacks || {}, 0 == arguments.length) return this._callbacks = {}, this;
      var n = this._callbacks["$" + t];
      if (!n) return this;
      if (1 == arguments.length) return delete this._callbacks["$" + t], this;
      for (var r, o = 0; o < n.length; o++) if (r = n[o], r === e || r.fn === e) {
        n.splice(o, 1);
        break
      }
      return this
    }, r.prototype.emit = function (t) {
      this._callbacks = this._callbacks || {};
      var e = [].slice.call(arguments, 1), n = this._callbacks["$" + t];
      if (n) {
        n = n.slice(0);
        for (var r = 0, o = n.length; r < o; ++r) n[r].apply(this, e)
      }
      return this
    }, r.prototype.listeners = function (t) {
      return this._callbacks = this._callbacks || {}, this._callbacks["$" + t] || []
    }, r.prototype.hasListeners = function (t) {
      return !!this.listeners(t).length
    }
  }, function (t, e, n) {
    function r(t, e) {
      if (!t) return t;
      if (s(t)) {
        var n = {_placeholder: !0, num: e.length};
        return e.push(t), n
      }
      if (i(t)) {
        for (var o = new Array(t.length), a = 0; a < t.length; a++) o[a] = r(t[a], e);
        return o
      }
      if ("object" == typeof t && !(t instanceof Date)) {
        var o = {};
        for (var c in t) o[c] = r(t[c], e);
        return o
      }
      return t
    }

    function o(t, e) {
      if (!t) return t;
      if (t && t._placeholder) return e[t.num];
      if (i(t)) for (var n = 0; n < t.length; n++) t[n] = o(t[n], e); else if ("object" == typeof t) for (var r in t) t[r] = o(t[r], e);
      return t
    }

    var i = n(13), s = n(14), a = Object.prototype.toString,
      c = "function" == typeof Blob || "undefined" != typeof Blob && "[object BlobConstructor]" === a.call(Blob),
      u = "function" == typeof File || "undefined" != typeof File && "[object FileConstructor]" === a.call(File);
    e.deconstructPacket = function (t) {
      var e = [], n = t.data, o = t;
      return o.data = r(n, e), o.attachments = e.length, {packet: o, buffers: e}
    }, e.reconstructPacket = function (t, e) {
      return t.data = o(t.data, e), t.attachments = void 0, t
    }, e.removeBlobs = function (t, e) {
      function n(t, a, p) {
        if (!t) return t;
        if (c && t instanceof Blob || u && t instanceof File) {
          r++;
          var h = new FileReader;
          h.onload = function () {
            p ? p[a] = this.result : o = this.result, --r || e(o)
          }, h.readAsArrayBuffer(t)
        } else if (i(t)) for (var f = 0; f < t.length; f++) n(t[f], f, t); else if ("object" == typeof t && !s(t)) for (var l in t) n(t[l], l, t)
      }

      var r = 0, o = t;
      n(o), r || e(o)
    }
  }, function (t, e) {
    var n = {}.toString;
    t.exports = Array.isArray || function (t) {
      return "[object Array]" == n.call(t)
    }
  }, function (t, e) {
    function n(t) {
      return r && Buffer.isBuffer(t) || o && (t instanceof ArrayBuffer || i(t))
    }

    t.exports = n;
    var r = "function" == typeof Buffer && "function" == typeof Buffer.isBuffer, o = "function" == typeof ArrayBuffer,
      i = function (t) {
        return "function" == typeof ArrayBuffer.isView ? ArrayBuffer.isView(t) : t.buffer instanceof ArrayBuffer
      }
  }, function (t, e, n) {
    function r(t, e) {
      if (!(this instanceof r)) return new r(t, e);
      t && "object" == typeof t && (e = t, t = void 0), e = e || {}, e.path = e.path || "/socket.io", this.nsps = {}, this.subs = [], this.opts = e, this.reconnection(e.reconnection !== !1), this.reconnectionAttempts(e.reconnectionAttempts || 1 / 0), this.reconnectionDelay(e.reconnectionDelay || 1e3), this.reconnectionDelayMax(e.reconnectionDelayMax || 5e3), this.randomizationFactor(e.randomizationFactor || .5), this.backoff = new f({
        min: this.reconnectionDelay(),
        max: this.reconnectionDelayMax(),
        jitter: this.randomizationFactor()
      }), this.timeout(null == e.timeout ? 2e4 : e.timeout), this.readyState = "closed", this.uri = t, this.connecting = [], this.lastPing = null, this.encoding = !1, this.packetBuffer = [];
      var n = e.parser || a;
      this.encoder = new n.Encoder, this.decoder = new n.Decoder, this.autoConnect = e.autoConnect !== !1, this.autoConnect && this.open()
    }

    var o = n(16), i = n(39), s = n(11), a = n(7), c = n(41), u = n(42), p = n(3)("socket.io-client:manager"),
      h = n(38), f = n(43), l = Object.prototype.hasOwnProperty;
    t.exports = r, r.prototype.emitAll = function () {
      this.emit.apply(this, arguments);
      for (var t in this.nsps) l.call(this.nsps, t) && this.nsps[t].emit.apply(this.nsps[t], arguments)
    }, r.prototype.updateSocketIds = function () {
      for (var t in this.nsps) l.call(this.nsps, t) && (this.nsps[t].id = this.generateId(t))
    }, r.prototype.generateId = function (t) {
      return ("/" === t ? "" : t + "#") + this.engine.id
    }, s(r.prototype), r.prototype.reconnection = function (t) {
      return arguments.length ? (this._reconnection = !!t, this) : this._reconnection
    }, r.prototype.reconnectionAttempts = function (t) {
      return arguments.length ? (this._reconnectionAttempts = t, this) : this._reconnectionAttempts
    }, r.prototype.reconnectionDelay = function (t) {
      return arguments.length ? (this._reconnectionDelay = t, this.backoff && this.backoff.setMin(t), this) : this._reconnectionDelay
    }, r.prototype.randomizationFactor = function (t) {
      return arguments.length ? (this._randomizationFactor = t, this.backoff && this.backoff.setJitter(t), this) : this._randomizationFactor
    }, r.prototype.reconnectionDelayMax = function (t) {
      return arguments.length ? (this._reconnectionDelayMax = t, this.backoff && this.backoff.setMax(t), this) : this._reconnectionDelayMax
    }, r.prototype.timeout = function (t) {
      return arguments.length ? (this._timeout = t, this) : this._timeout
    }, r.prototype.maybeReconnectOnOpen = function () {
      !this.reconnecting && this._reconnection && 0 === this.backoff.attempts && this.reconnect()
    }, r.prototype.open = r.prototype.connect = function (t, e) {
      if (p("readyState %s", this.readyState), ~this.readyState.indexOf("open")) return this;
      p("opening %s", this.uri), this.engine = o(this.uri, this.opts);
      var n = this.engine, r = this;
      this.readyState = "opening", this.skipReconnect = !1;
      var i = c(n, "open", function () {
        r.onopen(), t && t()
      }), s = c(n, "error", function (e) {
        if (p("connect_error"), r.cleanup(), r.readyState = "closed", r.emitAll("connect_error", e), t) {
          var n = new Error("Connection error");
          n.data = e, t(n)
        } else r.maybeReconnectOnOpen()
      });
      if (!1 !== this._timeout) {
        var a = this._timeout;
        p("connect attempt will timeout after %d", a);
        var u = setTimeout(function () {
          p("connect attempt timed out after %d", a), i.destroy(), n.close(), n.emit("error", "timeout"), r.emitAll("connect_timeout", a)
        }, a);
        this.subs.push({
          destroy: function () {
            clearTimeout(u)
          }
        })
      }
      return this.subs.push(i), this.subs.push(s), this
    }, r.prototype.onopen = function () {
      p("open"), this.cleanup(), this.readyState = "open", this.emit("open");
      var t = this.engine;
      this.subs.push(c(t, "data", u(this, "ondata"))), this.subs.push(c(t, "ping", u(this, "onping"))), this.subs.push(c(t, "pong", u(this, "onpong"))), this.subs.push(c(t, "error", u(this, "onerror"))), this.subs.push(c(t, "close", u(this, "onclose"))), this.subs.push(c(this.decoder, "decoded", u(this, "ondecoded")))
    }, r.prototype.onping = function () {
      this.lastPing = new Date, this.emitAll("ping")
    }, r.prototype.onpong = function () {
      this.emitAll("pong", new Date - this.lastPing)
    }, r.prototype.ondata = function (t) {
      this.decoder.add(t)
    }, r.prototype.ondecoded = function (t) {
      this.emit("packet", t)
    }, r.prototype.onerror = function (t) {
      p("error", t), this.emitAll("error", t)
    }, r.prototype.socket = function (t, e) {
      function n() {
        ~h(o.connecting, r) || o.connecting.push(r)
      }

      var r = this.nsps[t];
      if (!r) {
        r = new i(this, t, e), this.nsps[t] = r;
        var o = this;
        r.on("connecting", n), r.on("connect", function () {
          r.id = o.generateId(t)
        }), this.autoConnect && n()
      }
      return r
    }, r.prototype.destroy = function (t) {
      var e = h(this.connecting, t);
      ~e && this.connecting.splice(e, 1), this.connecting.length || this.close()
    }, r.prototype.packet = function (t) {
      p("writing packet %j", t);
      var e = this;
      t.query && 0 === t.type && (t.nsp += "?" + t.query), e.encoding ? e.packetBuffer.push(t) : (e.encoding = !0, this.encoder.encode(t, function (n) {
        for (var r = 0; r < n.length; r++) e.engine.write(n[r], t.options);
        e.encoding = !1, e.processPacketQueue()
      }))
    }, r.prototype.processPacketQueue = function () {
      if (this.packetBuffer.length > 0 && !this.encoding) {
        var t = this.packetBuffer.shift();
        this.packet(t)
      }
    }, r.prototype.cleanup = function () {
      p("cleanup");
      for (var t = this.subs.length, e = 0; e < t; e++) {
        var n = this.subs.shift();
        n.destroy()
      }
      this.packetBuffer = [], this.encoding = !1, this.lastPing = null, this.decoder.destroy()
    }, r.prototype.close = r.prototype.disconnect = function () {
      p("disconnect"), this.skipReconnect = !0, this.reconnecting = !1, "opening" === this.readyState && this.cleanup(), this.backoff.reset(), this.readyState = "closed", this.engine && this.engine.close()
    }, r.prototype.onclose = function (t) {
      p("onclose"), this.cleanup(), this.backoff.reset(), this.readyState = "closed", this.emit("close", t), this._reconnection && !this.skipReconnect && this.reconnect()
    }, r.prototype.reconnect = function () {
      if (this.reconnecting || this.skipReconnect) return this;
      var t = this;
      if (this.backoff.attempts >= this._reconnectionAttempts) p("reconnect failed"), this.backoff.reset(), this.emitAll("reconnect_failed"), this.reconnecting = !1; else {
        var e = this.backoff.duration();
        p("will wait %dms before reconnect attempt", e), this.reconnecting = !0;
        var n = setTimeout(function () {
          t.skipReconnect || (p("attempting reconnect"), t.emitAll("reconnect_attempt", t.backoff.attempts), t.emitAll("reconnecting", t.backoff.attempts), t.skipReconnect || t.open(function (e) {
            e ? (p("reconnect attempt error"), t.reconnecting = !1, t.reconnect(), t.emitAll("reconnect_error", e.data)) : (p("reconnect success"), t.onreconnect())
          }))
        }, e);
        this.subs.push({
          destroy: function () {
            clearTimeout(n)
          }
        })
      }
    }, r.prototype.onreconnect = function () {
      var t = this.backoff.attempts;
      this.reconnecting = !1, this.backoff.reset(), this.updateSocketIds(), this.emitAll("reconnect", t)
    }
  }, function (t, e, n) {
    t.exports = n(17), t.exports.parser = n(24)
  }, function (t, e, n) {
    function r(t, e) {
      return this instanceof r ? (e = e || {}, t && "object" == typeof t && (e = t, t = null), t ? (t = p(t), e.hostname = t.host, e.secure = "https" === t.protocol || "wss" === t.protocol, e.port = t.port, t.query && (e.query = t.query)) : e.host && (e.hostname = p(e.host).host), this.secure = null != e.secure ? e.secure : "undefined" != typeof location && "https:" === location.protocol, e.hostname && !e.port && (e.port = this.secure ? "443" : "80"), this.agent = e.agent || !1, this.hostname = e.hostname || ("undefined" != typeof location ? location.hostname : "localhost"), this.port = e.port || ("undefined" != typeof location && location.port ? location.port : this.secure ? 443 : 80), this.query = e.query || {}, "string" == typeof this.query && (this.query = h.decode(this.query)), this.upgrade = !1 !== e.upgrade, this.path = (e.path || "/engine.io").replace(/\/$/, "") + "/", this.forceJSONP = !!e.forceJSONP, this.jsonp = !1 !== e.jsonp, this.forceBase64 = !!e.forceBase64, this.enablesXDR = !!e.enablesXDR, this.withCredentials = !1 !== e.withCredentials, this.timestampParam = e.timestampParam || "t", this.timestampRequests = e.timestampRequests, this.transports = e.transports || ["polling", "websocket"], this.transportOptions = e.transportOptions || {}, this.readyState = "", this.writeBuffer = [], this.prevBufferLen = 0, this.policyPort = e.policyPort || 843, this.rememberUpgrade = e.rememberUpgrade || !1, this.binaryType = null, this.onlyBinaryUpgrades = e.onlyBinaryUpgrades, this.perMessageDeflate = !1 !== e.perMessageDeflate && (e.perMessageDeflate || {}), !0 === this.perMessageDeflate && (this.perMessageDeflate = {}), this.perMessageDeflate && null == this.perMessageDeflate.threshold && (this.perMessageDeflate.threshold = 1024), this.pfx = e.pfx || null, this.key = e.key || null, this.passphrase = e.passphrase || null, this.cert = e.cert || null, this.ca = e.ca || null, this.ciphers = e.ciphers || null, this.rejectUnauthorized = void 0 === e.rejectUnauthorized || e.rejectUnauthorized, this.forceNode = !!e.forceNode, this.isReactNative = "undefined" != typeof navigator && "string" == typeof navigator.product && "reactnative" === navigator.product.toLowerCase(), ("undefined" == typeof self || this.isReactNative) && (e.extraHeaders && Object.keys(e.extraHeaders).length > 0 && (this.extraHeaders = e.extraHeaders), e.localAddress && (this.localAddress = e.localAddress)), this.id = null, this.upgrades = null, this.pingInterval = null, this.pingTimeout = null, this.pingIntervalTimer = null, this.pingTimeoutTimer = null, void this.open()) : new r(t, e)
    }

    function o(t) {
      var e = {};
      for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
      return e
    }

    var i = n(18), s = n(11), a = n(3)("engine.io-client:socket"), c = n(38), u = n(24), p = n(2), h = n(32);
    t.exports = r, r.priorWebsocketSuccess = !1, s(r.prototype), r.protocol = u.protocol, r.Socket = r, r.Transport = n(23), r.transports = n(18), r.parser = n(24), r.prototype.createTransport = function (t) {
      a('creating transport "%s"', t);
      var e = o(this.query);
      e.EIO = u.protocol, e.transport = t;
      var n = this.transportOptions[t] || {};
      this.id && (e.sid = this.id);
      var r = new i[t]({
        query: e,
        socket: this,
        agent: n.agent || this.agent,
        hostname: n.hostname || this.hostname,
        port: n.port || this.port,
        secure: n.secure || this.secure,
        path: n.path || this.path,
        forceJSONP: n.forceJSONP || this.forceJSONP,
        jsonp: n.jsonp || this.jsonp,
        forceBase64: n.forceBase64 || this.forceBase64,
        enablesXDR: n.enablesXDR || this.enablesXDR,
        withCredentials: n.withCredentials || this.withCredentials,
        timestampRequests: n.timestampRequests || this.timestampRequests,
        timestampParam: n.timestampParam || this.timestampParam,
        policyPort: n.policyPort || this.policyPort,
        pfx: n.pfx || this.pfx,
        key: n.key || this.key,
        passphrase: n.passphrase || this.passphrase,
        cert: n.cert || this.cert,
        ca: n.ca || this.ca,
        ciphers: n.ciphers || this.ciphers,
        rejectUnauthorized: n.rejectUnauthorized || this.rejectUnauthorized,
        perMessageDeflate: n.perMessageDeflate || this.perMessageDeflate,
        extraHeaders: n.extraHeaders || this.extraHeaders,
        forceNode: n.forceNode || this.forceNode,
        localAddress: n.localAddress || this.localAddress,
        requestTimeout: n.requestTimeout || this.requestTimeout,
        protocols: n.protocols || void 0,
        isReactNative: this.isReactNative
      });
      return r
    }, r.prototype.open = function () {
      var t;
      if (this.rememberUpgrade && r.priorWebsocketSuccess && this.transports.indexOf("websocket") !== -1) t = "websocket"; else {
        if (0 === this.transports.length) {
          var e = this;
          return void setTimeout(function () {
            e.emit("error", "No transports available")
          }, 0)
        }
        t = this.transports[0]
      }
      this.readyState = "opening";
      try {
        t = this.createTransport(t)
      } catch (n) {
        return this.transports.shift(), void this.open()
      }
      t.open(), this.setTransport(t)
    }, r.prototype.setTransport = function (t) {
      a("setting transport %s", t.name);
      var e = this;
      this.transport && (a("clearing existing transport %s", this.transport.name), this.transport.removeAllListeners()), this.transport = t, t.on("drain", function () {
        e.onDrain()
      }).on("packet", function (t) {
        e.onPacket(t)
      }).on("error", function (t) {
        e.onError(t)
      }).on("close", function () {
        e.onClose("transport close")
      })
    }, r.prototype.probe = function (t) {
      function e() {
        if (f.onlyBinaryUpgrades) {
          var e = !this.supportsBinary && f.transport.supportsBinary;
          h = h || e
        }
        h || (a('probe transport "%s" opened', t), p.send([{
          type: "ping",
          data: "probe"
        }]), p.once("packet", function (e) {
          if (!h) if ("pong" === e.type && "probe" === e.data) {
            if (a('probe transport "%s" pong', t), f.upgrading = !0, f.emit("upgrading", p), !p) return;
            r.priorWebsocketSuccess = "websocket" === p.name, a('pausing current transport "%s"', f.transport.name), f.transport.pause(function () {
              h || "closed" !== f.readyState && (a("changing transport and sending upgrade packet"), u(), f.setTransport(p), p.send([{type: "upgrade"}]), f.emit("upgrade", p), p = null, f.upgrading = !1, f.flush())
            })
          } else {
            a('probe transport "%s" failed', t);
            var n = new Error("probe error");
            n.transport = p.name, f.emit("upgradeError", n)
          }
        }))
      }

      function n() {
        h || (h = !0, u(), p.close(), p = null)
      }

      function o(e) {
        var r = new Error("probe error: " + e);
        r.transport = p.name, n(), a('probe transport "%s" failed because of error: %s', t, e), f.emit("upgradeError", r)
      }

      function i() {
        o("transport closed")
      }

      function s() {
        o("socket closed")
      }

      function c(t) {
        p && t.name !== p.name && (a('"%s" works - aborting "%s"', t.name, p.name), n())
      }

      function u() {
        p.removeListener("open", e), p.removeListener("error", o), p.removeListener("close", i), f.removeListener("close", s), f.removeListener("upgrading", c)
      }

      a('probing transport "%s"', t);
      var p = this.createTransport(t, {probe: 1}), h = !1, f = this;
      r.priorWebsocketSuccess = !1, p.once("open", e), p.once("error", o), p.once("close", i), this.once("close", s), this.once("upgrading", c), p.open()
    }, r.prototype.onOpen = function () {
      if (a("socket open"), this.readyState = "open", r.priorWebsocketSuccess = "websocket" === this.transport.name, this.emit("open"), this.flush(), "open" === this.readyState && this.upgrade && this.transport.pause) {
        a("starting upgrade probes");
        for (var t = 0, e = this.upgrades.length; t < e; t++) this.probe(this.upgrades[t])
      }
    }, r.prototype.onPacket = function (t) {
      if ("opening" === this.readyState || "open" === this.readyState || "closing" === this.readyState) switch (a('socket receive: type "%s", data "%s"', t.type, t.data), this.emit("packet", t), this.emit("heartbeat"), t.type) {
        case"open":
          this.onHandshake(JSON.parse(t.data));
          break;
        case"pong":
          this.setPing(), this.emit("pong");
          break;
        case"error":
          var e = new Error("server error");
          e.code = t.data, this.onError(e);
          break;
        case"message":
          this.emit("data", t.data), this.emit("message", t.data)
      } else a('packet received with socket readyState "%s"', this.readyState)
    }, r.prototype.onHandshake = function (t) {
      this.emit("handshake", t), this.id = t.sid, this.transport.query.sid = t.sid, this.upgrades = this.filterUpgrades(t.upgrades), this.pingInterval = t.pingInterval, this.pingTimeout = t.pingTimeout, this.onOpen(), "closed" !== this.readyState && (this.setPing(), this.removeListener("heartbeat", this.onHeartbeat), this.on("heartbeat", this.onHeartbeat))
    }, r.prototype.onHeartbeat = function (t) {
      clearTimeout(this.pingTimeoutTimer);
      var e = this;
      e.pingTimeoutTimer = setTimeout(function () {
        "closed" !== e.readyState && e.onClose("ping timeout")
      }, t || e.pingInterval + e.pingTimeout)
    }, r.prototype.setPing = function () {
      var t = this;
      clearTimeout(t.pingIntervalTimer), t.pingIntervalTimer = setTimeout(function () {
        a("writing ping packet - expecting pong within %sms", t.pingTimeout), t.ping(), t.onHeartbeat(t.pingTimeout)
      }, t.pingInterval)
    }, r.prototype.ping = function () {
      var t = this;
      this.sendPacket("ping", function () {
        t.emit("ping")
      })
    }, r.prototype.onDrain = function () {
      this.writeBuffer.splice(0, this.prevBufferLen), this.prevBufferLen = 0, 0 === this.writeBuffer.length ? this.emit("drain") : this.flush()
    }, r.prototype.flush = function () {
      "closed" !== this.readyState && this.transport.writable && !this.upgrading && this.writeBuffer.length && (a("flushing %d packets in socket", this.writeBuffer.length), this.transport.send(this.writeBuffer), this.prevBufferLen = this.writeBuffer.length, this.emit("flush"))
    }, r.prototype.write = r.prototype.send = function (t, e, n) {
      return this.sendPacket("message", t, e, n), this
    }, r.prototype.sendPacket = function (t, e, n, r) {
      if ("function" == typeof e && (r = e, e = void 0), "function" == typeof n && (r = n, n = null), "closing" !== this.readyState && "closed" !== this.readyState) {
        n = n || {}, n.compress = !1 !== n.compress;
        var o = {type: t, data: e, options: n};
        this.emit("packetCreate", o), this.writeBuffer.push(o), r && this.once("flush", r), this.flush()
      }
    }, r.prototype.close = function () {
      function t() {
        r.onClose("forced close"), a("socket closing - telling transport to close"), r.transport.close()
      }

      function e() {
        r.removeListener("upgrade", e), r.removeListener("upgradeError", e), t()
      }

      function n() {
        r.once("upgrade", e), r.once("upgradeError", e)
      }

      if ("opening" === this.readyState || "open" === this.readyState) {
        this.readyState = "closing";
        var r = this;
        this.writeBuffer.length ? this.once("drain", function () {
          this.upgrading ? n() : t()
        }) : this.upgrading ? n() : t()
      }
      return this
    }, r.prototype.onError = function (t) {
      a("socket error %j", t), r.priorWebsocketSuccess = !1, this.emit("error", t), this.onClose("transport error", t)
    }, r.prototype.onClose = function (t, e) {
      if ("opening" === this.readyState || "open" === this.readyState || "closing" === this.readyState) {
        a('socket close with reason: "%s"', t);
        var n = this;
        clearTimeout(this.pingIntervalTimer), clearTimeout(this.pingTimeoutTimer), this.transport.removeAllListeners("close"), this.transport.close(), this.transport.removeAllListeners(), this.readyState = "closed", this.id = null, this.emit("close", t, e), n.writeBuffer = [], n.prevBufferLen = 0
      }
    }, r.prototype.filterUpgrades = function (t) {
      for (var e = [], n = 0, r = t.length; n < r; n++) ~c(this.transports, t[n]) && e.push(t[n]);
      return e
    }
  }, function (t, e, n) {
    function r(t) {
      var e, n = !1, r = !1, a = !1 !== t.jsonp;
      if ("undefined" != typeof location) {
        var c = "https:" === location.protocol, u = location.port;
        u || (u = c ? 443 : 80), n = t.hostname !== location.hostname || u !== t.port, r = t.secure !== c
      }
      if (t.xdomain = n, t.xscheme = r, e = new o(t), "open" in e && !t.forceJSONP) return new i(t);
      if (!a) throw new Error("JSONP disabled");
      return new s(t)
    }

    var o = n(19), i = n(21), s = n(35), a = n(36);
    e.polling = r, e.websocket = a
  }, function (t, e, n) {
    var r = n(20);
    t.exports = function (t) {
      var e = t.xdomain, n = t.xscheme, o = t.enablesXDR;
      try {
        if ("undefined" != typeof XMLHttpRequest && (!e || r)) return new XMLHttpRequest
      } catch (i) {
      }
      try {
        if ("undefined" != typeof XDomainRequest && !n && o) return new XDomainRequest
      } catch (i) {
      }
      if (!e) try {
        return new (self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")
      } catch (i) {
      }
    }
  }, function (t, e) {
    try {
      t.exports = "undefined" != typeof XMLHttpRequest && "withCredentials" in new XMLHttpRequest
    } catch (n) {
      t.exports = !1
    }
  }, function (t, e, n) {
    function r() {
    }

    function o(t) {
      if (c.call(this, t), this.requestTimeout = t.requestTimeout, this.extraHeaders = t.extraHeaders, "undefined" != typeof location) {
        var e = "https:" === location.protocol, n = location.port;
        n || (n = e ? 443 : 80), this.xd = "undefined" != typeof location && t.hostname !== location.hostname || n !== t.port, this.xs = t.secure !== e
      }
    }

    function i(t) {
      this.method = t.method || "GET", this.uri = t.uri, this.xd = !!t.xd, this.xs = !!t.xs, this.async = !1 !== t.async, this.data = void 0 !== t.data ? t.data : null, this.agent = t.agent, this.isBinary = t.isBinary, this.supportsBinary = t.supportsBinary, this.enablesXDR = t.enablesXDR, this.withCredentials = t.withCredentials, this.requestTimeout = t.requestTimeout, this.pfx = t.pfx, this.key = t.key, this.passphrase = t.passphrase, this.cert = t.cert, this.ca = t.ca, this.ciphers = t.ciphers, this.rejectUnauthorized = t.rejectUnauthorized, this.extraHeaders = t.extraHeaders, this.create()
    }

    function s() {
      for (var t in i.requests) i.requests.hasOwnProperty(t) && i.requests[t].abort()
    }

    var a = n(19), c = n(22), u = n(11), p = n(33), h = n(3)("engine.io-client:polling-xhr");
    if (t.exports = o, t.exports.Request = i, p(o, c), o.prototype.supportsBinary = !0, o.prototype.request = function (t) {
      return t = t || {}, t.uri = this.uri(), t.xd = this.xd, t.xs = this.xs, t.agent = this.agent || !1, t.supportsBinary = this.supportsBinary, t.enablesXDR = this.enablesXDR, t.withCredentials = this.withCredentials, t.pfx = this.pfx, t.key = this.key, t.passphrase = this.passphrase, t.cert = this.cert, t.ca = this.ca, t.ciphers = this.ciphers, t.rejectUnauthorized = this.rejectUnauthorized, t.requestTimeout = this.requestTimeout, t.extraHeaders = this.extraHeaders, new i(t)
    }, o.prototype.doWrite = function (t, e) {
      var n = "string" != typeof t && void 0 !== t, r = this.request({method: "POST", data: t, isBinary: n}), o = this;
      r.on("success", e), r.on("error", function (t) {
        o.onError("xhr post error", t)
      }), this.sendXhr = r
    }, o.prototype.doPoll = function () {
      h("xhr poll");
      var t = this.request(), e = this;
      t.on("data", function (t) {
        e.onData(t)
      }), t.on("error", function (t) {
        e.onError("xhr poll error", t)
      }), this.pollXhr = t
    }, u(i.prototype), i.prototype.create = function () {
      var t = {agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR};
      t.pfx = this.pfx, t.key = this.key, t.passphrase = this.passphrase, t.cert = this.cert, t.ca = this.ca, t.ciphers = this.ciphers, t.rejectUnauthorized = this.rejectUnauthorized;
      var e = this.xhr = new a(t), n = this;
      try {
        h("xhr open %s: %s", this.method, this.uri), e.open(this.method, this.uri, this.async);
        try {
          if (this.extraHeaders) {
            e.setDisableHeaderCheck && e.setDisableHeaderCheck(!0);
            for (var r in this.extraHeaders) this.extraHeaders.hasOwnProperty(r) && e.setRequestHeader(r, this.extraHeaders[r])
          }
        } catch (o) {
        }
        if ("POST" === this.method) try {
          this.isBinary ? e.setRequestHeader("Content-type", "application/octet-stream") : e.setRequestHeader("Content-type", "text/plain;charset=UTF-8")
        } catch (o) {
        }
        try {
          e.setRequestHeader("Accept", "*/*")
        } catch (o) {
        }
        "withCredentials" in e && (e.withCredentials = this.withCredentials), this.requestTimeout && (e.timeout = this.requestTimeout), this.hasXDR() ? (e.onload = function () {
          n.onLoad()
        }, e.onerror = function () {
          n.onError(e.responseText)
        }) : e.onreadystatechange = function () {
          if (2 === e.readyState) try {
            var t = e.getResponseHeader("Content-Type");
            (n.supportsBinary && "application/octet-stream" === t || "application/octet-stream; charset=UTF-8" === t) && (e.responseType = "arraybuffer")
          } catch (r) {
          }
          4 === e.readyState && (200 === e.status || 1223 === e.status ? n.onLoad() : setTimeout(function () {
            n.onError("number" == typeof e.status ? e.status : 0)
          }, 0))
        }, h("xhr data %s", this.data), e.send(this.data)
      } catch (o) {
        return void setTimeout(function () {
          n.onError(o)
        }, 0)
      }
      "undefined" != typeof document && (this.index = i.requestsCount++, i.requests[this.index] = this)
    }, i.prototype.onSuccess = function () {
      this.emit("success"), this.cleanup()
    }, i.prototype.onData = function (t) {
      this.emit("data", t), this.onSuccess()
    }, i.prototype.onError = function (t) {
      this.emit("error", t), this.cleanup(!0)
    }, i.prototype.cleanup = function (t) {
      if ("undefined" != typeof this.xhr && null !== this.xhr) {
        if (this.hasXDR() ? this.xhr.onload = this.xhr.onerror = r : this.xhr.onreadystatechange = r, t) try {
          this.xhr.abort()
        } catch (e) {
        }
        "undefined" != typeof document && delete i.requests[this.index], this.xhr = null
      }
    }, i.prototype.onLoad = function () {
      var t;
      try {
        var e;
        try {
          e = this.xhr.getResponseHeader("Content-Type")
        } catch (n) {
        }
        t = "application/octet-stream" === e || "application/octet-stream; charset=UTF-8" === e ? this.xhr.response || this.xhr.responseText : this.xhr.responseText
      } catch (n) {
        this.onError(n)
      }
      null != t && this.onData(t)
    }, i.prototype.hasXDR = function () {
      return "undefined" != typeof XDomainRequest && !this.xs && this.enablesXDR
    }, i.prototype.abort = function () {
      this.cleanup()
    }, i.requestsCount = 0, i.requests = {}, "undefined" != typeof document) if ("function" == typeof attachEvent) attachEvent("onunload", s); else if ("function" == typeof addEventListener) {
      var f = "onpagehide" in self ? "pagehide" : "unload";
      addEventListener(f, s, !1)
    }
  }, function (t, e, n) {
    function r(t) {
      var e = t && t.forceBase64;
      p && !e || (this.supportsBinary = !1), o.call(this, t)
    }

    var o = n(23), i = n(32), s = n(24), a = n(33), c = n(34), u = n(3)("engine.io-client:polling");
    t.exports = r;
    var p = function () {
      var t = n(19), e = new t({xdomain: !1});
      return null != e.responseType
    }();
    a(r, o), r.prototype.name = "polling", r.prototype.doOpen = function () {
      this.poll()
    }, r.prototype.pause = function (t) {
      function e() {
        u("paused"), n.readyState = "paused", t()
      }

      var n = this;
      if (this.readyState = "pausing", this.polling || !this.writable) {
        var r = 0;
        this.polling && (u("we are currently polling - waiting to pause"), r++, this.once("pollComplete", function () {
          u("pre-pause polling complete"), --r || e()
        })), this.writable || (u("we are currently writing - waiting to pause"), r++, this.once("drain", function () {
          u("pre-pause writing complete"), --r || e()
        }))
      } else e()
    }, r.prototype.poll = function () {
      u("polling"), this.polling = !0, this.doPoll(), this.emit("poll")
    }, r.prototype.onData = function (t) {
      var e = this;
      u("polling got data %s", t);
      var n = function (t, n, r) {
        return "opening" === e.readyState && e.onOpen(), "close" === t.type ? (e.onClose(), !1) : void e.onPacket(t)
      };
      s.decodePayload(t, this.socket.binaryType, n), "closed" !== this.readyState && (this.polling = !1, this.emit("pollComplete"), "open" === this.readyState ? this.poll() : u('ignoring poll - transport state "%s"', this.readyState))
    }, r.prototype.doClose = function () {
      function t() {
        u("writing close packet"), e.write([{type: "close"}])
      }

      var e = this;
      "open" === this.readyState ? (u("transport open - closing"), t()) : (u("transport not open - deferring close"), this.once("open", t))
    }, r.prototype.write = function (t) {
      var e = this;
      this.writable = !1;
      var n = function () {
        e.writable = !0, e.emit("drain")
      };
      s.encodePayload(t, this.supportsBinary, function (t) {
        e.doWrite(t, n)
      })
    }, r.prototype.uri = function () {
      var t = this.query || {}, e = this.secure ? "https" : "http", n = "";
      !1 !== this.timestampRequests && (t[this.timestampParam] = c()), this.supportsBinary || t.sid || (t.b64 = 1), t = i.encode(t), this.port && ("https" === e && 443 !== Number(this.port) || "http" === e && 80 !== Number(this.port)) && (n = ":" + this.port), t.length && (t = "?" + t);
      var r = this.hostname.indexOf(":") !== -1;
      return e + "://" + (r ? "[" + this.hostname + "]" : this.hostname) + n + this.path + t
    }
  }, function (t, e, n) {
    function r(t) {
      this.path = t.path, this.hostname = t.hostname, this.port = t.port, this.secure = t.secure, this.query = t.query, this.timestampParam = t.timestampParam, this.timestampRequests = t.timestampRequests, this.readyState = "", this.agent = t.agent || !1, this.socket = t.socket, this.enablesXDR = t.enablesXDR, this.withCredentials = t.withCredentials, this.pfx = t.pfx, this.key = t.key, this.passphrase = t.passphrase, this.cert = t.cert, this.ca = t.ca, this.ciphers = t.ciphers, this.rejectUnauthorized = t.rejectUnauthorized, this.forceNode = t.forceNode, this.isReactNative = t.isReactNative, this.extraHeaders = t.extraHeaders, this.localAddress = t.localAddress
    }

    var o = n(24), i = n(11);
    t.exports = r, i(r.prototype), r.prototype.onError = function (t, e) {
      var n = new Error(t);
      return n.type = "TransportError", n.description = e, this.emit("error", n), this
    }, r.prototype.open = function () {
      return "closed" !== this.readyState && "" !== this.readyState || (this.readyState = "opening", this.doOpen()), this
    }, r.prototype.close = function () {
      return "opening" !== this.readyState && "open" !== this.readyState || (this.doClose(), this.onClose()), this
    }, r.prototype.send = function (t) {
      if ("open" !== this.readyState) throw new Error("Transport not open");
      this.write(t)
    }, r.prototype.onOpen = function () {
      this.readyState = "open", this.writable = !0, this.emit("open")
    }, r.prototype.onData = function (t) {
      var e = o.decodePacket(t, this.socket.binaryType);
      this.onPacket(e)
    }, r.prototype.onPacket = function (t) {
      this.emit("packet", t)
    }, r.prototype.onClose = function () {
      this.readyState = "closed", this.emit("close")
    }
  }, function (t, e, n) {
    function r(t, n) {
      var r = "b" + e.packets[t.type] + t.data.data;
      return n(r)
    }

    function o(t, n, r) {
      if (!n) return e.encodeBase64Packet(t, r);
      var o = t.data, i = new Uint8Array(o), s = new Uint8Array(1 + o.byteLength);
      s[0] = v[t.type];
      for (var a = 0; a < i.length; a++) s[a + 1] = i[a];
      return r(s.buffer)
    }

    function i(t, n, r) {
      if (!n) return e.encodeBase64Packet(t, r);
      var o = new FileReader;
      return o.onload = function () {
        e.encodePacket({type: t.type, data: o.result}, n, !0, r)
      }, o.readAsArrayBuffer(t.data)
    }

    function s(t, n, r) {
      if (!n) return e.encodeBase64Packet(t, r);
      if (g) return i(t, n, r);
      var o = new Uint8Array(1);
      o[0] = v[t.type];
      var s = new w([o.buffer, t.data]);
      return r(s)
    }

    function a(t) {
      try {
        t = d.decode(t, {strict: !1})
      } catch (e) {
        return !1
      }
      return t
    }

    function c(t, e, n) {
      for (var r = new Array(t.length), o = l(t.length, n), i = function (t, n, o) {
        e(n, function (e, n) {
          r[t] = n, o(e, r)
        })
      }, s = 0; s < t.length; s++) i(s, t[s], o)
    }

    var u, p = n(25), h = n(26), f = n(27), l = n(28), d = n(29);
    "undefined" != typeof ArrayBuffer && (u = n(30));
    var y = "undefined" != typeof navigator && /Android/i.test(navigator.userAgent),
      m = "undefined" != typeof navigator && /PhantomJS/i.test(navigator.userAgent), g = y || m;
    e.protocol = 3;
    var v = e.packets = {open: 0, close: 1, ping: 2, pong: 3, message: 4, upgrade: 5, noop: 6}, b = p(v),
      C = {type: "error", data: "parser error"}, w = n(31);
    e.encodePacket = function (t, e, n, i) {
      "function" == typeof e && (i = e, e = !1), "function" == typeof n && (i = n, n = null);
      var a = void 0 === t.data ? void 0 : t.data.buffer || t.data;
      if ("undefined" != typeof ArrayBuffer && a instanceof ArrayBuffer) return o(t, e, i);
      if ("undefined" != typeof w && a instanceof w) return s(t, e, i);
      if (a && a.base64) return r(t, i);
      var c = v[t.type];
      return void 0 !== t.data && (c += n ? d.encode(String(t.data), {strict: !1}) : String(t.data)), i("" + c)
    }, e.encodeBase64Packet = function (t, n) {
      var r = "b" + e.packets[t.type];
      if ("undefined" != typeof w && t.data instanceof w) {
        var o = new FileReader;
        return o.onload = function () {
          var t = o.result.split(",")[1];
          n(r + t)
        }, o.readAsDataURL(t.data)
      }
      var i;
      try {
        i = String.fromCharCode.apply(null, new Uint8Array(t.data))
      } catch (s) {
        for (var a = new Uint8Array(t.data), c = new Array(a.length), u = 0; u < a.length; u++) c[u] = a[u];
        i = String.fromCharCode.apply(null, c)
      }
      return r += btoa(i), n(r)
    }, e.decodePacket = function (t, n, r) {
      if (void 0 === t) return C;
      if ("string" == typeof t) {
        if ("b" === t.charAt(0)) return e.decodeBase64Packet(t.substr(1), n);
        if (r && (t = a(t), t === !1)) return C;
        var o = t.charAt(0);
        return Number(o) == o && b[o] ? t.length > 1 ? {type: b[o], data: t.substring(1)} : {type: b[o]} : C
      }
      var i = new Uint8Array(t), o = i[0], s = f(t, 1);
      return w && "blob" === n && (s = new w([s])), {type: b[o], data: s}
    }, e.decodeBase64Packet = function (t, e) {
      var n = b[t.charAt(0)];
      if (!u) return {type: n, data: {base64: !0, data: t.substr(1)}};
      var r = u.decode(t.substr(1));
      return "blob" === e && w && (r = new w([r])), {type: n, data: r}
    }, e.encodePayload = function (t, n, r) {
      function o(t) {
        return t.length + ":" + t
      }

      function i(t, r) {
        e.encodePacket(t, !!s && n, !1, function (t) {
          r(null, o(t))
        })
      }

      "function" == typeof n && (r = n, n = null);
      var s = h(t);
      return n && s ? w && !g ? e.encodePayloadAsBlob(t, r) : e.encodePayloadAsArrayBuffer(t, r) : t.length ? void c(t, i, function (t, e) {
        return r(e.join(""))
      }) : r("0:")
    }, e.decodePayload = function (t, n, r) {
      if ("string" != typeof t) return e.decodePayloadAsBinary(t, n, r);
      "function" == typeof n && (r = n, n = null);
      var o;
      if ("" === t) return r(C, 0, 1);
      for (var i, s, a = "", c = 0, u = t.length; c < u; c++) {
        var p = t.charAt(c);
        if (":" === p) {
          if ("" === a || a != (i = Number(a))) return r(C, 0, 1);
          if (s = t.substr(c + 1, i), a != s.length) return r(C, 0, 1);
          if (s.length) {
            if (o = e.decodePacket(s, n, !1), C.type === o.type && C.data === o.data) return r(C, 0, 1);
            var h = r(o, c + i, u);
            if (!1 === h) return
          }
          c += i, a = ""
        } else a += p
      }
      return "" !== a ? r(C, 0, 1) : void 0
    }, e.encodePayloadAsArrayBuffer = function (t, n) {
      function r(t, n) {
        e.encodePacket(t, !0, !0, function (t) {
          return n(null, t)
        })
      }

      return t.length ? void c(t, r, function (t, e) {
        var r = e.reduce(function (t, e) {
          var n;
          return n = "string" == typeof e ? e.length : e.byteLength, t + n.toString().length + n + 2
        }, 0), o = new Uint8Array(r), i = 0;
        return e.forEach(function (t) {
          var e = "string" == typeof t, n = t;
          if (e) {
            for (var r = new Uint8Array(t.length), s = 0; s < t.length; s++) r[s] = t.charCodeAt(s);
            n = r.buffer
          }
          e ? o[i++] = 0 : o[i++] = 1;
          for (var a = n.byteLength.toString(), s = 0; s < a.length; s++) o[i++] = parseInt(a[s]);
          o[i++] = 255;
          for (var r = new Uint8Array(n), s = 0; s < r.length; s++) o[i++] = r[s]
        }), n(o.buffer)
      }) : n(new ArrayBuffer(0))
    }, e.encodePayloadAsBlob = function (t, n) {
      function r(t, n) {
        e.encodePacket(t, !0, !0, function (t) {
          var e = new Uint8Array(1);
          if (e[0] = 1, "string" == typeof t) {
            for (var r = new Uint8Array(t.length), o = 0; o < t.length; o++) r[o] = t.charCodeAt(o);
            t = r.buffer, e[0] = 0
          }
          for (var i = t instanceof ArrayBuffer ? t.byteLength : t.size, s = i.toString(), a = new Uint8Array(s.length + 1), o = 0; o < s.length; o++) a[o] = parseInt(s[o]);
          if (a[s.length] = 255, w) {
            var c = new w([e.buffer, a.buffer, t]);
            n(null, c)
          }
        })
      }

      c(t, r, function (t, e) {
        return n(new w(e))
      })
    }, e.decodePayloadAsBinary = function (t, n, r) {
      "function" == typeof n && (r = n, n = null);
      for (var o = t, i = []; o.byteLength > 0;) {
        for (var s = new Uint8Array(o), a = 0 === s[0], c = "", u = 1; 255 !== s[u]; u++) {
          if (c.length > 310) return r(C, 0, 1);
          c += s[u]
        }
        o = f(o, 2 + c.length), c = parseInt(c);
        var p = f(o, 0, c);
        if (a) try {
          p = String.fromCharCode.apply(null, new Uint8Array(p))
        } catch (h) {
          var l = new Uint8Array(p);
          p = "";
          for (var u = 0; u < l.length; u++) p += String.fromCharCode(l[u])
        }
        i.push(p), o = f(o, c)
      }
      var d = i.length;
      i.forEach(function (t, o) {
        r(e.decodePacket(t, n, !0), o, d)
      })
    }
  }, function (t, e) {
    t.exports = Object.keys || function (t) {
      var e = [], n = Object.prototype.hasOwnProperty;
      for (var r in t) n.call(t, r) && e.push(r);
      return e
    }
  }, function (t, e, n) {
    function r(t) {
      if (!t || "object" != typeof t) return !1;
      if (o(t)) {
        for (var e = 0, n = t.length; e < n; e++) if (r(t[e])) return !0;
        return !1
      }
      if ("function" == typeof Buffer && Buffer.isBuffer && Buffer.isBuffer(t) || "function" == typeof ArrayBuffer && t instanceof ArrayBuffer || s && t instanceof Blob || a && t instanceof File) return !0;
      if (t.toJSON && "function" == typeof t.toJSON && 1 === arguments.length) return r(t.toJSON(), !0);
      for (var i in t) if (Object.prototype.hasOwnProperty.call(t, i) && r(t[i])) return !0;
      return !1
    }

    var o = n(13), i = Object.prototype.toString,
      s = "function" == typeof Blob || "undefined" != typeof Blob && "[object BlobConstructor]" === i.call(Blob),
      a = "function" == typeof File || "undefined" != typeof File && "[object FileConstructor]" === i.call(File);
    t.exports = r
  }, function (t, e) {
    t.exports = function (t, e, n) {
      var r = t.byteLength;
      if (e = e || 0, n = n || r, t.slice) return t.slice(e, n);
      if (e < 0 && (e += r), n < 0 && (n += r), n > r && (n = r), e >= r || e >= n || 0 === r) return new ArrayBuffer(0);
      for (var o = new Uint8Array(t), i = new Uint8Array(n - e), s = e, a = 0; s < n; s++, a++) i[a] = o[s];
      return i.buffer
    }
  }, function (t, e) {
    function n(t, e, n) {
      function o(t, r) {
        if (o.count <= 0) throw new Error("after called too many times");
        --o.count, t ? (i = !0, e(t), e = n) : 0 !== o.count || i || e(null, r)
      }

      var i = !1;
      return n = n || r, o.count = t, 0 === t ? e() : o
    }

    function r() {
    }

    t.exports = n
  }, function (t, e) {
    function n(t) {
      for (var e, n, r = [], o = 0, i = t.length; o < i;) e = t.charCodeAt(o++), e >= 55296 && e <= 56319 && o < i ? (n = t.charCodeAt(o++), 56320 == (64512 & n) ? r.push(((1023 & e) << 10) + (1023 & n) + 65536) : (r.push(e), o--)) : r.push(e);
      return r
    }

    function r(t) {
      for (var e, n = t.length, r = -1, o = ""; ++r < n;) e = t[r], e > 65535 && (e -= 65536, o += d(e >>> 10 & 1023 | 55296), e = 56320 | 1023 & e), o += d(e);
      return o
    }

    function o(t, e) {
      if (t >= 55296 && t <= 57343) {
        if (e) throw Error("Lone surrogate U+" + t.toString(16).toUpperCase() + " is not a scalar value");
        return !1
      }
      return !0
    }

    function i(t, e) {
      return d(t >> e & 63 | 128)
    }

    function s(t, e) {
      if (0 == (4294967168 & t)) return d(t);
      var n = "";
      return 0 == (4294965248 & t) ? n = d(t >> 6 & 31 | 192) : 0 == (4294901760 & t) ? (o(t, e) || (t = 65533), n = d(t >> 12 & 15 | 224), n += i(t, 6)) : 0 == (4292870144 & t) && (n = d(t >> 18 & 7 | 240), n += i(t, 12), n += i(t, 6)), n += d(63 & t | 128)
    }

    function a(t, e) {
      e = e || {};
      for (var r, o = !1 !== e.strict, i = n(t), a = i.length, c = -1, u = ""; ++c < a;) r = i[c], u += s(r, o);
      return u
    }

    function c() {
      if (l >= f) throw Error("Invalid byte index");
      var t = 255 & h[l];
      if (l++, 128 == (192 & t)) return 63 & t;
      throw Error("Invalid continuation byte")
    }

    function u(t) {
      var e, n, r, i, s;
      if (l > f) throw Error("Invalid byte index");
      if (l == f) return !1;
      if (e = 255 & h[l], l++, 0 == (128 & e)) return e;
      if (192 == (224 & e)) {
        if (n = c(), s = (31 & e) << 6 | n, s >= 128) return s;
        throw Error("Invalid continuation byte")
      }
      if (224 == (240 & e)) {
        if (n = c(), r = c(), s = (15 & e) << 12 | n << 6 | r, s >= 2048) return o(s, t) ? s : 65533;
        throw Error("Invalid continuation byte")
      }
      if (240 == (248 & e) && (n = c(), r = c(), i = c(), s = (7 & e) << 18 | n << 12 | r << 6 | i, s >= 65536 && s <= 1114111)) return s;
      throw Error("Invalid UTF-8 detected")
    }

    function p(t, e) {
      e = e || {};
      var o = !1 !== e.strict;
      h = n(t), f = h.length, l = 0;
      for (var i, s = []; (i = u(o)) !== !1;) s.push(i);
      return r(s)
    }/*! https://mths.be/utf8js v2.1.2 by @mathias */
    var h, f, l, d = String.fromCharCode;
    t.exports = {version: "2.1.2", encode: a, decode: p}
  }, function (t, e) {
    !function () {
      "use strict";
      for (var t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", n = new Uint8Array(256), r = 0; r < t.length; r++) n[t.charCodeAt(r)] = r;
      e.encode = function (e) {
        var n, r = new Uint8Array(e), o = r.length, i = "";
        for (n = 0; n < o; n += 3) i += t[r[n] >> 2], i += t[(3 & r[n]) << 4 | r[n + 1] >> 4], i += t[(15 & r[n + 1]) << 2 | r[n + 2] >> 6], i += t[63 & r[n + 2]];
        return o % 3 === 2 ? i = i.substring(0, i.length - 1) + "=" : o % 3 === 1 && (i = i.substring(0, i.length - 2) + "=="), i
      }, e.decode = function (t) {
        var e, r, o, i, s, a = .75 * t.length, c = t.length, u = 0;
        "=" === t[t.length - 1] && (a--, "=" === t[t.length - 2] && a--);
        var p = new ArrayBuffer(a), h = new Uint8Array(p);
        for (e = 0; e < c; e += 4) r = n[t.charCodeAt(e)], o = n[t.charCodeAt(e + 1)], i = n[t.charCodeAt(e + 2)], s = n[t.charCodeAt(e + 3)], h[u++] = r << 2 | o >> 4, h[u++] = (15 & o) << 4 | i >> 2, h[u++] = (3 & i) << 6 | 63 & s;
        return p
      }
    }()
  }, function (t, e) {
    function n(t) {
      return t.map(function (t) {
        if (t.buffer instanceof ArrayBuffer) {
          var e = t.buffer;
          if (t.byteLength !== e.byteLength) {
            var n = new Uint8Array(t.byteLength);
            n.set(new Uint8Array(e, t.byteOffset, t.byteLength)), e = n.buffer
          }
          return e
        }
        return t
      })
    }

    function r(t, e) {
      e = e || {};
      var r = new i;
      return n(t).forEach(function (t) {
        r.append(t)
      }), e.type ? r.getBlob(e.type) : r.getBlob()
    }

    function o(t, e) {
      return new Blob(n(t), e || {})
    }

    var i = "undefined" != typeof i ? i : "undefined" != typeof WebKitBlobBuilder ? WebKitBlobBuilder : "undefined" != typeof MSBlobBuilder ? MSBlobBuilder : "undefined" != typeof MozBlobBuilder && MozBlobBuilder,
      s = function () {
        try {
          var t = new Blob(["hi"]);
          return 2 === t.size
        } catch (e) {
          return !1
        }
      }(), a = s && function () {
        try {
          var t = new Blob([new Uint8Array([1, 2])]);
          return 2 === t.size
        } catch (e) {
          return !1
        }
      }(), c = i && i.prototype.append && i.prototype.getBlob;
    "undefined" != typeof Blob && (r.prototype = Blob.prototype, o.prototype = Blob.prototype), t.exports = function () {
      return s ? a ? Blob : o : c ? r : void 0
    }()
  }, function (t, e) {
    e.encode = function (t) {
      var e = "";
      for (var n in t) t.hasOwnProperty(n) && (e.length && (e += "&"), e += encodeURIComponent(n) + "=" + encodeURIComponent(t[n]));
      return e
    }, e.decode = function (t) {
      for (var e = {}, n = t.split("&"), r = 0, o = n.length; r < o; r++) {
        var i = n[r].split("=");
        e[decodeURIComponent(i[0])] = decodeURIComponent(i[1])
      }
      return e
    }
  }, function (t, e) {
    t.exports = function (t, e) {
      var n = function () {
      };
      n.prototype = e.prototype, t.prototype = new n, t.prototype.constructor = t
    }
  }, function (t, e) {
    "use strict";

    function n(t) {
      var e = "";
      do e = s[t % a] + e, t = Math.floor(t / a); while (t > 0);
      return e
    }

    function r(t) {
      var e = 0;
      for (p = 0; p < t.length; p++) e = e * a + c[t.charAt(p)];
      return e
    }

    function o() {
      var t = n(+new Date);
      return t !== i ? (u = 0, i = t) : t + "." + n(u++)
    }

    for (var i, s = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""), a = 64, c = {}, u = 0, p = 0; p < a; p++) c[s[p]] = p;
    o.encode = n, o.decode = r, t.exports = o
  }, function (t, e, n) {
    (function (e) {
      function r() {
      }

      function o() {
        return "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof e ? e : {}
      }

      function i(t) {
        if (s.call(this, t), this.query = this.query || {}, !c) {
          var e = o();
          c = e.___eio = e.___eio || []
        }
        this.index = c.length;
        var n = this;
        c.push(function (t) {
          n.onData(t)
        }), this.query.j = this.index, "function" == typeof addEventListener && addEventListener("beforeunload", function () {
          n.script && (n.script.onerror = r)
        }, !1)
      }

      var s = n(22), a = n(33);
      t.exports = i;
      var c, u = /\n/g, p = /\\n/g;
      a(i, s), i.prototype.supportsBinary = !1, i.prototype.doClose = function () {
        this.script && (this.script.parentNode.removeChild(this.script), this.script = null), this.form && (this.form.parentNode.removeChild(this.form), this.form = null, this.iframe = null), s.prototype.doClose.call(this)
      }, i.prototype.doPoll = function () {
        var t = this, e = document.createElement("script");
        this.script && (this.script.parentNode.removeChild(this.script), this.script = null), e.async = !0, e.src = this.uri(), e.onerror = function (e) {
          t.onError("jsonp poll error", e)
        };
        var n = document.getElementsByTagName("script")[0];
        n ? n.parentNode.insertBefore(e, n) : (document.head || document.body).appendChild(e), this.script = e;
        var r = "undefined" != typeof navigator && /gecko/i.test(navigator.userAgent);
        r && setTimeout(function () {
          var t = document.createElement("iframe");
          document.body.appendChild(t), document.body.removeChild(t)
        }, 100)
      }, i.prototype.doWrite = function (t, e) {
        function n() {
          r(), e()
        }

        function r() {
          if (o.iframe) try {
            o.form.removeChild(o.iframe)
          } catch (t) {
            o.onError("jsonp polling iframe removal error", t)
          }
          try {
            var e = '<iframe src="javascript:0" name="' + o.iframeId + '">';
            i = document.createElement(e)
          } catch (t) {
            i = document.createElement("iframe"), i.name = o.iframeId, i.src = "javascript:0"
          }
          i.id = o.iframeId, o.form.appendChild(i), o.iframe = i
        }

        var o = this;
        if (!this.form) {
          var i, s = document.createElement("form"), a = document.createElement("textarea"),
            c = this.iframeId = "eio_iframe_" + this.index;
          s.className = "socketio", s.style.position = "absolute", s.style.top = "-1000px", s.style.left = "-1000px", s.target = c, s.method = "POST", s.setAttribute("accept-charset", "utf-8"), a.name = "d", s.appendChild(a), document.body.appendChild(s), this.form = s, this.area = a
        }
        this.form.action = this.uri(), r(), t = t.replace(p, "\\\n"), this.area.value = t.replace(u, "\\n");
        try {
          this.form.submit()
        } catch (h) {
        }
        this.iframe.attachEvent ? this.iframe.onreadystatechange = function () {
          "complete" === o.iframe.readyState && n()
        } : this.iframe.onload = n
      }
    }).call(e, function () {
      return this
    }())
  }, function (t, e, n) {
    function r(t) {
      var e = t && t.forceBase64;
      e && (this.supportsBinary = !1), this.perMessageDeflate = t.perMessageDeflate, this.usingBrowserWebSocket = o && !t.forceNode, this.protocols = t.protocols, this.usingBrowserWebSocket || (l = i), s.call(this, t)
    }

    var o, i, s = n(23), a = n(24), c = n(32), u = n(33), p = n(34), h = n(3)("engine.io-client:websocket");
    if ("undefined" != typeof WebSocket ? o = WebSocket : "undefined" != typeof self && (o = self.WebSocket || self.MozWebSocket), "undefined" == typeof window) try {
      i = n(37)
    } catch (f) {
    }
    var l = o || i;
    t.exports = r, u(r, s), r.prototype.name = "websocket", r.prototype.supportsBinary = !0, r.prototype.doOpen = function () {
      if (this.check()) {
        var t = this.uri(), e = this.protocols, n = {agent: this.agent, perMessageDeflate: this.perMessageDeflate};
        n.pfx = this.pfx, n.key = this.key, n.passphrase = this.passphrase, n.cert = this.cert, n.ca = this.ca, n.ciphers = this.ciphers, n.rejectUnauthorized = this.rejectUnauthorized, this.extraHeaders && (n.headers = this.extraHeaders), this.localAddress && (n.localAddress = this.localAddress);
        try {
          this.ws = this.usingBrowserWebSocket && !this.isReactNative ? e ? new l(t, e) : new l(t) : new l(t, e, n)
        } catch (r) {
          return this.emit("error", r)
        }
        void 0 === this.ws.binaryType && (this.supportsBinary = !1), this.ws.supports && this.ws.supports.binary ? (this.supportsBinary = !0, this.ws.binaryType = "nodebuffer") : this.ws.binaryType = "arraybuffer", this.addEventListeners()
      }
    }, r.prototype.addEventListeners = function () {
      var t = this;
      this.ws.onopen = function () {
        t.onOpen()
      }, this.ws.onclose = function () {
        t.onClose()
      }, this.ws.onmessage = function (e) {
        t.onData(e.data)
      }, this.ws.onerror = function (e) {
        t.onError("websocket error", e)
      }
    }, r.prototype.write = function (t) {
      function e() {
        n.emit("flush"), setTimeout(function () {
          n.writable = !0, n.emit("drain")
        }, 0)
      }

      var n = this;
      this.writable = !1;
      for (var r = t.length, o = 0, i = r; o < i; o++) !function (t) {
        a.encodePacket(t, n.supportsBinary, function (o) {
          if (!n.usingBrowserWebSocket) {
            var i = {};
            if (t.options && (i.compress = t.options.compress), n.perMessageDeflate) {
              var s = "string" == typeof o ? Buffer.byteLength(o) : o.length;
              s < n.perMessageDeflate.threshold && (i.compress = !1)
            }
          }
          try {
            n.usingBrowserWebSocket ? n.ws.send(o) : n.ws.send(o, i)
          } catch (a) {
            h("websocket closed before onclose event")
          }
          --r || e()
        })
      }(t[o])
    }, r.prototype.onClose = function () {
      s.prototype.onClose.call(this)
    }, r.prototype.doClose = function () {
      "undefined" != typeof this.ws && this.ws.close()
    }, r.prototype.uri = function () {
      var t = this.query || {}, e = this.secure ? "wss" : "ws", n = "";
      this.port && ("wss" === e && 443 !== Number(this.port) || "ws" === e && 80 !== Number(this.port)) && (n = ":" + this.port), this.timestampRequests && (t[this.timestampParam] = p()), this.supportsBinary || (t.b64 = 1), t = c.encode(t), t.length && (t = "?" + t);
      var r = this.hostname.indexOf(":") !== -1;
      return e + "://" + (r ? "[" + this.hostname + "]" : this.hostname) + n + this.path + t
    }, r.prototype.check = function () {
      return !(!l || "__initialize" in l && this.name === r.prototype.name)
    }
  }, function (t, e) {
  }, function (t, e) {
    var n = [].indexOf;
    t.exports = function (t, e) {
      if (n) return t.indexOf(e);
      for (var r = 0; r < t.length; ++r) if (t[r] === e) return r;
      return -1
    }
  }, function (t, e, n) {
    function r(t, e, n) {
      this.io = t, this.nsp = e, this.json = this, this.ids = 0, this.acks = {}, this.receiveBuffer = [], this.sendBuffer = [], this.connected = !1, this.disconnected = !0, this.flags = {}, n && n.query && (this.query = n.query), this.io.autoConnect && this.open()
    }

    var o = n(7), i = n(11), s = n(40), a = n(41), c = n(42), u = n(3)("socket.io-client:socket"), p = n(32), h = n(26);
    t.exports = e = r;
    var f = {
      connect: 1,
      connect_error: 1,
      connect_timeout: 1,
      connecting: 1,
      disconnect: 1,
      error: 1,
      reconnect: 1,
      reconnect_attempt: 1,
      reconnect_failed: 1,
      reconnect_error: 1,
      reconnecting: 1,
      ping: 1,
      pong: 1
    }, l = i.prototype.emit;
    i(r.prototype), r.prototype.subEvents = function () {
      if (!this.subs) {
        var t = this.io;
        this.subs = [a(t, "open", c(this, "onopen")), a(t, "packet", c(this, "onpacket")), a(t, "close", c(this, "onclose"))]
      }
    }, r.prototype.open = r.prototype.connect = function () {
      return this.connected ? this : (this.subEvents(), this.io.open(), "open" === this.io.readyState && this.onopen(), this.emit("connecting"), this)
    }, r.prototype.send = function () {
      var t = s(arguments);
      return t.unshift("message"), this.emit.apply(this, t), this
    }, r.prototype.emit = function (t) {
      if (f.hasOwnProperty(t)) return l.apply(this, arguments), this;
      var e = s(arguments),
        n = {type: (void 0 !== this.flags.binary ? this.flags.binary : h(e)) ? o.BINARY_EVENT : o.EVENT, data: e};
      return n.options = {}, n.options.compress = !this.flags || !1 !== this.flags.compress, "function" == typeof e[e.length - 1] && (u("emitting packet with ack id %d", this.ids), this.acks[this.ids] = e.pop(), n.id = this.ids++), this.connected ? this.packet(n) : this.sendBuffer.push(n), this.flags = {}, this
    }, r.prototype.packet = function (t) {
      t.nsp = this.nsp, this.io.packet(t)
    }, r.prototype.onopen = function () {
      if (u("transport is open - connecting"), "/" !== this.nsp) if (this.query) {
        var t = "object" == typeof this.query ? p.encode(this.query) : this.query;
        u("sending connect packet with query %s", t), this.packet({type: o.CONNECT, query: t})
      } else this.packet({type: o.CONNECT})
    }, r.prototype.onclose = function (t) {
      u("close (%s)", t), this.connected = !1, this.disconnected = !0, delete this.id, this.emit("disconnect", t)
    }, r.prototype.onpacket = function (t) {
      var e = t.nsp === this.nsp, n = t.type === o.ERROR && "/" === t.nsp;
      if (e || n) switch (t.type) {
        case o.CONNECT:
          this.onconnect();
          break;
        case o.EVENT:
          this.onevent(t);
          break;
        case o.BINARY_EVENT:
          this.onevent(t);
          break;
        case o.ACK:
          this.onack(t);
          break;
        case o.BINARY_ACK:
          this.onack(t);
          break;
        case o.DISCONNECT:
          this.ondisconnect();
          break;
        case o.ERROR:
          this.emit("error", t.data)
      }
    }, r.prototype.onevent = function (t) {
      var e = t.data || [];
      u("emitting event %j", e), null != t.id && (u("attaching ack callback to event"), e.push(this.ack(t.id))), this.connected ? l.apply(this, e) : this.receiveBuffer.push(e)
    }, r.prototype.ack = function (t) {
      var e = this, n = !1;
      return function () {
        if (!n) {
          n = !0;
          var r = s(arguments);
          u("sending ack %j", r), e.packet({type: h(r) ? o.BINARY_ACK : o.ACK, id: t, data: r})
        }
      }
    }, r.prototype.onack = function (t) {
      var e = this.acks[t.id];
      "function" == typeof e ? (u("calling ack %s with %j", t.id, t.data), e.apply(this, t.data), delete this.acks[t.id]) : u("bad ack %s", t.id)
    }, r.prototype.onconnect = function () {
      this.connected = !0, this.disconnected = !1, this.emit("connect"), this.emitBuffered()
    }, r.prototype.emitBuffered = function () {
      var t;
      for (t = 0; t < this.receiveBuffer.length; t++) l.apply(this, this.receiveBuffer[t]);
      for (this.receiveBuffer = [], t = 0; t < this.sendBuffer.length; t++) this.packet(this.sendBuffer[t]);
      this.sendBuffer = []
    }, r.prototype.ondisconnect = function () {
      u("server disconnect (%s)", this.nsp), this.destroy(), this.onclose("io server disconnect")
    }, r.prototype.destroy = function () {
      if (this.subs) {
        for (var t = 0; t < this.subs.length; t++) this.subs[t].destroy();
        this.subs = null
      }
      this.io.destroy(this)
    }, r.prototype.close = r.prototype.disconnect = function () {
      return this.connected && (u("performing disconnect (%s)", this.nsp), this.packet({type: o.DISCONNECT})), this.destroy(), this.connected && this.onclose("io client disconnect"), this
    }, r.prototype.compress = function (t) {
      return this.flags.compress = t, this
    }, r.prototype.binary = function (t) {
      return this.flags.binary = t, this
    }
  }, function (t, e) {
    function n(t, e) {
      var n = [];
      e = e || 0;
      for (var r = e || 0; r < t.length; r++) n[r - e] = t[r];
      return n
    }

    t.exports = n
  }, function (t, e) {
    function n(t, e, n) {
      return t.on(e, n), {
        destroy: function () {
          t.removeListener(e, n)
        }
      }
    }

    t.exports = n
  }, function (t, e) {
    var n = [].slice;
    t.exports = function (t, e) {
      if ("string" == typeof e && (e = t[e]), "function" != typeof e) throw new Error("bind() requires a function");
      var r = n.call(arguments, 2);
      return function () {
        return e.apply(t, r.concat(n.call(arguments)))
      }
    }
  }, function (t, e) {
    function n(t) {
      t = t || {}, this.ms = t.min || 100, this.max = t.max || 1e4, this.factor = t.factor || 2, this.jitter = t.jitter > 0 && t.jitter <= 1 ? t.jitter : 0, this.attempts = 0
    }

    t.exports = n, n.prototype.duration = function () {
      var t = this.ms * Math.pow(this.factor, this.attempts++);
      if (this.jitter) {
        var e = Math.random(), n = Math.floor(e * this.jitter * t);
        t = 0 == (1 & Math.floor(10 * e)) ? t - n : t + n
      }
      return 0 | Math.min(t, this.max)
    }, n.prototype.reset = function () {
      this.attempts = 0
    }, n.prototype.setMin = function (t) {
      this.ms = t
    }, n.prototype.setMax = function (t) {
      this.max = t
    }, n.prototype.setJitter = function (t) {
      this.jitter = t
    }
  }])
});

var BSpline = function (a, b, c) {
  this._points = a, this._linear = b, this._tension = c || 0, this._deltaT = 1 / (this._points.length - 1)
};
BSpline.prototype.getControlPointAtIndex = function (a) {
  return a = Math.min(this._points.length - 1, Math.max(a, 0)), this._points[a]
}, BSpline.prototype.cardinalSplineAt = function (a, b, c, d, e, f) {
  var g = f * f, h = g * f, i = (1 - e) / 2, j = i * (-h + 2 * g - f), k = i * (-h + g) + (2 * h - 3 * g + 1),
    l = i * (h - 2 * g + f) + (-2 * h + 3 * g), m = i * (h - g), n = a.x * j + b.x * k + c.x * l + d.x * m,
    o = a.y * j + b.y * k + c.y * l + d.y * m;
  return {x: n, y: o}
}, BSpline.prototype.calcAt = function (a) {
  var b, c;
  1 == a ? (b = this._points.length - 1, c = 1) : (b = parseInt(a / this._deltaT), c = (a - this._deltaT * b) / this._deltaT);
  var d = this.getControlPointAtIndex(b - 1), e = this.getControlPointAtIndex(b + 0),
    f = this.getControlPointAtIndex(b + 1), g = this.getControlPointAtIndex(b + 2);
  if (this._linear) {
    var h = {x: f.x - e.x, y: f.y - e.y};
    return {x: e.x + h.x * c, y: e.y + h.y * c}
  }
  return this.cardinalSplineAt(d, e, f, g, this._tension, c)
};

!function () {
  "use strict";
  var e = "undefined" != typeof window && void 0 !== window.document ? window.document : {},
    n = "undefined" != typeof module && module.exports, l = ("undefined" != typeof Element && Element, function () {
      for (var n, l = [["requestFullscreen", "exitFullscreen", "fullscreenElement", "fullscreenEnabled", "fullscreenchange", "fullscreenerror"], ["webkitRequestFullscreen", "webkitExitFullscreen", "webkitFullscreenElement", "webkitFullscreenEnabled", "webkitfullscreenchange", "webkitfullscreenerror"], ["webkitRequestFullScreen", "webkitCancelFullScreen", "webkitCurrentFullScreenElement", "webkitCancelFullScreen", "webkitfullscreenchange", "webkitfullscreenerror"], ["mozRequestFullScreen", "mozCancelFullScreen", "mozFullScreenElement", "mozFullScreenEnabled", "mozfullscreenchange", "mozfullscreenerror"], ["msRequestFullscreen", "msExitFullscreen", "msFullscreenElement", "msFullscreenEnabled", "MSFullscreenChange", "MSFullscreenError"]], r = 0, t = l.length, u = {}; r < t; r++) if ((n = l[r]) && n[1] in e) {
        for (r = 0; r < n.length; r++) u[l[0][r]] = n[r];
        return u
      }
      return !1
    }()), r = {change: l.fullscreenchange, error: l.fullscreenerror}, t = {
      request: function (n) {
        var r = l.requestFullscreen;
        (n = n || e.documentElement)[r]()
      }, exit: function () {
        e[l.exitFullscreen]()
      }, toggle: function (e) {
        this.isFullscreen ? this.exit() : this.request(e)
      }, onchange: function (e) {
        this.on("change", e)
      }, onerror: function (e) {
        this.on("error", e)
      }, on: function (n, l) {
        var t = r[n];
        t && e.addEventListener(t, l, !1)
      }, off: function (n, l) {
        var t = r[n];
        t && e.removeEventListener(t, l, !1)
      }, raw: l
    };
  l ? (Object.defineProperties(t, {
    isFullscreen: {
      get: function () {
        return Boolean(e[l.fullscreenElement])
      }
    }, element: {
      enumerable: !0, get: function () {
        return e[l.fullscreenElement]
      }
    }, enabled: {
      enumerable: !0, get: function () {
        return Boolean(e[l.fullscreenEnabled])
      }
    }
  }), n ? module.exports = t : window.screenfull = t) : n ? module.exports = !1 : window.screenfull = !1
}();

/* Web Font Loader v1.6.28 - (c) Adobe Systems, Google. License: Apache 2.0 */
(function () {
  function aa(a, b, c) {
    return a.call.apply(a.bind, arguments)
  }

  function ba(a, b, c) {
    if (!a) throw Error();
    if (2 < arguments.length) {
      var d = Array.prototype.slice.call(arguments, 2);
      return function () {
        var c = Array.prototype.slice.call(arguments);
        Array.prototype.unshift.apply(c, d);
        return a.apply(b, c)
      }
    }
    return function () {
      return a.apply(b, arguments)
    }
  }

  function p(a, b, c) {
    p = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? aa : ba;
    return p.apply(null, arguments)
  }

  var q = Date.now || function () {
    return +new Date
  };

  function ca(a, b) {
    this.a = a;
    this.o = b || a;
    this.c = this.o.document
  }

  var da = !!window.FontFace;

  function t(a, b, c, d) {
    b = a.c.createElement(b);
    if (c) for (var e in c) c.hasOwnProperty(e) && ("style" == e ? b.style.cssText = c[e] : b.setAttribute(e, c[e]));
    d && b.appendChild(a.c.createTextNode(d));
    return b
  }

  function u(a, b, c) {
    a = a.c.getElementsByTagName(b)[0];
    a || (a = document.documentElement);
    a.insertBefore(c, a.lastChild)
  }

  function v(a) {
    a.parentNode && a.parentNode.removeChild(a)
  }

  function w(a, b, c) {
    b = b || [];
    c = c || [];
    for (var d = a.className.split(/\s+/), e = 0; e < b.length; e += 1) {
      for (var f = !1, g = 0; g < d.length; g += 1) if (b[e] === d[g]) {
        f = !0;
        break
      }
      f || d.push(b[e])
    }
    b = [];
    for (e = 0; e < d.length; e += 1) {
      f = !1;
      for (g = 0; g < c.length; g += 1) if (d[e] === c[g]) {
        f = !0;
        break
      }
      f || b.push(d[e])
    }
    a.className = b.join(" ").replace(/\s+/g, " ").replace(/^\s+|\s+$/, "")
  }

  function y(a, b) {
    for (var c = a.className.split(/\s+/), d = 0, e = c.length; d < e; d++) if (c[d] == b) return !0;
    return !1
  }

  function ea(a) {
    return a.o.location.hostname || a.a.location.hostname
  }

  function z(a, b, c) {
    function d() {
      m && e && f && (m(g), m = null)
    }

    b = t(a, "link", {rel: "stylesheet", href: b, media: "all"});
    var e = !1, f = !0, g = null, m = c || null;
    da ? (b.onload = function () {
      e = !0;
      d()
    }, b.onerror = function () {
      e = !0;
      g = Error("Stylesheet failed to load");
      d()
    }) : setTimeout(function () {
      e = !0;
      d()
    }, 0);
    u(a, "head", b)
  }

  function A(a, b, c, d) {
    var e = a.c.getElementsByTagName("head")[0];
    if (e) {
      var f = t(a, "script", {src: b}), g = !1;
      f.onload = f.onreadystatechange = function () {
        g || this.readyState && "loaded" != this.readyState && "complete" != this.readyState || (g = !0, c && c(null), f.onload = f.onreadystatechange = null, "HEAD" == f.parentNode.tagName && e.removeChild(f))
      };
      e.appendChild(f);
      setTimeout(function () {
        g || (g = !0, c && c(Error("Script load timeout")))
      }, d || 5E3);
      return f
    }
    return null
  };

  function B() {
    this.a = 0;
    this.c = null
  }

  function C(a) {
    a.a++;
    return function () {
      a.a--;
      D(a)
    }
  }

  function E(a, b) {
    a.c = b;
    D(a)
  }

  function D(a) {
    0 == a.a && a.c && (a.c(), a.c = null)
  };

  function F(a) {
    this.a = a || "-"
  }

  F.prototype.c = function (a) {
    for (var b = [], c = 0; c < arguments.length; c++) b.push(arguments[c].replace(/[\W_]+/g, "").toLowerCase());
    return b.join(this.a)
  };

  function G(a, b) {
    this.c = a;
    this.f = 4;
    this.a = "n";
    var c = (b || "n4").match(/^([nio])([1-9])$/i);
    c && (this.a = c[1], this.f = parseInt(c[2], 10))
  }

  function fa(a) {
    return H(a) + " " + (a.f + "00") + " 300px " + I(a.c)
  }

  function I(a) {
    var b = [];
    a = a.split(/,\s*/);
    for (var c = 0; c < a.length; c++) {
      var d = a[c].replace(/['"]/g, "");
      -1 != d.indexOf(" ") || /^\d/.test(d) ? b.push("'" + d + "'") : b.push(d)
    }
    return b.join(",")
  }

  function J(a) {
    return a.a + a.f
  }

  function H(a) {
    var b = "normal";
    "o" === a.a ? b = "oblique" : "i" === a.a && (b = "italic");
    return b
  }

  function ga(a) {
    var b = 4, c = "n", d = null;
    a && ((d = a.match(/(normal|oblique|italic)/i)) && d[1] && (c = d[1].substr(0, 1).toLowerCase()), (d = a.match(/([1-9]00|normal|bold)/i)) && d[1] && (/bold/i.test(d[1]) ? b = 7 : /[1-9]00/.test(d[1]) && (b = parseInt(d[1].substr(0, 1), 10))));
    return c + b
  };

  function ha(a, b) {
    this.c = a;
    this.f = a.o.document.documentElement;
    this.h = b;
    this.a = new F("-");
    this.j = !1 !== b.events;
    this.g = !1 !== b.classes
  }

  function ia(a) {
    a.g && w(a.f, [a.a.c("wf", "loading")]);
    K(a, "loading")
  }

  function L(a) {
    if (a.g) {
      var b = y(a.f, a.a.c("wf", "active")), c = [], d = [a.a.c("wf", "loading")];
      b || c.push(a.a.c("wf", "inactive"));
      w(a.f, c, d)
    }
    K(a, "inactive")
  }

  function K(a, b, c) {
    if (a.j && a.h[b]) if (c) a.h[b](c.c, J(c)); else a.h[b]()
  };

  function ja() {
    this.c = {}
  }

  function ka(a, b, c) {
    var d = [], e;
    for (e in b) if (b.hasOwnProperty(e)) {
      var f = a.c[e];
      f && d.push(f(b[e], c))
    }
    return d
  };

  function M(a, b) {
    this.c = a;
    this.f = b;
    this.a = t(this.c, "span", {"aria-hidden": "true"}, this.f)
  }

  function N(a) {
    u(a.c, "body", a.a)
  }

  function O(a) {
    return "display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:" + I(a.c) + ";" + ("font-style:" + H(a) + ";font-weight:" + (a.f + "00") + ";")
  };

  function P(a, b, c, d, e, f) {
    this.g = a;
    this.j = b;
    this.a = d;
    this.c = c;
    this.f = e || 3E3;
    this.h = f || void 0
  }

  P.prototype.start = function () {
    var a = this.c.o.document, b = this, c = q(), d = new Promise(function (d, e) {
      function f() {
        q() - c >= b.f ? e() : a.fonts.load(fa(b.a), b.h).then(function (a) {
          1 <= a.length ? d() : setTimeout(f, 25)
        }, function () {
          e()
        })
      }

      f()
    }), e = null, f = new Promise(function (a, d) {
      e = setTimeout(d, b.f)
    });
    Promise.race([f, d]).then(function () {
      e && (clearTimeout(e), e = null);
      b.g(b.a)
    }, function () {
      b.j(b.a)
    })
  };

  function Q(a, b, c, d, e, f, g) {
    this.v = a;
    this.B = b;
    this.c = c;
    this.a = d;
    this.s = g || "BESbswy";
    this.f = {};
    this.w = e || 3E3;
    this.u = f || null;
    this.m = this.j = this.h = this.g = null;
    this.g = new M(this.c, this.s);
    this.h = new M(this.c, this.s);
    this.j = new M(this.c, this.s);
    this.m = new M(this.c, this.s);
    a = new G(this.a.c + ",serif", J(this.a));
    a = O(a);
    this.g.a.style.cssText = a;
    a = new G(this.a.c + ",sans-serif", J(this.a));
    a = O(a);
    this.h.a.style.cssText = a;
    a = new G("serif", J(this.a));
    a = O(a);
    this.j.a.style.cssText = a;
    a = new G("sans-serif", J(this.a));
    a =
      O(a);
    this.m.a.style.cssText = a;
    N(this.g);
    N(this.h);
    N(this.j);
    N(this.m)
  }

  var R = {D: "serif", C: "sans-serif"}, S = null;

  function T() {
    if (null === S) {
      var a = /AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);
      S = !!a && (536 > parseInt(a[1], 10) || 536 === parseInt(a[1], 10) && 11 >= parseInt(a[2], 10))
    }
    return S
  }

  Q.prototype.start = function () {
    this.f.serif = this.j.a.offsetWidth;
    this.f["sans-serif"] = this.m.a.offsetWidth;
    this.A = q();
    U(this)
  };

  function la(a, b, c) {
    for (var d in R) if (R.hasOwnProperty(d) && b === a.f[R[d]] && c === a.f[R[d]]) return !0;
    return !1
  }

  function U(a) {
    var b = a.g.a.offsetWidth, c = a.h.a.offsetWidth, d;
    (d = b === a.f.serif && c === a.f["sans-serif"]) || (d = T() && la(a, b, c));
    d ? q() - a.A >= a.w ? T() && la(a, b, c) && (null === a.u || a.u.hasOwnProperty(a.a.c)) ? V(a, a.v) : V(a, a.B) : ma(a) : V(a, a.v)
  }

  function ma(a) {
    setTimeout(p(function () {
      U(this)
    }, a), 50)
  }

  function V(a, b) {
    setTimeout(p(function () {
      v(this.g.a);
      v(this.h.a);
      v(this.j.a);
      v(this.m.a);
      b(this.a)
    }, a), 0)
  };

  function W(a, b, c) {
    this.c = a;
    this.a = b;
    this.f = 0;
    this.m = this.j = !1;
    this.s = c
  }

  var X = null;
  W.prototype.g = function (a) {
    var b = this.a;
    b.g && w(b.f, [b.a.c("wf", a.c, J(a).toString(), "active")], [b.a.c("wf", a.c, J(a).toString(), "loading"), b.a.c("wf", a.c, J(a).toString(), "inactive")]);
    K(b, "fontactive", a);
    this.m = !0;
    na(this)
  };
  W.prototype.h = function (a) {
    var b = this.a;
    if (b.g) {
      var c = y(b.f, b.a.c("wf", a.c, J(a).toString(), "active")), d = [],
        e = [b.a.c("wf", a.c, J(a).toString(), "loading")];
      c || d.push(b.a.c("wf", a.c, J(a).toString(), "inactive"));
      w(b.f, d, e)
    }
    K(b, "fontinactive", a);
    na(this)
  };

  function na(a) {
    0 == --a.f && a.j && (a.m ? (a = a.a, a.g && w(a.f, [a.a.c("wf", "active")], [a.a.c("wf", "loading"), a.a.c("wf", "inactive")]), K(a, "active")) : L(a.a))
  };

  function oa(a) {
    this.j = a;
    this.a = new ja;
    this.h = 0;
    this.f = this.g = !0
  }

  oa.prototype.load = function (a) {
    this.c = new ca(this.j, a.context || this.j);
    this.g = !1 !== a.events;
    this.f = !1 !== a.classes;
    pa(this, new ha(this.c, a), a)
  };

  function qa(a, b, c, d, e) {
    var f = 0 == --a.h;
    (a.f || a.g) && setTimeout(function () {
      var a = e || null, m = d || null || {};
      if (0 === c.length && f) L(b.a); else {
        b.f += c.length;
        f && (b.j = f);
        var h, l = [];
        for (h = 0; h < c.length; h++) {
          var k = c[h], n = m[k.c], r = b.a, x = k;
          r.g && w(r.f, [r.a.c("wf", x.c, J(x).toString(), "loading")]);
          K(r, "fontloading", x);
          r = null;
          if (null === X) if (window.FontFace) {
            var x = /Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),
              xa = /OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent) && /Apple/.exec(window.navigator.vendor);
            X = x ? 42 < parseInt(x[1], 10) : xa ? !1 : !0
          } else X = !1;
          X ? r = new P(p(b.g, b), p(b.h, b), b.c, k, b.s, n) : r = new Q(p(b.g, b), p(b.h, b), b.c, k, b.s, a, n);
          l.push(r)
        }
        for (h = 0; h < l.length; h++) l[h].start()
      }
    }, 0)
  }

  function pa(a, b, c) {
    var d = [], e = c.timeout;
    ia(b);
    var d = ka(a.a, c, a.c), f = new W(a.c, b, e);
    a.h = d.length;
    b = 0;
    for (c = d.length; b < c; b++) d[b].load(function (b, d, c) {
      qa(a, f, b, d, c)
    })
  };

  function ra(a, b) {
    this.c = a;
    this.a = b
  }

  ra.prototype.load = function (a) {
    function b() {
      if (f["__mti_fntLst" + d]) {
        var c = f["__mti_fntLst" + d](), e = [], h;
        if (c) for (var l = 0; l < c.length; l++) {
          var k = c[l].fontfamily;
          void 0 != c[l].fontStyle && void 0 != c[l].fontWeight ? (h = c[l].fontStyle + c[l].fontWeight, e.push(new G(k, h))) : e.push(new G(k))
        }
        a(e)
      } else setTimeout(function () {
        b()
      }, 50)
    }

    var c = this, d = c.a.projectId, e = c.a.version;
    if (d) {
      var f = c.c.o;
      A(this.c, (c.a.api || "https://fast.fonts.net/jsapi") + "/" + d + ".js" + (e ? "?v=" + e : ""), function (e) {
        e ? a([]) : (f["__MonotypeConfiguration__" +
        d] = function () {
          return c.a
        }, b())
      }).id = "__MonotypeAPIScript__" + d
    } else a([])
  };

  function sa(a, b) {
    this.c = a;
    this.a = b
  }

  sa.prototype.load = function (a) {
    var b, c, d = this.a.urls || [], e = this.a.families || [], f = this.a.testStrings || {}, g = new B;
    b = 0;
    for (c = d.length; b < c; b++) z(this.c, d[b], C(g));
    var m = [];
    b = 0;
    for (c = e.length; b < c; b++) if (d = e[b].split(":"), d[1]) for (var h = d[1].split(","), l = 0; l < h.length; l += 1) m.push(new G(d[0], h[l])); else m.push(new G(d[0]));
    E(g, function () {
      a(m, f)
    })
  };

  function ta(a, b) {
    a ? this.c = a : this.c = ua;
    this.a = [];
    this.f = [];
    this.g = b || ""
  }

  var ua = "https://fonts.googleapis.com/css";

  function va(a, b) {
    for (var c = b.length, d = 0; d < c; d++) {
      var e = b[d].split(":");
      3 == e.length && a.f.push(e.pop());
      var f = "";
      2 == e.length && "" != e[1] && (f = ":");
      a.a.push(e.join(f))
    }
  }

  function wa(a) {
    if (0 == a.a.length) throw Error("No fonts to load!");
    if (-1 != a.c.indexOf("kit=")) return a.c;
    for (var b = a.a.length, c = [], d = 0; d < b; d++) c.push(a.a[d].replace(/ /g, "+"));
    b = a.c + "?family=" + c.join("%7C");
    0 < a.f.length && (b += "&subset=" + a.f.join(","));
    0 < a.g.length && (b += "&text=" + encodeURIComponent(a.g));
    return b
  };

  function ya(a) {
    this.f = a;
    this.a = [];
    this.c = {}
  }

  var za = {
      latin: "BESbswy",
      "latin-ext": "\u00e7\u00f6\u00fc\u011f\u015f",
      cyrillic: "\u0439\u044f\u0416",
      greek: "\u03b1\u03b2\u03a3",
      khmer: "\u1780\u1781\u1782",
      Hanuman: "\u1780\u1781\u1782"
    }, Aa = {
      thin: "1",
      extralight: "2",
      "extra-light": "2",
      ultralight: "2",
      "ultra-light": "2",
      light: "3",
      regular: "4",
      book: "4",
      medium: "5",
      "semi-bold": "6",
      semibold: "6",
      "demi-bold": "6",
      demibold: "6",
      bold: "7",
      "extra-bold": "8",
      extrabold: "8",
      "ultra-bold": "8",
      ultrabold: "8",
      black: "9",
      heavy: "9",
      l: "3",
      r: "4",
      b: "7"
    }, Ba = {i: "i", italic: "i", n: "n", normal: "n"},
    Ca = /^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;

  function Da(a) {
    for (var b = a.f.length, c = 0; c < b; c++) {
      var d = a.f[c].split(":"), e = d[0].replace(/\+/g, " "), f = ["n4"];
      if (2 <= d.length) {
        var g;
        var m = d[1];
        g = [];
        if (m) for (var m = m.split(","), h = m.length, l = 0; l < h; l++) {
          var k;
          k = m[l];
          if (k.match(/^[\w-]+$/)) {
            var n = Ca.exec(k.toLowerCase());
            if (null == n) k = ""; else {
              k = n[2];
              k = null == k || "" == k ? "n" : Ba[k];
              n = n[1];
              if (null == n || "" == n) n = "4"; else var r = Aa[n], n = r ? r : isNaN(n) ? "4" : n.substr(0, 1);
              k = [k, n].join("")
            }
          } else k = "";
          k && g.push(k)
        }
        0 < g.length && (f = g);
        3 == d.length && (d = d[2], g = [], d = d ? d.split(",") :
          g, 0 < d.length && (d = za[d[0]]) && (a.c[e] = d))
      }
      a.c[e] || (d = za[e]) && (a.c[e] = d);
      for (d = 0; d < f.length; d += 1) a.a.push(new G(e, f[d]))
    }
  };

  function Ea(a, b) {
    this.c = a;
    this.a = b
  }

  var Fa = {Arimo: !0, Cousine: !0, Tinos: !0};
  Ea.prototype.load = function (a) {
    var b = new B, c = this.c, d = new ta(this.a.api, this.a.text), e = this.a.families;
    va(d, e);
    var f = new ya(e);
    Da(f);
    z(c, wa(d), C(b));
    E(b, function () {
      a(f.a, f.c, Fa)
    })
  };

  function Ga(a, b) {
    this.c = a;
    this.a = b
  }

  Ga.prototype.load = function (a) {
    var b = this.a.id, c = this.c.o;
    b ? A(this.c, (this.a.api || "https://use.typekit.net") + "/" + b + ".js", function (b) {
      if (b) a([]); else if (c.Typekit && c.Typekit.config && c.Typekit.config.fn) {
        b = c.Typekit.config.fn;
        for (var e = [], f = 0; f < b.length; f += 2) for (var g = b[f], m = b[f + 1], h = 0; h < m.length; h++) e.push(new G(g, m[h]));
        try {
          c.Typekit.load({events: !1, classes: !1, async: !0})
        } catch (l) {
        }
        a(e)
      }
    }, 2E3) : a([])
  };

  function Ha(a, b) {
    this.c = a;
    this.f = b;
    this.a = []
  }

  Ha.prototype.load = function (a) {
    var b = this.f.id, c = this.c.o, d = this;
    b ? (c.__webfontfontdeckmodule__ || (c.__webfontfontdeckmodule__ = {}), c.__webfontfontdeckmodule__[b] = function (b, c) {
      for (var g = 0, m = c.fonts.length; g < m; ++g) {
        var h = c.fonts[g];
        d.a.push(new G(h.name, ga("font-weight:" + h.weight + ";font-style:" + h.style)))
      }
      a(d.a)
    }, A(this.c, (this.f.api || "https://f.fontdeck.com/s/css/js/") + ea(this.c) + "/" + b + ".js", function (b) {
      b && a([])
    })) : a([])
  };
  var Y = new oa(window);
  Y.a.c.custom = function (a, b) {
    return new sa(b, a)
  };
  Y.a.c.fontdeck = function (a, b) {
    return new Ha(b, a)
  };
  Y.a.c.monotype = function (a, b) {
    return new ra(b, a)
  };
  Y.a.c.typekit = function (a, b) {
    return new Ga(b, a)
  };
  Y.a.c.google = function (a, b) {
    return new Ea(b, a)
  };
  var Z = {load: p(Y.load, Y)};
  "function" === typeof define && define.amd ? define(function () {
    return Z
  }) : "undefined" !== typeof module && module.exports ? module.exports = Z : (window.WebFont = Z, window.WebFontConfig && Y.load(window.WebFontConfig));
}());

/* Web Font Loader v1.6.28 - (c) Adobe Systems, Google. License: Apache 2.0 */
(function () {
  function aa(a, b, c) {
    return a.call.apply(a.bind, arguments)
  }

  function ba(a, b, c) {
    if (!a) throw Error();
    if (2 < arguments.length) {
      var d = Array.prototype.slice.call(arguments, 2);
      return function () {
        var c = Array.prototype.slice.call(arguments);
        Array.prototype.unshift.apply(c, d);
        return a.apply(b, c)
      }
    }
    return function () {
      return a.apply(b, arguments)
    }
  }

  function p(a, b, c) {
    p = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? aa : ba;
    return p.apply(null, arguments)
  }

  var q = Date.now || function () {
    return +new Date
  };

  function ca(a, b) {
    this.a = a;
    this.o = b || a;
    this.c = this.o.document
  }

  var da = !!window.FontFace;

  function t(a, b, c, d) {
    b = a.c.createElement(b);
    if (c) for (var e in c) c.hasOwnProperty(e) && ("style" == e ? b.style.cssText = c[e] : b.setAttribute(e, c[e]));
    d && b.appendChild(a.c.createTextNode(d));
    return b
  }

  function u(a, b, c) {
    a = a.c.getElementsByTagName(b)[0];
    a || (a = document.documentElement);
    a.insertBefore(c, a.lastChild)
  }

  function v(a) {
    a.parentNode && a.parentNode.removeChild(a)
  }

  function w(a, b, c) {
    b = b || [];
    c = c || [];
    for (var d = a.className.split(/\s+/), e = 0; e < b.length; e += 1) {
      for (var f = !1, g = 0; g < d.length; g += 1) if (b[e] === d[g]) {
        f = !0;
        break
      }
      f || d.push(b[e])
    }
    b = [];
    for (e = 0; e < d.length; e += 1) {
      f = !1;
      for (g = 0; g < c.length; g += 1) if (d[e] === c[g]) {
        f = !0;
        break
      }
      f || b.push(d[e])
    }
    a.className = b.join(" ").replace(/\s+/g, " ").replace(/^\s+|\s+$/, "")
  }

  function y(a, b) {
    for (var c = a.className.split(/\s+/), d = 0, e = c.length; d < e; d++) if (c[d] == b) return !0;
    return !1
  }

  function ea(a) {
    return a.o.location.hostname || a.a.location.hostname
  }

  function z(a, b, c) {
    function d() {
      m && e && f && (m(g), m = null)
    }

    b = t(a, "link", {rel: "stylesheet", href: b, media: "all"});
    var e = !1, f = !0, g = null, m = c || null;
    da ? (b.onload = function () {
      e = !0;
      d()
    }, b.onerror = function () {
      e = !0;
      g = Error("Stylesheet failed to load");
      d()
    }) : setTimeout(function () {
      e = !0;
      d()
    }, 0);
    u(a, "head", b)
  }

  function A(a, b, c, d) {
    var e = a.c.getElementsByTagName("head")[0];
    if (e) {
      var f = t(a, "script", {src: b}), g = !1;
      f.onload = f.onreadystatechange = function () {
        g || this.readyState && "loaded" != this.readyState && "complete" != this.readyState || (g = !0, c && c(null), f.onload = f.onreadystatechange = null, "HEAD" == f.parentNode.tagName && e.removeChild(f))
      };
      e.appendChild(f);
      setTimeout(function () {
        g || (g = !0, c && c(Error("Script load timeout")))
      }, d || 5E3);
      return f
    }
    return null
  };

  function B() {
    this.a = 0;
    this.c = null
  }

  function C(a) {
    a.a++;
    return function () {
      a.a--;
      D(a)
    }
  }

  function E(a, b) {
    a.c = b;
    D(a)
  }

  function D(a) {
    0 == a.a && a.c && (a.c(), a.c = null)
  };

  function F(a) {
    this.a = a || "-"
  }

  F.prototype.c = function (a) {
    for (var b = [], c = 0; c < arguments.length; c++) b.push(arguments[c].replace(/[\W_]+/g, "").toLowerCase());
    return b.join(this.a)
  };

  function G(a, b) {
    this.c = a;
    this.f = 4;
    this.a = "n";
    var c = (b || "n4").match(/^([nio])([1-9])$/i);
    c && (this.a = c[1], this.f = parseInt(c[2], 10))
  }

  function fa(a) {
    return H(a) + " " + (a.f + "00") + " 300px " + I(a.c)
  }

  function I(a) {
    var b = [];
    a = a.split(/,\s*/);
    for (var c = 0; c < a.length; c++) {
      var d = a[c].replace(/['"]/g, "");
      -1 != d.indexOf(" ") || /^\d/.test(d) ? b.push("'" + d + "'") : b.push(d)
    }
    return b.join(",")
  }

  function J(a) {
    return a.a + a.f
  }

  function H(a) {
    var b = "normal";
    "o" === a.a ? b = "oblique" : "i" === a.a && (b = "italic");
    return b
  }

  function ga(a) {
    var b = 4, c = "n", d = null;
    a && ((d = a.match(/(normal|oblique|italic)/i)) && d[1] && (c = d[1].substr(0, 1).toLowerCase()), (d = a.match(/([1-9]00|normal|bold)/i)) && d[1] && (/bold/i.test(d[1]) ? b = 7 : /[1-9]00/.test(d[1]) && (b = parseInt(d[1].substr(0, 1), 10))));
    return c + b
  };

  function ha(a, b) {
    this.c = a;
    this.f = a.o.document.documentElement;
    this.h = b;
    this.a = new F("-");
    this.j = !1 !== b.events;
    this.g = !1 !== b.classes
  }

  function ia(a) {
    a.g && w(a.f, [a.a.c("wf", "loading")]);
    K(a, "loading")
  }

  function L(a) {
    if (a.g) {
      var b = y(a.f, a.a.c("wf", "active")), c = [], d = [a.a.c("wf", "loading")];
      b || c.push(a.a.c("wf", "inactive"));
      w(a.f, c, d)
    }
    K(a, "inactive")
  }

  function K(a, b, c) {
    if (a.j && a.h[b]) if (c) a.h[b](c.c, J(c)); else a.h[b]()
  };

  function ja() {
    this.c = {}
  }

  function ka(a, b, c) {
    var d = [], e;
    for (e in b) if (b.hasOwnProperty(e)) {
      var f = a.c[e];
      f && d.push(f(b[e], c))
    }
    return d
  };

  function M(a, b) {
    this.c = a;
    this.f = b;
    this.a = t(this.c, "span", {"aria-hidden": "true"}, this.f)
  }

  function N(a) {
    u(a.c, "body", a.a)
  }

  function O(a) {
    return "display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:" + I(a.c) + ";" + ("font-style:" + H(a) + ";font-weight:" + (a.f + "00") + ";")
  };

  function P(a, b, c, d, e, f) {
    this.g = a;
    this.j = b;
    this.a = d;
    this.c = c;
    this.f = e || 3E3;
    this.h = f || void 0
  }

  P.prototype.start = function () {
    var a = this.c.o.document, b = this, c = q(), d = new Promise(function (d, e) {
      function f() {
        q() - c >= b.f ? e() : a.fonts.load(fa(b.a), b.h).then(function (a) {
          1 <= a.length ? d() : setTimeout(f, 25)
        }, function () {
          e()
        })
      }

      f()
    }), e = null, f = new Promise(function (a, d) {
      e = setTimeout(d, b.f)
    });
    Promise.race([f, d]).then(function () {
      e && (clearTimeout(e), e = null);
      b.g(b.a)
    }, function () {
      b.j(b.a)
    })
  };

  function Q(a, b, c, d, e, f, g) {
    this.v = a;
    this.B = b;
    this.c = c;
    this.a = d;
    this.s = g || "BESbswy";
    this.f = {};
    this.w = e || 3E3;
    this.u = f || null;
    this.m = this.j = this.h = this.g = null;
    this.g = new M(this.c, this.s);
    this.h = new M(this.c, this.s);
    this.j = new M(this.c, this.s);
    this.m = new M(this.c, this.s);
    a = new G(this.a.c + ",serif", J(this.a));
    a = O(a);
    this.g.a.style.cssText = a;
    a = new G(this.a.c + ",sans-serif", J(this.a));
    a = O(a);
    this.h.a.style.cssText = a;
    a = new G("serif", J(this.a));
    a = O(a);
    this.j.a.style.cssText = a;
    a = new G("sans-serif", J(this.a));
    a =
      O(a);
    this.m.a.style.cssText = a;
    N(this.g);
    N(this.h);
    N(this.j);
    N(this.m)
  }

  var R = {D: "serif", C: "sans-serif"}, S = null;

  function T() {
    if (null === S) {
      var a = /AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);
      S = !!a && (536 > parseInt(a[1], 10) || 536 === parseInt(a[1], 10) && 11 >= parseInt(a[2], 10))
    }
    return S
  }

  Q.prototype.start = function () {
    this.f.serif = this.j.a.offsetWidth;
    this.f["sans-serif"] = this.m.a.offsetWidth;
    this.A = q();
    U(this)
  };

  function la(a, b, c) {
    for (var d in R) if (R.hasOwnProperty(d) && b === a.f[R[d]] && c === a.f[R[d]]) return !0;
    return !1
  }

  function U(a) {
    var b = a.g.a.offsetWidth, c = a.h.a.offsetWidth, d;
    (d = b === a.f.serif && c === a.f["sans-serif"]) || (d = T() && la(a, b, c));
    d ? q() - a.A >= a.w ? T() && la(a, b, c) && (null === a.u || a.u.hasOwnProperty(a.a.c)) ? V(a, a.v) : V(a, a.B) : ma(a) : V(a, a.v)
  }

  function ma(a) {
    setTimeout(p(function () {
      U(this)
    }, a), 50)
  }

  function V(a, b) {
    setTimeout(p(function () {
      v(this.g.a);
      v(this.h.a);
      v(this.j.a);
      v(this.m.a);
      b(this.a)
    }, a), 0)
  };

  function W(a, b, c) {
    this.c = a;
    this.a = b;
    this.f = 0;
    this.m = this.j = !1;
    this.s = c
  }

  var X = null;
  W.prototype.g = function (a) {
    var b = this.a;
    b.g && w(b.f, [b.a.c("wf", a.c, J(a).toString(), "active")], [b.a.c("wf", a.c, J(a).toString(), "loading"), b.a.c("wf", a.c, J(a).toString(), "inactive")]);
    K(b, "fontactive", a);
    this.m = !0;
    na(this)
  };
  W.prototype.h = function (a) {
    var b = this.a;
    if (b.g) {
      var c = y(b.f, b.a.c("wf", a.c, J(a).toString(), "active")), d = [],
        e = [b.a.c("wf", a.c, J(a).toString(), "loading")];
      c || d.push(b.a.c("wf", a.c, J(a).toString(), "inactive"));
      w(b.f, d, e)
    }
    K(b, "fontinactive", a);
    na(this)
  };

  function na(a) {
    0 == --a.f && a.j && (a.m ? (a = a.a, a.g && w(a.f, [a.a.c("wf", "active")], [a.a.c("wf", "loading"), a.a.c("wf", "inactive")]), K(a, "active")) : L(a.a))
  };

  function oa(a) {
    this.j = a;
    this.a = new ja;
    this.h = 0;
    this.f = this.g = !0
  }

  oa.prototype.load = function (a) {
    this.c = new ca(this.j, a.context || this.j);
    this.g = !1 !== a.events;
    this.f = !1 !== a.classes;
    pa(this, new ha(this.c, a), a)
  };

  function qa(a, b, c, d, e) {
    var f = 0 == --a.h;
    (a.f || a.g) && setTimeout(function () {
      var a = e || null, m = d || null || {};
      if (0 === c.length && f) L(b.a); else {
        b.f += c.length;
        f && (b.j = f);
        var h, l = [];
        for (h = 0; h < c.length; h++) {
          var k = c[h], n = m[k.c], r = b.a, x = k;
          r.g && w(r.f, [r.a.c("wf", x.c, J(x).toString(), "loading")]);
          K(r, "fontloading", x);
          r = null;
          if (null === X) if (window.FontFace) {
            var x = /Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),
              xa = /OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent) && /Apple/.exec(window.navigator.vendor);
            X = x ? 42 < parseInt(x[1], 10) : xa ? !1 : !0
          } else X = !1;
          X ? r = new P(p(b.g, b), p(b.h, b), b.c, k, b.s, n) : r = new Q(p(b.g, b), p(b.h, b), b.c, k, b.s, a, n);
          l.push(r)
        }
        for (h = 0; h < l.length; h++) l[h].start()
      }
    }, 0)
  }

  function pa(a, b, c) {
    var d = [], e = c.timeout;
    ia(b);
    var d = ka(a.a, c, a.c), f = new W(a.c, b, e);
    a.h = d.length;
    b = 0;
    for (c = d.length; b < c; b++) d[b].load(function (b, d, c) {
      qa(a, f, b, d, c)
    })
  };

  function ra(a, b) {
    this.c = a;
    this.a = b
  }

  ra.prototype.load = function (a) {
    function b() {
      if (f["__mti_fntLst" + d]) {
        var c = f["__mti_fntLst" + d](), e = [], h;
        if (c) for (var l = 0; l < c.length; l++) {
          var k = c[l].fontfamily;
          void 0 != c[l].fontStyle && void 0 != c[l].fontWeight ? (h = c[l].fontStyle + c[l].fontWeight, e.push(new G(k, h))) : e.push(new G(k))
        }
        a(e)
      } else setTimeout(function () {
        b()
      }, 50)
    }

    var c = this, d = c.a.projectId, e = c.a.version;
    if (d) {
      var f = c.c.o;
      A(this.c, (c.a.api || "https://fast.fonts.net/jsapi") + "/" + d + ".js" + (e ? "?v=" + e : ""), function (e) {
        e ? a([]) : (f["__MonotypeConfiguration__" +
        d] = function () {
          return c.a
        }, b())
      }).id = "__MonotypeAPIScript__" + d
    } else a([])
  };

  function sa(a, b) {
    this.c = a;
    this.a = b
  }

  sa.prototype.load = function (a) {
    var b, c, d = this.a.urls || [], e = this.a.families || [], f = this.a.testStrings || {}, g = new B;
    b = 0;
    for (c = d.length; b < c; b++) z(this.c, d[b], C(g));
    var m = [];
    b = 0;
    for (c = e.length; b < c; b++) if (d = e[b].split(":"), d[1]) for (var h = d[1].split(","), l = 0; l < h.length; l += 1) m.push(new G(d[0], h[l])); else m.push(new G(d[0]));
    E(g, function () {
      a(m, f)
    })
  };

  function ta(a, b) {
    a ? this.c = a : this.c = ua;
    this.a = [];
    this.f = [];
    this.g = b || ""
  }

  var ua = "https://fonts.googleapis.com/css";

  function va(a, b) {
    for (var c = b.length, d = 0; d < c; d++) {
      var e = b[d].split(":");
      3 == e.length && a.f.push(e.pop());
      var f = "";
      2 == e.length && "" != e[1] && (f = ":");
      a.a.push(e.join(f))
    }
  }

  function wa(a) {
    if (0 == a.a.length) throw Error("No fonts to load!");
    if (-1 != a.c.indexOf("kit=")) return a.c;
    for (var b = a.a.length, c = [], d = 0; d < b; d++) c.push(a.a[d].replace(/ /g, "+"));
    b = a.c + "?family=" + c.join("%7C");
    0 < a.f.length && (b += "&subset=" + a.f.join(","));
    0 < a.g.length && (b += "&text=" + encodeURIComponent(a.g));
    return b
  };

  function ya(a) {
    this.f = a;
    this.a = [];
    this.c = {}
  }

  var za = {
      latin: "BESbswy",
      "latin-ext": "\u00e7\u00f6\u00fc\u011f\u015f",
      cyrillic: "\u0439\u044f\u0416",
      greek: "\u03b1\u03b2\u03a3",
      khmer: "\u1780\u1781\u1782",
      Hanuman: "\u1780\u1781\u1782"
    }, Aa = {
      thin: "1",
      extralight: "2",
      "extra-light": "2",
      ultralight: "2",
      "ultra-light": "2",
      light: "3",
      regular: "4",
      book: "4",
      medium: "5",
      "semi-bold": "6",
      semibold: "6",
      "demi-bold": "6",
      demibold: "6",
      bold: "7",
      "extra-bold": "8",
      extrabold: "8",
      "ultra-bold": "8",
      ultrabold: "8",
      black: "9",
      heavy: "9",
      l: "3",
      r: "4",
      b: "7"
    }, Ba = {i: "i", italic: "i", n: "n", normal: "n"},
    Ca = /^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;

  function Da(a) {
    for (var b = a.f.length, c = 0; c < b; c++) {
      var d = a.f[c].split(":"), e = d[0].replace(/\+/g, " "), f = ["n4"];
      if (2 <= d.length) {
        var g;
        var m = d[1];
        g = [];
        if (m) for (var m = m.split(","), h = m.length, l = 0; l < h; l++) {
          var k;
          k = m[l];
          if (k.match(/^[\w-]+$/)) {
            var n = Ca.exec(k.toLowerCase());
            if (null == n) k = ""; else {
              k = n[2];
              k = null == k || "" == k ? "n" : Ba[k];
              n = n[1];
              if (null == n || "" == n) n = "4"; else var r = Aa[n], n = r ? r : isNaN(n) ? "4" : n.substr(0, 1);
              k = [k, n].join("")
            }
          } else k = "";
          k && g.push(k)
        }
        0 < g.length && (f = g);
        3 == d.length && (d = d[2], g = [], d = d ? d.split(",") :
          g, 0 < d.length && (d = za[d[0]]) && (a.c[e] = d))
      }
      a.c[e] || (d = za[e]) && (a.c[e] = d);
      for (d = 0; d < f.length; d += 1) a.a.push(new G(e, f[d]))
    }
  };

  function Ea(a, b) {
    this.c = a;
    this.a = b
  }

  var Fa = {Arimo: !0, Cousine: !0, Tinos: !0};
  Ea.prototype.load = function (a) {
    var b = new B, c = this.c, d = new ta(this.a.api, this.a.text), e = this.a.families;
    va(d, e);
    var f = new ya(e);
    Da(f);
    z(c, wa(d), C(b));
    E(b, function () {
      a(f.a, f.c, Fa)
    })
  };

  function Ga(a, b) {
    this.c = a;
    this.a = b
  }

  Ga.prototype.load = function (a) {
    var b = this.a.id, c = this.c.o;
    b ? A(this.c, (this.a.api || "https://use.typekit.net") + "/" + b + ".js", function (b) {
      if (b) a([]); else if (c.Typekit && c.Typekit.config && c.Typekit.config.fn) {
        b = c.Typekit.config.fn;
        for (var e = [], f = 0; f < b.length; f += 2) for (var g = b[f], m = b[f + 1], h = 0; h < m.length; h++) e.push(new G(g, m[h]));
        try {
          c.Typekit.load({events: !1, classes: !1, async: !0})
        } catch (l) {
        }
        a(e)
      }
    }, 2E3) : a([])
  };

  function Ha(a, b) {
    this.c = a;
    this.f = b;
    this.a = []
  }

  Ha.prototype.load = function (a) {
    var b = this.f.id, c = this.c.o, d = this;
    b ? (c.__webfontfontdeckmodule__ || (c.__webfontfontdeckmodule__ = {}), c.__webfontfontdeckmodule__[b] = function (b, c) {
      for (var g = 0, m = c.fonts.length; g < m; ++g) {
        var h = c.fonts[g];
        d.a.push(new G(h.name, ga("font-weight:" + h.weight + ";font-style:" + h.style)))
      }
      a(d.a)
    }, A(this.c, (this.f.api || "https://f.fontdeck.com/s/css/js/") + ea(this.c) + "/" + b + ".js", function (b) {
      b && a([])
    })) : a([])
  };
  var Y = new oa(window);
  Y.a.c.custom = function (a, b) {
    return new sa(b, a)
  };
  Y.a.c.fontdeck = function (a, b) {
    return new Ha(b, a)
  };
  Y.a.c.monotype = function (a, b) {
    return new ra(b, a)
  };
  Y.a.c.typekit = function (a, b) {
    return new Ga(b, a)
  };
  Y.a.c.google = function (a, b) {
    return new Ea(b, a)
  };
  var Z = {load: p(Y.load, Y)};
  "function" === typeof define && define.amd ? define(function () {
    return Z
  }) : "undefined" !== typeof module && module.exports ? module.exports = Z : (window.WebFont = Z, window.WebFontConfig && Y.load(window.WebFontConfig));
}());

/*! Raven.js 3.19.1 (fee3771) | github.com/getsentry/raven-js */
!function (a) {
  if ("object" == typeof exports && "undefined" != typeof module) module.exports = a(); else if ("function" == typeof define && define.amd) define([], a); else {
    var b;
    b = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, b.Raven = a()
  }
}(function () {
  return function a(b, c, d) {
    function e(g, h) {
      if (!c[g]) {
        if (!b[g]) {
          var i = "function" == typeof require && require;
          if (!h && i) return i(g, !0);
          if (f) return f(g, !0);
          var j = new Error("Cannot find module '" + g + "'");
          throw j.code = "MODULE_NOT_FOUND", j
        }
        var k = c[g] = {exports: {}};
        b[g][0].call(k.exports, function (a) {
          var c = b[g][1][a];
          return e(c ? c : a)
        }, k, k.exports, a, b, c, d)
      }
      return c[g].exports
    }

    for (var f = "function" == typeof require && require, g = 0; g < d.length; g++) e(d[g]);
    return e
  }({
    1: [function (a, b, c) {
      function d(a) {
        this.name = "RavenConfigError", this.message = a
      }

      d.prototype = new Error, d.prototype.constructor = d, b.exports = d
    }, {}], 2: [function (a, b, c) {
      var d = function (a, b, c) {
        var d = a[b], e = a;
        if (b in a) {
          var f = "warn" === b ? "warning" : b;
          a[b] = function () {
            var a = [].slice.call(arguments), g = "" + a.join(" "),
              h = {level: f, logger: "console", extra: {arguments: a}};
            "assert" === b ? a[0] === !1 && (g = "Assertion failed: " + (a.slice(1).join(" ") || "console.assert"), h.extra.arguments = a.slice(1), c && c(g, h)) : c && c(g, h), d && Function.prototype.apply.call(d, e, a)
          }
        }
      };
      b.exports = {wrapMethod: d}
    }, {}], 3: [function (a, b, c) {
      (function (c) {
        function d() {
          return +new Date
        }

        function e(a, b) {
          return o(b) ? function (c) {
            return b(c, a)
          } : b
        }

        function f() {
          this.a = !("object" != typeof JSON || !JSON.stringify), this.b = !n(I), this.c = !n(J), this.d = null, this.e = null, this.f = null, this.g = null, this.h = null, this.i = null, this.j = {}, this.k = {
            logger: "javascript",
            ignoreErrors: [],
            ignoreUrls: [],
            whitelistUrls: [],
            includePaths: [],
            collectWindowErrors: !0,
            maxMessageLength: 0,
            maxUrlLength: 250,
            stackTraceLimit: 50,
            autoBreadcrumbs: !0,
            instrument: !0,
            sampleRate: 1
          }, this.l = 0, this.m = !1, this.n = Error.stackTraceLimit, this.o = H.console || {}, this.p = {}, this.q = [], this.r = d(), this.s = [], this.t = [], this.u = null, this.v = H.location, this.w = this.v && this.v.href, this.x();
          for (var a in this.o) this.p[a] = this.o[a]
        }

        var g = a(6), h = a(7), i = a(1), j = a(5), k = j.isError, l = j.isObject, l = j.isObject, m = j.isErrorEvent,
          n = j.isUndefined, o = j.isFunction, p = j.isString, q = j.isEmptyObject, r = j.each, s = j.objectMerge,
          t = j.truncate, u = j.objectFrozen, v = j.hasKey, w = j.joinRegExp, x = j.urlencode, y = j.uuid4,
          z = j.htmlTreeAsString, A = j.isSameException, B = j.isSameStacktrace, C = j.parseUrl, D = j.fill,
          E = a(2).wrapMethod, F = "source protocol user pass host port path".split(" "),
          G = /^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,
          H = "undefined" != typeof window ? window : "undefined" != typeof c ? c : "undefined" != typeof self ? self : {},
          I = H.document, J = H.navigator;
        f.prototype = {
          VERSION: "3.19.1", debug: !1, TraceKit: g, config: function (a, b) {
            var c = this;
            if (c.g) return this.y("error", "Error: Raven has already been configured"), c;
            if (!a) return c;
            var d = c.k;
            b && r(b, function (a, b) {
              "tags" === a || "extra" === a || "user" === a ? c.j[a] = b : d[a] = b
            }), c.setDSN(a), d.ignoreErrors.push(/^Script error\.?$/), d.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/), d.ignoreErrors = w(d.ignoreErrors), d.ignoreUrls = !!d.ignoreUrls.length && w(d.ignoreUrls), d.whitelistUrls = !!d.whitelistUrls.length && w(d.whitelistUrls), d.includePaths = w(d.includePaths), d.maxBreadcrumbs = Math.max(0, Math.min(d.maxBreadcrumbs || 100, 100));
            var e = {xhr: !0, console: !0, dom: !0, location: !0}, f = d.autoBreadcrumbs;
            "[object Object]" === {}.toString.call(f) ? f = s(e, f) : f !== !1 && (f = e), d.autoBreadcrumbs = f;
            var h = {tryCatch: !0}, i = d.instrument;
            return "[object Object]" === {}.toString.call(i) ? i = s(h, i) : i !== !1 && (i = h), d.instrument = i, g.collectWindowErrors = !!d.collectWindowErrors, c
          }, install: function () {
            var a = this;
            return a.isSetup() && !a.m && (g.report.subscribe(function () {
              a.z.apply(a, arguments)
            }), a.k.instrument && a.k.instrument.tryCatch && a.A(), a.k.autoBreadcrumbs && a.B(), a.C(), a.m = !0), Error.stackTraceLimit = a.k.stackTraceLimit, this
          }, setDSN: function (a) {
            var b = this, c = b.D(a), d = c.path.lastIndexOf("/"), e = c.path.substr(1, d);
            b.E = a, b.h = c.user, b.F = c.pass && c.pass.substr(1), b.i = c.path.substr(d + 1), b.g = b.G(c), b.H = b.g + "/" + e + "api/" + b.i + "/store/", this.x()
          }, context: function (a, b, c) {
            return o(a) && (c = b || [], b = a, a = void 0), this.wrap(a, b).apply(this, c)
          }, wrap: function (a, b, c) {
            function d() {
              var d = [], f = arguments.length, g = !a || a && a.deep !== !1;
              for (c && o(c) && c.apply(this, arguments); f--;) d[f] = g ? e.wrap(a, arguments[f]) : arguments[f];
              try {
                return b.apply(this, d)
              } catch (h) {
                throw e.I(), e.captureException(h, a), h
              }
            }

            var e = this;
            if (n(b) && !o(a)) return a;
            if (o(a) && (b = a, a = void 0), !o(b)) return b;
            try {
              if (b.J) return b;
              if (b.K) return b.K
            } catch (f) {
              return b
            }
            for (var g in b) v(b, g) && (d[g] = b[g]);
            return d.prototype = b.prototype, b.K = d, d.J = !0, d.L = b, d
          }, uninstall: function () {
            return g.report.uninstall(), this.M(), Error.stackTraceLimit = this.n, this.m = !1, this
          }, captureException: function (a, b) {
            var c = !k(a), d = !m(a), e = m(a) && !a.error;
            if (c && d || e) return this.captureMessage(a, s({trimHeadFrames: 1, stacktrace: !0}, b));
            m(a) && (a = a.error), this.d = a;
            try {
              var f = g.computeStackTrace(a);
              this.N(f, b)
            } catch (h) {
              if (a !== h) throw h
            }
            return this
          }, captureMessage: function (a, b) {
            if (!this.k.ignoreErrors.test || !this.k.ignoreErrors.test(a)) {
              b = b || {};
              var c, d = s({message: a + ""}, b);
              try {
                throw new Error(a)
              } catch (e) {
                c = e
              }
              c.name = null;
              var f = g.computeStackTrace(c), h = f.stack[1], i = h && h.url || "";
              if ((!this.k.ignoreUrls.test || !this.k.ignoreUrls.test(i)) && (!this.k.whitelistUrls.test || this.k.whitelistUrls.test(i))) {
                if (this.k.stacktrace || b && b.stacktrace) {
                  b = s({fingerprint: a, trimHeadFrames: (b.trimHeadFrames || 0) + 1}, b);
                  var j = this.O(f, b);
                  d.stacktrace = {frames: j.reverse()}
                }
                return this.P(d), this
              }
            }
          }, captureBreadcrumb: function (a) {
            var b = s({timestamp: d() / 1e3}, a);
            if (o(this.k.breadcrumbCallback)) {
              var c = this.k.breadcrumbCallback(b);
              if (l(c) && !q(c)) b = c; else if (c === !1) return this
            }
            return this.t.push(b), this.t.length > this.k.maxBreadcrumbs && this.t.shift(), this
          }, addPlugin: function (a) {
            var b = [].slice.call(arguments, 1);
            return this.q.push([a, b]), this.m && this.C(), this
          }, setUserContext: function (a) {
            return this.j.user = a, this
          }, setExtraContext: function (a) {
            return this.Q("extra", a), this
          }, setTagsContext: function (a) {
            return this.Q("tags", a), this
          }, clearContext: function () {
            return this.j = {}, this
          }, getContext: function () {
            return JSON.parse(h(this.j))
          }, setEnvironment: function (a) {
            return this.k.environment = a, this
          }, setRelease: function (a) {
            return this.k.release = a, this
          }, setDataCallback: function (a) {
            var b = this.k.dataCallback;
            return this.k.dataCallback = e(b, a), this
          }, setBreadcrumbCallback: function (a) {
            var b = this.k.breadcrumbCallback;
            return this.k.breadcrumbCallback = e(b, a), this
          }, setShouldSendCallback: function (a) {
            var b = this.k.shouldSendCallback;
            return this.k.shouldSendCallback = e(b, a), this
          }, setTransport: function (a) {
            return this.k.transport = a, this
          }, lastException: function () {
            return this.d
          }, lastEventId: function () {
            return this.f
          }, isSetup: function () {
            return !!this.a && (!!this.g || (this.ravenNotConfiguredError || (this.ravenNotConfiguredError = !0, this.y("error", "Error: Raven has not been configured.")), !1))
          }, afterLoad: function () {
            var a = H.RavenConfig;
            a && this.config(a.dsn, a.config).install()
          }, showReportDialog: function (a) {
            if (I) {
              a = a || {};
              var b = a.eventId || this.lastEventId();
              if (!b) throw new i("Missing eventId");
              var c = a.dsn || this.E;
              if (!c) throw new i("Missing DSN");
              var d = encodeURIComponent, e = "";
              e += "?eventId=" + d(b), e += "&dsn=" + d(c);
              var f = a.user || this.j.user;
              f && (f.name && (e += "&name=" + d(f.name)), f.email && (e += "&email=" + d(f.email)));
              var g = this.G(this.D(c)), h = I.createElement("script");
              h.async = !0, h.src = g + "/api/embed/error-page/" + e, (I.head || I.body).appendChild(h)
            }
          }, I: function () {
            var a = this;
            this.l += 1, setTimeout(function () {
              a.l -= 1
            })
          }, R: function (a, b) {
            var c, d;
            if (this.b) {
              b = b || {}, a = "raven" + a.substr(0, 1).toUpperCase() + a.substr(1), I.createEvent ? (c = I.createEvent("HTMLEvents"), c.initEvent(a, !0, !0)) : (c = I.createEventObject(), c.eventType = a);
              for (d in b) v(b, d) && (c[d] = b[d]);
              if (I.createEvent) I.dispatchEvent(c); else try {
                I.fireEvent("on" + c.eventType.toLowerCase(), c)
              } catch (e) {
              }
            }
          }, S: function (a) {
            var b = this;
            return function (c) {
              if (b.T = null, b.u !== c) {
                b.u = c;
                var d;
                try {
                  d = z(c.target)
                } catch (e) {
                  d = "<unknown>"
                }
                b.captureBreadcrumb({category: "ui." + a, message: d})
              }
            }
          }, U: function () {
            var a = this, b = 1e3;
            return function (c) {
              var d;
              try {
                d = c.target
              } catch (e) {
                return
              }
              var f = d && d.tagName;
              if (f && ("INPUT" === f || "TEXTAREA" === f || d.isContentEditable)) {
                var g = a.T;
                g || a.S("input")(c), clearTimeout(g), a.T = setTimeout(function () {
                  a.T = null
                }, b)
              }
            }
          }, V: function (a, b) {
            var c = C(this.v.href), d = C(b), e = C(a);
            this.w = b, c.protocol === d.protocol && c.host === d.host && (b = d.relative), c.protocol === e.protocol && c.host === e.host && (a = e.relative), this.captureBreadcrumb({
              category: "navigation",
              data: {to: b, from: a}
            })
          }, A: function () {
            function a(a) {
              return function (b, d) {
                for (var e = new Array(arguments.length), f = 0; f < e.length; ++f) e[f] = arguments[f];
                var g = e[0];
                return o(g) && (e[0] = c.wrap(g)), a.apply ? a.apply(this, e) : a(e[0], e[1])
              }
            }

            function b(a) {
              var b = H[a] && H[a].prototype;
              b && b.hasOwnProperty && b.hasOwnProperty("addEventListener") && (D(b, "addEventListener", function (b) {
                return function (d, f, g, h) {
                  try {
                    f && f.handleEvent && (f.handleEvent = c.wrap(f.handleEvent))
                  } catch (i) {
                  }
                  var j, k, l;
                  return e && e.dom && ("EventTarget" === a || "Node" === a) && (k = c.S("click"), l = c.U(), j = function (a) {
                    if (a) {
                      var b;
                      try {
                        b = a.type
                      } catch (c) {
                        return
                      }
                      return "click" === b ? k(a) : "keypress" === b ? l(a) : void 0
                    }
                  }), b.call(this, d, c.wrap(f, void 0, j), g, h)
                }
              }, d), D(b, "removeEventListener", function (a) {
                return function (b, c, d, e) {
                  try {
                    c = c && (c.K ? c.K : c)
                  } catch (f) {
                  }
                  return a.call(this, b, c, d, e)
                }
              }, d))
            }

            var c = this, d = c.s, e = this.k.autoBreadcrumbs;
            D(H, "setTimeout", a, d), D(H, "setInterval", a, d), H.requestAnimationFrame && D(H, "requestAnimationFrame", function (a) {
              return function (b) {
                return a(c.wrap(b))
              }
            }, d);
            for (var f = ["EventTarget", "Window", "Node", "ApplicationCache", "AudioTrackList", "ChannelMergerNode", "CryptoOperation", "EventSource", "FileReader", "HTMLUnknownElement", "IDBDatabase", "IDBRequest", "IDBTransaction", "KeyOperation", "MediaController", "MessagePort", "ModalWindow", "Notification", "SVGElementInstance", "Screen", "TextTrack", "TextTrackCue", "TextTrackList", "WebSocket", "WebSocketWorker", "Worker", "XMLHttpRequest", "XMLHttpRequestEventTarget", "XMLHttpRequestUpload"], g = 0; g < f.length; g++) b(f[g])
          }, B: function () {
            function a(a, c) {
              a in c && o(c[a]) && D(c, a, function (a) {
                return b.wrap(a)
              })
            }

            var b = this, c = this.k.autoBreadcrumbs, d = b.s;
            if (c.xhr && "XMLHttpRequest" in H) {
              var e = XMLHttpRequest.prototype;
              D(e, "open", function (a) {
                return function (c, d) {
                  return p(d) && d.indexOf(b.h) === -1 && (this.W = {
                    method: c,
                    url: d,
                    status_code: null
                  }), a.apply(this, arguments)
                }
              }, d), D(e, "send", function (c) {
                return function (d) {
                  function e() {
                    if (f.W && 4 === f.readyState) {
                      try {
                        f.W.status_code = f.status
                      } catch (a) {
                      }
                      b.captureBreadcrumb({type: "http", category: "xhr", data: f.W})
                    }
                  }

                  for (var f = this, g = ["onload", "onerror", "onprogress"], h = 0; h < g.length; h++) a(g[h], f);
                  return "onreadystatechange" in f && o(f.onreadystatechange) ? D(f, "onreadystatechange", function (a) {
                    return b.wrap(a, void 0, e)
                  }) : f.onreadystatechange = e, c.apply(this, arguments)
                }
              }, d)
            }
            c.xhr && "fetch" in H && D(H, "fetch", function (a) {
              return function (c, d) {
                for (var e = new Array(arguments.length), f = 0; f < e.length; ++f) e[f] = arguments[f];
                var g, h = e[0], i = "GET";
                "string" == typeof h ? g = h : "Request" in H && h instanceof H.Request ? (g = h.url, h.method && (i = h.method)) : g = "" + h, e[1] && e[1].method && (i = e[1].method);
                var j = {method: i, url: g, status_code: null};
                return b.captureBreadcrumb({
                  type: "http",
                  category: "fetch",
                  data: j
                }), a.apply(this, e).then(function (a) {
                  return j.status_code = a.status, a
                })
              }
            }, d), c.dom && this.b && (I.addEventListener ? (I.addEventListener("click", b.S("click"), !1), I.addEventListener("keypress", b.U(), !1)) : (I.attachEvent("onclick", b.S("click")), I.attachEvent("onkeypress", b.U())));
            var f = H.chrome, g = f && f.app && f.app.runtime,
              h = !g && H.history && history.pushState && history.replaceState;
            if (c.location && h) {
              var i = H.onpopstate;
              H.onpopstate = function () {
                var a = b.v.href;
                if (b.V(b.w, a), i) return i.apply(this, arguments)
              };
              var j = function (a) {
                return function () {
                  var c = arguments.length > 2 ? arguments[2] : void 0;
                  return c && b.V(b.w, c + ""), a.apply(this, arguments)
                }
              };
              D(history, "pushState", j, d), D(history, "replaceState", j, d)
            }
            if (c.console && "console" in H && console.log) {
              var k = function (a, c) {
                b.captureBreadcrumb({message: a, level: c.level, category: "console"})
              };
              r(["debug", "info", "warn", "error", "log"], function (a, b) {
                E(console, b, k)
              })
            }
          }, M: function () {
            for (var a; this.s.length;) {
              a = this.s.shift();
              var b = a[0], c = a[1], d = a[2];
              b[c] = d
            }
          }, C: function () {
            var a = this;
            r(this.q, function (b, c) {
              var d = c[0], e = c[1];
              d.apply(a, [a].concat(e))
            })
          }, D: function (a) {
            var b = G.exec(a), c = {}, d = 7;
            try {
              for (; d--;) c[F[d]] = b[d] || ""
            } catch (e) {
              throw new i("Invalid DSN: " + a)
            }
            if (c.pass && !this.k.allowSecretKey) throw new i("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");
            return c
          }, G: function (a) {
            var b = "//" + a.host + (a.port ? ":" + a.port : "");
            return a.protocol && (b = a.protocol + ":" + b), b
          }, z: function () {
            this.l || this.N.apply(this, arguments)
          }, N: function (a, b) {
            var c = this.O(a, b);
            this.R("handle", {stackInfo: a, options: b}), this.X(a.name, a.message, a.url, a.lineno, c, b)
          }, O: function (a, b) {
            var c = this, d = [];
            if (a.stack && a.stack.length && (r(a.stack, function (b, e) {
              var f = c.Y(e, a.url);
              f && d.push(f)
            }), b && b.trimHeadFrames)) for (var e = 0; e < b.trimHeadFrames && e < d.length; e++) d[e].in_app = !1;
            return d = d.slice(0, this.k.stackTraceLimit)
          }, Y: function (a, b) {
            var c = {filename: a.url, lineno: a.line, colno: a.column, "function": a.func || "?"};
            return a.url || (c.filename = b), c.in_app = !(this.k.includePaths.test && !this.k.includePaths.test(c.filename) || /(Raven|TraceKit)\./.test(c["function"]) || /raven\.(min\.)?js$/.test(c.filename)), c
          }, X: function (a, b, c, d, e, f) {
            var g = (a ? a + ": " : "") + (b || "");
            if (!this.k.ignoreErrors.test || !this.k.ignoreErrors.test(b) && !this.k.ignoreErrors.test(g)) {
              var h;
              if (e && e.length ? (c = e[0].filename || c, e.reverse(), h = {frames: e}) : c && (h = {
                frames: [{
                  filename: c,
                  lineno: d,
                  in_app: !0
                }]
              }), (!this.k.ignoreUrls.test || !this.k.ignoreUrls.test(c)) && (!this.k.whitelistUrls.test || this.k.whitelistUrls.test(c))) {
                var i = s({exception: {values: [{type: a, value: b, stacktrace: h}]}, culprit: c}, f);
                this.P(i)
              }
            }
          }, Z: function (a) {
            var b = this.k.maxMessageLength;
            if (a.message && (a.message = t(a.message, b)), a.exception) {
              var c = a.exception.values[0];
              c.value = t(c.value, b)
            }
            var d = a.request;
            return d && (d.url && (d.url = t(d.url, this.k.maxUrlLength)), d.Referer && (d.Referer = t(d.Referer, this.k.maxUrlLength))), a.breadcrumbs && a.breadcrumbs.values && this.$(a.breadcrumbs), a
          }, $: function (a) {
            for (var b, c, d, e = ["to", "from", "url"], f = 0; f < a.values.length; ++f) if (c = a.values[f], c.hasOwnProperty("data") && l(c.data) && !u(c.data)) {
              d = s({}, c.data);
              for (var g = 0; g < e.length; ++g) b = e[g], d.hasOwnProperty(b) && d[b] && (d[b] = t(d[b], this.k.maxUrlLength));
              a.values[f].data = d
            }
          }, _: function () {
            if (this.c || this.b) {
              var a = {};
              return this.c && J.userAgent && (a.headers = {"User-Agent": navigator.userAgent}), this.b && (I.location && I.location.href && (a.url = I.location.href), I.referrer && (a.headers || (a.headers = {}), a.headers.Referer = I.referrer)), a
            }
          }, x: function () {
            this.aa = 0, this.ba = null
          }, ca: function () {
            return this.aa && d() - this.ba < this.aa
          }, da: function (a) {
            var b = this.e;
            return !(!b || a.message !== b.message || a.culprit !== b.culprit) && (a.stacktrace || b.stacktrace ? B(a.stacktrace, b.stacktrace) : !a.exception && !b.exception || A(a.exception, b.exception))
          }, ea: function (a) {
            if (!this.ca()) {
              var b = a.status;
              if (400 === b || 401 === b || 429 === b) {
                var c;
                try {
                  c = a.getResponseHeader("Retry-After"), c = 1e3 * parseInt(c, 10)
                } catch (e) {
                }
                this.aa = c ? c : 2 * this.aa || 1e3, this.ba = d()
              }
            }
          }, P: function (a) {
            var b = this.k, c = {project: this.i, logger: b.logger, platform: "javascript"}, e = this._();
            if (e && (c.request = e), a.trimHeadFrames && delete a.trimHeadFrames, a = s(c, a), a.tags = s(s({}, this.j.tags), a.tags), a.extra = s(s({}, this.j.extra), a.extra), a.extra["session:duration"] = d() - this.r, this.t && this.t.length > 0 && (a.breadcrumbs = {values: [].slice.call(this.t, 0)}), q(a.tags) && delete a.tags, this.j.user && (a.user = this.j.user), b.environment && (a.environment = b.environment), b.release && (a.release = b.release), b.serverName && (a.server_name = b.serverName), o(b.dataCallback) && (a = b.dataCallback(a) || a), a && !q(a) && (!o(b.shouldSendCallback) || b.shouldSendCallback(a))) return this.ca() ? void this.y("warn", "Raven dropped error due to backoff: ", a) : void ("number" == typeof b.sampleRate ? Math.random() < b.sampleRate && this.fa(a) : this.fa(a))
          }, ga: function () {
            return y()
          }, fa: function (a, b) {
            var c = this, d = this.k;
            if (this.isSetup()) {
              if (a = this.Z(a), !this.k.allowDuplicates && this.da(a)) return void this.y("warn", "Raven dropped repeat event: ", a);
              this.f = a.event_id || (a.event_id = this.ga()), this.e = a, this.y("debug", "Raven about to send:", a);
              var e = {sentry_version: "7", sentry_client: "raven-js/" + this.VERSION, sentry_key: this.h};
              this.F && (e.sentry_secret = this.F);
              var f = a.exception && a.exception.values[0];
              this.captureBreadcrumb({
                category: "sentry",
                message: f ? (f.type ? f.type + ": " : "") + f.value : a.message,
                event_id: a.event_id,
                level: a.level || "error"
              });
              var g = this.H;
              (d.transport || this.ha).call(this, {
                url: g, auth: e, data: a, options: d, onSuccess: function () {
                  c.x(), c.R("success", {data: a, src: g}), b && b()
                }, onError: function (d) {
                  c.y("error", "Raven transport failed to send: ", d), d.request && c.ea(d.request), c.R("failure", {
                    data: a,
                    src: g
                  }), d = d || new Error("Raven send failed (no additional details provided)"), b && b(d)
                }
              })
            }
          }, ha: function (a) {
            var b = H.XMLHttpRequest && new H.XMLHttpRequest;
            if (b) {
              var c = "withCredentials" in b || "undefined" != typeof XDomainRequest;
              if (c) {
                var d = a.url;
                "withCredentials" in b ? b.onreadystatechange = function () {
                  if (4 === b.readyState) if (200 === b.status) a.onSuccess && a.onSuccess(); else if (a.onError) {
                    var c = new Error("Sentry error code: " + b.status);
                    c.request = b, a.onError(c)
                  }
                } : (b = new XDomainRequest, d = d.replace(/^https?:/, ""), a.onSuccess && (b.onload = a.onSuccess), a.onError && (b.onerror = function () {
                  var c = new Error("Sentry error code: XDomainRequest");
                  c.request = b, a.onError(c)
                })), b.open("POST", d + "?" + x(a.auth)), b.send(h(a.data))
              }
            }
          }, y: function (a) {
            this.p[a] && this.debug && Function.prototype.apply.call(this.p[a], this.o, [].slice.call(arguments, 1))
          }, Q: function (a, b) {
            n(b) ? delete this.j[a] : this.j[a] = s(this.j[a] || {}, b)
          }
        }, f.prototype.setUser = f.prototype.setUserContext, f.prototype.setReleaseContext = f.prototype.setRelease, b.exports = f
      }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {1: 1, 2: 2, 5: 5, 6: 6, 7: 7}], 4: [function (a, b, c) {
      (function (c) {
        var d = a(3),
          e = "undefined" != typeof window ? window : "undefined" != typeof c ? c : "undefined" != typeof self ? self : {},
          f = e.Raven, g = new d;
        g.noConflict = function () {
          return e.Raven = f, g
        }, g.afterLoad(), b.exports = g
      }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {3: 3}], 5: [function (a, b, c) {
      (function (a) {
        function c(a) {
          return "object" == typeof a && null !== a
        }

        function d(a) {
          switch ({}.toString.call(a)) {
            case"[object Error]":
              return !0;
            case"[object Exception]":
              return !0;
            case"[object DOMException]":
              return !0;
            default:
              return a instanceof Error
          }
        }

        function e(a) {
          return j() && "[object ErrorEvent]" === {}.toString.call(a)
        }

        function f(a) {
          return void 0 === a
        }

        function g(a) {
          return "function" == typeof a
        }

        function h(a) {
          return "[object String]" === Object.prototype.toString.call(a)
        }

        function i(a) {
          for (var b in a) return !1;
          return !0
        }

        function j() {
          try {
            return new ErrorEvent(""), !0
          } catch (a) {
            return !1
          }
        }

        function k(a) {
          function b(b, c) {
            var d = a(b) || b;
            return c ? c(d) || d : d
          }

          return b
        }

        function l(a, b) {
          var c, d;
          if (f(a.length)) for (c in a) p(a, c) && b.call(null, c, a[c]); else if (d = a.length) for (c = 0; c < d; c++) b.call(null, c, a[c])
        }

        function m(a, b) {
          return b ? (l(b, function (b, c) {
            a[b] = c
          }), a) : a
        }

        function n(a) {
          return !!Object.isFrozen && Object.isFrozen(a)
        }

        function o(a, b) {
          return !b || a.length <= b ? a : a.substr(0, b) + "…"
        }

        function p(a, b) {
          return Object.prototype.hasOwnProperty.call(a, b)
        }

        function q(a) {
          for (var b, c = [], d = 0, e = a.length; d < e; d++) b = a[d], h(b) ? c.push(b.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, "\\$1")) : b && b.source && c.push(b.source);
          return new RegExp(c.join("|"), "i")
        }

        function r(a) {
          var b = [];
          return l(a, function (a, c) {
            b.push(encodeURIComponent(a) + "=" + encodeURIComponent(c))
          }), b.join("&")
        }

        function s(a) {
          var b = a.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);
          if (!b) return {};
          var c = b[6] || "", d = b[8] || "";
          return {protocol: b[2], host: b[4], path: b[5], relative: b[5] + c + d}
        }

        function t() {
          var a = A.crypto || A.msCrypto;
          if (!f(a) && a.getRandomValues) {
            var b = new Uint16Array(8);
            a.getRandomValues(b), b[3] = 4095 & b[3] | 16384, b[4] = 16383 & b[4] | 32768;
            var c = function (a) {
              for (var b = a.toString(16); b.length < 4;) b = "0" + b;
              return b
            };
            return c(b[0]) + c(b[1]) + c(b[2]) + c(b[3]) + c(b[4]) + c(b[5]) + c(b[6]) + c(b[7])
          }
          return "xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g, function (a) {
            var b = 16 * Math.random() | 0, c = "x" === a ? b : 3 & b | 8;
            return c.toString(16)
          })
        }

        function u(a) {
          for (var b, c = 5, d = 80, e = [], f = 0, g = 0, h = " > ", i = h.length; a && f++ < c && (b = v(a), !("html" === b || f > 1 && g + e.length * i + b.length >= d));) e.push(b), g += b.length, a = a.parentNode;
          return e.reverse().join(h)
        }

        function v(a) {
          var b, c, d, e, f, g = [];
          if (!a || !a.tagName) return "";
          if (g.push(a.tagName.toLowerCase()), a.id && g.push("#" + a.id), b = a.className, b && h(b)) for (c = b.split(/\s+/), f = 0; f < c.length; f++) g.push("." + c[f]);
          var i = ["type", "name", "title", "alt"];
          for (f = 0; f < i.length; f++) d = i[f], e = a.getAttribute(d), e && g.push("[" + d + '="' + e + '"]');
          return g.join("")
        }

        function w(a, b) {
          return !!(!!a ^ !!b)
        }

        function x(a, b) {
          return !w(a, b) && (a = a.values[0], b = b.values[0], a.type === b.type && a.value === b.value && y(a.stacktrace, b.stacktrace))
        }

        function y(a, b) {
          if (w(a, b)) return !1;
          var c = a.frames, d = b.frames;
          if (c.length !== d.length) return !1;
          for (var e, f, g = 0; g < c.length; g++) if (e = c[g], f = d[g], e.filename !== f.filename || e.lineno !== f.lineno || e.colno !== f.colno || e["function"] !== f["function"]) return !1;
          return !0
        }

        function z(a, b, c, d) {
          var e = a[b];
          a[b] = c(e), d && d.push([a, b, e])
        }

        var A = "undefined" != typeof window ? window : "undefined" != typeof a ? a : "undefined" != typeof self ? self : {};
        b.exports = {
          isObject: c,
          isError: d,
          isErrorEvent: e,
          isUndefined: f,
          isFunction: g,
          isString: h,
          isEmptyObject: i,
          supportsErrorEvent: j,
          wrappedCallback: k,
          each: l,
          objectMerge: m,
          truncate: o,
          objectFrozen: n,
          hasKey: p,
          joinRegExp: q,
          urlencode: r,
          uuid4: t,
          htmlTreeAsString: u,
          htmlElementAsString: v,
          isSameException: x,
          isSameStacktrace: y,
          parseUrl: s,
          fill: z
        }
      }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {}], 6: [function (a, b, c) {
      (function (c) {
        function d() {
          return "undefined" == typeof document || null == document.location ? "" : document.location.href
        }

        var e = a(5), f = {collectWindowErrors: !0, debug: !1},
          g = "undefined" != typeof window ? window : "undefined" != typeof c ? c : "undefined" != typeof self ? self : {},
          h = [].slice, i = "?",
          j = /^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;
        f.report = function () {
          function a(a) {
            m(), s.push(a)
          }

          function b(a) {
            for (var b = s.length - 1; b >= 0; --b) s[b] === a && s.splice(b, 1)
          }

          function c() {
            n(), s = []
          }

          function k(a, b) {
            var c = null;
            if (!b || f.collectWindowErrors) {
              for (var d in s) if (s.hasOwnProperty(d)) try {
                s[d].apply(null, [a].concat(h.call(arguments, 2)))
              } catch (e) {
                c = e
              }
              if (c) throw c
            }
          }

          function l(a, b, c, g, h) {
            var l = null;
            if (v) f.computeStackTrace.augmentStackTraceWithInitialElement(v, b, c, a), o(); else if (h && e.isError(h)) l = f.computeStackTrace(h), k(l, !0); else {
              var m, n = {url: b, line: c, column: g}, p = void 0, r = a;
              if ("[object String]" === {}.toString.call(a)) {
                var m = a.match(j);
                m && (p = m[1], r = m[2])
              }
              n.func = i, l = {name: p, message: r, url: d(), stack: [n]}, k(l, !0)
            }
            return !!q && q.apply(this, arguments)
          }

          function m() {
            r || (q = g.onerror, g.onerror = l, r = !0)
          }

          function n() {
            r && (g.onerror = q, r = !1, q = void 0)
          }

          function o() {
            var a = v, b = t;
            t = null, v = null, u = null, k.apply(null, [a, !1].concat(b))
          }

          function p(a, b) {
            var c = h.call(arguments, 1);
            if (v) {
              if (u === a) return;
              o()
            }
            var d = f.computeStackTrace(a);
            if (v = d, u = a, t = c, setTimeout(function () {
              u === a && o()
            }, d.incomplete ? 2e3 : 0), b !== !1) throw a
          }

          var q, r, s = [], t = null, u = null, v = null;
          return p.subscribe = a, p.unsubscribe = b, p.uninstall = c, p
        }(), f.computeStackTrace = function () {
          function a(a) {
            if ("undefined" != typeof a.stack && a.stack) {
              for (var b, c, e, f = /^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i, g = /^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i, h = /^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i, j = /(\S+) line (\d+)(?: > eval line \d+)* > eval/i, k = /\((\S*)(?::(\d+))(?::(\d+))\)/, l = a.stack.split("\n"), m = [], n = (/^(.*) is undefined$/.exec(a.message), 0), o = l.length; n < o; ++n) {
                if (c = f.exec(l[n])) {
                  var p = c[2] && 0 === c[2].indexOf("native"), q = c[2] && 0 === c[2].indexOf("eval");
                  q && (b = k.exec(c[2])) && (c[2] = b[1], c[3] = b[2], c[4] = b[3]), e = {
                    url: p ? null : c[2],
                    func: c[1] || i,
                    args: p ? [c[2]] : [],
                    line: c[3] ? +c[3] : null,
                    column: c[4] ? +c[4] : null
                  }
                } else if (c = h.exec(l[n])) e = {
                  url: c[2],
                  func: c[1] || i,
                  args: [],
                  line: +c[3],
                  column: c[4] ? +c[4] : null
                }; else {
                  if (!(c = g.exec(l[n]))) continue;
                  var q = c[3] && c[3].indexOf(" > eval") > -1;
                  q && (b = j.exec(c[3])) ? (c[3] = b[1], c[4] = b[2], c[5] = null) : 0 !== n || c[5] || "undefined" == typeof a.columnNumber || (m[0].column = a.columnNumber + 1), e = {
                    url: c[3],
                    func: c[1] || i,
                    args: c[2] ? c[2].split(",") : [],
                    line: c[4] ? +c[4] : null,
                    column: c[5] ? +c[5] : null
                  }
                }
                !e.func && e.line && (e.func = i), m.push(e)
              }
              return m.length ? {name: a.name, message: a.message, url: d(), stack: m} : null
            }
          }

          function b(a, b, c, d) {
            var e = {url: b, line: c};
            if (e.url && e.line) {
              if (a.incomplete = !1, e.func || (e.func = i), a.stack.length > 0 && a.stack[0].url === e.url) {
                if (a.stack[0].line === e.line) return !1;
                if (!a.stack[0].line && a.stack[0].func === e.func) return a.stack[0].line = e.line, !1
              }
              return a.stack.unshift(e), a.partial = !0, !0
            }
            return a.incomplete = !0, !1
          }

          function c(a, g) {
            for (var h, j, k = /function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i, l = [], m = {}, n = !1, o = c.caller; o && !n; o = o.caller) if (o !== e && o !== f.report) {
              if (j = {
                url: null,
                func: i,
                line: null,
                column: null
              }, o.name ? j.func = o.name : (h = k.exec(o.toString())) && (j.func = h[1]), "undefined" == typeof j.func) try {
                j.func = h.input.substring(0, h.input.indexOf("{"))
              } catch (p) {
              }
              m["" + o] ? n = !0 : m["" + o] = !0, l.push(j)
            }
            g && l.splice(0, g);
            var q = {name: a.name, message: a.message, url: d(), stack: l};
            return b(q, a.sourceURL || a.fileName, a.line || a.lineNumber, a.message || a.description), q
          }

          function e(b, e) {
            var g = null;
            e = null == e ? 0 : +e;
            try {
              if (g = a(b)) return g
            } catch (h) {
              if (f.debug) throw h
            }
            try {
              if (g = c(b, e + 1)) return g
            } catch (h) {
              if (f.debug) throw h
            }
            return {name: b.name, message: b.message, url: d()}
          }

          return e.augmentStackTraceWithInitialElement = b, e.computeStackTraceFromStackProp = a, e
        }(), b.exports = f
      }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {5: 5}], 7: [function (a, b, c) {
      function d(a, b) {
        for (var c = 0; c < a.length; ++c) if (a[c] === b) return c;
        return -1
      }

      function e(a, b, c, d) {
        return JSON.stringify(a, g(b, d), c)
      }

      function f(a) {
        var b = {stack: a.stack, message: a.message, name: a.name};
        for (var c in a) Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
        return b
      }

      function g(a, b) {
        var c = [], e = [];
        return null == b && (b = function (a, b) {
          return c[0] === b ? "[Circular ~]" : "[Circular ~." + e.slice(0, d(c, b)).join(".") + "]"
        }), function (g, h) {
          if (c.length > 0) {
            var i = d(c, this);
            ~i ? c.splice(i + 1) : c.push(this), ~i ? e.splice(i, 1 / 0, g) : e.push(g), ~d(c, h) && (h = b.call(this, g, h))
          } else c.push(h);
          return null == a ? h instanceof Error ? f(h) : h : a.call(this, g, h)
        }
      }

      c = b.exports = e, c.getSerialize = g
    }, {}]
  }, {}, [4])(4)
});

!function t(e, n, r) {
  function o(s, c) {
    if (!n[s]) {
      if (!e[s]) {
        var u = "function" == typeof require && require;
        if (!c && u) return u(s, !0);
        if (i) return i(s, !0);
        var a = new Error("Cannot find module '" + s + "'");
        throw a.code = "MODULE_NOT_FOUND", a
      }
      var f = n[s] = {exports: {}};
      e[s][0].call(f.exports, function (t) {
        var n = e[s][1][t];
        return o(n ? n : t)
      }, f, f.exports, t, e, n, r)
    }
    return n[s].exports
  }

  for (var i = "function" == typeof require && require, s = 0; s < r.length; s++) o(r[s]);
  return o
}({
  1: [function (t) {
    (function (e) {
      "use strict";
      if (e._babelPolyfill) throw new Error("only one instance of babel/polyfill is allowed");
      e._babelPolyfill = !0, t("./es6-shim"), t("regenerator-babel/runtime")
    }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
  }, {"./es6-shim": 2, "regenerator-babel/runtime": 60}],
  2: [function (t, e) {
    t("core-js/es6"), e.exports = t("core-js/modules/$").core
  }, {"core-js/es6": 3, "core-js/modules/$": 16}],
  3: [function (t, e) {
    t("../modules/es6.symbol"), t("../modules/es6.object.assign"), t("../modules/es6.object.is"), t("../modules/es6.object.set-prototype-of"), t("../modules/es6.object.to-string"), t("../modules/es6.object.statics-accept-primitives"), t("../modules/es6.function.name"), t("../modules/es6.number.constructor"), t("../modules/es6.number.statics"), t("../modules/es6.math"), t("../modules/es6.string.from-code-point"), t("../modules/es6.string.raw"), t("../modules/es6.string.iterator"), t("../modules/es6.string.code-point-at"), t("../modules/es6.string.ends-with"), t("../modules/es6.string.includes"), t("../modules/es6.string.repeat"), t("../modules/es6.string.starts-with"), t("../modules/es6.array.from"), t("../modules/es6.array.of"), t("../modules/es6.array.species"), t("../modules/es6.array.iterator"), t("../modules/es6.array.copy-within"), t("../modules/es6.array.fill"), t("../modules/es6.array.find"), t("../modules/es6.array.find-index"), t("../modules/es6.regexp"), t("../modules/es6.promise"), t("../modules/es6.map"), t("../modules/es6.set"), t("../modules/es6.weak-map"), t("../modules/es6.weak-set"), t("../modules/es6.reflect"), e.exports = t("../modules/$").core
  }, {
    "../modules/$": 16,
    "../modules/es6.array.copy-within": 27,
    "../modules/es6.array.fill": 28,
    "../modules/es6.array.find": 30,
    "../modules/es6.array.find-index": 29,
    "../modules/es6.array.from": 31,
    "../modules/es6.array.iterator": 32,
    "../modules/es6.array.of": 33,
    "../modules/es6.array.species": 34,
    "../modules/es6.function.name": 35,
    "../modules/es6.map": 36,
    "../modules/es6.math": 37,
    "../modules/es6.number.constructor": 38,
    "../modules/es6.number.statics": 39,
    "../modules/es6.object.assign": 40,
    "../modules/es6.object.is": 41,
    "../modules/es6.object.set-prototype-of": 42,
    "../modules/es6.object.statics-accept-primitives": 43,
    "../modules/es6.object.to-string": 44,
    "../modules/es6.promise": 45,
    "../modules/es6.reflect": 46,
    "../modules/es6.regexp": 47,
    "../modules/es6.set": 48,
    "../modules/es6.string.code-point-at": 49,
    "../modules/es6.string.ends-with": 50,
    "../modules/es6.string.from-code-point": 51,
    "../modules/es6.string.includes": 52,
    "../modules/es6.string.iterator": 53,
    "../modules/es6.string.raw": 54,
    "../modules/es6.string.repeat": 55,
    "../modules/es6.string.starts-with": 56,
    "../modules/es6.symbol": 57,
    "../modules/es6.weak-map": 58,
    "../modules/es6.weak-set": 59
  }],
  4: [function (t, e) {
    "use strict";
    var n = t("./$"), r = t("./$.ctx");
    e.exports = function (t) {
      var e = 1 == t, o = 2 == t, i = 3 == t, s = 4 == t, c = 6 == t, u = 5 == t || c;
      return function (a) {
        for (var f, l, h = Object(n.assertDefined(this)), d = n.ES5Object(h), p = r(a, arguments[1], 3), g = n.toLength(d.length), $ = 0, v = e ? Array(g) : o ? [] : void 0; g > $; $++) if ((u || $ in d) && (f = d[$], l = p(f, $, h), t)) if (e) v[$] = l; else if (l) switch (t) {
          case 3:
            return !0;
          case 5:
            return f;
          case 6:
            return $;
          case 2:
            v.push(f)
        } else if (s) return !1;
        return c ? -1 : i || s ? s : v
      }
    }
  }, {"./$": 16, "./$.ctx": 11}],
  5: [function (t, e) {
    function n(t, e, n) {
      if (!t) throw TypeError(n ? e + n : e)
    }

    var r = t("./$");
    n.def = r.assertDefined, n.fn = function (t) {
      if (!r.isFunction(t)) throw TypeError(t + " is not a function!");
      return t
    }, n.obj = function (t) {
      if (!r.isObject(t)) throw TypeError(t + " is not an object!");
      return t
    }, n.inst = function (t, e, n) {
      if (!(t instanceof e)) throw TypeError(n + ": use the 'new' operator!");
      return t
    }, e.exports = n
  }, {"./$": 16}],
  6: [function (t, e) {
    var n = t("./$");
    e.exports = Object.assign || function (t) {
      for (var e = Object(n.assertDefined(t)), r = arguments.length, o = 1; r > o;) for (var i, s = n.ES5Object(arguments[o++]), c = n.getKeys(s), u = c.length, a = 0; u > a;) e[i = c[a++]] = s[i];
      return e
    }
  }, {"./$": 16}],
  7: [function (t, e) {
    function n(t) {
      return i.call(t).slice(8, -1)
    }

    var r = t("./$"), o = t("./$.wks")("toStringTag"), i = {}.toString;
    n.classof = function (t) {
      var e, r;
      return void 0 == t ? void 0 === t ? "Undefined" : "Null" : "string" == typeof (r = (e = Object(t))[o]) ? r : n(e)
    }, n.set = function (t, e, n) {
      t && !r.has(t = n ? t : t.prototype, o) && r.hide(t, o, e)
    }, e.exports = n
  }, {"./$": 16, "./$.wks": 26}],
  8: [function (t, e) {
    "use strict";

    function n(t, e) {
      if (!l(t)) return ("string" == typeof t ? "S" : "P") + t;
      if (p(t)) return "F";
      if (!a(t, g)) {
        if (!e) return "E";
        h(t, g, ++w)
      }
      return "O" + t[g]
    }

    function r(t, e) {
      var r, o = n(e);
      if ("F" != o) return t[$][o];
      for (r = t[y]; r; r = r.n) if (r.k == e) return r
    }

    var o = t("./$"), i = t("./$.ctx"), s = t("./$.uid").safe, c = t("./$.assert"), u = t("./$.iter"), a = o.has,
      f = o.set, l = o.isObject, h = o.hide, d = u.step, p = Object.isFrozen || o.core.Object.isFrozen, g = s("id"),
      $ = s("O1"), v = s("last"), y = s("first"), m = s("iter"), b = o.DESC ? s("size") : "size", w = 0;
    e.exports = {
      getConstructor: function (t, e, n) {
        function s(r) {
          var i = c.inst(this, s, t);
          f(i, $, o.create(null)), f(i, b, 0), f(i, v, void 0), f(i, y, void 0), void 0 != r && u.forOf(r, e, i[n], i)
        }

        return o.mix(s.prototype, {
          clear: function () {
            for (var t = this, e = t[$], n = t[y]; n; n = n.n) n.r = !0, n.p && (n.p = n.p.n = void 0), delete e[n.i];
            t[y] = t[v] = void 0, t[b] = 0
          }, "delete": function (t) {
            var e = this, n = r(e, t);
            if (n) {
              var o = n.n, i = n.p;
              delete e[$][n.i], n.r = !0, i && (i.n = o), o && (o.p = i), e[y] == n && (e[y] = o), e[v] == n && (e[v] = i), e[b]--
            }
            return !!n
          }, forEach: function (t) {
            for (var e, n = i(t, arguments[1], 3); e = e ? e.n : this[y];) for (n(e.v, e.k, this); e && e.r;) e = e.p
          }, has: function (t) {
            return !!r(this, t)
          }
        }), o.DESC && o.setDesc(s.prototype, "size", {
          get: function () {
            return c.def(this[b])
          }
        }), s
      }, def: function (t, e, o) {
        var i, s, c = r(t, e);
        return c ? c.v = o : (t[v] = c = {
          i: s = n(e, !0),
          k: e,
          v: o,
          p: i = t[v],
          n: void 0,
          r: !1
        }, t[y] || (t[y] = c), i && (i.n = c), t[b]++, "F" != s && (t[$][s] = c)), t
      }, getEntry: r, getIterConstructor: function () {
        return function (t, e) {
          f(this, m, {o: t, k: e})
        }
      }, next: function () {
        for (var t = this[m], e = t.k, n = t.l; n && n.r;) n = n.p;
        return t.o && (t.l = n = n ? n.n : t.o[y]) ? "key" == e ? d(0, n.k) : "value" == e ? d(0, n.v) : d(0, [n.k, n.v]) : (t.o = void 0, d(1))
      }
    }
  }, {"./$": 16, "./$.assert": 5, "./$.ctx": 11, "./$.iter": 15, "./$.uid": 24}],
  9: [function (t, e) {
    "use strict";

    function n(t, e) {
      return v.call(t.array, function (t) {
        return t[0] === e
      })
    }

    function r(t) {
      return t[g] || f(t, g, {
        array: [], get: function (t) {
          var e = n(this, t);
          return e ? e[1] : void 0
        }, has: function (t) {
          return !!n(this, t)
        }, set: function (t, e) {
          var r = n(this, t);
          r ? r[1] = e : this.array.push([t, e])
        }, "delete": function (t) {
          var e = y.call(this.array, function (e) {
            return e[0] === t
          });
          return ~e && this.array.splice(e, 1), !!~e
        }
      })[g]
    }

    var o = t("./$"), i = t("./$.uid").safe, s = t("./$.assert"), c = t("./$.iter").forOf, u = o.has, a = o.isObject,
      f = o.hide, l = Object.isFrozen || o.core.Object.isFrozen, h = 0, d = i("id"), p = i("weak"), g = i("leak"),
      $ = t("./$.array-methods"), v = $(5), y = $(6);
    e.exports = {
      getConstructor: function (t, e, n) {
        function i(r) {
          o.set(s.inst(this, i, t), d, h++), void 0 != r && c(r, e, this[n], this)
        }

        return o.mix(i.prototype, {
          "delete": function (t) {
            return a(t) ? l(t) ? r(this)["delete"](t) : u(t, p) && u(t[p], this[d]) && delete t[p][this[d]] : !1
          }, has: function (t) {
            return a(t) ? l(t) ? r(this).has(t) : u(t, p) && u(t[p], this[d]) : !1
          }
        }), i
      }, def: function (t, e, n) {
        return l(s.obj(e)) ? r(t).set(e, n) : (u(e, p) || f(e, p, {}), e[p][t[d]] = n), t
      }, leakStore: r, WEAK: p, ID: d
    }
  }, {"./$": 16, "./$.array-methods": 4, "./$.assert": 5, "./$.iter": 15, "./$.uid": 24}],
  10: [function (t, e) {
    "use strict";
    var n = t("./$"), r = t("./$.def"), o = t("./$.iter"), i = t("./$.assert").inst;
    e.exports = function (e, s, c, u, a) {
      function f(t, e) {
        var r = p[t];
        n.FW && (p[t] = function (t, n) {
          var o = r.call(this, 0 === t ? 0 : t, n);
          return e ? this : o
        })
      }

      var l = n.g[e], h = l, d = u ? "set" : "add", p = h && h.prototype, g = {};
      if (n.isFunction(h) && (a || !o.BUGGY && p.forEach && p.entries)) {
        var $, v = new h, y = v[d](a ? {} : -0, 1);
        (o.fail(function (t) {
          new h(t)
        }) || o.DANGER_CLOSING) && (h = function (t) {
          i(this, h, e);
          var n = new l;
          return void 0 != t && o.forOf(t, u, n[d], n), n
        }, h.prototype = p, n.FW && (p.constructor = h)), a || v.forEach(function (t, e) {
          $ = 1 / e === -1 / 0
        }), $ && (f("delete"), f("has"), u && f("get")), ($ || y !== v) && f(d, !0)
      } else h = c.getConstructor(e, u, d), n.mix(h.prototype, s);
      return t("./$.cof").set(h, e), t("./$.species")(h), g[e] = h, r(r.G + r.W + r.F * (h != l), g), a || o.std(h, e, c.getIterConstructor(), c.next, u ? "key+value" : "value", !u, !0), h
    }
  }, {"./$": 16, "./$.assert": 5, "./$.cof": 7, "./$.def": 12, "./$.iter": 15, "./$.species": 21}],
  11: [function (t, e) {
    var n = t("./$.assert").fn;
    e.exports = function (t, e, r) {
      if (n(t), ~r && void 0 === e) return t;
      switch (r) {
        case 1:
          return function (n) {
            return t.call(e, n)
          };
        case 2:
          return function (n, r) {
            return t.call(e, n, r)
          };
        case 3:
          return function (n, r, o) {
            return t.call(e, n, r, o)
          }
      }
      return function () {
        return t.apply(e, arguments)
      }
    }
  }, {"./$.assert": 5}],
  12: [function (t, e) {
    function n(t, e) {
      return function () {
        return t.apply(e, arguments)
      }
    }

    function r(t, e, u) {
      var a, f, l, h, d = t & r.G, p = d ? i : t & r.S ? i[e] : (i[e] || {}).prototype, g = d ? s : s[e] || (s[e] = {});
      d && (u = e);
      for (a in u) f = !(t & r.F) && p && a in p, l = (f ? p : u)[a], h = t & r.B && f ? n(l, i) : t & r.P && c(l) ? n(Function.call, l) : l, p && !f && (d ? p[a] = l : delete p[a] && o.hide(p, a, l)), g[a] != l && o.hide(g, a, h)
    }

    var o = t("./$"), i = o.g, s = o.core, c = o.isFunction;
    i.core = s, r.F = 1, r.G = 2, r.S = 4, r.P = 8, r.B = 16, r.W = 32, e.exports = r
  }, {"./$": 16}],
  13: [function (t, e) {
    e.exports = function (t) {
      return t.FW = !0, t.path = t.g, t
    }
  }, {}],
  14: [function (t, e) {
    e.exports = function (t, e, n) {
      var r = void 0 === n;
      switch (e.length) {
        case 0:
          return r ? t() : t.call(n);
        case 1:
          return r ? t(e[0]) : t.call(n, e[0]);
        case 2:
          return r ? t(e[0], e[1]) : t.call(n, e[0], e[1]);
        case 3:
          return r ? t(e[0], e[1], e[2]) : t.call(n, e[0], e[1], e[2]);
        case 4:
          return r ? t(e[0], e[1], e[2], e[3]) : t.call(n, e[0], e[1], e[2], e[3]);
        case 5:
          return r ? t(e[0], e[1], e[2], e[3], e[4]) : t.call(n, e[0], e[1], e[2], e[3], e[4])
      }
      return t.apply(n, e)
    }
  }, {}],
  15: [function (t, e) {
    "use strict";

    function n(t, e) {
      c.hide(t, h, e), d in [] && c.hide(t, d, e)
    }

    function r(t, e, r, o) {
      var i = t.prototype, s = i[h] || i[d] || o && i[o] || r;
      if (c.FW && n(i, s), s !== r) {
        var u = c.getProto(s.call(new t));
        a.set(u, e + " Iterator", !0), c.FW && c.has(i, d) && n(u, c.that)
      }
      return p[e] = s, p[e + " Iterator"] = c.that, s
    }

    function o(t) {
      var e = c.g.Symbol, n = t[e && e.iterator || d], r = n || t[h] || p[a.classof(t)];
      return l(r.call(t))
    }

    function i(t) {
      var e = t["return"];
      void 0 !== e && l(e.call(t))
    }

    function s(t, e, n, r) {
      try {
        return r ? e(l(n)[0], n[1]) : e(n)
      } catch (o) {
        throw i(t), o
      }
    }

    var c = t("./$"), u = t("./$.ctx"), a = t("./$.cof"), f = t("./$.def"), l = t("./$.assert").obj,
      h = t("./$.wks")("iterator"), d = "@@iterator", p = {}, g = {}, $ = "keys" in [] && !("next" in [].keys());
    n(g, c.that);
    var v = !0;
    !function () {
      try {
        var t = [1].keys();
        t["return"] = function () {
          v = !1
        }, Array.from(t, function () {
          throw 2
        })
      } catch (e) {
      }
    }();
    var y = e.exports = {
      BUGGY: $, DANGER_CLOSING: v, fail: function (t) {
        var e = !0;
        try {
          var n = [[{}, 1]], r = n[h](), o = r.next;
          r.next = function () {
            return e = !1, o.call(this)
          }, n[h] = function () {
            return r
          }, t(n)
        } catch (i) {
        }
        return e
      }, Iterators: p, prototype: g, step: function (t, e) {
        return {value: e, done: !!t}
      }, stepCall: s, close: i, is: function (t) {
        var e = Object(t), n = c.g.Symbol, r = n && n.iterator || d;
        return r in e || h in e || c.has(p, a.classof(e))
      }, get: o, set: n, create: function (t, e, n, r) {
        t.prototype = c.create(r || y.prototype, {next: c.desc(1, n)}), a.set(t, e + " Iterator")
      }, define: r, std: function (t, e, n, o, i, s, u) {
        function a(t) {
          return function () {
            return new n(this, t)
          }
        }

        y.create(n, e, o);
        var l, h, d = a("key+value"), p = a("value"), g = t.prototype;
        if ("value" == i ? p = r(t, e, p, "values") : d = r(t, e, d, "entries"), i && (l = {
          entries: d,
          keys: s ? p : a("key"),
          values: p
        }, f(f.P + f.F * $, e, l), u)) for (h in l) h in g || c.hide(g, h, l[h])
      }, forOf: function (t, e, n, r) {
        for (var c, a = o(t), f = u(n, r, e ? 2 : 1); !(c = a.next()).done;) if (s(a, f, c.value, e) === !1) return i(a)
      }
    }
  }, {"./$": 16, "./$.assert": 5, "./$.cof": 7, "./$.ctx": 11, "./$.def": 12, "./$.wks": 26}],
  16: [function (t, e) {
    "use strict";

    function n(t) {
      return isNaN(t = +t) ? 0 : (t > 0 ? p : d)(t)
    }

    function r(t, e) {
      return {enumerable: !(1 & t), configurable: !(2 & t), writable: !(4 & t), value: e}
    }

    function o(t, e, n) {
      return t[e] = n, t
    }

    function i(t) {
      return v ? function (e, n, o) {
        return m.setDesc(e, n, r(t, o))
      } : o
    }

    function s(t) {
      return null !== t && ("object" == typeof t || "function" == typeof t)
    }

    function c(t) {
      return "function" == typeof t
    }

    function u(t) {
      if (void 0 == t) throw TypeError("Can't call method on  " + t);
      return t
    }

    var a = "undefined" != typeof self ? self : Function("return this")(), f = {}, l = Object.defineProperty,
      h = {}.hasOwnProperty, d = Math.ceil, p = Math.floor, g = Math.max, $ = Math.min, v = !!function () {
        try {
          return 2 == l({}, "a", {
            get: function () {
              return 2
            }
          }).a
        } catch (t) {
        }
      }(), y = i(1), m = e.exports = t("./$.fw")({
        g: a,
        core: f,
        html: a.document && document.documentElement,
        isObject: s,
        isFunction: c,
        it: function (t) {
          return t
        },
        that: function () {
          return this
        },
        toInteger: n,
        toLength: function (t) {
          return t > 0 ? $(n(t), 9007199254740991) : 0
        },
        toIndex: function (t, e) {
          return t = n(t), 0 > t ? g(t + e, 0) : $(t, e)
        },
        has: function (t, e) {
          return h.call(t, e)
        },
        create: Object.create,
        getProto: Object.getPrototypeOf,
        DESC: v,
        desc: r,
        getDesc: Object.getOwnPropertyDescriptor,
        setDesc: l,
        getKeys: Object.keys,
        getNames: Object.getOwnPropertyNames,
        getSymbols: Object.getOwnPropertySymbols,
        assertDefined: u,
        ES5Object: Object,
        toObject: function (t) {
          return m.ES5Object(u(t))
        },
        hide: y,
        def: i(0),
        set: a.Symbol ? o : y,
        mix: function (t, e) {
          for (var n in e) y(t, n, e[n]);
          return t
        },
        each: [].forEach
      });
    "undefined" != typeof __e && (__e = f), "undefined" != typeof __g && (__g = a)
  }, {"./$.fw": 13}],
  17: [function (t, e) {
    var n = t("./$");
    e.exports = function (t, e) {
      for (var r, o = n.toObject(t), i = n.getKeys(o), s = i.length, c = 0; s > c;) if (o[r = i[c++]] === e) return r
    }
  }, {"./$": 16}],
  18: [function (t, e) {
    var n = t("./$"), r = t("./$.assert").obj;
    e.exports = function (t) {
      return r(t), n.getSymbols ? n.getNames(t).concat(n.getSymbols(t)) : n.getNames(t)
    }
  }, {"./$": 16, "./$.assert": 5}],
  19: [function (t, e) {
    "use strict";
    e.exports = function (t, e, n) {
      var r = e === Object(e) ? function (t) {
        return e[t]
      } : e;
      return function (e) {
        return String(n ? e : this).replace(t, r)
      }
    }
  }, {}],
  20: [function (t, e) {
    var n = t("./$"), r = t("./$.assert");
    e.exports = Object.setPrototypeOf || ("__proto__" in {} ? function (e, o) {
      try {
        o = t("./$.ctx")(Function.call, n.getDesc(Object.prototype, "__proto__").set, 2), o({}, [])
      } catch (i) {
        e = !0
      }
      return function (t, i) {
        return r.obj(t), r(null === i || n.isObject(i), i, ": can't set as prototype!"), e ? t.__proto__ = i : o(t, i), t
      }
    }() : void 0)
  }, {"./$": 16, "./$.assert": 5, "./$.ctx": 11}],
  21: [function (t, e) {
    var n = t("./$");
    e.exports = function (e) {
      n.DESC && n.FW && n.setDesc(e, t("./$.wks")("species"), {configurable: !0, get: n.that})
    }
  }, {"./$": 16, "./$.wks": 26}],
  22: [function (t, e) {
    "use strict";
    var n = t("./$");
    e.exports = function (t) {
      return function (e) {
        var r, o, i = String(n.assertDefined(this)), s = n.toInteger(e), c = i.length;
        return 0 > s || s >= c ? t ? "" : void 0 : (r = i.charCodeAt(s), 55296 > r || r > 56319 || s + 1 === c || (o = i.charCodeAt(s + 1)) < 56320 || o > 57343 ? t ? i.charAt(s) : r : t ? i.slice(s, s + 2) : (r - 55296 << 10) + (o - 56320) + 65536)
      }
    }
  }, {"./$": 16}],
  23: [function (t, e) {
    "use strict";

    function n() {
      var t = +this;
      if (c.has(m, t)) {
        var e = m[t];
        delete m[t], e()
      }
    }

    function r(t) {
      n.call(t.data)
    }

    var o, i, s, c = t("./$"), u = t("./$.ctx"), a = t("./$.cof"), f = t("./$.invoke"), l = c.g, h = c.isFunction,
      d = l.setImmediate, p = l.clearImmediate, g = l.postMessage, $ = l.addEventListener, v = l.MessageChannel, y = 0,
      m = {}, b = "onreadystatechange";
    h(d) && h(p) || (d = function (t) {
      for (var e = [], n = 1; arguments.length > n;) e.push(arguments[n++]);
      return m[++y] = function () {
        f(h(t) ? t : Function(t), e)
      }, o(y), y
    }, p = function (t) {
      delete m[t]
    }, "process" == a(l.process) ? o = function (t) {
      l.process.nextTick(u(n, t, 1))
    } : $ && h(g) && !c.g.importScripts ? (o = function (t) {
      g(t, "*")
    }, $("message", r, !1)) : h(v) ? (i = new v, s = i.port2, i.port1.onmessage = r, o = u(s.postMessage, s, 1)) : o = c.g.document && b in document.createElement("script") ? function (t) {
      c.html.appendChild(document.createElement("script"))[b] = function () {
        c.html.removeChild(this), n.call(t)
      }
    } : function (t) {
      setTimeout(u(n, t, 1), 0)
    }), e.exports = {set: d, clear: p}
  }, {"./$": 16, "./$.cof": 7, "./$.ctx": 11, "./$.invoke": 14}],
  24: [function (t, e) {
    function n(t) {
      return "Symbol(" + t + ")_" + (++r + Math.random()).toString(36)
    }

    var r = 0;
    n.safe = t("./$").g.Symbol || n, e.exports = n
  }, {"./$": 16}],
  25: [function (t, e) {
    var n = t("./$"), r = t("./$.wks")("unscopables");
    !n.FW || r in [] || n.hide(Array.prototype, r, {}), e.exports = function (t) {
      n.FW && ([][r][t] = !0)
    }
  }, {"./$": 16, "./$.wks": 26}],
  26: [function (t, e) {
    var n = t("./$").g, r = {};
    e.exports = function (e) {
      return r[e] || (r[e] = n.Symbol && n.Symbol[e] || t("./$.uid").safe("Symbol." + e))
    }
  }, {"./$": 16, "./$.uid": 24}],
  27: [function (t) {
    "use strict";
    var e = t("./$"), n = t("./$.def"), r = e.toIndex;
    n(n.P, "Array", {
      copyWithin: function (t, n) {
        var o = Object(e.assertDefined(this)), i = e.toLength(o.length), s = r(t, i), c = r(n, i), u = arguments[2],
          a = void 0 === u ? i : r(u, i), f = Math.min(a - c, i - s), l = 1;
        for (s > c && c + f > s && (l = -1, c = c + f - 1, s = s + f - 1); f-- > 0;) c in o ? o[s] = o[c] : delete o[s], s += l, c += l;
        return o
      }
    }), t("./$.unscope")("copyWithin")
  }, {"./$": 16, "./$.def": 12, "./$.unscope": 25}],
  28: [function (t) {
    "use strict";
    var e = t("./$"), n = t("./$.def"), r = e.toIndex;
    n(n.P, "Array", {
      fill: function (t) {
        for (var n = Object(e.assertDefined(this)), o = e.toLength(n.length), i = r(arguments[1], o), s = arguments[2], c = void 0 === s ? o : r(s, o); c > i;) n[i++] = t;
        return n
      }
    }), t("./$.unscope")("fill")
  }, {"./$": 16, "./$.def": 12, "./$.unscope": 25}],
  29: [function (t) {
    var e = t("./$.def");
    e(e.P, "Array", {findIndex: t("./$.array-methods")(6)}), t("./$.unscope")("findIndex")
  }, {"./$.array-methods": 4, "./$.def": 12, "./$.unscope": 25}],
  30: [function (t) {
    var e = t("./$.def");
    e(e.P, "Array", {find: t("./$.array-methods")(5)}), t("./$.unscope")("find")
  }, {"./$.array-methods": 4, "./$.def": 12, "./$.unscope": 25}],
  31: [function (t) {
    var e = t("./$"), n = t("./$.ctx"), r = t("./$.def"), o = t("./$.iter"), i = o.stepCall;
    r(r.S + r.F * o.DANGER_CLOSING, "Array", {
      from: function (t) {
        var r, s, c, u, a = Object(e.assertDefined(t)), f = arguments[1], l = void 0 !== f,
          h = l ? n(f, arguments[2], 2) : void 0, d = 0;
        if (o.is(a)) for (u = o.get(a), s = new ("function" == typeof this ? this : Array); !(c = u.next()).done; d++) s[d] = l ? i(u, h, [c.value, d], !0) : c.value; else for (s = new ("function" == typeof this ? this : Array)(r = e.toLength(a.length)); r > d; d++) s[d] = l ? h(a[d], d) : a[d];
        return s.length = d, s
      }
    })
  }, {"./$": 16, "./$.ctx": 11, "./$.def": 12, "./$.iter": 15}],
  32: [function (t) {
    var e = t("./$"), n = t("./$.unscope"), r = t("./$.uid").safe("iter"), o = t("./$.iter"), i = o.step,
      s = o.Iterators;
    o.std(Array, "Array", function (t, n) {
      e.set(this, r, {o: e.toObject(t), i: 0, k: n})
    }, function () {
      var t = this[r], e = t.o, n = t.k, o = t.i++;
      return !e || o >= e.length ? (t.o = void 0, i(1)) : "key" == n ? i(0, o) : "value" == n ? i(0, e[o]) : i(0, [o, e[o]])
    }, "value"), s.Arguments = s.Array, n("keys"), n("values"), n("entries")
  }, {"./$": 16, "./$.iter": 15, "./$.uid": 24, "./$.unscope": 25}],
  33: [function (t) {
    var e = t("./$.def");
    e(e.S, "Array", {
      of: function () {
        for (var t = 0, e = arguments.length, n = new ("function" == typeof this ? this : Array)(e); e > t;) n[t] = arguments[t++];
        return n.length = e, n
      }
    })
  }, {"./$.def": 12}],
  34: [function (t) {
    t("./$.species")(Array)
  }, {"./$.species": 21}],
  35: [function (t) {
    "use strict";
    var e = t("./$"), n = "name", r = e.setDesc, o = Function.prototype;
    n in o || e.FW && e.DESC && r(o, n, {
      configurable: !0, get: function () {
        var t = String(this).match(/^\s*function ([^ (]*)/), o = t ? t[1] : "";
        return e.has(this, n) || r(this, n, e.desc(5, o)), o
      }, set: function (t) {
        e.has(this, n) || r(this, n, e.desc(0, t))
      }
    })
  }, {"./$": 16}],
  36: [function (t) {
    "use strict";
    var e = t("./$.collection-strong");
    t("./$.collection")("Map", {
      get: function (t) {
        var n = e.getEntry(this, t);
        return n && n.v
      }, set: function (t, n) {
        return e.def(this, 0 === t ? 0 : t, n)
      }
    }, e, !0)
  }, {"./$.collection": 10, "./$.collection-strong": 8}],
  37: [function (t) {
    function e(t) {
      return isFinite(t = +t) && 0 != t ? 0 > t ? -e(-t) : a(t + f(t * t + 1)) : t
    }

    function n(t) {
      return 0 == (t = +t) ? t : t > -1e-6 && 1e-6 > t ? t + t * t / 2 : u(t) - 1
    }

    var r = 1 / 0, o = t("./$.def"), i = Math.E, s = Math.pow, c = Math.abs, u = Math.exp, a = Math.log, f = Math.sqrt,
      l = Math.ceil, h = Math.floor, d = Math.sign || function (t) {
        return 0 == (t = +t) || t != t ? t : 0 > t ? -1 : 1
      };
    o(o.S, "Math", {
      acosh: function (t) {
        return (t = +t) < 1 ? 0 / 0 : isFinite(t) ? a(t / i + f(t + 1) * f(t - 1) / i) + 1 : t
      }, asinh: e, atanh: function (t) {
        return 0 == (t = +t) ? t : a((1 + t) / (1 - t)) / 2
      }, cbrt: function (t) {
        return d(t = +t) * s(c(t), 1 / 3)
      }, clz32: function (t) {
        return (t >>>= 0) ? 32 - t.toString(2).length : 32
      }, cosh: function (t) {
        return (u(t = +t) + u(-t)) / 2
      }, expm1: n, fround: function (t) {
        return new Float32Array([t])[0]
      }, hypot: function () {
        for (var t, e = 0, n = arguments.length, o = n, i = Array(n), c = -r; n--;) {
          if (t = i[n] = +arguments[n], t == r || t == -r) return r;
          t > c && (c = t)
        }
        for (c = t || 1; o--;) e += s(i[o] / c, 2);
        return c * f(e)
      }, imul: function (t, e) {
        var n = 65535, r = +t, o = +e, i = n & r, s = n & o;
        return 0 | i * s + ((n & r >>> 16) * s + i * (n & o >>> 16) << 16 >>> 0)
      }, log1p: function (t) {
        return (t = +t) > -1e-8 && 1e-8 > t ? t - t * t / 2 : a(1 + t)
      }, log10: function (t) {
        return a(t) / Math.LN10
      }, log2: function (t) {
        return a(t) / Math.LN2
      }, sign: d, sinh: function (t) {
        return c(t = +t) < 1 ? (n(t) - n(-t)) / 2 : (u(t - 1) - u(-t - 1)) * (i / 2)
      }, tanh: function (t) {
        var e = n(t = +t), o = n(-t);
        return e == r ? 1 : o == r ? -1 : (e - o) / (u(t) + u(-t))
      }, trunc: function (t) {
        return (t > 0 ? h : l)(t)
      }
    })
  }, {"./$.def": 12}],
  38: [function (t) {
    "use strict";

    function e(t) {
      var e, n;
      if (i(e = t.valueOf) && !o(n = e.call(t))) return n;
      if (i(e = t.toString) && !o(n = e.call(t))) return n;
      throw TypeError("Can't convert object to number")
    }

    function n(t) {
      if (o(t) && (t = e(t)), "string" == typeof t && t.length > 2 && 48 == t.charCodeAt(0)) {
        var n = !1;
        switch (t.charCodeAt(1)) {
          case 66:
          case 98:
            n = !0;
          case 79:
          case 111:
            return parseInt(t.slice(2), n ? 2 : 8)
        }
      }
      return +t
    }

    var r = t("./$"), o = r.isObject, i = r.isFunction, s = "Number", c = r.g[s], u = c, a = c.prototype;
    !r.FW || c("0o1") && c("0b1") || (c = function f(t) {
      return this instanceof f ? new u(n(t)) : n(t)
    }, r.each.call(r.DESC ? r.getNames(u) : "MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","), function (t) {
      r.has(u, t) && !r.has(c, t) && r.setDesc(c, t, r.getDesc(u, t))
    }), c.prototype = a, a.constructor = c, r.hide(r.g, s, c))
  }, {"./$": 16}],
  39: [function (t) {
    function e(t) {
      return !n.isObject(t) && isFinite(t) && i(t) === t
    }

    var n = t("./$"), r = t("./$.def"), o = Math.abs, i = Math.floor, s = 9007199254740991;
    r(r.S, "Number", {
      EPSILON: Math.pow(2, -52), isFinite: function (t) {
        return "number" == typeof t && isFinite(t)
      }, isInteger: e, isNaN: function (t) {
        return t != t
      }, isSafeInteger: function (t) {
        return e(t) && o(t) <= s
      }, MAX_SAFE_INTEGER: s, MIN_SAFE_INTEGER: -s, parseFloat: parseFloat, parseInt: parseInt
    })
  }, {"./$": 16, "./$.def": 12}],
  40: [function (t) {
    var e = t("./$.def");
    e(e.S, "Object", {assign: t("./$.assign")})
  }, {"./$.assign": 6, "./$.def": 12}],
  41: [function (t) {
    var e = t("./$.def");
    e(e.S, "Object", {
      is: function (t, e) {
        return t === e ? 0 !== t || 1 / t === 1 / e : t != t && e != e
      }
    })
  }, {"./$.def": 12}],
  42: [function (t) {
    var e = t("./$.def");
    e(e.S, "Object", {setPrototypeOf: t("./$.set-proto")})
  }, {"./$.def": 12, "./$.set-proto": 20}],
  43: [function (t) {
    function e(t, e) {
      var s = (n.core.Object || {})[t] || Object[t], c = 0, u = {};
      u[t] = 1 == e ? function (t) {
        return o(t) ? s(t) : t
      } : 2 == e ? function (t) {
        return o(t) ? s(t) : !0
      } : 3 == e ? function (t) {
        return o(t) ? s(t) : !1
      } : 4 == e ? function (t, e) {
        return s(i(t), e)
      } : 5 == e ? function (t) {
        return s(Object(n.assertDefined(t)))
      } : function (t) {
        return s(i(t))
      };
      try {
        s("z")
      } catch (a) {
        c = 1
      }
      r(r.S + r.F * c, "Object", u)
    }

    var n = t("./$"), r = t("./$.def"), o = n.isObject, i = n.toObject;
    e("freeze", 1), e("seal", 1), e("preventExtensions", 1), e("isFrozen", 2), e("isSealed", 2), e("isExtensible", 3), e("getOwnPropertyDescriptor", 4), e("getPrototypeOf", 5), e("keys"), e("getOwnPropertyNames")
  }, {"./$": 16, "./$.def": 12}],
  44: [function (t) {
    "use strict";
    var e = t("./$"), n = t("./$.cof"), r = {};
    r[t("./$.wks")("toStringTag")] = "z", e.FW && "z" != n(r) && e.hide(Object.prototype, "toString", function () {
      return "[object " + n.classof(this) + "]"
    })
  }, {"./$": 16, "./$.cof": 7, "./$.wks": 26}],
  45: [function (t) {
    "use strict";

    function e(t) {
      var e = w(t)[a];
      return void 0 != e ? e : t
    }

    var n, r = t("./$"), o = t("./$.ctx"), i = t("./$.cof"), s = t("./$.def"), c = t("./$.assert"), u = t("./$.iter"),
      a = t("./$.wks")("species"), f = t("./$.uid").safe("record"), l = u.forOf, h = "Promise", d = r.g, p = d.process,
      g = p && p.nextTick || t("./$.task").set, $ = d[h], v = $, y = r.isFunction, m = r.isObject, b = c.fn, w = c.obj;
    y($) && y($.resolve) && $.resolve(n = new $(function () {
    })) == n || function () {
      function t(t) {
        var e;
        return m(t) && (e = t.then), y(e) ? e : !1
      }

      function e(t) {
        var n, r = t[f], o = r.c, i = 0;
        if (r.h) return !0;
        for (; o.length > i;) if (n = o[i++], n.fail || e(n.P)) return !0
      }

      function n(n, r) {
        var o = n.c;
        (r || o.length) && g(function () {
          var s = n.p, c = n.v, u = 1 == n.s, a = 0;
          if (r && !e(s)) setTimeout(function () {
            e(s) || ("process" == i(p) ? p.emit("unhandledRejection", c, s) : d.console && y(console.error) && console.error("Unhandled promise rejection", c))
          }, 1e3); else for (; o.length > a;) !function (e) {
            var r, o, i = u ? e.ok : e.fail;
            try {
              i ? (u || (n.h = !0), r = i === !0 ? c : i(c), r === e.P ? e.rej(TypeError(h + "-chain cycle")) : (o = t(r)) ? o.call(r, e.res, e.rej) : e.res(r)) : e.rej(c)
            } catch (s) {
              e.rej(s)
            }
          }(o[a++]);
          o.length = 0
        })
      }

      function s(t) {
        var e = this;
        e.d || (e.d = !0, e = e.r || e, e.v = t, e.s = 2, n(e, !0))
      }

      function u(e) {
        var r, i, c = this;
        if (!c.d) {
          c.d = !0, c = c.r || c;
          try {
            (r = t(e)) ? (i = {r: c, d: !1}, r.call(e, o(u, i, 1), o(s, i, 1))) : (c.v = e, c.s = 1, n(c))
          } catch (a) {
            s.call(i || {r: c, d: !1}, a)
          }
        }
      }

      $ = function (t) {
        b(t);
        var e = {p: c.inst(this, $, h), c: [], s: 0, d: !1, v: void 0, h: !1};
        r.hide(this, f, e);
        try {
          t(o(u, e, 1), o(s, e, 1))
        } catch (n) {
          s.call(e, n)
        }
      }, r.mix($.prototype, {
        then: function (t, e) {
          var r = w(w(this).constructor)[a], o = {ok: y(t) ? t : !0, fail: y(e) ? e : !1},
            i = o.P = new (void 0 != r ? r : $)(function (t, e) {
              o.res = b(t), o.rej = b(e)
            }), s = this[f];
          return s.c.push(o), s.s && n(s), i
        }, "catch": function (t) {
          return this.then(void 0, t)
        }
      })
    }(), s(s.G + s.W + s.F * ($ != v), {Promise: $}), s(s.S, h, {
      reject: function (t) {
        return new (e(this))(function (e, n) {
          n(t)
        })
      }, resolve: function (t) {
        return m(t) && f in t && r.getProto(t) === this.prototype ? t : new (e(this))(function (e) {
          e(t)
        })
      }
    }), s(s.S + s.F * (u.fail(function (t) {
      $.all(t)["catch"](function () {
      })
    }) || u.DANGER_CLOSING), h, {
      all: function (t) {
        var n = e(this), o = [];
        return new n(function (e, i) {
          l(t, !1, o.push, o);
          var s = o.length, c = Array(s);
          s ? r.each.call(o, function (t, r) {
            n.resolve(t).then(function (t) {
              c[r] = t, --s || e(c)
            }, i)
          }) : e(c)
        })
      }, race: function (t) {
        var n = e(this);
        return new n(function (e, r) {
          l(t, !1, function (t) {
            n.resolve(t).then(e, r)
          })
        })
      }
    }), i.set($, h), t("./$.species")($)
  }, {
    "./$": 16,
    "./$.assert": 5,
    "./$.cof": 7,
    "./$.ctx": 11,
    "./$.def": 12,
    "./$.iter": 15,
    "./$.species": 21,
    "./$.task": 23,
    "./$.uid": 24,
    "./$.wks": 26
  }],
  46: [function (t) {
    function e(t) {
      var e, n = [];
      for (e in t) n.push(e);
      i.set(this, a, {o: t, a: n, i: 0})
    }

    function n(t) {
      return function (e) {
        v(e);
        try {
          return t.apply(void 0, arguments), !0
        } catch (n) {
          return !1
        }
      }
    }

    function r(t, e) {
      var n, o = arguments.length < 3 ? t : arguments[2], s = d(v(t), e);
      return s ? i.has(s, "value") ? s.value : void 0 === s.get ? void 0 : s.get.call(o) : h(n = g(t)) ? r(n, e, o) : void 0
    }

    function o(t, e, n) {
      var r, s, c = arguments.length < 4 ? t : arguments[3], u = d(v(t), e);
      if (!u) {
        if (h(s = g(t))) return o(s, e, n, c);
        u = i.desc(0)
      }
      return i.has(u, "value") ? u.writable !== !1 && h(c) ? (r = d(c, e) || i.desc(0), r.value = n, p(c, e, r), !0) : !1 : void 0 === u.set ? !1 : (u.set.call(c, n), !0)
    }

    var i = t("./$"), s = t("./$.def"), c = t("./$.set-proto"), u = t("./$.iter"), a = t("./$.uid").safe("iter"),
      f = u.step, l = t("./$.assert"), h = i.isObject, d = i.getDesc, p = i.setDesc, g = i.getProto, $ = Function.apply,
      v = l.obj, y = Object.isExtensible || i.it;
    u.create(e, "Object", function () {
      var t, e = this[a], n = e.a;
      do if (e.i >= n.length) return f(1); while (!((t = n[e.i++]) in e.o));
      return f(0, t)
    });
    var m = {
      apply: t("./$.ctx")(Function.call, $, 3), construct: function (t, e) {
        var n = l.fn(arguments.length < 3 ? t : arguments[2]).prototype, r = i.create(h(n) ? n : Object.prototype),
          o = $.call(t, r, e);
        return h(o) ? o : r
      }, defineProperty: n(p), deleteProperty: function (t, e) {
        var n = d(v(t), e);
        return n && !n.configurable ? !1 : delete t[e]
      }, enumerate: function (t) {
        return new e(v(t))
      }, get: r, getOwnPropertyDescriptor: function (t, e) {
        return d(v(t), e)
      }, getPrototypeOf: function (t) {
        return g(v(t))
      }, has: function (t, e) {
        return e in t
      }, isExtensible: function (t) {
        return !!y(v(t))
      }, ownKeys: t("./$.own-keys"), preventExtensions: n(Object.preventExtensions || i.it), set: o
    };
    c && (m.setPrototypeOf = function (t, e) {
      return c(v(t), e), !0
    }), s(s.G, {Reflect: {}}), s(s.S, "Reflect", m)
  }, {
    "./$": 16,
    "./$.assert": 5,
    "./$.ctx": 11,
    "./$.def": 12,
    "./$.iter": 15,
    "./$.own-keys": 18,
    "./$.set-proto": 20,
    "./$.uid": 24
  }],
  47: [function (t) {
    var e = t("./$"), n = t("./$.cof"), r = e.g.RegExp, o = r, i = r.prototype;
    e.FW && e.DESC && (function () {
      try {
        return "/a/i" == r(/a/g, "i")
      } catch (t) {
      }
    }() || (r = function (t, e) {
      return new o("RegExp" == n(t) && void 0 !== e ? t.source : t, e)
    }, e.each.call(e.getNames(o), function (t) {
      t in r || e.setDesc(r, t, {
        configurable: !0, get: function () {
          return o[t]
        }, set: function (e) {
          o[t] = e
        }
      })
    }), i.constructor = r, r.prototype = i, e.hide(e.g, "RegExp", r)), "g" != /./g.flags && e.setDesc(i, "flags", {
      configurable: !0,
      get: t("./$.replacer")(/^.*\/(\w*)$/, "$1")
    })), t("./$.species")(r)
  }, {"./$": 16, "./$.cof": 7, "./$.replacer": 19, "./$.species": 21}],
  48: [function (t) {
    "use strict";
    var e = t("./$.collection-strong");
    t("./$.collection")("Set", {
      add: function (t) {
        return e.def(this, t = 0 === t ? 0 : t, t)
      }
    }, e)
  }, {"./$.collection": 10, "./$.collection-strong": 8}],
  49: [function (t) {
    var e = t("./$.def");
    e(e.P, "String", {codePointAt: t("./$.string-at")(!1)})
  }, {"./$.def": 12, "./$.string-at": 22}],
  50: [function (t) {
    "use strict";
    var e = t("./$"), n = t("./$.cof"), r = t("./$.def"), o = e.toLength;
    r(r.P, "String", {
      endsWith: function (t) {
        if ("RegExp" == n(t)) throw TypeError();
        var r = String(e.assertDefined(this)), i = arguments[1], s = o(r.length),
          c = void 0 === i ? s : Math.min(o(i), s);
        return t += "", r.slice(c - t.length, c) === t
      }
    })
  }, {"./$": 16, "./$.cof": 7, "./$.def": 12}],
  51: [function (t) {
    var e = t("./$.def"), n = t("./$").toIndex, r = String.fromCharCode;
    e(e.S, "String", {
      fromCodePoint: function () {
        for (var t, e = [], o = arguments.length, i = 0; o > i;) {
          if (t = +arguments[i++], n(t, 1114111) !== t) throw RangeError(t + " is not a valid code point");
          e.push(65536 > t ? r(t) : r(((t -= 65536) >> 10) + 55296, t % 1024 + 56320))
        }
        return e.join("")
      }
    })
  }, {"./$": 16, "./$.def": 12}],
  52: [function (t) {
    "use strict";
    var e = t("./$"), n = t("./$.cof"), r = t("./$.def");
    r(r.P, "String", {
      includes: function (t) {
        if ("RegExp" == n(t)) throw TypeError();
        return !!~String(e.assertDefined(this)).indexOf(t, arguments[1])
      }
    })
  }, {"./$": 16, "./$.cof": 7, "./$.def": 12}],
  53: [function (t) {
    var e = t("./$").set, n = t("./$.string-at")(!0), r = t("./$.uid").safe("iter"), o = t("./$.iter"), i = o.step;
    o.std(String, "String", function (t) {
      e(this, r, {o: String(t), i: 0})
    }, function () {
      var t, e = this[r], o = e.o, s = e.i;
      return s >= o.length ? i(1) : (t = n.call(o, s), e.i += t.length, i(0, t))
    })
  }, {"./$": 16, "./$.iter": 15, "./$.string-at": 22, "./$.uid": 24}],
  54: [function (t) {
    var e = t("./$"), n = t("./$.def");
    n(n.S, "String", {
      raw: function (t) {
        for (var n = e.toObject(t.raw), r = e.toLength(n.length), o = arguments.length, i = [], s = 0; r > s;) i.push(String(n[s++])), o > s && i.push(String(arguments[s]));
        return i.join("")
      }
    })
  }, {"./$": 16, "./$.def": 12}],
  55: [function (t) {
    "use strict";
    var e = t("./$"), n = t("./$.def");
    n(n.P, "String", {
      repeat: function (t) {
        var n = String(e.assertDefined(this)), r = "", o = e.toInteger(t);
        if (0 > o || 1 / 0 == o) throw RangeError("Count can't be negative");
        for (; o > 0; (o >>>= 1) && (n += n)) 1 & o && (r += n);
        return r
      }
    })
  }, {"./$": 16, "./$.def": 12}],
  56: [function (t) {
    "use strict";
    var e = t("./$"), n = t("./$.cof"), r = t("./$.def");
    r(r.P, "String", {
      startsWith: function (t) {
        if ("RegExp" == n(t)) throw TypeError();
        var r = String(e.assertDefined(this)), o = e.toLength(Math.min(arguments[1], r.length));
        return t += "", r.slice(o, o + t.length) === t
      }
    })
  }, {"./$": 16, "./$.cof": 7, "./$.def": 12}],
  57: [function (t) {
    "use strict";

    function e(t) {
      var e = $[t] = n.set(n.create(l.prototype), p, t);
      return n.DESC && d && n.setDesc(Object.prototype, t, {
        configurable: !0, set: function (e) {
          u(this, t, e)
        }
      }), e
    }

    var n = t("./$"), r = t("./$.cof").set, o = t("./$.uid"), i = t("./$.def"), s = t("./$.keyof"), c = n.has,
      u = n.hide, a = n.getNames, f = n.toObject, l = n.g.Symbol, h = l, d = !1, p = o.safe("tag"), g = {}, $ = {};
    n.isFunction(l) || (l = function (t) {
      if (this instanceof l) throw TypeError("Symbol is not a constructor");
      return e(o(t))
    }, u(l.prototype, "toString", function () {
      return this[p]
    })), i(i.G + i.W, {Symbol: l});
    var v = {
      "for": function (t) {
        return c(g, t += "") ? g[t] : g[t] = l(t)
      }, keyFor: function (t) {
        return s(g, t)
      }, pure: o.safe, set: n.set, useSetter: function () {
        d = !0
      }, useSimple: function () {
        d = !1
      }
    };
    n.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), function (n) {
      var r = t("./$.wks")(n);
      v[n] = l === h ? r : e(r)
    }), d = !0, i(i.S, "Symbol", v), i(i.S + i.F * (l != h), "Object", {
      getOwnPropertyNames: function (t) {
        for (var e, n = a(f(t)), r = [], o = 0; n.length > o;) c($, e = n[o++]) || r.push(e);
        return r
      }, getOwnPropertySymbols: function (t) {
        for (var e, n = a(f(t)), r = [], o = 0; n.length > o;) c($, e = n[o++]) && r.push($[e]);
        return r
      }
    }), r(l, "Symbol"), r(Math, "Math", !0), r(n.g.JSON, "JSON", !0)
  }, {"./$": 16, "./$.cof": 7, "./$.def": 12, "./$.keyof": 17, "./$.uid": 24, "./$.wks": 26}],
  58: [function (t) {
    "use strict";
    var e = t("./$"), n = t("./$.collection-weak"), r = n.leakStore, o = n.ID, i = n.WEAK, s = e.has, c = e.isObject,
      u = Object.isFrozen || e.core.Object.isFrozen, a = {}, f = t("./$.collection")("WeakMap", {
        get: function (t) {
          if (c(t)) {
            if (u(t)) return r(this).get(t);
            if (s(t, i)) return t[i][this[o]]
          }
        }, set: function (t, e) {
          return n.def(this, t, e)
        }
      }, n, !0, !0);
    e.FW && 7 != (new f).set((Object.freeze || Object)(a), 7).get(a) && e.each.call(["delete", "has", "get", "set"], function (t) {
      var e = f.prototype[t];
      f.prototype[t] = function (n, o) {
        if (c(n) && u(n)) {
          var i = r(this)[t](n, o);
          return "set" == t ? this : i
        }
        return e.call(this, n, o)
      }
    })
  }, {"./$": 16, "./$.collection": 10, "./$.collection-weak": 9}],
  59: [function (t) {
    "use strict";
    var e = t("./$.collection-weak");
    t("./$.collection")("WeakSet", {
      add: function (t) {
        return e.def(this, t, !0)
      }
    }, e, !1, !0)
  }, {"./$.collection": 10, "./$.collection-weak": 9}],
  60: [function (t, e) {
    (function (t) {
      !function (t) {
        "use strict";

        function n(t, e, n, r) {
          return new s(t, e, n || null, r || [])
        }

        function r(t, e, n) {
          try {
            return {type: "normal", arg: t.call(e, n)}
          } catch (r) {
            return {type: "throw", arg: r}
          }
        }

        function o() {
        }

        function i() {
        }

        function s(t, e, n, o) {
          function i(e, o) {
            if (u === m) throw new Error("Generator is already running");
            if (u === b) return l();
            for (; ;) {
              var i = c.delegate;
              if (i) {
                var s = r(i.iterator[e], i.iterator, o);
                if ("throw" === s.type) {
                  c.delegate = null, e = "throw", o = s.arg;
                  continue
                }
                e = "next", o = h;
                var a = s.arg;
                if (!a.done) return u = y, a;
                c[i.resultName] = a.value, c.next = i.nextLoc, c.delegate = null
              }
              if ("next" === e) {
                if (u === v && "undefined" != typeof o) throw new TypeError("attempt to send " + JSON.stringify(o) + " to newborn generator");
                u === y ? c.sent = o : delete c.sent
              } else if ("throw" === e) {
                if (u === v) throw u = b, o;
                c.dispatchException(o) && (e = "next", o = h)
              } else "return" === e && c.abrupt("return", o);
              u = m;
              var s = r(t, n, c);
              if ("normal" === s.type) {
                u = c.done ? b : y;
                var a = {value: s.arg, done: c.done};
                if (s.arg !== w) return a;
                c.delegate && "next" === e && (o = h)
              } else "throw" === s.type && (u = b, "next" === e ? c.dispatchException(s.arg) : o = s.arg)
            }
          }

          var s = e ? Object.create(e.prototype) : this, c = new a(o), u = v;
          return s.next = i.bind(s, "next"), s["throw"] = i.bind(s, "throw"), s["return"] = i.bind(s, "return"), s
        }

        function c(t) {
          var e = {tryLoc: t[0]};
          1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e)
        }

        function u(t) {
          var e = t.completion || {};
          e.type = "normal", delete e.arg, t.completion = e
        }

        function a(t) {
          this.tryEntries = [{tryLoc: "root"}], t.forEach(c, this), this.reset()
        }

        function f(t) {
          if (t) {
            var e = t[p];
            if (e) return e.call(t);
            if ("function" == typeof t.next) return t;
            if (!isNaN(t.length)) {
              var n = -1, r = function o() {
                for (; ++n < t.length;) if (d.call(t, n)) return o.value = t[n], o.done = !1, o;
                return o.value = h, o.done = !0, o
              };
              return r.next = r
            }
          }
          return {next: l}
        }

        function l() {
          return {value: h, done: !0}
        }

        var h, d = Object.prototype.hasOwnProperty, p = "function" == typeof Symbol && Symbol.iterator || "@@iterator",
          g = "object" == typeof e, $ = t.regeneratorRuntime;
        if ($) return void (g && (e.exports = $));
        $ = t.regeneratorRuntime = g ? e.exports : {}, $.wrap = n;
        var v = "suspendedStart", y = "suspendedYield", m = "executing", b = "completed", w = {},
          x = i.prototype = s.prototype;
        o.prototype = x.constructor = i, i.constructor = o, o.displayName = "GeneratorFunction", $.isGeneratorFunction = function (t) {
          var e = "function" == typeof t && t.constructor;
          return e ? e === o || "GeneratorFunction" === (e.displayName || e.name) : !1
        }, $.mark = function (t) {
          return t.__proto__ = i, t.prototype = Object.create(x), t
        }, $.async = function (t, e, o, i) {
          return new Promise(function (s, c) {
            function u(t) {
              var e = r(this, null, t);
              if ("throw" === e.type) return void c(e.arg);
              var n = e.arg;
              n.done ? s(n.value) : Promise.resolve(n.value).then(f, l)
            }

            var a = n(t, e, o, i), f = u.bind(a.next), l = u.bind(a["throw"]);
            f()
          })
        }, x[p] = function () {
          return this
        }, x.toString = function () {
          return "[object Generator]"
        }, $.keys = function (t) {
          var e = [];
          for (var n in t) e.push(n);
          return e.reverse(), function r() {
            for (; e.length;) {
              var n = e.pop();
              if (n in t) return r.value = n, r.done = !1, r
            }
            return r.done = !0, r
          }
        }, $.values = f, a.prototype = {
          constructor: a, reset: function () {
            this.prev = 0, this.next = 0, this.sent = h, this.done = !1, this.delegate = null, this.tryEntries.forEach(u);
            for (var t, e = 0; d.call(this, t = "t" + e) || 20 > e; ++e) this[t] = null
          }, stop: function () {
            this.done = !0;
            var t = this.tryEntries[0], e = t.completion;
            if ("throw" === e.type) throw e.arg;
            return this.rval
          }, dispatchException: function (t) {
            function e(e, r) {
              return i.type = "throw", i.arg = t, n.next = e, !!r
            }

            if (this.done) throw t;
            for (var n = this, r = this.tryEntries.length - 1; r >= 0; --r) {
              var o = this.tryEntries[r], i = o.completion;
              if ("root" === o.tryLoc) return e("end");
              if (o.tryLoc <= this.prev) {
                var s = d.call(o, "catchLoc"), c = d.call(o, "finallyLoc");
                if (s && c) {
                  if (this.prev < o.catchLoc) return e(o.catchLoc, !0);
                  if (this.prev < o.finallyLoc) return e(o.finallyLoc)
                } else if (s) {
                  if (this.prev < o.catchLoc) return e(o.catchLoc, !0)
                } else {
                  if (!c) throw new Error("try statement without catch or finally");
                  if (this.prev < o.finallyLoc) return e(o.finallyLoc)
                }
              }
            }
          }, abrupt: function (t, e) {
            for (var n = this.tryEntries.length - 1; n >= 0; --n) {
              var r = this.tryEntries[n];
              if (r.tryLoc <= this.prev && d.call(r, "finallyLoc") && this.prev < r.finallyLoc) {
                var o = r;
                break
              }
            }
            o && ("break" === t || "continue" === t) && o.tryLoc <= e && e < o.finallyLoc && (o = null);
            var i = o ? o.completion : {};
            return i.type = t, i.arg = e, o ? this.next = o.finallyLoc : this.complete(i), w
          }, complete: function (t, e) {
            if ("throw" === t.type) throw t.arg;
            return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = t.arg, this.next = "end") : "normal" === t.type && e && (this.next = e), w
          }, finish: function (t) {
            for (var e = this.tryEntries.length - 1; e >= 0; --e) {
              var n = this.tryEntries[e];
              if (n.finallyLoc === t) return this.complete(n.completion, n.afterLoc)
            }
          }, "catch": function (t) {
            for (var e = this.tryEntries.length - 1; e >= 0; --e) {
              var n = this.tryEntries[e];
              if (n.tryLoc === t) {
                var r = n.completion;
                if ("throw" === r.type) {
                  var o = r.arg;
                  u(n)
                }
                return o
              }
            }
            throw new Error("illegal catch attempt")
          }, delegateYield: function (t, e, n) {
            return this.delegate = {iterator: f(t), resultName: e, nextLoc: n}, w
          }
        }
      }("object" == typeof t ? t : "object" == typeof window ? window : this)
    }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
  }, {}]
}, {}, [1]);
