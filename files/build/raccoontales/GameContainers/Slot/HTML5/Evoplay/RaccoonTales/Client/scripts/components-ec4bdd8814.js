window.utils && window.utils.canExecute && window.utils.canExecute();!function l(i,a,r){function o(t,e){if(!a[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(s)return s(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=a[t]={exports:{}},i[t][0].call(n.exports,function(e){return o(i[t][1][e]||e)},n,n.exports,l,i,a,r)}return a[t].exports}for(var s="function"==typeof require&&require,e=0;e<r.length;e++)o(r[e]);return o}({1:[function(e,t,n){t.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l},t.exports.__esModule=!0,t.exports.default=t.exports},{}],2:[function(e,t,n){t.exports=function(e){if(Array.isArray(e))return e},t.exports.__esModule=!0,t.exports.default=t.exports},{}],3:[function(e,t,n){var l=e("./arrayLikeToArray.js");t.exports=function(e){if(Array.isArray(e))return l(e)},t.exports.__esModule=!0,t.exports.default=t.exports},{"./arrayLikeToArray.js":1}],4:[function(e,t,n){t.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},t.exports.__esModule=!0,t.exports.default=t.exports},{}],5:[function(e,t,n){function s(e,t,n,l,i,a,r){try{var o=e[a](r),s=o.value}catch(e){return void n(e)}o.done?t(s):Promise.resolve(s).then(l,i)}t.exports=function(o){return function(){var e=this,r=arguments;return new Promise(function(t,n){var l=o.apply(e,r);function i(e){s(l,t,n,i,a,"next",e)}function a(e){s(l,t,n,i,a,"throw",e)}i(void 0)})}},t.exports.__esModule=!0,t.exports.default=t.exports},{}],6:[function(e,t,n){t.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},{}],7:[function(e,t,n){function l(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}t.exports=function(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},t.exports.__esModule=!0,t.exports.default=t.exports},{}],8:[function(e,t,n){t.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},t.exports.__esModule=!0,t.exports.default=t.exports},{}],9:[function(e,t,n){var i=e("./superPropBase.js");function l(){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=l=Reflect.get.bind():t.exports=l=function(e,t,n){var l=i(e,t);if(l)return l=Object.getOwnPropertyDescriptor(l,t),l.get?l.get.call(arguments.length<3?e:n):l.value},t.exports.__esModule=!0,t.exports.default=t.exports,l.apply(this,arguments)}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports},{"./superPropBase.js":24}],10:[function(e,t,n){function l(e){return t.exports=l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},t.exports.__esModule=!0,t.exports.default=t.exports,l(e)}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports},{}],11:[function(e,t,n){var l=e("./setPrototypeOf.js");t.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)},t.exports.__esModule=!0,t.exports.default=t.exports},{"./setPrototypeOf.js":22}],12:[function(e,t,n){t.exports=function(e){return e&&e.__esModule?e:{default:e}},t.exports.__esModule=!0,t.exports.default=t.exports},{}],13:[function(e,t,n){t.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},t.exports.__esModule=!0,t.exports.default=t.exports},{}],14:[function(e,t,n){t.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var l,i,a=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(l=n.next()).done)&&(a.push(l.value),!t||a.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw i}}return a}},t.exports.__esModule=!0,t.exports.default=t.exports},{}],15:[function(e,t,n){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},{}],16:[function(e,t,n){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},{}],17:[function(e,t,n){var r=e("./objectWithoutPropertiesLoose.js");t.exports=function(e,t){if(null==e)return{};var n,l=r(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)n=i[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n]);return l},t.exports.__esModule=!0,t.exports.default=t.exports},{"./objectWithoutPropertiesLoose.js":18}],18:[function(e,t,n){t.exports=function(e,t){if(null==e)return{};for(var n,l={},i=Object.keys(e),a=0;a<i.length;a++)n=i[a],0<=t.indexOf(n)||(l[n]=e[n]);return l},t.exports.__esModule=!0,t.exports.default=t.exports},{}],19:[function(e,t,n){var l=e("./typeof.js").default,i=e("./assertThisInitialized.js");t.exports=function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},t.exports.__esModule=!0,t.exports.default=t.exports},{"./assertThisInitialized.js":4,"./typeof.js":26}],20:[function(e,I,t){var w=e("./typeof.js").default;function n(){"use strict";I.exports=function(){return r},I.exports.__esModule=!0,I.exports.default=I.exports;var r={},e=Object.prototype,s=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},l=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,n){return e[t]=n}}function o(e,t,n,l){var i,a,r,o,t=t&&t.prototype instanceof h?t:h,t=Object.create(t.prototype),l=new _(l||[]);return t._invoke=(i=e,a=n,r=l,o="suspendedStart",function(e,t){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===e)throw t;return C()}for(r.method=e,r.arg=t;;){var n=r.delegate;if(n){n=function e(t,n){var l=t.iterator[n.method];if(void 0===l){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method))return c;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}l=u(l,t.iterator,n.arg);if("throw"===l.type)return n.method="throw",n.arg=l.arg,n.delegate=null,c;l=l.arg;return l?l.done?(n[t.resultName]=l.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,c):l:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,c)}(n,r);if(n){if(n===c)continue;return n}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===o)throw o="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o="executing";n=u(i,a,r);if("normal"===n.type){if(o=r.done?"completed":"suspendedYield",n.arg===c)continue;return{value:n.arg,done:r.done}}"throw"===n.type&&(o="completed",r.method="throw",r.arg=n.arg)}}),t}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}r.wrap=o;var c={};function h(){}function f(){}function d(){}var t={},p=(a(t,l,function(){return this}),Object.getPrototypeOf),p=p&&p(p(S([]))),y=(p&&p!==e&&s.call(p,l)&&(t=p),d.prototype=h.prototype=Object.create(t));function b(e){["next","throw","return"].forEach(function(t){a(e,t,function(e){return this._invoke(t,e)})})}function m(r,o){var t;this._invoke=function(n,l){function e(){return new o(function(e,t){!function t(e,n,l,i){var a,e=u(r[e],r,n);if("throw"!==e.type)return(n=(a=e.arg).value)&&"object"==w(n)&&s.call(n,"__await")?o.resolve(n.__await).then(function(e){t("next",e,l,i)},function(e){t("throw",e,l,i)}):o.resolve(n).then(function(e){a.value=e,l(a)},function(e){return t("throw",e,l,i)});i(e.arg)}(n,l,e,t)})}return t=t?t.then(e,e):e()}}function g(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function v(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(g,this),this.reset(!0)}function S(t){if(t){var n,e=t[l];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(s.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:C}}function C(){return{value:void 0,done:!0}}return a(y,"constructor",f.prototype=d),a(d,"constructor",f),f.displayName=a(d,i,"GeneratorFunction"),r.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},r.awrap=function(e){return{__await:e}},b(m.prototype),a(m.prototype,n,function(){return this}),r.AsyncIterator=m,r.async=function(e,t,n,l,i){void 0===i&&(i=Promise);var a=new m(o(e,t,n,l),i);return r.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},b(y),a(y,i,"Generator"),a(y,l,function(){return this}),a(y,"toString",function(){return"[object Generator]"}),r.keys=function(n){var e,l=[];for(e in n)l.push(e);return l.reverse(),function e(){for(;l.length;){var t=l.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},r.values=S,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(v),!e)for(var t in this)"t"===t.charAt(0)&&s.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var l=this;function e(e,t){return a.type="throw",a.arg=n,l.next=e,t&&(l.method="next",l.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],a=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var r=s.call(i,"catchLoc"),o=s.call(i,"finallyLoc");if(r&&o){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(r){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var l=this.tryEntries[n];if(l.tryLoc<=this.prev&&s.call(l,"finallyLoc")&&this.prev<l.finallyLoc){var i=l;break}}var a=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),v(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,l,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(l=n.arg,v(i)),l}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},r}I.exports=n,I.exports.__esModule=!0,I.exports.default=I.exports},{"./typeof.js":26}],21:[function(e,t,n){var a=e("./superPropBase.js"),r=e("./defineProperty.js");function o(e,t,n,l){return(o="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,l){var i,e=a(e,t);if(e){if((i=Object.getOwnPropertyDescriptor(e,t)).set)return i.set.call(l,n),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(l,t)){if(!i.writable)return!1;i.value=n,Object.defineProperty(l,t,i)}else r(l,t,n);return!0})(e,t,n,l)}t.exports=function(e,t,n,l,i){if(!o(e,t,n,l||e)&&i)throw new Error("failed to set property");return n},t.exports.__esModule=!0,t.exports.default=t.exports},{"./defineProperty.js":8,"./superPropBase.js":24}],22:[function(e,n,t){function l(e,t){return n.exports=l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n.exports.__esModule=!0,n.exports.default=n.exports,l(e,t)}n.exports=l,n.exports.__esModule=!0,n.exports.default=n.exports},{}],23:[function(e,t,n){var l=e("./arrayWithHoles.js"),i=e("./iterableToArrayLimit.js"),a=e("./unsupportedIterableToArray.js"),r=e("./nonIterableRest.js");t.exports=function(e,t){return l(e)||i(e,t)||a(e,t)||r()},t.exports.__esModule=!0,t.exports.default=t.exports},{"./arrayWithHoles.js":2,"./iterableToArrayLimit.js":14,"./nonIterableRest.js":15,"./unsupportedIterableToArray.js":27}],24:[function(e,t,n){var l=e("./getPrototypeOf.js");t.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e},t.exports.__esModule=!0,t.exports.default=t.exports},{"./getPrototypeOf.js":10}],25:[function(e,t,n){var l=e("./arrayWithoutHoles.js"),i=e("./iterableToArray.js"),a=e("./unsupportedIterableToArray.js"),r=e("./nonIterableSpread.js");t.exports=function(e){return l(e)||i(e)||a(e)||r()},t.exports.__esModule=!0,t.exports.default=t.exports},{"./arrayWithoutHoles.js":3,"./iterableToArray.js":13,"./nonIterableSpread.js":16,"./unsupportedIterableToArray.js":27}],26:[function(e,t,n){function l(e){return t.exports=l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.__esModule=!0,t.exports.default=t.exports,l(e)}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports},{}],27:[function(e,t,n){var l=e("./arrayLikeToArray.js");t.exports=function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},{"./arrayLikeToArray.js":1}],28:[function(t,e,n){t=t("../helpers/regeneratorRuntime")();e.exports=t;try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},{"../helpers/regeneratorRuntime":20}],29:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(l,e);var n=u(l);function l(e){var t;return(0,i.default)(this,l),(t=n.call(this)).animation=null,t.zOrder=0,e&&t.setAnimation(e),t}return(0,a.default)(l,[{key:"setAnimation",value:function(e){var t,n=this;if(!e)throw new Error("animation is "+e);this.supportCacheAnimation(e)?this.animation.onComplete=null:this.clear(),"frame"===e.type?(this.animation=c2d.display.AnimatedSprite.createFrom(e),this.animation.play()):(this.animation||(this.animation=new c2d.display.Spine(e.spine)),this.animation.skeleton.setToSetupPose(),e.skin&&(this.animation.skin=e.skin),this.animation.play(e.animation,e.loop,!0),this.animation.speed=e.speed,e.startFromRandomFrame&&(this.animation.currentTime=Math.random()*this.animation.totalTime)),e.blendMode&&(this.animation.blendMode=c2d.display.blendMode[e.blendMode]),e.mask&&((t=new PIXI.Graphics).beginFill(0).drawRect(e.mask.x,e.mask.y,e.mask.width,e.mask.height).endFill(),this.animation.addChild(t),this.animation.mask=t),this.zOrder=e.zOrder||0,this.displayGroup=e.displayGroup?game.displayGroups[e.displayGroup]:null,this.animation.parent||this.addChild(this.animation),e.scale&&setTimeout(function(){n.scaleX=e.scale,n.scaleY=e.scale},0)}},{key:"supportCacheAnimation",value:function(e){return"frame"!==e.type&&e.spine&&this.animation&&!this.animation.mask&&this.animation.spineData&&this.animation.spineData.hash===e.spine.hash}},{key:"totalTime",get:function(){return this.animation.totalTime}},{key:"currentTime",get:function(){return this.animation.currentTime},set:function(e){this.animation.currentTime=e}},{key:"loop",get:function(){return this.animation.loop},set:function(e){this.animation.loop=e}},{key:"onComplete",set:function(e){this.animation.onComplete=e}},{key:"onEvent",set:function(e){this.animation.onEvent=e}},{key:"scaleX",get:function(){return this.animation.scale.x},set:function(e){this.animation.scale.x=e}},{key:"scaleY",get:function(){return this.animation.scale.y},set:function(e){this.animation.scale.y=e}},{key:"stop",value:function(){this.animation.stop()}},{key:"clear",value:function(){this.animation&&this.animation.parent&&(this.animation.mask=null,this.animation.removeFromParent(),this.animation.onComplete=null),this.animation=null}}]),l}(PIXI.Container);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],30:[function(e,t,n){"use strict";e("./preloader/index.js"),e("./slots/index.js")},{"./preloader/index.js":31,"./slots/index.js":352}],31:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=l(e("@babel/runtime/helpers/classCallCheck")),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=u(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"onInitialize",value:function(){}},{key:"onActivate",value:function(){}},{key:"stepProgress",value:function(e,t){}},{key:"onDeactivate",value:function(){}}]),n}(c2d.Component);l.ID="Preloader",c2d.registerComponent(l)},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],32:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={GameMode:{INIT_GAME_MODE:"INIT_GAME_MODE",IDLE_GAME_MODE:"IDLE_GAME_MODE",CHECK_GAME_MODE:"CHECK_GAME_MODE",BASE_GAME_MODE:"BASE_GAME_MODE",FREESPINS_GAME_MODE:"FREESPINS_GAME_MODE",BONUS_GAME_MODE:"BONUS_GAME_MODE"},SlotsFSM:{IG_START_STATE:"IG_START_STATE",IG_REQUEST_STATE:"IG_REQUEST_STATE",IG_RESPONSE_STATE:"IG_RESPONSE_STATE",IG_END_STATE:"IG_END_STATE",INTRO_STATE:"INTRO_STATE",CINEMATIC_STATE:"CINEMATIC_STATE",CHECK_STATE:"CHECK_STATE",IDLE_STATE:"IDLE_STATE",BG_RESTORE_STATE:"BG_RESTORE_STATE",BG_START_STATE:"BG_START_STATE",BG_SPIN_START_STATE:"BG_SPIN_START_STATE",BG_SPIN_REQUEST_STATE:"BG_SPIN_REQUEST_STATE",BG_SPIN_RESPONSE_STATE:"BG_SPIN_RESPONSE_STATE",BG_SPIN_STOP_STATE:"BG_SPIN_STOP_STATE",BG_SHOW_RESULT_STATE:"BG_SHOW_RESULT_STATE",BG_CHECK_STATE:"BG_CHECK_STATE",BG_BEFORE_IDLE_STATE:"BG_BEFORE_IDLE_STATE",BG_PLAY_POP_STATE:"BG_PLAY_POP_STATE",BG_DROP_REQUEST_STATE:"BG_DROP_REQUEST_STATE",BG_DROP_RESPONSE_STATE:"BG_DROP_RESPONSE_STATE",BG_PLAY_DROP_STATE:"BG_PLAY_DROP_STATE",BG_END_STATE:"BG_END_STATE",BG_SKIP_RESULT_STATE:"BG_SKIP_RESULT_STATE",FS_RESTORE_STATE:"FS_RESTORE_STATE",FS_INIT_STATE:"FS_INIT_STATE",FS_START_STATE:"FS_START_STATE",FS_SPIN_START_STATE:"FS_SPIN_START_STATE",FS_SPIN_REQUEST_STATE:"FS_SPIN_REQUEST_STATE",FS_SPIN_RESPONSE_STATE:"FS_SPIN_RESPONSE_STATE",FS_SPIN_STOP_STATE:"FS_SPIN_STOP_STATE",FS_SHOW_RESULT_STATE:"FS_SHOW_RESULT_STATE",FS_CHECK_STATE:"FS_CHECK_STATE",FS_PLAY_POP_STATE:"FS_PLAY_POP_STATE",FS_DROP_REQUEST_STATE:"FS_DROP_REQUEST_STATE",FS_DROP_RESPONSE_STATE:"FS_DROP_RESPONSE_STATE",FS_PLAY_DROP_STATE:"FS_PLAY_DROP_STATE",FS_END_STATE:"FS_END_STATE",GM_RESTORE_STATE:"GM_RESTORE_STATE",GM_INIT_STATE:"GM_INIT_STATE",GM_START_STATE:"GM_START_STATE",GM_IDLE_STATE:"GM_IDLE_STATE",GM_START_ACTION_STATE:"GM_START_ACTION_STATE",GM_COLLECT_STATE:"GM_COLLECT_STATE",GM_WIN_STATE:"GM_WIN_STATE",GM_LOSE_STATE:"GM_LOSE_STATE",GM_STANDOFF_STATE:"GM_STANDOFF_STATE",GM_END_STATE:"GM_END_STATE",BN_RESTORE_STATE:"BN_RESTORE_STATE",BN_INIT_STATE:"BN_INIT_STATE",BN_START_STATE:"BN_START_STATE",BN_STEP_STATE:"BN_STEP_STATE",BN_END_STATE:"BN_END_STATE",GS_IDLE_STATE:"GS_IDLE_STATE"}}},{}],33:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={ON_SLOTS_STARTED:"Slots.ON_SLOTS_STARTED",ON_SLOTS_LOADED:"Slots.ON_SLOTS_LOADED",ON_MODEL_CHANGED:"Slots.ON_MODEL_CHANGED",ON_RESULT:"Slots.ON_RESULT",ON_WIN_RESULT:"Slots.ON_WIN_RESULT",ON_SKIP_WIN_RESULT:"Slots.ON_SKIP_WIN_RESULT",ON_LOSE_RESULT:"Slots.ON_LOSE_RESULT",ON_SET_DATA:"Slots.ON_SET_DATA",ON_BEHAVIOR_CHANGED:"Slots.ON_BEHAVIOR_CHANGED",ON_BET_CHANGE_AFTER_GIFT_SPIN:"Slots.ON_BET_CHANGE_AFTER_GIFT_SPIN",WIN_PRESENTATION_STAGE:"Slots.WIN_PRESENTATION_STAGE",WIN_PRESENTATION_STARTED:"Slots.WIN_PRESENTATION_STARTED",WIN_PRESENTATION_COMPLETED:"Slots.WIN_PRESENTATION_COMPLETED",WIN_LINES_TOGGLING_STARTED:"Slots.WIN_LINES_TOGGLING_STARTED"}},{}],34:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("./../model/SlotsModel.js")),h=l(e("./SlotsApiObserver.js"));function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=f(n);function n(){var e;return(0,i.default)(this,n),(e=t.apply(this,arguments)).controller=new game.src.SlotsFSM.SlotsController,e.controller.network=c2d.createComponent("network","network"),e.controller.network.initialize(null,{}),e}return(0,a.default)(n,[{key:"onInitialize",value:function(){var e=new c.default,t=(e.initWithModel(this.config.model),new c2d.display.View);this.context.view.addChild(t),this.controller.initialize(e,t),this.config.behavior&&this.controller.initBehavior(this.config.behavior),(0,h.default)(this,c2d.documentEvents)}},{key:"setData",value:function(e){this.controller.setData(e)}},{key:"addChild",value:function(e){(0,r.default)((0,u.default)(n.prototype),"addChild",this).call(this,e),e.subscribeAny(function(e){return c2d.env.DEBUG_EVENTS&&console.log("Event: ",e.name," data: ",e.data)},this)}}]),n}(c2d.Component);(n.default=l).Events={}},{"./../model/SlotsModel.js":362,"./SlotsApiObserver.js":35,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],35:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){e.subscribe(c2d.fsm.FSM.Events.STATE_PHASE_DID_CHANGE,function(e){if("enter"==e.data.newPhase)switch(e.data.stateId){case game.slots.FSM_STATES.BG_START_STATE:document.dispatchEvent(new CustomEvent(t.GAME_TYPE_START,{detail:{name:"spin"}}));break;case game.slots.FSM_STATES.BG_END_STATE:document.dispatchEvent(new CustomEvent(t.GAME_TYPE_END,{detail:{name:"spin"}}));break;case game.slots.FSM_STATES.FS_START_STATE:document.dispatchEvent(new CustomEvent(t.GAME_TYPE_START,{detail:{name:"freespins"}}));break;case game.slots.FSM_STATES.BN_START_STATE:document.dispatchEvent(new CustomEvent(t.GAME_TYPE_START,{detail:{name:"bonus"}}))}if("exit"==e.data.newPhase)switch(e.data.stateId){case game.slots.FSM_STATES.FS_END_STATE:document.dispatchEvent(new CustomEvent(t.GAME_TYPE_END,{detail:{name:"freespins"}}));break;case game.slots.FSM_STATES.BN_END_STATE:document.dispatchEvent(new CustomEvent(t.GAME_TYPE_END,{detail:{name:"bonus"}}))}})}},{}],36:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/get")),s=l(e("@babel/runtime/helpers/inherits")),a=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}var h={BIG_WIN_SHOW:"Bigwin.BIG_WIN_SHOW",BIG_WIN_HIDE:"Bigwin.BIG_WIN_HIDE",BIG_WIN_STAGE:"Bigwin.BIG_WIN_STAGE",BIG_WIN_STAGE_OUT:"Bigwin.BIG_WIN_STAGE_OUT",BIG_WIN_COUNT_STOP:"Bigwin.BIG_WIN_COUNT_STOP"},l=function(e){(0,s.default)(a,e);var t=c(a);function a(e){return(0,i.default)(this,a),(e=t.call(this,e))._event=null,e._currentStage=0,e._labelSpine=null,e._label=null,e._count=0,e._coins=[],e._spawnInterval=-1,e._currentSpawnInterval=0,e._gravity=0,e.totalWinCount=0,e.totalWin=0,e.secondPartMiltiplierActivated=!1,e.isBigWinPlayed=!1,e.timeToHide=1e3,e.multiplierDelay=1500,e.multiplierTime=400,e.multiplierDuration=10,e.isSkipped=!1,e}return(0,r.default)(a,[{key:"createNewLabels",value:function(){var e=this,t=(this._gravity=9.8*(c2d.env.device.desktop()?2:1),this._spawnInterval=30*(this.config.stages.length-this._currentStage-1),this.spine="big_win",this._labelSpine=new c2d.display.Spine(this._respack.getAsset("big_win_counter")),this._labelSpine.position.y=20,this._content.addChild(this._labelSpine),this._labelSpine.play("in_counter"),this._labelSpine.onComplete=function(){e._labelSpine.play("idle_counter",!0)},this.displayGroup=game.displayGroups.UI,this._labelSpine.zOrder=2e3,this.dispatch(h.BIG_WIN_SHOW),this.totalWinCount=1<this.slotsModel.multiplier?this.totalWin/this.slotsModel.multiplier:this.totalWin,this._labelSpine.getChildByName("text"));t&&t.children.length&&this.setText(t)}},{key:"onActivate",value:function(){var t=this;(0,o.default)((0,u.default)(a.prototype),"onActivate",this).call(this),this.config.properties=this.config.properties||{},this.config.properties.landscape=this.config.properties.landscape||{position:{x:"50%",y:"50%"},scale:"100%"},this.config.properties.portrait=this.config.properties.portrait||{position:{x:"50%",y:"30%"},scale:"60%"},this.multiplierDuration=this.config.multiplierDuration||10,c2d.eventManager.subscribe(game.events.Slots.ON_SKIP_WIN_RESULT,function(e){e.lock(),t._event=e,t.isSkipped=!0,t.isBigWinPlayed&&t.stopCount()}),c2d.eventManager.subscribe(game.events.Slots.ON_RESULT,function(e){t.totalWin=(null!=e.data.totalWin?e.data:t.slotsModel).totalWin,t.isBigWin&&(t.isSkipped=!1,e.lock(),t.isBigWinPlayed=!0,t._event=e,t._currentStage=0,t._count=0,t.createNewLabels(),t.visible=!0,t.showStage(0,!0))})}},{key:"showStage",value:function(e,t){var n,l,i=this;null!==this._label&&(this.dispatch(h.BIG_WIN_STAGE_OUT,{stage:e}),this.dispatch(h.BIG_WIN_STAGE,{stage:e}),this._currentStage=e,n=function(){i._gravity=9.8*(c2d.env.device.desktop()?2:1),i._spawnInterval=30*(i.config.stages.length-i._currentStage-1),i.play(i.config.stages[i._currentStage].animation.idle,!0)},t?(this.play(this.config.stages[this._currentStage].animation.in),this.onComplete=n):n(),l=this.totalWinCount,e<=this.config.stages.length-2&&(l=Math.min(this.totalWinCount,this.config.stages[e+1].winRatio*this.slotsModel.totalBetCredit)),t=this.config.stages[this._currentStage].duration,1===this.slotsModel.multiplier&&(l-this._count)/this.slotsModel.totalBetCredit<10&&(t/=this.multiplierDuration),c2d.Tween.get(this._label.scale).to({x:this.config.stages[this._currentStage].scale,y:this.config.stages[this._currentStage].scale},t),this.tween=c2d.Tween.get(this),this.tween.to({},t).addEventListener("change",function(e){return i.setLabelText(e,l)}))}},{key:"playSecondPartMultiplierCount",value:function(){var n=this,e=(this.secondPartMiltiplierActivated=!1,this._content&&c2d.Tween.removeTweens(this._content),c2d.Tween.removeTweens(this),this.config.stages.forEach(function(e,t){parseInt(e.winRatio,10)*n.slotsModel.totalBetCredit<=n.totalWin/n.slotsModel.multiplier&&(n._currentStage=t)}),this.totalWinCount=this.totalWin,this.config.multiplierPaddingY||0);1<this._currentStage?this._labelMultiplier.y=this._label.height/2+this._labelMultiplier.height/1.5+e:this._labelMultiplier.y=this._label.height/2+this._labelMultiplier.height/2+e,c2d.Tween.get(this._labelMultiplier).wait(this.multiplierDelay).to({alpha:1},this.multiplierTime).wait(this.multiplierDelay).to({alpha:0},this.multiplierTime).call(function(){n._labelMultiplier.removeFromParent(),n.dispatch(h.BIG_WIN_SHOW),n.showStage(n._currentStage,!1)})}},{key:"stopCount",value:function(){var n=this,l=(this.secondPartMiltiplierActivated=!1,c2d.Tween.removeTweens(this._label.scale),c2d.Tween.removeTweens(this._content),c2d.Tween.removeTweens(this),this._labelMultiplier&&(c2d.Tween.removeTweens(this._labelMultiplier),this._labelMultiplier.removeFromParent(),this._labelMultiplier=null),this._coins.forEach(function(e){e.removeFromParent()}),this._label.text=0<this.totalWin%1?this.totalWin.toFixed(2):this.totalWin,0);this.config.stages.forEach(function(e,t){n.totalWin>=Number(e.winRatio*n.slotsModel.totalBetCredit)&&(l=t)}),l>this._currentStage&&this.dispatch(h.BIG_WIN_STAGE,{stage:l}),this._currentStage=l,this._gravity=9.8*(c2d.env.device.desktop()?2:1),this._label.scale.x=this.config.stages[this._currentStage].scale,this._label.scale.y=this.config.stages[this._currentStage].scale,this._content.mousedown=this._content.touchstart=null,this.dispatch(h.BIG_WIN_COUNT_STOP),this.isBigWinPlayed?(this.play(this.config.stages[this._currentStage].animation.idle),c2d.Tween.get(this).wait(this.timeToHide).call(function(){return n.hide(!1)})):(this.onComplete=function(){},this.hide(!0)),this.isBigWinPlayed=!1}},{key:"hide",value:function(e){var t=this;c2d.Tween.removeTweens(this),this.dispatch(h.BIG_WIN_HIDE),this._spawnInterval=-1,this._gravity=9.8*(c2d.env.device.desktop()?2:1),e?(this.hideBigWinAndUnlock(),this.destroyLabels()):(this._labelSpine&&this._labelSpine.play("out_counter"),this.play(this.config.stages[this._currentStage].animation.out),this.onComplete=function(){t.destroyLabels(),t.hideBigWinAndUnlock()})}},{key:"hideBigWinAndUnlock",value:function(){this.visible=!1,this._event&&(this._event.unlock(),this._event=null)}},{key:"createCoin",value:function(e,t){var n={frames:this.config.coins,loop:!0,speed:700*(.5*Math.random()+.5)},n=new c2d.display.Animation(c2d.animationConfig.create(n,this._respack));n.displayGroup=game.displayGroups.UI,n.zOrder=1e3-(this._coins.length-1),n.position=e,n.velocity=t,n.scale={x:.5,y:.5},n.rotation=360*Math.random(),this.context.view.addChild(n),this._coins.push(n)}},{key:"update",value:function(e){if((0,o.default)((0,u.default)(a.prototype),"update",this).call(this,e),this.config.coins){-1!=this._spawnInterval&&(this._currentSpawnInterval+=e,this._currentSpawnInterval>=this._spawnInterval&&(this._currentSpawnInterval=0,t=80*(c2d.env.device.desktop()?2:1),n=c2d.env.device.portrait()?c2d.designSize.height:c2d.designSize.width,this.createCoin({x:.5*n,y:c2d.designSize.height},{x:(2*Math.random()-1)*t*.5,y:-(.5*Math.random()+.5)*t}))),e*=.01;for(var t,n,l=0;l<this._coins.length;){var i=this._coins[l];i.velocity.y+=this._gravity*e,i.position.x+=i.velocity.x*e,i.position.y+=i.velocity.y*e,i.scale.x+=.05*e,i.scale.y+=.05*e,i.position.y>c2d.designSize.height+i.height*i.scale.y?(this._coins.splice(l,1),this.context.view.removeChild(i)):++l}}}},{key:"spine",set:function(e){this._spine&&this._spine.destroy&&this._spine.destroy(),this._spine=new c2d.display.Spine(this._respack.getAsset(e)),this._content.addChild(this._spine)}},{key:"onComplete",set:function(e){this._spine.onComplete=e}},{key:"play",value:function(){var e;(e=this._spine).play.apply(e,arguments)}},{key:"isBigWin",get:function(){return this.totalWin>=this.config.stages[0].winRatio*this.slotsModel.totalBetCredit}},{key:"destroyLabels",value:function(){this._label&&(this._label.removeFromParent(),this._label=null),this._labelSpine&&(this._labelSpine.removeFromParent(),this._labelSpine=null)}},{key:"setLabelText",value:function(e,t){var n=Math.round(e.target.position/e.target.duration*30)/30;if(!this._label&&!this.isSkipped)return this.stopCount();0<this.totalWin%1?this._label.text=(this._count+n*(t-this._count)).toFixed(2):this._label.text=parseInt(this._count+parseInt(n*(t-this._count))),e.target.position===e.target.duration&&(this._count=t,this._count!==this.totalWinCount&&this._currentStage<this.config.stages.length-1?this.showStage(this._currentStage+1,!0):(this._label.text=0<this.totalWin%1?this.totalWinCount.toFixed(2):parseInt(this.totalWinCount),this._gravity=-3*(c2d.env.device.desktop()?2:1),this._spawnInterval=0,this.secondPartMiltiplierActivated?this.playSecondPartMultiplierCount():this.isSkipped||this.stopCount(),this.dispatch(h.BIG_WIN_COUNT_STOP)))}},{key:"setText",value:function(e){this._label=new c2d.display.LabelSprite(this._respack,this.config.fontPrefix||"popups_font/",this.config.padding),0<this.totalWin%1?this._label.text=this._count.toFixed(2):this._label.text=this._count,e.children[0].addChild(this._label),1<this.slotsModel.multiplier?(this.secondPartMiltiplierActivated=!0,this._labelMultiplier=new c2d.display.LabelSprite(this._respack,this.config.fontPrefix||"popups_font/",this.config.padding),this._labelMultiplier.text="x"+this.slotsModel.multiplier.toString(),e.children[0].addChild(this._labelMultiplier),this._labelMultiplier.scale.x=this.config.multiplierScale||.7,this._labelMultiplier.scale.y=this.config.multiplierScale||.7,this._labelMultiplier.alpha=0):this._label.text=0}}]),a}(game.components.view);(n.default=l).ID="BigwinNotification",game.registerComponent(l,h)},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],37:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(l,e);var n=c(l);function l(e){var t;return(0,i.default)(this,l),t=n.call(this,e),window.addEventListener("windowfocusout",function(){return c2d.AudioManager.mute=!0},!1),window.addEventListener("windowfocusin",function(){return c2d.AudioManager.mute=!t.slotsModel.audioEnabled},!1),t}return(0,a.default)(l,[{key:"onInitialize",value:function(){var e=new game.src.Audio.model,t=new game.src.Audio.controller;t.initialize(e),this.controller=t,this.fillProperties(this.config.properties),this.config.customEvents&&(this.config.events=this.config.events.concat(this.config.customEvents))}},{key:"onActivate",value:function(){c2d.AudioManager.preload({onFinish:function(){return c2d.eventManager.dispatch(game.events.Audio.AUDIO_FINISH_PRELOAD)}}),c2d.AudioManager.mute=!1}},{key:"onDeactivate",value:function(){c2d.AudioManager.mute=!0}},{key:"activateEvents",value:function(){(0,r.default)((0,u.default)(l.prototype),"activateEvents",this).call(this),this._events.forEach(function(e){var t=e.id,e=e.cb;return c2d.eventManager.subscribe(t,e)})}},{key:"deactivateEvents",value:function(){this._events.forEach(function(e){var t=e.id,e=e.cb;return c2d.eventManager.unsubscribe(t,e)}),(0,r.default)((0,u.default)(l.prototype),"deactivateEvents",this).call(this)}},{key:"play",value:function(e,t){c2d.AudioManager.playAudio(e,t)}},{key:"playRandom",value:function(e,t){this.play(e[Math.floor(Math.random()*e.length)],t)}},{key:"stop",value:function(e){c2d.AudioManager.stopAudio(e)}},{key:"setVolume",value:function(e,t){c2d.AudioManager.setVolume(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:0)}},{key:"setAudioMute",value:function(e,t){c2d.AudioManager.setAudioMute(e,t)}}]),l}(game.slots.Component);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],38:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={AUDIO_FINISH_PRELOAD:"Audio.AUDIO_FINISH_PRELOAD"}},{}],39:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=u(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"onInitialize",value:function(){}}]),n}(c2d.ComponentController);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],40:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=l(e("./api/AudioApi.js")),a=l(e("./api/Events.js")),r=l(e("./model/AudioModel.js")),l=l(e("./controller/AudioController.js"));i.default.src={model:r.default,controller:l.default},i.default.ID="Audio",game.registerComponent(i.default,a.default)},{"./api/AudioApi.js":37,"./api/Events.js":38,"./controller/AudioController.js":39,"./model/AudioModel.js":41,"@babel/runtime/helpers/interopRequireDefault":12}],41:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck"));n.default=(0,i.default)(function e(){(0,a.default)(this,e),Object.seal(this)})},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],42:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/slicedToArray"))),o=l(e("@babel/runtime/helpers/classCallCheck")),s=l(e("@babel/runtime/helpers/createClass")),u=l(e("@babel/runtime/helpers/get")),c=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),h=l(e("@babel/runtime/helpers/getPrototypeOf"));function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(n);return e=l?(e=(0,h.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,c.default)(r,e);var i=f(r);function r(){var e;(0,o.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=i.call.apply(i,[this].concat(n)))._overlay=null,e.time=500,e.from=0,e.to=.7,e}return(0,s.default)(r,[{key:"initialize",value:function(){for(var e,t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];(e=(0,u.default)((0,h.default)(r.prototype),"initialize",this)).call.apply(e,[this].concat(n)),this._overlay=this._initOverlay()}},{key:"onActivate",value:function(){for(var e,t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];(e=(0,u.default)((0,h.default)(r.prototype),"onActivate",this)).call.apply(e,[this].concat(n)),this.eventsSubscribe()}},{key:"onResize",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];(l=(0,u.default)((0,h.default)(r.prototype),"onResize",this)).call.apply(l,[this].concat(t));var l=c2d.screenParams,i=l.screenWidth,a=l.screenHeight,l=l.paddingLeft;this._overlay.position.x=-l,this._overlay.scale.set(i,a)}},{key:"_initOverlay",value:function(){var e=this.config,t=e.time,n=e.from,e=e.to,t=(this.time=t||this.time,this.from=n||this.from,this.to=e||this.to,new PIXI.Graphics),n=(t.beginFill(0,1),t.drawRect(0,0,1,1),t.endFill(),new c2d.display.Sprite);return n.addChild(t),n.alpha=0,this._content.addChild(n),n}},{key:"show",value:function(){var e="number"==typeof(e=0<arguments.length&&void 0!==arguments[0]&&arguments[0])?e:this.to;return this._changeState(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){})}},{key:"hide",value:function(){return this._changeState(this.from,0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){})}},{key:"_changeState",value:function(t,n){var l=this;return new Promise(function(e){c2d.Tween.get(l._overlay).to({alpha:t},l.time).call(function(){e(),n()})})}},{key:"eventsSubscribe",value:function(){var n=this;this.config.needSubscribe&&Object.entries(this.config.needSubscribe).forEach(function(e){var e=(0,a.default)(e,2),t=e[0],e=e[1];n.addListeners(e,t)})}},{key:"addListeners",value:function(e,t){var n=this;e&&this[t]&&e.forEach(function(e){n.listenerEventRouter.subscribe(e,function(){n[t]()})})}}]),r}(game.components.view);(n.default=l).ID="blackout",game.registerComponent(l,{})},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/slicedToArray":23}],43:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/typeof"))),a=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/get")),s=l(e("@babel/runtime/helpers/inherits")),u=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}l=function(e){(0,s.default)(n,e);var t=h(n);function n(e){return(0,a.default)(this,n),t.call(this,e)}return(0,r.default)(n,[{key:"onInitialize",value:function(){var e=new game.src.BonusGame.Model,t=game.src.BonusGame.View,n=("object"===(0,i.default)(t)&&(t=t[this.name]),game.src.BonusGame.Controller),t=("object"===(0,i.default)(n)&&(n=n[this.name]),new t),n=(t.initialize(this.respack),this.context.view.addChild(t),new n);n.initialize(e,t),this.controller=n,this.exportApi(["setModel","onEnterState","start","stepStart","stepEnd","end"])}},{key:"onResize",value:function(){(0,o.default)((0,c.default)(n.prototype),"onResize",this).call(this),this.controller.onResize()}},{key:"choice",get:function(){return this.controller.choice}},{key:"collect",get:function(){return this.controller.collect}}]),n}(game.slots.Component);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/typeof":26}],44:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={BONUSGAME_START:"BonusGame.BONUSGAME_START",BONUSGAME_END:"BonusGame.BONUSGAME_END",BONUSGAME_STEP_WIN:"BonusGame.BONUSGAME_STEP_WIN",BONUSGAME_STEP_LOSE:"BonusGame.BONUSGAME_STEP_LOSE",BONUSGAME_GAME_WIN:"BonusGame.BONUSGAME_GAME_WIN",BONUSGAME_GAME_LOSE:"BonusGame.BONUSGAME_GAME_LOSE",BONUSGAME_WILL_SHOW_WINS:"BonusGame.BONUSGAME_WILL_SHOW_WINS",BONUSGAME_DID_SHOW_WINS:"BonusGame.BONUSGAME_DID_SHOW_WINS"}},{}],45:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));l(e("./../api/Events.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.call(this)}return(0,a.default)(n,[{key:"onInitialize",value:function(){(0,r.default)((0,u.default)(n.prototype),"onInitialize",this).call(this)}},{key:"onResize",value:function(){this._view.onResize()}},{key:"onEnterState",value:function(e){}},{key:"setModel",value:function(e){this._model.setModel(e)}},{key:"start",value:function(e){Object.values(this._view._components).forEach(function(e){e.onResize()}),e()}},{key:"stepStart",value:function(e){c2d.call(e,this._model.stepStartDuration)}},{key:"stepEnd",value:function(e){c2d.call(e,this._model.stepEndDuration)}},{key:"end",value:function(e){c2d.call(e,this._model.endDuration)}},{key:"choice",get:function(){return this._model.choice}},{key:"collect",get:function(){return this._model.collect}}]),n}(c2d.ComponentController);n.default=l},{"./../api/Events.js":44,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],46:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=l(e("./api/BonusGameApi.js")),a=l(e("./api/Events.js")),r=l(e("./model/BonusGameModel.js")),o=l(e("./view/BonusGameView.js")),l=l(e("./controller/BonusGameController.js"));i.default.src={Events:a.default,Model:r.default,View:o.default,Controller:l.default},i.default.ID="BonusGame",game.registerComponent(i.default,a.default)},{"./api/BonusGameApi.js":43,"./api/Events.js":44,"./controller/BonusGameController.js":45,"./model/BonusGameModel.js":47,"./view/BonusGameView.js":48,"@babel/runtime/helpers/interopRequireDefault":12}],47:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=u(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this)).name="noname",e.livesCount=0,e.itemsCount=0,e.itemsMap=null,e.totalWins=0,e.currentStepIndex=0,e.steps=null,e.choice=0,e.collect=!1,e.extra={},e.startDuration=0,e.stepStartDuration=1e3,e.stepEndDuration=1200,e.endDuration=1500,e.autoplayDelay=1e3,e}return(0,a.default)(n,[{key:"setModel",value:function(e){this.name=e.name,this.livesCount=e.livesCount,this.itemsCount=e.itemsCount,this.itemsMap=e.itemsMap,this.totalWins=Number(e.totalWins),this.currentStepIndex=e.currentStep,this.steps=e.steps,e.history&&this.setExtra(e.extra),e.extra&&this.setExtra(e.extra)}},{key:"setHistory",value:function(e){console.warn("BonusGameModel: setHistory must be overrided! History:",e)}},{key:"setExtra",value:function(e){this.extra=e}},{key:"currentStep",get:function(){return this.steps[this.currentStepIndex-1]}},{key:"stepSuccess",get:function(){return this.currentStep&&0<this.currentStep.value}},{key:"gameSuccess",get:function(){return 0<this.livesCount||0===this.livesCount&&this.currentStep&&0<this.currentStep.value}}]),n}(c2d.Model);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],48:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.call(this)}return(0,a.default)(n,[{key:"onInitialize",value:function(){(0,r.default)((0,u.default)(n.prototype),"onInitialize",this).call(this)}},{key:"onResize",value:function(){}}]),n}(c2d.display.View);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],49:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={ON_APPLY_STATE:"FlatUI.ON_APPLY_STATE",SPIN_PRESSED:"FlatUI.SPIN_PRESSED",SKIP_WIN_PRESSED:"FlatUI.SKIP_WIN_PRESSED",ON_BEFORE_SKIP_WIN_RESULT:"FlatUI.ON_BEFORE_SKIP_WIN_RESULT",DO_SPIN:"FlatUI.DO_SPIN",CANCEL_AUTOSPINS_PRESSED:"FlatUI.CANCEL_AUTOSPINS_PRESSED",FREESPINS_START_PRESSED:"FlatUI.FREESPINS_START_PRESSED",COLLECT_PRESSED:"FlatUI.COLLECT_PRESSED",QUICK_STOP_PRESSED:"FlatUI.QUICK_STOP_PRESSED",PLAY_BUTTON_PRESSED:"FlatUI.PLAY_BUTTON_PRESSED",POPUP_CLOSED:"FlatUI.POPUP_CLOSED",TURBO_PRESSED:"FlatUI.TURBO_PRESSED",AUDIO_PRESSED:"FlatUI.AUDIO_PRESSED",CLOCK_PRESSED:"FlatUI.CLOCK_PRESSED",ON_CLOCK_PRESSED:"FlatUI.ON_CLOCK_PRESSED",ON_AUDIO_MODE_CHANGED:"FlatUI.ON_AUDIO_MODE_CHANGED",ON_AUDIO_VISIBILITY_CHANGED:"FlatUI.ON_AUDIO_VISIBILITY_CHANGED",ON_TURBO_MODE_CHANGED:"FlatUI.ON_TURBO_MODE_CHANGED",OPTIONS_PRESSED:"FlatUI.OPTIONS_PRESSED",FULLSCREEN_PRESSED:"FlatUI.FULLSCREEN_PRESSED",ON_FULLSCREEN_VISIBILITY_CHANGED:"FlatUI.ON_FULLSCREEN_VISIBILITY_CHANGED",FIRST_SWIPE_DOWN_DONE:"FlatUI.FIRST_SWIPE_DOWN_DONE",SWIPE_UP_DONE:"FlatUI.SWIPE_UP_DONE",SWIPE_DOWN_DONE:"FlatUI.SWIPE_DOWN_DONE",SWIPE_LEFT_DONE:"FlatUI.SWIPE_LEFT_DONE",SWIPE_RIGHT_DONE:"FlatUI.SWIPE_RIGHT_DONE",SWIPE_RIGHT_STARTED:"FlatUI.SWIPE_RIGHT_STARTED",LONG_CLICK_ON_SCREEN_DONE:"FlatUI.LONG_CLICK_ON_SCREEN_DONE",PAYTABLE_PRESSED:"FlatUI.PAYTABLE_PRESSED",HISTORY_CURRENT_PAGE_PRESSED:"FlatUI.HISTORY_CURRENT_PAGE_PRESSED",ON_GET_HISTORY:"FlatUI.ON_GET_HISTORY",AUTOSPIN_PRESSED:"FlatUI.AUTOSPIN_PRESSED",SFX_VOLUME_CHANGED:"FlatUI.SFX_VOLUME_CHANGED",MUSIC_VOLUME_CHANGED:"FlatUI.MUSIC_VOLUME_CHANGED",MASTER_VOLUME_CHANGED:"FlatUI.MASTER_VOLUME_CHANGED",ON_HAND_MODE_CHANGED:"FlatUI.ON_HAND_MODE_CHANGED",ON_SWIPE_MODE_CHANGED:"FlatUI.ON_SWIPE_MODE_CHANGED",LOCK_SWIPE_MODE:"FlatUI.LOCK_SWIPE_MODE",UNLOCK_SWIPE_MODE:"FlatUI.UNLOCK_SWIPE_MODE",ON_SPIN_BUTTON_CHANGED:"FlatUI.ON_SPIN_BUTTON_CHANGED",ON_CASH_CHANGED:"FlatUI.ON_CASH_CHANGED",ON_BET_CHANGED:"FlatUI.ON_BET_CHANGED",INCREASE_BET_LEVEL:"FlatUI.INCREASE_BET_LEVEL",DECREASE_BET_LEVEL:"FlatUI.DECREASE_BET_LEVEL",SET_BET_LEVEL:"FlatUI.SET_BET_LEVEL",SHOW_POPUP:"FlatUI.SHOW_POPUP",SHOW_OPTIONS:"FlatUI.SHOW_OPTIONS",HIDE_OPTIONS:"FlatUI.HIDE_OPTIONS",BUTTON_DOWN:"FlatUI.BUTTON_DOWN",BUTTON_HOVER:"FlatUI.BUTTON_HOVER",CLICK:"FlatUI.CLICK",ON_VR_ENTER:"FlatUI.ON_VR_ENTER",ON_VR_EXIT:"FlatUI.ON_VR_EXIT",ON_VR_NOT_FOUND:"FlatUI.ON_VR_NOT_FOUND"}},{}],50:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=u(n);function n(e){return(0,i.default)(this,n),t.call(this,e)}return(0,a.default)(n,[{key:"onInitialize",value:function(){var t=this,n=new game.src.FlatUI.Model,e=new game.src.FlatUI.View,l=(e.initialize(this.respack),this.context.view.addChild(e),new game.src.FlatUI.Controller(this.config));l.initialize(n,e),this.controller=l,this.exportApi(["showPopup","hidePopup","showToast","hideToast"]),game.api.addProperty("balance",function(){return t.balance},function(e){return t.balance=e}),game.api.addProperty("bet",function(){return t.bet},function(e){return t.bet=e}),game.api.addProperty("globalPause",function(){return t.getGlobalPause()},function(e){return t.setGlobalPause(e)}),game.api.addProperty("audioEnabled",function(){return!c2d.AudioManager.mute},function(e){return c2d.eventManager.dispatch(game.events.FlatUI.AUDIO_PRESSED,e)}),game.api.addProperty("fullscreenEnabled",function(){return screenfull.isFullscreen},function(e){return c2d.eventManager.dispatch(game.events.FlatUI.FULLSCREEN_PRESSED,e)}),game.api.addProperty("showPrompts",function(){return n.showPrompts},function(e){return n.showPrompts=e}),game.api.addProperty("audioVisible",function(){return n.showAudio},function(e){n.showAudio=e,c2d.eventManager.dispatch(game.events.FlatUI.ON_AUDIO_VISIBILITY_CHANGED,e)}),game.api.addProperty("fullscreenVisible",function(){return n.fullscreenVisible},function(e){n.fullscreenVisible=e,c2d.eventManager.dispatch(game.events.FlatUI.ON_FULLSCREEN_VISIBILITY_CHANGED,e)}),game.api.addGetter("totalBet",function(){return t.bet}),game.api.addGetter("credit",function(){return t.balance}),game.api.addGetter("currentState",function(){return t.currentState}),game.api.addGetter("currentPhase",function(){return t.currentPhase}),game.api.addGetter("isPaytableOpened",function(){return t.isPaytableOpened}),game.api.addGetter("isShifter",function(){return t.controller.isShifter}),game.api.addGetter("isPopupOpened",function(){return t.isPopupOpened}),game.api.addSetter("pause",function(e){return c2d.timescale=e?0:1}),game.api.addMethod("showPopup",function(){return t.showPopup.apply(t,arguments)}),game.api.addMethod("hidePopup",function(){return t.hidePopup.apply(t,arguments)}),game.api.addMethod("spin",function(){return c2d.eventManager.dispatch(game.events.FlatUI.SPIN_PRESSED)}),game.api.addMethod("collect",function(){return c2d.eventManager.dispatch(game.events.FlatUI.COLLECT_PRESSED)}),game.api.addMethod("skipIntro",function(){return c2d.eventManager.dispatch(game.events.FlatUI.PLAY_BUTTON_PRESSED)}),game.api.addMethod("openPaytable",function(){return c2d.eventManager.dispatch(game.events.FlatUI.PAYTABLE_PRESSED)}),game.api.addMethod("closePaytable",function(){return t.closePaytable()}),game.api.addMethod("showToast",function(){return t.showToast.apply(t,arguments)}),game.api.addMethod("hideToast",function(){return t.hideToast.apply(t,arguments)}),this.prepareSocialMessages()}},{key:"prepareSocialMessages",value:function(){function t(e){game.api.postEvent(Object.assign({message:e},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}))}function n(e){e.sound&&(game.api.audioEnabled=e.sound.enabled,game.api.audioVisible=e.sound.visible),e.fullscreen&&(void 0!==e.fullscreen.enabled&&(game.api.fullscreenEnabled=e.fullscreen.enabled),void 0!==e.fullscreen.visible&&(game.api.fullscreenVisible=e.fullscreen.visible)),void 0!==e.balance&&(game.api.balance=e.balance),void 0!==e.prompts&&(game.api.showPrompts=e.prompts),void 0!==e.pause&&(game.api.pause=e.pause)}window.getSocialMessage=n,c2d.eventManager.subscribeOnce(game.events.Slots.ON_SLOTS_LOADED,function(e){t("app.loaded",{designSize:{min:c2d.designMinSize,max:c2d.designSize}})}),document.addEventListener("game.goToBank",function(e){return t("app.bank",e.detail)}),document.addEventListener("game.goToLobby",function(e){return t("app.lobby",e.detail)}),document.addEventListener("game.gameTypeStart",function(e){return t("app.step.start",e.detail)}),document.addEventListener("game.gameTypeEnd",function(e){return t("app.step.end",e.detail)}),c2d.env.insideIFrame&&window.addEventListener("message",function(e){return e.data.state&&n(e.data.state)}),c2d.eventManager.subscribe(game.events.FlatUI.AUDIO_PRESSED,function(e){return t("app.state",{state:{sound:{enabled:e.data}}})}),c2d.eventManager.subscribe(game.events.FlatUI.FULLSCREEN_PRESSED,function(e){return t("app.state",{state:{fullscreen:{enabled:!screenfull.isFullscreen}}})})}},{key:"getGlobalPause",value:function(){return 0===c2d.timescale}},{key:"setGlobalPause",value:function(e){c2d.timescale=+!e}},{key:"cancelAutospins",value:function(){this.controller.model.autospinsData.count=0}},{key:"showPaytable",value:function(){this.controller.showPaytable()}},{key:"closePaytable",value:function(){this.controller.view.optionsScreen.close()}},{key:"showSettings",value:function(){this.controller.showSettings()}},{key:"spinRequestAction",value:function(){this.controller.spinRequestAction()}},{key:"show",value:function(){this.controller.showUI()}},{key:"hide",value:function(){this.controller.hideUI()}},{key:"toggleCompactFreespins",value:function(e){this.config.compactFreespins=e}},{key:"eventRouter",get:function(){return this._eventRouter},set:function(e){var t=this;this._eventRouter||(this._eventRouter=e,this.eventRouter.subscribe(c2d.fsm.FSM.Events.STATE_PHASE_DID_CHANGE,function(e){t.controller.changeStatePhase(e.data)}),this.eventRouter.subscribe(game.events.Slots.ON_MODEL_CHANGED,function(e){t.controller.updateModel(e.data)}))}},{key:"balance",get:function(){return this.controller.model.cashData.balance},set:function(e){this.controller.balance=e}},{key:"bet",get:function(){return this.controller.model.cashData.bet},set:function(e){this.controller.setBetValue(e)}},{key:"currentState",get:function(){return this.controller.model.state.currentState.stateId}},{key:"currentPhase",get:function(){return this.controller.model.state.currentState.newPhase}},{key:"isPaytableOpened",get:function(){return!!this.controller.view.optionsScreen}},{key:"isPopupOpened",get:function(){return!!this.controller.view.popup}}]),n}(game.slots.Component);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],51:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(l,e);var n=c(l);function l(e){var t;return(0,i.default)(this,l),(t=n.call(this))._config=e,t.slotModel=null,t}return(0,a.default)(l,[{key:"onInitialize",value:function(){var t=this;(0,r.default)((0,u.default)(l.prototype),"onInitialize",this).call(this),window.Shifter&&(this.shifter=new window.Shifter({})),this.view.setEventRouter(this.eventRouter),this.model.config=this._config,this.initEvents(),c2d.eventManager.subscribe(game.events.Slots.ON_SET_DATA,function(e){e=e.data;t.model.setCashData(e.bet,e.giftSpinsData)}),c2d.eventManager.subscribe(game.events.Slots.ON_BET_CHANGE_AFTER_GIFT_SPIN,function(){t.setBetValue(t.slotModel.bet)}),c2d.eventManager.subscribeOnce(game.events.Slots.ON_SLOTS_STARTED,function(){c2d.env.DEBUG_HHS&&!c2d.env.storage.getItem("omitShifter",!1)&&(t.view.showShifter({slotModel:t.slotModel}),t.isShifter=!0)}),this.handleOrientationChanges()}},{key:"handleOrientationChanges",value:function(){function t(e){e.paddingLeft,e.paddingTop,n.view.position.x=-c2d.engine._gameViewport.x,n.view.position.y=-c2d.engine._gameViewport.y,n.view.scale.x=1/c2d.engine._gameViewport.scale.x,n.view.scale.y=n.view.scale.x}var n=this;c2d.eventManager.subscribe(c2d.documentEvents.SCREEN_WAS_RESIZED,function(e){return t(e.data)}),t(c2d.screenParams)}},{key:"initEvents",value:function(){var t=this,n=game.events.FlatUI,l={};l[n.SPIN_PRESSED]=function(e){return t.onSpinPressed(e)},l[n.CANCEL_AUTOSPINS_PRESSED]=function(){return t.onCancelAutospinPressed()},l[n.INCREASE_BET_LEVEL]=function(){return t.changeBet(1)},l[n.DECREASE_BET_LEVEL]=function(){return t.changeBet(-1)},l[n.SET_BET_LEVEL]=function(e){return t.setBet(e.data)},l[n.CLOCK_PRESSED]=function(e){return t.showClock(e.data)},l[n.TURBO_PRESSED]=function(e){return t.toggleTurboMode(e.data)},l[n.OPTIONS_PRESSED]=function(e){return t.showSettings(e.data.page)},l[n.FULLSCREEN_PRESSED]=function(){window.screenfull.toggle()},l[n.PAYTABLE_PRESSED]=function(){return t.showPaytable()},l[n.AUTOSPIN_PRESSED]=function(e){return t.onAutoSpinPressed(e)},l[n.SFX_VOLUME_CHANGED]=function(e){t.model.sfxVolume=e.data},l[n.MUSIC_VOLUME_CHANGED]=function(e){t.model.musicVolume=e.data},l[n.MASTER_VOLUME_CHANGED]=function(e){t.model.masterVolume=e.data},l[n.ON_HAND_MODE_CHANGED]=function(e){return t.changeHandMode(e)},l[n.ON_SWIPE_MODE_CHANGED]=function(e){return t.toggleSwipeMode(e)},l[n.LOCK_SWIPE_MODE]=function(){return t.lockSwipeMode()},l[n.UNLOCK_SWIPE_MODE]=function(){return t.unlockSwipeMode()},l[n.ON_SPIN_BUTTON_CHANGED]=function(e){return t.onSpinButtonChanged(e)},l[n.FIRST_SWIPE_DOWN_DONE]=function(){return t.onFirstSwipeDone()},l[n.LONG_CLICK_ON_SCREEN_DONE]=function(){return t.onLongClickOnScreenDone()},l[n.SWIPE_RIGHT_STARTED]=function(){return t.onSwipeRightStarted.apply(t,arguments)},l[n.SWIPE_LEFT_DONE]=function(){return t.onSwipeLeftDone()},l[n.SWIPE_RIGHT_DONE]=function(){return t.onSwipeRightDone()},l[n.SWIPE_UP_DONE]=function(){return t.onSwipeUpDone()},l[n.SWIPE_DOWN_DONE]=function(){return t.onSwipeDownDone()},l[n.POPUP_CLOSED]=function(){return t.onPopupClosed()},l[n.HIDE_OPTIONS]=function(){return t.onOptionsHide()},Object.keys(n).map(function(e){return n[e]}).forEach(function(e){l[e]&&c2d.eventManager.subscribe(e,l[e])})}},{key:"updateModel",value:function(e){this.slotModel=e,this.model.slotsModelUpdate(e),this.shifter&&this.shifter.applyModel(e)}},{key:"updateState",value:function(){this.updateModel(this.slotModel)}},{key:"changeStatePhase",value:function(e){var t=this.model.state.parseGameState(e);this.view.applyState(t,e),c2d.eventManager.dispatch(game.events.FlatUI.ON_APPLY_STATE,t)}},{key:"refreshCurrentState",value:function(){this.changeStatePhase(this.model.state.currentState)}},{key:"showClock",value:function(e){this.model.showClock=e,c2d.eventManager.dispatch(game.events.FlatUI.ON_CLOCK_PRESSED,e)}},{key:"toggleTurboMode",value:function(e){this.model.turboMode=e,c2d.eventManager.dispatch(game.events.FlatUI.ON_TURBO_MODE_CHANGED,e)}},{key:"changeBet",value:function(e){this.model.cashData.betLevel+=e,this.onBetChange()}},{key:"setBet",value:function(e){this.model.cashData.betLevel=e,this.onBetChange()}},{key:"setBetValue",value:function(e){this.model.cashData.bet=e,this.onBetChange()}},{key:"onBetChange",value:function(){function e(){c2d.eventManager.dispatch(game.events.FlatUI.ON_BET_CHANGED,{betChanged:t.model.betChanged,newBet:t.model.cashData.bet})}var t=this;c2d.eventManager.dispatch(game.events.FlatUI.ON_CASH_CHANGED,this.model.cashData),this.model.shouldShowCollectibleLosePopup?this.showCollectibleLosePopup(e):e()}},{key:"showPaytable",value:function(){return this.view.showPaytable(this.model)}},{key:"showSettings",value:function(e){return this.view.showSettings(this.model,e)}},{key:"onOptionsHide",value:function(){this.view.onOptionsHide()}},{key:"onSpinPressed",value:function(){var e;this.model.cashData.isEnoughMoneyToSpin||this.model.isActionFree?this.model.state.currentState.stateId===game.slots.constants.SlotsFSM.BG_SHOW_RESULT_STATE?(c2d.eventManager.dispatch(game.events.FlatUI.SKIP_WIN_PRESSED,{needSpin:!0}),e="spinButton",this.slotModel.respin.hasRespin&&!this.slotModel.respin.isFirstRespin?e="respins":this.model.isGiftspins&&(e="giftspins"),e={actionButton:{type:e,params:{enabled:!1,hideSpinButton:this.model.useSwipeControls&&this.model.hideSpinButton}}},this.view.applyState(e,{stateId:"SomeState"})):c2d.eventManager.dispatch(game.events.FlatUI.DO_SPIN):this.showNotEnoughMoneyPopup()}},{key:"showPopup",value:function(e){this.model.showPrompts&&this.view.showPopup(e)}},{key:"hidePopup",value:function(){this.view.hidePopup()}},{key:"showToast",value:function(e){this.view.showToast(e)}},{key:"hideToast",value:function(){this.view.hideToast()}},{key:"onPopupClosed",value:function(){this.view.onPopupClosed()}},{key:"showNotEnoughMoneyPopup",value:function(){this.showPopup({message:"not_enough_money".ls(),image:"popup_smile",confirm:c2d.env.cashUrl&&{label:"go_to_bank".ls(),handler:function(){return c2d.env.goToBank()}},dismiss:{label:"close".ls()}})}},{key:"showCollectibleLosePopup",value:function(e){var t=this.model.config.collectibleLosePopup;t.confirm.label=t.confirm.label.ls(),t.confirm.handler=function(){return e()},this.model.loseCollectiblePopupShown=!0,this.showPopup(t)}},{key:"onAutoSpinPressed",value:function(e){this.model.cashData.isEnoughMoneyToSpin?(this.model.setAutospinsStart(e.data.value),c2d.eventManager.dispatch(game.events.FlatUI.SPIN_PRESSED),this.view.onAutospinStarted()):this.showNotEnoughMoneyPopup()}},{key:"onCancelAutospinPressed",value:function(){var e={actionButton:{type:"spinButton",params:{enabled:!1,hideSpinButton:this.model.useSwipeControls&&this.model.hideSpinButton}},stopButtonSwipe:{visible:!1}};this.model.autospinsData.count=0,this.view.applyState(e,{stateId:"SomeState"})}},{key:"stopAutospins",value:function(e){this.onCancelAutospinPressed(),e&&this.showNotEnoughMoneyPopup()}},{key:"changeHandMode",value:function(e){this.model.leftHand=e.data,this.view.onHandModeChanged(this.model)}},{key:"spinRequestAction",value:function(){this.model.cashData.balance=Number((this.model.cashData.balance-this.model.cashData.bet).toFixed(3)),this.model.autospinsData.spinRequestAction()}},{key:"toggleSwipeMode",value:function(e){this.model.useSwipeControls=e.data,this.view.toggleSwipeMode(e.data),this.refreshCurrentState()}},{key:"lockSwipeMode",value:function(){this.view.lockSwipeMode()}},{key:"unlockSwipeMode",value:function(){this.view.unlockSwipeMode()}},{key:"onSpinButtonChanged",value:function(e){this.model.hideSpinButton=e.data,this.refreshCurrentState()}},{key:"onFirstSwipeDone",value:function(){var e=this;this.view.popup||this.view.optionsScreen||this.view.isAutospinsPanelExpanded||(this.showPopup({animation:{spine:"pop_up_swipe",animation:"spin_revers",loop:!0},message:"swipe_mode_description".ls(),confirm:{label:"enable_swipe_mode".ls(),handler:function(){return e.toggleSwipeMode({data:!0})}},dismiss:{label:"close".ls(),handler:this.toggleSwipeMode({data:!1})}}),this.view.swipeHandler.firstSwipeDownDone())}},{key:"onSwipeUpDone",value:function(){this.model.isGiftspins||this.view.onSwipeUpDone()}},{key:"onSwipeDownDone",value:function(){this.view.popup||this.view.optionsScreen||this.view.isAutospinsPanelExpanded||c2d.env.spinTimeout||this.onSpinPressed()}},{key:"onSwipeLeftDone",value:function(){this.view.onSwipeLeftDone()}},{key:"onSwipeRightDone",value:function(){}},{key:"onSwipeRightStarted",value:function(e){var t,n,l=e.data;this.view.optionsScreen||(t=this.showPaytable(),n={x:t.x,y:t.y},t.x=n.x-t.width,document.ontouchmove=function(e){e.preventDefault(),e.stopPropagation(),t.x=Math.min(n.x,e.touches[0].screenX-l.x-t.width)},document.ontouchend=document.ontouchendoutside=document.ontouchcancel=function(e){document.ontouchend=document.ontouchendoutside=document.ontouchcancel=null,document.ontouchmove=null,e.preventDefault(),e.stopPropagation(),-t.x>.8*t.width?c2d.Tween.get(t).to({x:n.x-t.width,y:n.y},200,c2d.Tween.Ease.cubicOut).call(function(){return t.close()}):c2d.Tween.get(t).to({x:n.x,y:n.y},200,c2d.Tween.Ease.cubicOut)})}},{key:"onLongClickOnScreenDone",value:function(){this.view.onLongClickOnScreenDone()}},{key:"balance",set:function(e){this.model.cashData.balance=e,c2d.eventManager.dispatch(game.events.FlatUI.ON_CASH_CHANGED,this.model.cashData)}},{key:"showUI",value:function(){this.view.showControlsPanel()}},{key:"hideUI",value:function(){this.view.hideControlsPanel()}},{key:"forceHideActionButton",value:function(){this.view.forceHideActionButton()}},{key:"cancelForceHideActionButton",value:function(){this.view.cancelForceHideActionButton()}}]),l}(c2d.ComponentController);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],52:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=l(e("./view/components/index.js")),a=l(e("./api/FlatUIApi.js")),r=l(e("./api/Events.js")),o=l(e("./controller/FlatUIController.js")),s=l(e("./model/FlatUIModel.js")),u=l(e("./model/FlatUIState.js")),c=l(e("./view/FlatUIView.js")),h=l(e("./view/shifter/Shifter.js")),f=l(e("./view/shifter/ShifterPanel.js")),d=l(e("./view/shifter/SymbolsPanel.js")),p=l(e("./view/shifter/SymbolsPanelCell.js")),y=l(e("./view/shifter/RowPanel.js")),b=l(e("./view/shifter/RowPanelCell.js")),m=l(e("./view/shifter/GridPanel.js")),g=l(e("./view/common/optionsScreen/betHistory/BetRecordDetails.js")),l=l(e("./view/common/optionsScreen/betHistory/BetHistorySymbol.js"));a.default.ID="FlatUI",a.default.src={components:i.default,desktop:{},mobile:{},mini:{},Controller:o.default,Model:s.default,State:u.default,View:c.default,shifter:{Shifter:h.default,ShifterPanel:f.default,SymbolsPanel:d.default,SymbolsPanelCell:p.default,RowPanel:y.default,RowPanelCell:b.default,GridPanel:m.default},bet:{BetRecordDetails:g.default,BetHistorySymbol:l.default}},game.registerComponent(a.default,r.default)},{"./api/Events.js":49,"./api/FlatUIApi.js":50,"./controller/FlatUIController.js":51,"./model/FlatUIModel.js":55,"./model/FlatUIState.js":56,"./view/FlatUIView.js":58,"./view/common/optionsScreen/betHistory/BetHistorySymbol.js":67,"./view/common/optionsScreen/betHistory/BetRecordDetails.js":68,"./view/components/index.js":116,"./view/shifter/GridPanel.js":155,"./view/shifter/RowPanel.js":156,"./view/shifter/RowPanelCell.js":157,"./view/shifter/Shifter.js":158,"./view/shifter/ShifterPanel.js":159,"./view/shifter/SymbolsPanel.js":160,"./view/shifter/SymbolsPanelCell.js":161,"@babel/runtime/helpers/interopRequireDefault":12}],53:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r={win:{value:0,toggle:!1},balanceIncrease:{value:0,toggle:!1},balanceDecrease:{value:0,toggle:!1},freespinsWon:{toggle:!0},bonusWon:{toggle:!0}};n.default=function(){function t(){(0,i.default)(this,t);var e=c2d.env.storage.getItem("autoplaySettings",!1)||{},e=Object.assign(r,e);this._count=0,this._limits={win:{value:e.win.value,toggle:e.win.toggle},balanceIncrease:{value:e.balanceIncrease.value,toggle:e.balanceIncrease.toggle},balanceDecrease:{value:e.balanceDecrease.value,toggle:e.balanceDecrease.toggle},freespinsWon:{toggle:e.freespinsWon.toggle},bonusWon:{toggle:e.bonusWon.toggle}},this._paused=!1,this._startBalance=null,this._stopped=!1}return(0,a.default)(t,[{key:"setLimit",value:function(e){var t=c2d.env.storage.getItem("autoplaySettings",!1)||{},n=e.toggle&&!isNaN(e.value)&&0!=e.value,l=isNaN(e.value)||0==e.value?"":e.value;this._limits[e.name]=t[e.name]={value:l,toggle:n},c2d.env.storage.setItem("autoplaySettings",t)}},{key:"start",value:function(e,t){this.count=e,this._startBalance=t.balanceBefore,this.stopped=!1}},{key:"checkAutoplayStop",value:function(e){var t="initfreespin"===e.nextAction,n=this.singleWinExceedEnabled&&0<this.singleWinExceed&&this.singleWinExceed<=(e.totalWin||e.grandTotalWin)||this.balanceDecreaseEnabled&&0<this.balanceDecrease&&this._startBalance-parseFloat(this.balanceDecrease)>=e.balanceBefore||this.balanceIncreaseEnabled&&0<this.balanceIncrease&&this._startBalance+parseFloat(this.balanceIncrease)<=e.balanceBefore||this.freespinsWon&&t||this.bonusWon&&e.bonusGames.isReady,l=!this.freespinsWon&&t&&!e.freespins.isFinishStatus||!this.bonusWon&&e.bonusGames.isReady,t=!this.freespinsWon&&!t||!this.bonusWon&&!e.bonusGames.isReady;return n?(this.count=0,this.stopped=!0):l?this.isPaused=!0:t&&(this.isPaused=!1),n}},{key:"spinRequestAction",value:function(){this.count--}},{key:"count",get:function(){return this._count},set:function(e){this._count=e}},{key:"isActive",get:function(){return 0<this._count}},{key:"isPaused",get:function(){return this._paused},set:function(e){this._paused=e}},{key:"balanceDecrease",get:function(){return parseFloat(this._limits.balanceDecrease.value).toFixed(this._limits.balanceDecrease.value.length).replace(/(\.[0-9]*[1-9])0+$|\.0*$/,"$1")}},{key:"balanceIncrease",get:function(){return parseFloat(this._limits.balanceIncrease.value).toFixed(this._limits.balanceIncrease.value.length).replace(/(\.[0-9]*[1-9])0+$|\.0*$/,"$1")}},{key:"singleWinExceed",get:function(){return parseFloat(this._limits.win.value).toFixed(this._limits.win.value.length).replace(/(\.[0-9]*[1-9])0+$|\.0*$/,"$1")}},{key:"balanceDecreaseEnabled",get:function(){return this._limits.balanceDecrease.toggle}},{key:"balanceIncreaseEnabled",get:function(){return this._limits.balanceIncrease.toggle}},{key:"singleWinExceedEnabled",get:function(){return this._limits.win.toggle}},{key:"freespinsWon",get:function(){return this._limits.freespinsWon.toggle}},{key:"bonusWon",get:function(){return this._limits.bonusWon.toggle}},{key:"stopped",get:function(){return this._stopped},set:function(e){this._stopped=e}}]),t}()},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],54:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),l=function(){function e(){var t=this;(0,i.default)(this,e),this._betLevel=1,this._fixedBet=1,this._denomination=1,this._currency="",this._betRanges=[],this._balance=0,this.toCurrency=function(e){return c2d.env.toCurrency(t.currency,e,2)}}return(0,a.default)(e,[{key:"bet",get:function(){return this._betRanges[this.betLevel-1]},set:function(e){return this.betLevel=Math.max(this.betRanges.indexOf(Number(e))+1,1)}},{key:"maxBet",get:function(){return this._betRanges.last}},{key:"minBet",get:function(){return this._betRanges.first}},{key:"totalBets",get:function(){return this._betRanges.length}},{key:"betLevel",get:function(){return this._betLevel},set:function(e){e=Number(e),this._betLevel=e<this.minBetLevel?this.minBetLevel:e>this.maxBetLevel?this.maxBetLevel:e}},{key:"maxBetLevel",get:function(){return this._betRanges.length}},{key:"minBetLevel",get:function(){return 1}},{key:"balance",get:function(){return this._balance},set:function(e){this._balance=e}},{key:"betRanges",get:function(){return this._betRanges},set:function(e){this._betRanges=e||this._betRanges}},{key:"currency",get:function(){return this._currency},set:function(e){this._currency=e||this._currency}},{key:"isEnoughMoneyToSpin",get:function(){return this.bet<=this.balance}},{key:"isMaxBet",get:function(){return this.betLevel==this.maxBetLevel}},{key:"isMinBet",get:function(){return 1==this.betLevel}},{key:"fixedBet",get:function(){return this._fixedBet},set:function(e){this._fixedBet=e}}]),e}();n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],55:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./CashData.js")),c=l(e("./AutospinsData.js"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=h(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this)).config=null,e._paytableConfig=null,e.cursorButtonsToChangeBet=c2d.env.storage.getItem("cursorButtonsToChangeBet",!0),e.spinBySpace=c2d.env.storage.getItem("spinBySpace",!0),e.showClock=c2d.env.storage.getItem("showClock",!0),e.showPrompts=!0,e.showAudio=!0,e.showFullscreen=!0,e.loseCollectiblePopupShown=!1,e._swipeModeOn=c2d.env.storage.getItem("swipeModeOn",!1),e._hideSpinButton=c2d.env.storage.getItem("hideSpinButton",!1),e.autospinsData=new c.default,e.cashData=new u.default,e}return(0,a.default)(n,[{key:"setData",value:function(t){var n=this;Object.keys(t).forEach(function(e){n[e]=t[e]})}},{key:"setCashData",value:function(e,t){0===e.bet?console.warn("Server has sent incorrect bet info"):(this.cashData.currency=e.currency,this.cashData.betRanges=e.betRanges,this.cashData.fixedBet=e.fixedBet,this.cashData.balance=e.balance,this.cashData.bet=(t||e).bet)}},{key:"slotsModelUpdate",value:function(e){this.slotsModel=e,this.cashData.rtp=this.slotsModel.rtp,this.state=new game.src.FlatUI.State(this)}},{key:"setAutospinsStart",value:function(e){this.autospinsData.start(e,this.slotsModel)}},{key:"addAutoplayLimit",value:function(e){this.autospinsData.setLimit(e)}},{key:"checkAutoplayStop",value:function(){this.autospinsData.checkAutoplayStop(this.slotsModel)}},{key:"canSpin",get:function(){return this.slotsModel.hasCreditToSpin}},{key:"isActionFree",get:function(){return"spin"!=this.slotsModel.nextAction}},{key:"isGiftspins",get:function(){return this.slotsModel.giftspins.hasSpins}},{key:"paytableConfig",get:function(){var l=this;if(this._paytableConfig)return this._paytableConfig;if(this.config.paytable)return this._paytableConfig=this.config.paytable.blocks,this._paytableConfig.forEach(function(n){switch(n.type){case"Symbols":n.symbols=n.symbols.map(function(t){return l.slotsModel.symbolsConfig.find(function(e){return t==e.id})});break;case"ItemSymbols":n.symbols=n.symbols.map(function(t){return l.slotsModel.symbolsConfig.find(function(e){return t==e.id})});break;case"TripleSymbols":n.symbols=n.symbols.map(function(e){var t=e.id;return Object.assign(n.symbols.find(function(e){return e.id==t}),{config:l.slotsModel.symbolsConfig.find(function(e){return e.id==t})})});break;case"SpecialSymbols":n.symbols=n.symbols.map(function(e){var t=e.id;return Object.assign(n.symbols.find(function(e){return e.id==t}),{config:l.slotsModel.symbolsConfig.find(function(e){return e.id==t})})});break;case"Match3Symbols":n.symbols=n.symbols.map(function(e){var t=e.id;return Object.assign(n.symbols.find(function(e){return e.id==t}),{config:l.slotsModel.symbolsConfig.find(function(e){return e.id==t})})});break;case"BetLines":n.gameMode?n.lines=l.slotsModel.linesConfig[n.gameMode]:n.lines=l.slotsModel.linesConfig;break;case"BetGroups":case"BetWays":n.lines.forEach(function(e){e.rows=l.slotsModel.columnsCount(),e.columns=l.slotsModel.rowsCount(0)})}}),this._paytableConfig;throw new Error("please setup paytable in uiConfig.json")}},{key:"cursorButtonsToChangeBet",get:function(){return this._cursorButtonsToChangeBet},set:function(e){this._cursorButtonsToChangeBet=e,c2d.env.storage.setItem("cursorButtonsToChangeBet",e)}},{key:"spinBySpace",get:function(){return this._spinBySpace},set:function(e){this._spinBySpace=e,c2d.env.storage.setItem("spinBySpace",e)}},{key:"showClock",get:function(){return this._showClock},set:function(e){this._showClock=e,c2d.env.storage.setItem("showClock",e)}},{key:"sfxVolume",get:function(){return this.slotsModel.sfxVolume},set:function(e){this.slotsModel.sfxVolume=e,c2d.env.storage.setItem("sfxVolume",e)}},{key:"musicVolume",get:function(){return this.slotsModel.musicVolume},set:function(e){this.slotsModel.musicVolume=e,c2d.env.storage.setItem("musicVolume",e)}},{key:"masterVolume",get:function(){return this.slotsModel.masterVolume},set:function(e){this.slotsModel.masterVolume=e,c2d.env.storage.setItem("masterVolume",e)}},{key:"turboMode",get:function(){return this.slotsModel.turboMode},set:function(e){this.slotsModel.turboMode=e,c2d.env.storage.setItem("turboMode",e)}},{key:"skipIntro",get:function(){return c2d.env.storage.getItem("skipIntro",!1)},set:function(e){c2d.env.storage.setItem("skipIntro",e)}},{key:"skipPreroll",get:function(){return c2d.env.storage.getItem("skipPreroll",!1)},set:function(e){c2d.env.storage.setItem("skipPreroll",e)}},{key:"paytableSymbols",get:function(){return this.slotsModel.symbolsConfig}},{key:"checkAndStopAutoplay",value:function(){this.autospinsData.isActive&&this.autospinsData.checkAutoplayStop(this.slotsModel)}},{key:"shouldAutoplayStop",get:function(){return!this.autospinsData.isActive||this.autospinsData.checkAutoplayStop(this.slotsModel)}},{key:"stopAutospinsOnFreespins",get:function(){return this.autospinsData.freespinsWon}},{key:"autospinsActive",get:function(){return this.autospinsData.isActive}},{key:"useSwipeControls",get:function(){return this._swipeModeOn},set:function(e){c2d.env.storage.setItem("swipeModeOn",e),this._swipeModeOn=e}},{key:"hideSpinButton",get:function(){return this._hideSpinButton},set:function(e){c2d.env.storage.setItem("hideSpinButton",e),this._hideSpinButton=e}},{key:"betChanged",get:function(){return this.cashData.bet!==this.slotsModel.bet}},{key:"shouldShowCollectibleLosePopup",get:function(){return this.config.collectibleLosePopup&&this.slotsModel.hasWinCollectible&&this.betChanged&&!this.loseCollectiblePopupShown}}]),n}(c2d.Model);n.default=l},{"./AutospinsData.js":53,"./CashData.js":54,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],56:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass"));n.default=function(){function n(e){var t=this;(0,i.default)(this,n),this.model=e,this.slotsModel=e.slotsModel,this.currentState={},this.uiConfig={states:{IG_RESPONSE_STATE:{exit:{autospins:function(){return t.model.autospinsData},stopButtonSwipe:{visible:!1},radio:{visible:!1,title:"",text:""}}},IG_END_STATE:{enter:{home:{visible:!1},audio:{visible:!1},radio:{visible:!1,title:"",text:""},quickSettingsPanel:{visible:!1},balancePanel:{visible:!1},betPanel:{visible:!1},paytable:{visible:!1}},exit:{home:{visible:!0},audio:{visible:!0},radio:{visible:!0,title:"",text:""},quickSettingsPanel:{visible:!0},balancePanel:{visible:!0},betPanel:{visible:!0},paytable:{visible:!0},controlsPanel:{visible:!1},actionButton:function(){return t.getButtonData("")},introTumbler:{visible:!1},options:{enabled:!1},rules:{enabled:!1}}},INTRO_STATE:{enter:{introTumbler:{visible:!0},home:{visible:!1},audio:{visible:!1},radio:{visible:!1,title:"",text:""},quickSettingsPanel:{visible:!1},balancePanel:{visible:!1},betPanel:{visible:!1},paytable:{visible:!1},clockText:{visible:!1},rules:{visible:!1},actionButton:function(){return t.getButtonData("playButton",{enabled:!0})}},exit:{introTumbler:{visible:!1},home:{visible:!0},audio:{visible:!0},radio:{visible:!0,title:"",text:""},quickSettingsPanel:{visible:!0},balancePanel:{visible:!0,interactive:!1,enabled:!1},betPanel:{visible:!0,interactive:!1,enabled:!1},paytable:{visible:!0},clockText:{visible:!0},rules:{visible:!0},cash:function(){return t.model.cashData},controlsPanel:{visible:!1}}},CINEMATIC_STATE:{enter:{controlsPanel:{visible:!1},introTumbler:{visible:!1},home:{visible:!1},audio:{visible:!1},radio:{visible:!1,title:"",text:""},quickSettingsPanel:{visible:!1},balancePanel:{visible:!1},betPanel:{visible:!1},paytable:{visible:!1},clockText:{visible:!1}},exit:{introTumbler:{visible:!1},home:{visible:!0},audio:{visible:!0},radio:{visible:!0,title:"",text:""},quickSettingsPanel:{visible:!0},balancePanel:{visible:!0,interactive:!1,enabled:!1},betPanel:{visible:!0,interactive:!1,enabled:!1},paytable:{visible:!0},clockText:{visible:!0},cash:function(){return t.model.cashData},controlsPanel:{visible:!1}}},BG_RESTORE_STATE:{enter:{controlsPanel:{visible:!0},respins:function(){return t.getRespinsData()},giftspins:function(){return t.getGiftspinsData()},cash:function(){return t.model.cashData},radio:function(){return t.getWinData()},actionButton:function(){return t.getButtonData("spinButton",{enabled:!1})},stopButtonSwipe:function(){return t.getSwipeButtonState()},betPanel:{interactive:!1,enabled:!1},paytable:{enabled:!1},balancePanel:{interactive:!1,enabled:!1}}},IDLE_STATE:{enter:{cash:function(){return t.model.cashData},betPanel:{interactive:!0,enabled:!0},balancePanel:{interactive:!0,enabled:!0},giftspins:function(){return t.getGiftspinsData()},actionButton:function(){return t.getButtonData("spinButton",{state:"normal",stateAfterPressed:"normal",enabled:!0,longClickEnabled:!0})},stopButtonSwipe:function(){return t.getSwipeButtonState()},paytable:{enabled:!0},options:{enabled:!0},rules:{enabled:!0}},onBetUpdated:{cash:function(){return t.model.cashData}},exit:{betPanel:{interactive:!1,enabled:!1},balancePanel:{interactive:!1,enabled:!1},spinSettingsPanel:{visible:!1},actionButton:function(){return t.getButtonData("spinButton",{enabled:!1,longClickEnabled:!1})},stopButtonSwipe:function(){return t.getSwipeButtonState()},paytable:{enabled:!1},options:{enabled:!1},rules:{enabled:!1}}},GS_IDLE_STATE:{enter:{giftspins:function(){return t.getGiftspinsData()},cash:function(){return t.model.cashData},actionButton:function(){return t.getButtonData("giftspins",{enabled:!1})},paytable:{enabled:!0},options:{enabled:!0},rules:{enabled:!0}},popupWillShowPhase:{radio:{visible:!1,title:"",text:""}},onBetUpdated:{cash:function(){return t.model.cashData}},spinEnabledPhase:{actionButton:function(){return t.getButtonData("giftspins",{enabled:!0})}},spinPressedPhase:{actionButton:function(){return t.getButtonData("giftspins",{enabled:!1})},paytable:{enabled:!1},options:{enabled:!1},rules:{enabled:!1}},exit:{giftspins:function(){return t.getGiftspinsData()},radio:{title:"",text:""},spinSettingsPanel:{visible:!1},paytable:{enabled:!1},options:{enabled:!1},rules:{enabled:!1}}},BG_START_STATE:{enter:{respins:{total:0,visible:!1},autospins:function(){return t.getAutospinsData()}}},BG_SPIN_REQUEST_STATE:{exit:{cash:function(){return t.model.cashData},giftspins:function(){return t.getGiftspinsData()},autospins:function(){return t.getAutospinsData()}}},BG_SPIN_START_STATE:{enter:{actionButton:function(){return t.getButtonData("spinButton",{enabled:!1})},stopButtonSwipe:function(){return t.getSwipeButtonState()},radio:function(){return t.getSpinStartWinData()},enableQuickStop:!0}},BG_SKIP_RESULT_STATE:{enter:{actionButton:function(){return t.getButtonData("spinButton",{enabled:!1})}}},BG_SHOW_RESULT_STATE:{enter:{actionButton:function(){return t.getButtonData("spinButton",{enabled:!0})},enableQuickStop:!1,enableSkipWin:!0},moveWalks:{radio:function(){return t.getWinData()}},showLose:{radio:function(){return t.getWinData()}},showLineWins:{radio:function(){return t.getWinData()},cash:function(){return t.model.cashData}},showWayWins:{radio:function(){return t.getWinData()},cash:function(){return t.model.cashData}},showGroupWins:{radio:function(){return t.getWinData()},cash:function(){return t.model.cashData}},showCollectibleWins:{cash:function(){return t.model.cashData}},showDropWinLines:{radio:function(){return t.getWinData()},cash:function(){return t.model.cashData}},showScatterWins:{radio:function(){return t.getWinData()},cash:function(){return t.model.cashData}},showRespin:{radio:function(){return t.getRespinsWinData()},cash:function(){return t.model.cashData},actionButton:function(){return t.getButtonData("respins",{enabled:!1})},respins:function(){return t.getRespinsData()}},endRespins:{radio:function(){return t.getRespinsWinData()},respins:function(){return t.getRespinsDataAfterSpin()},actionButton:function(){return t.getButtonData()}},exit:{respins:function(){return t.getRespinsDataAfterSpin()},cash:function(){return t.model.cashData},autospins:function(){return t.getAutospinsData()},radio:function(){return t.getWinData("showResultExit")},actionButton:function(){return t.getButtonData()},enableSkipWin:!1}},BG_PLAY_POP_STATE:{enter:{actionButton:function(){return t.getButtonData("spinButton",{enabled:!1})}}},BG_CHECK_STATE:{prepareAutospin:{actionButton:function(){return t.getButtonData("spinButton")}}},FS_RESTORE_STATE:{enter:{cash:function(){return t.model.cashData},betPanel:{interactive:!1,enabled:!1},balancePanel:{interactive:!1,enabled:!1},paytable:{enabled:!1},options:{enabled:!1},rules:{enabled:!1},stopButtonSwipe:{visible:!1}},exit:{freespin:function(){return t.getFreespinsData()}}},FS_START_STATE:{enter:{freespins:function(){return t.getFreespinsData()},cash:function(){return t.model.cashData},actionButton:function(){return t.getButtonData("",{state:"normal"})},betPanel:{interactive:!1,enabled:!1},balancePanel:{interactive:!1,enabled:!1},stopButtonSwipe:{visible:!1},respins:{visible:!1,totalWin:0},radio:{visible:!1,title:"",text:""}},popupWillShowPhase:{cash:function(){return t.model.cashData}},popupDidShowPhase:{actionButton:function(){return t.getButtonData("startFreespinsButton",{state:"normal"})},cash:function(){return t.model.cashData}},customPopupDidShowPhase:{actionButton:function(){return t.getButtonData("startFreespinsButton",{state:"normal"})},cash:function(){return t.model.cashData}},spinPressedPhase:{actionButton:function(){return t.getButtonData("freeSpinsInfoPanel")}},freespinsDidInit:{respins:{visible:!1,totalWin:0},freespins:function(){return t.getFreespinsData()}},exit:{radio:function(){return t.getFreespinsWinData()},actionButton:function(){return t.getButtonData("freeSpinsInfoPanel")}}},FS_CHECK_STATE:{enter:{actionButton:function(){return t.getButtonData("freeSpinsInfoPanel")},freespins:function(){return t.getFreespinsData()}}},FS_SPIN_REQUEST_STATE:{enter:{enableQuickStop:!0},exit:{freespins:function(){return t.getFreespinsData()}}},FS_SPIN_START_STATE:{enter:{cash:function(){return t.model.cashData},freespins:function(){return t.getFreespinsData()}}},FS_SHOW_RESULT_STATE:{enter:{enableQuickStop:!1,enableSkipWin:!0,actionButton:function(){return t.getButtonData("freeSpinsInfoPanel")}},showLineWins:{radio:function(){return t.getFreespinsWinLineData()},cash:function(){return t.model.cashData}},showWayWins:{radio:function(){return t.getFreespinsWinLineData()},cash:function(){return t.model.cashData}},showGroupWins:{radio:function(){return t.getFreespinsWinLineData()},cash:function(){return t.model.cashData}},showCollectibleWins:{cash:function(){return t.model.cashData}},showScatterWins:{cash:function(){return t.model.cashData}},showMudWinLines:{radio:function(){return t.getMudWinsData()},cash:function(){return t.model.cashData}},showDropWinLines:{radio:function(){return t.getFreespinsWinLineData()},cash:function(){return t.model.cashData}},showExtraSpinsPopup:{freespins:function(){return t.getFreespinsData()}},exit:{radio:function(){return t.getFreespinsWinData()}}},FS_PLAY_POP_STATE:{enter:{}},FS_END_STATE:{enter:{cash:function(){return t.model.cashData}},popupDidShowPhase:{actionButton:function(){return t.getButtonData("collectButton",{enabled:!0})},radio:function(){return t.getFreespinsWinData()}},buttonPressedPhase:{actionButton:function(){return t.getButtonData("collectButton",{enabled:!1})}},exit:{}},BN_RESTORE_STATE:{enter:{cash:function(){return t.model.cashData},actionButton:function(){return t.getButtonData("actionButton",{visible:!1})},betPanel:{interactive:!1,enabled:!1},balancePanel:{interactive:!1,enabled:!1},stopButtonSwipe:function(){return t.getSwipeButtonState()},paytable:{enabled:!1},options:{enabled:!1},rules:{enabled:!1}}},BN_INIT_STATE:{enter:{actionButton:function(){return t.getButtonData("actionButton",{visible:!1})},radio:function(){return t.getBonusTotalWinData()},cash:function(){return t.model.cashData},stopButtonSwipe:function(){return t.getSwipeButtonState()},paytable:{enabled:!1},options:{enabled:!1},rules:{enabled:!1}}},BN_START_STATE:{enter:{actionButton:function(){return t.getButtonData("actionButton",{visible:!1})},radio:function(){return t.getBonusTotalWinData()},cash:function(){return t.model.cashData},paytable:{enabled:!1},options:{enabled:!1},rules:{enabled:!1}}},BN_STEP_STATE:{exit:{radio:function(){return t.getBonusTotalWinData()},cash:function(){return t.model.cashData}}},BN_END_STATE:{enter:{radio:{visible:!1,title:"",text:""},cash:function(){return t.model.cashData}},goToCheckFS:{radio:function(){return t.getFreespinsWinData()},cash:function(){return t.model.cashData}},goToCheck:{radio:function(){return t.getWinData()},cash:function(){return t.model.cashData}},exit:{actionButton:function(){return t.getButtonData("actionButton",{visible:!0})}}}}}}return(0,a.default)(n,[{key:"parseGameState",value:function(e){var t=e.stateId,e=e.newPhase,n={};if(!this.uiConfig.states[t])return n;if(!this.uiConfig.states[t][e])return n;var l=this.uiConfig.states[t][e];return this.currentState={stateId:t,newPhase:e},Object.keys(l).forEach(function(e){var t;"function"==typeof(t=l)[e=e]?n[e]=t[e]():n[e]=t[e]}),n}},{key:"toCurrency",value:function(t){var n,l=this.slotsModel.currency.toUpperCase();try{var e=c2d.env.hideCurrency?{}:{style:"currency",currency:l};Object.assign(e,{minimumFractionDigits:2}),(n=Number(t).toLocaleString(c2d.env.systemLocale||c2d.env.language,e))==t&&(n=l+" "+t)}catch(e){n=l+" "+t}return n}},{key:"getButtonData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"spinButton",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n="BG_SHOW_RESULT_STATE"===this.slotsModel.currentState&&"enter"===this.slotsModel.currentPhase&&this.slotsModel.respin.isFirstRespin;return this.slotsModel.respin.hasRespin&&this.slotsModel.respinReady&&"INTRO_STATE"!==this.slotsModel.currentState&&"CINEMATIC_STATE"!==this.slotsModel.currentState&&!n?e="respins":!this.model.autospinsData.isActive||this.model.autospinsData.isPaused||this.slotsModel.freespins.isActiveStatus?e="spinButton"===e&&this.slotsModel.giftspins.hasSpins?"giftspins":e:t={enabled:!0,longClickEnabled:!(e="stopButton")},t.hideSpinButton=this.model.useSwipeControls&&this.model.hideSpinButton,{type:e,params:t}}},{key:"getSwipeButtonState",value:function(){return{visible:this.model.useSwipeControls&&this.model.hideSpinButton&&"stopButton"===this.getButtonData().type}}},{key:"getRespinsWinData",value:function(){return 0<this.slotsModel.respin.totalWin&&{title:"total_win".ls(),text:this.toCurrency(this.slotsModel.respin.totalWin.toString())}}},{key:"getSpinStartWinData",value:function(){return!!(this.slotsModel.respinReady&&0<this.slotsModel.respin.totalWin)&&{title:"total_win".ls(),text:this.toCurrency(this.slotsModel.respin.totalWin.toString())}}},{key:"getBonusTotalWinData",value:function(){return 0<this.slotsModel.bonusGame.totalWins&&{title:"total_win".ls(),text:this.toCurrency(this.slotsModel.bonusGame.totalWins)}}},{key:"getWinData",value:function(){return!this.slotsModel.respinReady&&!this.slotsModel.respin.isFinalRespin||0!==this.slotsModel.totalWin&&"showResultExit"!==(0<arguments.length&&void 0!==arguments[0]&&arguments[0])?!this.slotsModel.respinReady&&0<this.slotsModel.grandTotalWin?{title:"win".ls(),text:this.toCurrency(this.slotsModel.grandTotalWin)}:0<this.slotsModel.totalWin&&{title:"win".ls(),text:this.toCurrency(this.slotsModel.totalWin)}:this.getRespinsWinData()}},{key:"getFreespinsData",value:function(){return this.slotsModel.freespins}},{key:"getFreespinsWinData",value:function(){return{title:"total_win".ls(),text:this.toCurrency(this.slotsModel.freespins.totalWins.toString())}}},{key:"getFreespinsWinLineData",value:function(){return 0<this.slotsModel.totalWin&&{title:"win".ls(),text:this.toCurrency(this.slotsModel.totalWin-this.totalMudAmount())}}},{key:"getMudWinsData",value:function(){return 0<this.totalMudAmount()&&{title:"win".ls(),text:this.toCurrency(this.totalMudAmount())}}},{key:"totalMudAmount",value:function(){return this.slotsModel.freespins.extra&&this.slotsModel.freespins.extra.mudWins?this.slotsModel.freespins.extra.mudWins.reduce(function(e,t){return e+t.amount},0):0}},{key:"getRespinsData",value:function(){return{count:this.slotsModel.respin.doneCount,leftCount:this.slotsModel.respin.leftCount,total:this.slotsModel.respin.totalCount,totalWin:this.toCurrency(this.slotsModel.respin.totalWin),visible:this.slotsModel.respin.hasRespin}}},{key:"getRespinsDataAfterSpin",value:function(){return{count:Math.min(this.slotsModel.respin.doneCount+1,this.slotsModel.respin.totalCount),leftCount:this.slotsModel.respin.leftCount-1,total:this.slotsModel.respin.totalCount,totalWin:this.toCurrency(this.slotsModel.respin.totalWin),visible:this.slotsModel.respin.hasRespin}}},{key:"getGiftspinsData",value:function(){return this.slotsModel.giftspins}},{key:"getAutospinsData",value:function(){return this.model.autospinsData}}]),n}()},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],57:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(l,e);var n=u(l);function l(e){var t;return(0,i.default)(this,l),(t=n.apply(this,arguments)).config=e,c2d.eventManager.subscribe(c2d.documentEvents.SCREEN_WAS_RESIZED,function(e){return t.onResizeScreen(e.data)}),t.visible=!0,t.interactive=!0,t.displayGroup=game.displayGroups.UI,t.zOrder=1,t}return(0,a.default)(l,[{key:"createBlock",value:function(e,t,n){var l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,i=new c2d.display.Graphics;return i.beginFill(n,l),i.drawRect(0,0,e,t),i.endFill(),i.cacheAsBitmap=!0,this.addChild(i),i}},{key:"onResizeScreen",value:function(e){this.removeChildren(),this.leftCover=this.createBlock(10,10,0),this.topCover=c2d.env.device.portrait()&&!c2d.env.device.desktop()?this.createBlock(10,10,0,0):this.createBlock(10,10,0),this.rightCover=this.createBlock(10,10,0);this.topCover.y=-e.canvasPaddingTop-1,this.topCover.height=e.canvasPaddingTop+2,this.topCover.width=e.designWidth+1,!c2d.env.device.desktop()&&c2d.env.device.portrait()&&!this.config.alwaysUseBottomCover||(this.bottomCover=this.createBlock(10,10,c2d.env.device.desktop()||c2d.env.device.landscape()?1052688:0),this.bottomCover.y=e.designHeight-1,this.bottomCover.height=e.canvasHeight-e.designHeight-e.canvasPaddingTop+2+2,this.bottomCover.width=this.topCover.width+2),this.leftCover.x=-e.canvasPaddingLeft-1,this.leftCover.y=e.canvasPaddingTop-1,this.leftCover.width=e.canvasPaddingLeft+2,this.leftCover.height=e.canvasHeight-2*e.canvasPaddingTop+2,this.rightCover.x=e.designWidth-1,this.rightCover.y=this.leftCover.y-1,this.rightCover.width=e.canvasPaddingLeft+2,this.rightCover.height=this.leftCover.height+2,this.leftCover.visible=this.rightCover.visible=c2d.env.device.desktop()}}]),l}(c2d.display.View);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],58:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("./components/index.js")),h=l(e("./common/popup/Popup.js")),f=l(e("./common/popup/Toast.js")),d=l(e("./common/optionsScreen/OptionsScreen.js")),p=l(e("./mobile/controlsPanel/ControlsPanel.js")),y=l(e("./mobile/SwipeHandler.js")),b=l(e("./desktop/controlsPanel/ControlsPanel.js")),m=l(e("./CoverScreen.js"));function g(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=g(n);function n(){var e;return(0,i.default)(this,n),(e=t.apply(this,arguments)).config={},e.swipeHandler=null,e.controlsPanel=null,e.coverScreen=null,e.optionsScreen=null,e.popup=null,e.toast=null,e}return(0,a.default)(n,[{key:"setEventRouter",value:function(e){this._eventRouter=e}},{key:"onInitialize",value:function(){(0,r.default)((0,u.default)(n.prototype),"onInitialize",this).call(this),c.default.initialize({respack:this._respack}),flatUI.styles={evoplay:c.default.styles.stylesBlue,ugproduction:c.default.styles.stylesGreen,funkyspins:c.default.styles.stylesOrange}[c2d.env.gameVendor],this.config=this._respack.getAsset("config"),this.displayGroup=game.displayGroups.UI,this.zOrder=0,this.buildLayout()}},{key:"buildLayout",value:function(){var t=this;this.controlsPanel=new(c2d.env.device.desktop()?b:p).default(this.config),this.addChild(this.controlsPanel),this.coverScreen=new m.default(this.config),this.addChild(this.coverScreen),c2d.env.hasSwipeControls&&(this.swipeHandler=new y.default),c2d.eventManager.subscribe(c2d.documentEvents.SCREEN_WAS_RESIZED,function(e){c2d.env.device.tablet()&&t.children.forEach(function(e){return t.scaleChild(e)})})}},{key:"addChild",value:function(e){(0,r.default)((0,u.default)(n.prototype),"addChild",this).apply(this,arguments),c2d.env.device.tablet()&&this.scaleChild(e)}},{key:"scaleChild",value:function(e){var t=c2d.env.device.portrait()?.5:.75;e.scale.x=t,e.scale.y=t}},{key:"applyState",value:function(e,t){t=t.stateId;this.controlsPanel.applyState(e),this.swipeHandler&&this.swipeHandler.applyState(e,t)}},{key:"showShifter",value:function(e){e=e.slotModel;this.addChild(new game.src.FlatUI.shifter.ShifterPanel({slotModel:e}))}},{key:"showPaytable",value:function(e){e=new d.default({model:e,respack:this._respack,page:"Paytable"});return this.addChild(e),this.optionsScreen=e,this.controlsPanel.collapseAutospinPanel(),e}},{key:"showSettings",value:function(e){e=new d.default({model:e,respack:this._respack,page:1<arguments.length&&void 0!==arguments[1]?arguments[1]:"Settings"});return this.addChild(e),this.optionsScreen=e,this.controlsPanel.collapseAutospinPanel(),e}},{key:"showPopup",value:function(e){this.popup=new h.default(e),this.addChild(this.popup),this.popup.show()}},{key:"showToast",value:function(e){this.toast=new f.default(e),this.addChild(this.toast),this.toast.show()}},{key:"hidePopup",value:function(){this.popup&&this.popup.fadeAndClose()}},{key:"hideToast",value:function(){this.toast&&this.toast.fadeAndClose()}},{key:"onPopupClosed",value:function(){this.popup=null}},{key:"onHandModeChanged",value:function(e){}},{key:"toggleSwipeMode",value:function(e){this.swipeHandler&&this.swipeHandler.toggle(e)}},{key:"lockSwipeMode",value:function(){this.swipeHandler&&this.swipeHandler.lock()}},{key:"unlockSwipeMode",value:function(){this.swipeHandler&&this.swipeHandler.unlock()}},{key:"onAutospinStarted",value:function(){this.controlsPanel.onAutospinStarted()}},{key:"removeSkipListeners",value:function(){this.controlsPanel.removeSkipListeners()}},{key:"onLongClickOnScreenDone",value:function(){this.popup||this.optionsScreen||this.controlsPanel.onLongClickOnScreenDone()}},{key:"onSwipeUpDone",value:function(){this.popup||this.optionsScreen||this.controlsPanel.openBetExpandedPanel()}},{key:"onSwipeLeftDone",value:function(){this.optionsScreen&&this.optionsScreen.close()}},{key:"onOptionsHide",value:function(){this.optionsScreen=null}},{key:"showControlsPanel",value:function(){this.controlsPanel.visible||(this.controlsPanel.visible=!0)}},{key:"hideControlsPanel",value:function(){this.controlsPanel.visible&&(this.controlsPanel.visible=!1)}},{key:"forceHideActionButton",value:function(){this.controlsPanel.forceHideActionButton()}},{key:"cancelForceHideActionButton",value:function(){this.controlsPanel.cancelForceHideActionButton()}},{key:"isAutospinsPanelExpanded",get:function(){return this.controlsPanel.autospinPanel&&this.controlsPanel.autospinPanel.expanded}}]),n}(c2d.display.View);n.default=l},{"./CoverScreen.js":57,"./common/optionsScreen/OptionsScreen.js":61,"./common/popup/Popup.js":100,"./common/popup/Toast.js":101,"./components/index.js":116,"./desktop/controlsPanel/ControlsPanel.js":134,"./mobile/SwipeHandler.js":145,"./mobile/controlsPanel/ControlsPanel.js":148,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],59:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),a=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(n);return e=l?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,s.default)(a,e);var i=u(a);function a(){function t(e){return 9<e?e:"0"+e}(0,r.default)(this,a),(n=i.call(this,{layoutHeight:"30px",layoutWidth:"native",align:"center"},null)).setParams({visible:c2d.env.storage.getItem("showClock",!0)});var n,l=n.findChildById("clockText"),e=(setInterval(function(){var e=new Date;l.text=t(e.getHours())+":"+t(e.getMinutes())},1e3),new Date);return l.text=t(e.getHours())+":"+t(e.getMinutes()),c2d.eventManager.subscribe(game.events.FlatUI.ON_CLOCK_PRESSED,function(e){n.visible=e.data}),n}return(0,o.default)(a,[{key:"inflateMobilePortraitLayout",value:function(){return[new flatUI.text.TextField("00000",{layoutWidth:"native",layoutHeight:"native",style:flatUI.styles.TextField.main_screen_clock,align:"center",id:"clockText"})]}},{key:"inflateMobileLandscapeLayout",value:function(){return[new flatUI.text.TextField("00000",{layoutWidth:"native",style:flatUI.styles.TextField.main_screen_clock,align:"center",id:"clockText"})]}},{key:"inflateDesktopLayout",value:function(){return[new flatUI.text.TextField("00000",{layoutWidth:"native",style:flatUI.styles.TextField.main_screen_clock,align:"right",id:"clockText"})]}}]),a}(flatUI.layout.HorizontalLayout);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],60:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=u(n);function n(){var e;return(0,i.default)(this,n),(e=t.apply(this,arguments)).lastStateData={},c2d.eventManager.subscribe(c2d.documentEvents.SCREEN_WAS_RESIZED,function(){c2d.call(function(){return e.applyState(e.lastStateData)},1)}),e.quickStopBySpace=function(){},e}return(0,a.default)(n,[{key:"applyState",value:function(l){var i=this;l&&Object.keys(l).forEach(function(e){var t=i.findChildById(e),n=i.getHandlerName(e);t&&!i[n]?Object.assign(t,l[e]):i[n]&&i[n](t,l[e])}),this.lastStateData=Object.assign(this.lastStateData,l)}},{key:"getHandlerName",value:function(e){return"set"+e.charAt(0).toUpperCase()+e.slice(1)+"Data"}},{key:"setCashData",value:function(e,t){c2d.eventManager.dispatch(game.events.FlatUI.ON_CASH_CHANGED,t)}},{key:"setEnableQuickStopData",value:function(e,t){t?(document.addEventListener("touchstart",this.quickStopCb),document.addEventListener("mousedown",this.quickStopCb),document.addEventListener("keyup",this.quickStopBySpace,!1)):(document.removeEventListener("touchstart",this.quickStopCb),document.removeEventListener("mousedown",this.quickStopCb),document.removeEventListener("keyup",this.quickStopBySpace))}},{key:"setEnableSkipWinData",value:function(e,t){t?this.addSkipListeners():this.removeSkipListeners()}},{key:"setControlsPanelData",value:function(e,t){var n=this.findChildById("footPanel"),l=this.findChildById("actionButtonHolder");c2d.Tween.get(n,{override:!0}).to(t.params,t.duration,c2d.Tween.Ease.quadOut),l&&c2d.Tween.get(l).to(t.params,t.duration,c2d.Tween.Ease.quadOut)}},{key:"setAutospinsData",value:function(e,t){this.findChildById("autospinsLeft").text=t.count,this.findChildById("autospinsLeftSwipe")&&(this.findChildById("autospinsLeftSwipe").text=t.count)}},{key:"setStopButtonData",value:function(e,t){e.visible=t.visible,t.visible||(this.findChildById("autospinsLeft").text=" ",this.findChildById("autospinsLeftSwipe")&&(this.findChildById("autospinsLeftSwipe").text=" "))}},{key:"setFootPanelData",value:function(e,t){e.visible=t.visible,this.buttonsList.filter(function(e){return e.visible}).forEach(function(e){return e.interactive=t.enabled})}},{key:"setActionButtonData",value:function(e,t){e.setState(t)}},{key:"setFreespinsData",value:function(e,t){var n;!t||(n=this.findChildById("freespinsCount"))&&(n.text=t.leftCount)}},{key:"setGiftspinsData",value:function(e,t){this.findChildById("giftspinsLeft").text=t.left}},{key:"setRespinsData",value:function(e,t){this.findChildById("respinsLeft")&&(this.findChildById("respinsLeft").text=t.leftCount)}},{key:"setRadioData",value:function(e,t){var n=this;if(!t)return this.findChildById("win").text="",this.findChildById("winLabel").text="",void(e.visible=!1);var l=e.visible&&t.text?1:0;e.visible=!0,e.alpha=l,this.findChildById("win").text===t.text&&this.findChildById("winLabel").text.toUpperCase()===t.title.toUpperCase()||c2d.Tween.get(this.findChildById("radio")).set({alpha:l}).to({alpha:0},50).call(function(){n.findChildById("win").text=t.text,n.findChildById("winLabel").text=t.title.toUpperCase()}).to({alpha:1},150)}},{key:"onIntroTumblerSwitch",value:function(e){c2d.env.storage.setItem("skipIntro",e)}},{key:"onAutospinStarted",value:function(){this.findChildById("actionButton").onAutospinStarted()}},{key:"forceHideActionButton",value:function(){this.findChildById("actionButton").forceHide()}},{key:"cancelForceHideActionButton",value:function(){this.findChildById("actionButton").cancelForceHide()}}]),n}(flatUI.layout.VerticalLayout);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],61:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),a=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./OptionsScreenTabsLayout.js")),c=l(e("./OptionsScreenTab.js")),h=l(e("./settings/SettingsScreen.js")),f=l(e("./rules/RulesScreen.js")),d=l(e("./paytable/PaytableScreen.js")),p=l(e("./bet/BetScreen.js")),y=l(e("./betHistory/BetHistory.js")),b=l(e("./statistics/StatisticsScreen.js"));function m(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(n);return e=l?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}var g={Button:{close:{textures:{normal:"BUTTON_CLOSE_normal",hover:"BUTTON_CLOSE_hover",pressed:"BUTTON_CLOSE_pressed",disabled:"BUTTON_CLOSE_disabled"}}}},l=function(e){(0,s.default)(a,e);var i=m(a);function a(e){var t,n=e.model,l=e.respack,e=e.page,e=void 0===e?"Paytable":e;return(0,r.default)(this,a),(t=i.call(this,{layoutWidth:"100vw",layoutHeight:"100vh",align:"top",style:flatUI.styles.Panel.primary,model:n,respack:l,page:e},null)).respack=l,t.displayGroup=game.displayGroups.UI,t.zOrder=25,t.layout(),t.page=e,t.background.interactive=!0,t.startPoint=null,t.resizeHandler=function(e){return t.onResize(e.data)},t.blockKeyPress=function(e){return e.stopImmediatePropagation()},c2d.eventManager.subscribe(c2d.documentEvents.SCREEN_WAS_RESIZED,t.resizeHandler),document.addEventListener("keyup",t.blockKeyPress,!0),document.getElementById("slotCanvas").addEventListener("touchstart",t.onTouchstart,{passive:!0,capture:!0}),document.getElementById("slotCanvas").addEventListener("touchend",t.onTouchend,{passive:!0,capture:!0}),c2d.eventManager.dispatch(game.events.FlatUI.SHOW_OPTIONS),t}return(0,o.default)(a,[{key:"inflateMobileLandscapeLayout",value:function(){var t=this,e="80%",n=(flatUI.styles.Panel.paytableButtonLowerLandscape&&(e="70%"),1),l=this.settings.model.config;return c2d.env.device.tablet()&&l.optionsScreenProperties&&l.optionsScreenProperties.tablet&&(n=l.optionsScreenProperties.tablet.landscape.scale),[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:15*n+"%",layoutHeight:"100%",style:flatUI.styles.Panel.primary,id:"OptionsScreen#MainContainer"},[new flatUI.layout.Spacer,new u.default({align:"left",layoutWidth:"100%",layoutHeight:e,selectHandler:function(e){return t.tabSelectHandler(e)},id:"OptionsScreen#TabsLayout"}),new flatUI.layout.Spacer({layoutWeight:.5}),new flatUI.buttons.IconButton(function(){return t.close()},{align:"center",layoutHeight:"100px",style:g.Button.close}),new flatUI.layout.Spacer({layoutWeight:.1})]),new flatUI.layout.FrameLayout({align:"none",layoutWidth:85*n+"%",layoutHeight:"100%"},[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.Panel.secondary},[new flatUI.layout.FrameLayout({align:"none",layoutWidth:"95%",layoutHeight:"97%",id:"OptionsScreen#ScreensContainer"},[])]),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"betRecordDetails"},[])])]}},{key:"inflateMobilePortraitLayout",value:function(){var n=this;return[new flatUI.layout.FrameLayout({align:"none",layoutWidth:"100%",layoutHeight:"100%"},[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.Panel.secondary},[new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"90%",layoutHeight:"100px",style:flatUI.styles.Panel.secondary},[new flatUI.text.TextField("",{layoutWidth:"50%",layoutHeight:"100%",style:flatUI.styles.TextField.option_screen_title,align:"left",id:"OptionsScreen#tabTitle"}),new flatUI.layout.Spacer,new flatUI.buttons.IconButton(function(){return n.close()},{layoutWidth:"native",align:"center",style:g.Button.close})]),new flatUI.layout.FrameLayout({align:"none",layoutWidth:"94%",id:"OptionsScreen#ScreensContainer"},[]),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"100px",style:flatUI.styles.Panel.primary},[new u.default({align:"left",layoutWidth:"100%",layoutHeight:"100%",selectHandler:function(e){var t=e.id,e=e.name;n.tabSelectHandler({id:t,name:e}),n.findChildById("OptionsScreen#tabTitle").text=e.ls()},id:"OptionsScreen#TabsLayout"})])]),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"betRecordDetails"},[])])]}},{key:"inflateDesktopLayout",value:function(){var n=this;return[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"20%",layoutHeight:"100%",style:flatUI.styles.Panel.primary},[new u.default({align:"left",layoutWidth:"100%",selectHandler:function(e){var t=e.id,e=e.name;return n.tabSelectHandler({id:t,name:e})},id:"OptionsScreen#TabsLayout"}),new flatUI.layout.Spacer,new c.default("panel_button_back_to_game".ls(),function(){return n.close()},{icon:{normal:"BUTTON_BACK_off"},layoutWidth:"100%",layoutHeight:"80px"})]),new flatUI.layout.FrameLayout({align:"none",layoutWidth:"80%",layoutHeight:"100%"},[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.Panel.secondary},[new flatUI.layout.FrameLayout({align:"none",layoutWidth:"93%",layoutHeight:"100%"},[new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%"},[new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"98%",id:"OptionsScreen#ScreensContainer"},[])]),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"120px"},[new flatUI.layout.Spacer,new flatUI.buttons.IconButton(function(){return n.close()},{layoutHeight:"100%",layoutWidth:"native",align:"left",style:g.Button.close})])]),new flatUI.layout.Spacer]),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"betRecordDetails"},[])])]}},{key:"onResize",value:function(e){var t=this.findChildById("OptionsScreen#"+this._page),n=0;!e.isOrientationChange&&0<t.scrollValue&&(n=t.scrollValue),this.reInflateLayout(),this.layout(),this.page=this._page,this.findChildById("OptionsScreen#"+this._page).scrollValue=n}},{key:"tabSelectHandler",value:function(e){var t=this,n=e.id,e=(e.name,this.findChildById("OptionsScreen#ScreensContainer")),l={Statistics:function(){return new b.default(t.settings.model).setParams({id:"OptionsScreen#Statistics"})},Paytable:function(){return new d.default(t.settings.model.paytableConfig).setParams({id:"OptionsScreen#Paytable"})},Rules:function(){return new f.default(t.settings.model).setParams({id:"OptionsScreen#Rules"})},BetHistory:function(){return new y.default(t.settings.model,function(e){return t.onSelectHistoryRecord(e)}).setParams({id:"OptionsScreen#BetHistory"})},Settings:function(){return new h.default(t.settings.model).setParams({id:"OptionsScreen#Settings"})},Bet:function(){return new p.default(t.settings.model).setParams({id:"OptionsScreen#Bet",sliderEnabled:"GS_IDLE_STATE"!==t.settings.model.slotsModel.currentState})}};this.betRecordsScreen&&(this.betRecordsScreen.removeFromParent(),this.betRecordsScreen=null),e.removeComponents(),e.addChild(l[n]()),e.layout(),this._page=n,this.isOnSelectHistoryRecordPressed=!1}},{key:"onSelectHistoryRecord",value:function(e){var t=this;this.isOnSelectHistoryRecordPressed||(this.isOnSelectHistoryRecordPressed=!0,this.betRecordsScreen=new game.src.FlatUI.bet.BetRecordDetails({slotsModel:this.settings.model.slotsModel,respack:this.respack,config:e,closeHandler:function(){t.betRecordsScreen.betRecordModel=null,t.betRecordsScreen.removeFromParent(),t.betRecordsScreen=null,t.isOnSelectHistoryRecordPressed=!1}}),this.findChildById("betRecordDetails").addChild(this.betRecordsScreen),this.findChildById("betRecordDetails").layout())}},{key:"close",value:function(){c2d.eventManager.unsubscribe(c2d.documentEvents.SCREEN_WAS_RESIZED,this.resizeHandler),document.removeEventListener("keyup",this.blockKeyPress,!0),document.getElementById("slotCanvas").removeEventListener("touchstart",this.onTouchstart),document.getElementById("slotCanvas").removeEventListener("touchend",this.onTouchend),this.findChildById("OptionsScreen#ScreensContainer").removeComponents(),this.removeFromParent(),this.displayChildren&&this.dispose(this.displayChildren),this.destroy({children:!0}),c2d.eventManager.dispatch(game.events.FlatUI.HIDE_OPTIONS)}},{key:"dispose",value:function(e){var t=this;e.forEach(function(e){e instanceof c2d.display.TextField&&e.texture&&e.destroy(!0),e.children&&t.dispose(e.children)})}},{key:"page",set:function(e){this.findChildById("OptionsScreen#TabsLayout").select(e)}}]),a}(flatUI.layout.HorizontalLayout);n.default=l},{"./OptionsScreenTab.js":62,"./OptionsScreenTabsLayout.js":63,"./bet/BetScreen.js":70,"./betHistory/BetHistory.js":65,"./paytable/PaytableScreen.js":80,"./rules/RulesScreen.js":89,"./settings/SettingsScreen.js":94,"./statistics/StatisticsScreen.js":98,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],62:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/defineProperty"))),a=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(t,e){var n,l=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,n)),l}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach(function(e){(0,i.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}var d={Button:{normal:{color:1052688,alpha:1},pressed:{color:0,alpha:1},hover:{color:44269,alpha:.2},disabled:{color:0,alpha:1}}},l=function(e){(0,o.default)(i,e);var l=f(i);function i(e,t,n){n.icon,n.layoutWidth,n.layoutHeight,n.enabled;return(0,a.default)(this,i),l.call(this,h(h({align:"center"},n),{},{text:e,clickHandler:t}),null)}return(0,r.default)(i,[{key:"onInitialize",value:function(e){var t=e.text,e=e.clickHandler;this.clickHandler=e,this.text=t}},{key:"inflateDesktopLayout",value:function(){var e=this;return[new flatUI.buttons.FlatButton(function(){return e.clickHandler()},{layoutWidth:this._rawLayoutWidth,layoutHeight:this._rawLayoutHeight,style:d.Button,enabled:this.settings.enabled,id:"OptionsScreenTab#button"}),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:this._rawLayoutWidth,layoutHeight:this._rawLayoutHeight},[new flatUI.layout.Spacer,new flatUI.graphics.Icon(this.settings.icon.normal,{layoutWidth:"25%",layoutHeight:"100%",align:"center",id:"OptionsScreenTab#icon"}),new flatUI.layout.Spacer,new flatUI.text.TextField(this.text,{layoutWidth:"70%",layoutHeight:"100%",style:flatUI.styles.TextField.option_screen_tab_normal,align:"left",id:"OptionsScreenTab#text",fitInLayout:!0}),new flatUI.layout.Spacer])]}},{key:"inflateMobilePortraitLayout",value:function(){var e=this;return[new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%"},[new flatUI.buttons.FlatButton(function(){return e.clickHandler()},{layoutWidth:"100%",layoutHeight:"100%",style:d.Button,enabled:this.settings.enabled,id:"OptionsScreenTab#button"}),new flatUI.graphics.Icon(this.settings.icon.normal,{layoutWidth:"100%",layoutHeight:"native",align:"center",id:"OptionsScreenTab#icon"})])]}},{key:"inflateMobileLandscapeLayout",value:function(){var e=this;return[new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%"},[new flatUI.buttons.FlatButton(function(){return e.clickHandler()},{layoutWidth:"100%",layoutHeight:"100%",style:d.Button,enabled:this.settings.enabled,id:"OptionsScreenTab#button"}),new flatUI.graphics.Icon(this.settings.icon.normal,{layoutWidth:"100%",layoutHeight:"100%",align:"center",id:"OptionsScreenTab#icon"})])]}},{key:"active",set:function(e){this.findChildById("OptionsScreenTab#button").enabled=!e,this.findChildById("OptionsScreenTab#text")&&(this.findChildById("OptionsScreenTab#text").textStyle=e?flatUI.styles.TextField.option_screen_tab_active:flatUI.styles.TextField.option_screen_tab_normal),this.findChildById("OptionsScreenTab#icon").texture=e?this.settings.icon.active:this.settings.icon.normal;e=this.findChildById("OptionsScreenTab#button");c2d.Tween.get(e.scale).to({y:.1},100).to({y:1},200)}}]),i}(flatUI.layout.FrameLayout);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],63:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./OptionsScreenTab.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}function h(){return"description_game_rules"!="description_game_rules".ls()}var f=[{id:"Statistics",name:"statistics_title"},{id:"Paytable",name:"panel_name_paytable"},{id:"Rules",name:"panel_name_rules"},{id:"BetHistory",name:"panel_name_bet_history"},{id:"Settings",name:"panel_name_settings"},{id:"Bet",name:"panel_name_bet"}],l=function(e){(0,r.default)(l,e);var n=c(l);function l(e){var t;return(0,i.default)(this,l),(t=n.call(this,e,null)).selectHandler=e.selectHandler,t}return(0,a.default)(l,[{key:"inflateDesktopLayout",value:function(){var e=this;return[new flatUI.layout.Spacer({layoutWeight:.2}),c2d.env.showSessionStatistics?new u.default("statistics_title".ls(),function(){return e.select("Statistics")},{icon:{active:"STATISTIC_active",normal:"STATISTIC_normal"},layoutWidth:"100%",layoutHeight:"100px",id:"OptionsScreenTab#Statistics"}):null,new u.default("panel_name_paytable".ls(),function(){return e.select("Paytable")},{icon:{active:"INFO_on",normal:"INFO_off"},layoutWidth:"100%",layoutHeight:"100px",id:"OptionsScreenTab#Paytable"}),h()?new u.default("panel_name_rules".ls(),function(){return e.select("Rules")},{icon:{active:"RULES_on",normal:"RULES_off"},layoutWidth:"100%",layoutHeight:"100px",id:"OptionsScreenTab#Rules"}):null,c2d.env.showHistory?new u.default("panel_name_bet_history".ls(),function(){return e.select("BetHistory")},{icon:{active:"BET_HISTORY_on",normal:"BET_HISTORY_off"},layoutWidth:"100%",layoutHeight:"100px",id:"OptionsScreenTab#BetHistory"}):null,new u.default("panel_name_settings".ls(),function(){return e.select("Settings")},{icon:{active:"SETTINGS_on",normal:"SETTINGS_off"},layoutWidth:"100%",layoutHeight:"100px",id:"OptionsScreenTab#Settings"}),new flatUI.layout.Spacer]}},{key:"inflateMobileLandscapeLayout",value:function(){var e=this;return[c2d.env.showSessionStatistics?new u.default("",function(){return e.select("Statistics")},{icon:{active:"STATISTIC_active",normal:"STATISTIC_normal"},layoutWidth:"100%",id:"OptionsScreenTab#Statistics"}):null,new u.default("",function(){return e.select("Paytable")},{icon:{active:"INFO_on",normal:"INFO_off"},layoutWidth:"100%",id:"OptionsScreenTab#Paytable"}),h()?new u.default("",function(){return e.select("Rules")},{icon:{active:"RULES_on",normal:"RULES_off"},layoutWidth:"100%",id:"OptionsScreenTab#Rules"}):null,c2d.env.showHistory?new u.default("panel_name_bet_history".ls(),function(){return e.select("BetHistory")},{icon:{active:"BET_HISTORY_on",normal:"BET_HISTORY_off"},layoutWidth:"100%",id:"OptionsScreenTab#BetHistory"}):null,new u.default("",function(){return e.select("Settings")},{icon:{active:"SETTINGS_on",normal:"SETTINGS_off"},layoutWidth:"100%",id:"OptionsScreenTab#Settings"}),new u.default("",function(){return e.select("Bet")},{icon:{active:"BET_SETTINGS_on",normal:"BET_SETTINGS_off"},layoutWidth:"100%",id:"OptionsScreenTab#Bet"})]}},{key:"inflateMobilePortraitLayout",value:function(){var e=this;return[new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%"},[new flatUI.layout.Spacer,c2d.env.showSessionStatistics?new u.default("",function(){return e.select("Statistics")},{icon:{active:"STATISTIC_active",normal:"STATISTIC_normal"},layoutWidth:"15%",layoutHeight:"100%",id:"OptionsScreenTab#Statistics"}):null,new u.default("",function(){return e.select("Paytable")},{icon:{active:"INFO_on",normal:"INFO_off"},layoutWidth:"15%",layoutHeight:"100%",id:"OptionsScreenTab#Paytable"}),h()?new u.default("",function(){return e.select("Rules")},{icon:{active:"RULES_on",normal:"RULES_off"},layoutWidth:"15%",layoutHeight:"100%",id:"OptionsScreenTab#Rules"}):null,c2d.env.showHistory?new u.default("panel_name_bet_history".ls(),function(){return e.select("BetHistory")},{icon:{active:"BET_HISTORY_on",normal:"BET_HISTORY_off"},layoutWidth:"20%",layoutHeight:"100%",id:"OptionsScreenTab#BetHistory"}):null,new u.default("",function(){return e.select("Settings")},{icon:{active:"SETTINGS_on",normal:"SETTINGS_off"},layoutWidth:"15%",layoutHeight:"100%",id:"OptionsScreenTab#Settings"}),new u.default("",function(){return e.select("Bet")},{icon:{active:"BET_SETTINGS_on",normal:"BET_SETTINGS_off"},layoutWidth:"15%",layoutHeight:"100%",id:"OptionsScreenTab#Bet"}),new flatUI.layout.Spacer])]}},{key:"select",value:function(t){this.activeTab&&(this.activeTab.active=!1),this.activeTab=this.findChildById("OptionsScreenTab#"+t),this.activeTab.active=!0,this.selectHandler(f.find(function(e){return t==e.id}))}}]),l}(flatUI.layout.VerticalLayout);n.default=l},{"./OptionsScreenTab.js":62,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],64:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/get")),u=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,u.default)(a,e);var i=h(a);function a(){var e;(0,r.default)(this,a);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=i.call.apply(i,[this].concat(n))).bounceTween=null,e._settings.scrollableLayoutMaskDisabled?e.scrollableLayout=e.findChildById("Scrollable"):(e._settings.scrollableLayoutMaskDisabled=!1,e.initMask()),e.initScroll(),e.initEvents(),e.scrollableLayoutHeight=0,e.scrollValue=0,e.bounceValue=0,e.scrollDistance=0,e.touchStartTime=0,e.lastMoveGlobal={t:Date.now(),y:0},e}return(0,o.default)(a,[{key:"initScroll",value:function(){this.scrollBack=new c2d.display.Graphics,this.scrollPin=new c2d.display.Graphics,this.scrollBack.beginFill(flatUI.styles.Panel.tile.color,1),this.scrollBack.drawRoundedRect(15,0,5,500,2),this.scrollPin.beginFill(flatUI.styles.Color.accent,.6),this.scrollPin.drawRect(15,0,5,100),this.scrollPin.height=100,this.scrollPin.alpha=.5,this.addChild(this.scrollBack),this.addChild(this.scrollPin),!/constructor/i.test(window.HTMLElement)&&"[object SafariRemoteNotification]"!==(!window.safari||"undefined"!=typeof safari&&window.safari.pushNotification).toString()||(window.onwheel=function(){return!1})}},{key:"initMask",value:function(){var e=new c2d.display.Graphics;e.beginFill(17561,1),e.drawRect(0,0,1,1),e.endFill(),this.addChildAt(e,0),this.scrollableLayout=this.findChildById("Scrollable"),this.scrollableLayout.mask=e,this.maskSprite=e}},{key:"updateLastGlobalMove",value:function(e){200<Date.now()-this.lastMoveGlobal.t&&(this.lastMoveGlobal.y=e,this.lastMoveGlobal.t=Date.now())}},{key:"initEvents",value:function(){var a=this;this.interactive=!0,this.mousedown=this.touchstart=function(t){var n,l,i;a.visible&&a.isOverflow&&(c2d.Tween.removeTweens(a),n=t.data.global.y,a.scrollDistance=0,a.touchStartTime=Date.now(),a.lastMoveGlobal.t=Date.now(),a.lastMoveGlobal.y=0,l=t.data.global.y,i=!(a.scrollPin.alpha=1),a.mousemove=a.touchmove=function(e){40<Math.abs(e.data.global.y-l)&&(i=!0,l=t.data.global.y),i&&(a.updateLastGlobalMove(e.data.global.y),a.scrollValue=(a.scrollableLayout.y+2*(e.data.global.y-l))/(a.layoutHeight-a.scrollableLayoutHeight),a.scrollDistance=e.data.global.y-n,l=e.data.global.y,a.scrollPin.alpha=1)},a.mouseup=a.mouseupoutside=a.touchleave=a.touchend=a.touchcancel=function(e){a.mousemove=a.touchmove=null,a.updateLastGlobalMove(e.data.global.y),c2d.Tween.get(a.scrollPin,{override:!0}).wait(100).to({alpha:.5},200)})},this.mouseWheelHandler=function(e){var t;a.visible&&(e=e.deltaY||e.wheelDelta||1,t=c2d.env.device.firefox()?33:1,a.wheelScrollDelta(e/500/(a.scrollableLayoutHeight/a.layoutHeight)*t))},this._startBounceTween=this.startBounceTween.bind(this),document.addEventListener("touchend",this._startBounceTween),document.addEventListener("touchleave",this._startBounceTween),document.addEventListener("touchcancel",this._startBounceTween),document.addEventListener("mouseupoutside",this._startBounceTween),document.addEventListener("mouseup",this._startBounceTween),document.querySelector(".canvas-box").addEventListener("mousewheel",this.mouseWheelHandler,{passive:!0,capture:!1}),document.querySelector(".canvas-box").addEventListener("wheel",this.mouseWheelHandler,{passive:!0,capture:!1})}},{key:"destroy",value:function(){var e;document.querySelector(".canvas-box").removeEventListener("mousewheel",this.mouseWheelHandler),document.querySelector(".canvas-box").removeEventListener("wheel",this.mouseWheelHandler),document.removeEventListener("touchend",this._startBounceTween),document.removeEventListener("touchleave",this._startBounceTween),document.removeEventListener("touchcancel",this._startBounceTween),document.removeEventListener("mouseupoutside",this._startBounceTween),document.removeEventListener("mouseup",this._startBounceTween);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];(e=(0,s.default)((0,c.default)(a.prototype),"destroy",this)).call.apply(e,[this].concat(n))}},{key:"onLayout",value:function(){this.scrollableLayoutHeight=this.scrollableLayout.height,this._settings.scrollableLayoutMaskDisabled||(this.maskSprite.width=this.layoutWidth,this.maskSprite.height=this.layoutHeight),this.scrollBack.visible=this.isOverflow,this.scrollPin.visible=this.isOverflow,this.scrollPin.height=this.layoutHeight/(this.scrollableLayoutHeight/this.layoutHeight),this.scrollBack.x=this.layoutWidth,this.scrollBack.height=this.layoutHeight,this.scrollPin.x=this.layoutWidth,this.scrollValue=0}},{key:"wheelScrollDelta",value:function(e){var t=this;this.isOverflow&&(this.scrollPin.alpha=1,c2d.Tween.get(this,{override:!0}).to({scrollValue:this.scrollValue+e},0,function(e){return Math.pow(e-1,3)+1}).call(function(){return c2d.Tween.get(t.scrollPin).wait(100).to({alpha:.5},200)}))}},{key:"touchScrollDelta",value:function(e){if(this.isOutOfBorders)return this.bounceValue=-e,void(this.scrollableLayout.y+=this.scrollableLayoutHeight*this.bounceValue/10);this.scrollValue+=e}},{key:"startInertialTween",value:function(e){var t=this;this.isOutOfBorders||(e=0<Math.abs(e)?this.scrollDistance*Math.pow(500,2)/Math.pow(Date.now()-this.touchStartTime,2)/(10*(this.layoutHeight-this.scrollableLayoutHeight)):0,c2d.Tween.get(this,{override:!0}).to({scrollValue:this.scrollValue+e},500,c2d.Tween.Ease.easeOutCubic).call(function(){return t.scrollDistance=0}))}},{key:"startBounceTween",value:function(){var e=this;!this.bounceTween&&this.isOutOfBorders&&(this.bounceTween=c2d.Tween.get(this.scrollableLayout,{override:!0}).to({y:this.bounceFinishValue},100).call(function(){e.bounceTween=null,e.bounceValue=0}))}},{key:"scrollValue",get:function(){return this._scrollValue},set:function(e){e=Math.min(1,Math.max(0,e)),this._scrollValue=e,this.scrollableLayout.y=(this.layoutHeight-this.scrollableLayoutHeight)*e,this.scrollPin.y=(this.layoutHeight-this.scrollPin.height)*e}},{key:"bounceValue",get:function(){return this._bounceValue},set:function(e){this._bounceValue=e}},{key:"bounceFinishValue",get:function(){return 0<=this.scrollableLayout.y?0:this.layoutHeight-this.scrollableLayoutHeight}},{key:"isOutOfBorders",get:function(){return 0<=this.scrollableLayout.y||this.scrollableLayout.y<=this.layoutHeight-this.scrollableLayoutHeight}},{key:"isOverflow",get:function(){return this.layoutHeight<this.scrollableLayoutHeight}}]),a}(flatUI.layout.FrameLayout);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],65:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/defineProperty"))),a=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/get")),s=l(e("@babel/runtime/helpers/inherits")),u=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf")),h=l(e("../ScrollableLayout.js")),f=l(e("./Paginator.js")),d=l(e("./BetHistoryItem.js"));function p(t,e){var n,l=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,n)),l}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach(function(e){(0,i.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function b(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var l=flatUI.layout,m=l.Spacer,g=l.VerticalLayout,v=l.GridLayout,_=l.HorizontalLayout,S=l.FrameLayout,C=flatUI.text.TextField,e=function(e){(0,s.default)(i,e);var l=b(i);function i(e,t){var n;return(0,a.default)(this,i),(n=l.call(this,{align:"none",layoutWidth:"100%",layoutHeight:"100%"},null)).model=e,n.selectHandler=t,n.getHistory(1),n}return(0,r.default)(i,[{key:"getHistory",value:function(e){var t=this;this._getHistoryHandler=function(e){return t.getHistoryHandler(e.data)},c2d.eventManager.subscribe(game.events.FlatUI.ON_GET_HISTORY,this._getHistoryHandler),c2d.eventManager.dispatch(game.events.FlatUI.HISTORY_CURRENT_PAGE_PRESSED,e)}},{key:"getHistoryHandler",value:function(e){var t=this,n=(c2d.eventManager.unsubscribe(game.events.FlatUI.ON_GET_HISTORY,this._getHistoryHandler),this.findChildById("PageContainer")),l=this.findChildById("Scrollable"),i=this.findChildById("Paginator"),a=c2d.env.device.portrait()?5:8,a=(1==e.pages&&(a=0),i.maxButtons=a,i.pages=e.pages,i.page=e.currentPage,e.records.map(function(e){return new d.default(e,t.selectHandler)}));a.length&&(l.removeComponents(),l.addChildren(a),l.layout()),n.layout()}},{key:"inflateMobileLandscapeLayout",value:function(){var t=this;return[new g({align:"middle",layoutWidth:"100%",layoutHeight:"100%",id:"PageContainer"},[new m({layoutHeight:"90px"}),new C("panel_name_bet_history".ls(),{layoutWidth:"100%",layoutHeight:"30px",style:flatUI.styles.TextField.option_screen_title,align:"left"}),new _({align:"center",layoutWidth:"100%",layoutHeight:"70px"},this.titles),new h.default({align:"none",layoutWidth:"100%"},[new v({align:"middle",layoutWidth:"100%",columnCount:1,padding:4,id:"Scrollable"},[])]),new S({align:"center",layoutHeight:"70px"},[new f.default(function(e){return t.getHistory(e)},{pages:0,maxButtons:8,page:0}).setParams({id:"Paginator"})])])]}},{key:"inflateMobilePortraitLayout",value:function(e,t){var n=this;return[new g({align:"middle",layoutWidth:"100%",layoutHeight:"100%",id:"PageContainer"},[new _({align:"center",layoutWidth:"100%",layoutHeight:"60px"},this.titles),new h.default({align:"none",layoutWidth:"100%"},[new v({align:"middle",layoutWidth:"100%",columnCount:1,padding:4,id:"Scrollable"},[])]),new S({align:"center",layoutHeight:"70px"},[new f.default(function(e){return n.getHistory(e)},{pages:0,maxButtons:8,page:0}).setParams({id:"Paginator"})])])]}},{key:"inflateDesktopLayout",value:function(e,t){var n=this;return[new g({align:"middle",layoutWidth:"100%",layoutHeight:"100%",id:"PageContainer"},[new C("panel_name_bet_history".ls(),{layoutWidth:"100%",layoutHeight:"100px",style:flatUI.styles.TextField.option_screen_title,align:"left"}),new _({align:"center",layoutWidth:"100%",layoutHeight:"70px"},this.titles),new h.default({align:"none",layoutWidth:"100%"},[new v({align:"middle",layoutWidth:"100%",columnCount:1,padding:4,id:"Scrollable"},[])]),new f.default(function(e){return n.getHistory(e)},{pages:0,maxButtons:8,page:0}).setParams({id:"Paginator"})])]}},{key:"titles",get:function(){var e={layoutHeight:"100%",fitInLayout:!0,style:y(y({},flatUI.styles.TextField.option_screen_description),{},{fill:flatUI.styles.Color.bright,wordWrap:!1}),align:"center"};return[new C("bet_history_time".ls(),y({layoutWidth:"20%"},e)),new m({layoutWidth:"10px"}),new C("bet_history_action".ls(),y({layoutWidth:"19%"},e)),new m({layoutWidth:"10px"}),new C("bet_history_bet".ls(),y({layoutWidth:"14%"},e)),new m({layoutWidth:"10px"}),new C("bet_history_win".ls(),y({layoutWidth:"14%"},e)),new m({layoutWidth:"10px"}),c2d.env.hideCurrency?null:new C("bet_history_currency".ls(),y({layoutWidth:"20%"},e)),new m({layoutWidth:"50px"})]}},{key:"destroy",value:function(){c2d.eventManager.unsubscribe(game.events.FlatUI.ON_GET_HISTORY,this._getHistoryHandler),(0,o.default)((0,c.default)(i.prototype),"destroy",this).apply(this,arguments)}}]),i}(S);n.default=e},{"../ScrollableLayout.js":64,"./BetHistoryItem.js":66,"./Paginator.js":69,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],66:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/defineProperty"))),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/classCallCheck")),s=l(e("@babel/runtime/helpers/inherits")),a=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(t,e){var n,l=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,n)),l}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach(function(e){(0,i.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}l=function(e){(0,s.default)(a,e);var i=f(a);function a(e,t){(0,o.default)(this,a);var n=h(h({},flatUI.styles.TextField.option_screen_description),{},{fill:flatUI.styles.Color.bright,fontWeight:"700",align:"center"}),l=h(h({},flatUI.styles.TextField.option_screen_description),{},{align:"center"}),l=0===Number(e.win)?l:n;return i.call(this,{align:"none",layoutWidth:"100%",layoutHeight:"60px"},[new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.Panel.primary},[new flatUI.text.TextField(e.datetime,{layoutWidth:"20%",layoutHeight:"100%",fitInLayout:!0,style:l,align:"center"}),new flatUI.layout.Spacer({layoutWidth:"10px"}),new flatUI.text.TextField(e.action,{layoutWidth:"19%",layoutHeight:"100%",fitInLayout:!0,style:l,align:"center"}),new flatUI.layout.Spacer({layoutWidth:"10px"}),new flatUI.text.TextField(e.bet,{layoutWidth:"14%",layoutHeight:"100%",fitInLayout:!0,style:l,align:"center"}),new flatUI.layout.Spacer({layoutWidth:"10px"}),new flatUI.text.TextField(e.win,{layoutWidth:"14%",layoutHeight:"100%",fitInLayout:!0,style:l,align:"center"}),new flatUI.layout.Spacer({layoutWidth:"10px"}),c2d.env.hideCurrency?null:new flatUI.text.TextField(e.currency,{layoutWidth:"20%",layoutHeight:"100%",fitInLayout:!0,style:l,align:"center"}),new flatUI.buttons.IconButton(function(){return t(e)},{align:"center",layoutWidth:"50px",layoutHeight:"100%",style:{textures:{normal:"INFO_off",hover:c2d.env.device.desktop()?"INFO_on":"INFO_off",pressed:"INFO_off",disabled:"INFO_off"}}})])])}return(0,r.default)(a)}(flatUI.layout.FrameLayout);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],67:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/defineProperty"))),r=l(e("@babel/runtime/helpers/classCallCheck")),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(t,e){var n,l=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,n)),l}function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,s.default)(i,e);var l=h(i);function i(e,t,n){return(0,r.default)(this,i),(n=l.call(this,n)).animation=new c2d.display.Animation,n.addChild(n.animation),n.setAnimation(e,t),n.interactive=!1,n}return(0,o.default)(i,[{key:"onLayout",value:function(){this.hitArea=new c2d.geom.Rectangle(0,0,this.layoutWidth,this.layoutHeight);var e=this.animation;e.scale.y=this.animation.scale.x=this.settings.zoom||1,e.anchor&&(e.x=this.layoutWidth*e.anchor.x,e.y=this.layoutHeight*e.anchor.y)}},{key:"setAnimation",value:function(e,t){null!==e?(e=Object.isObject(e)?e:{type:e},this.animation.visible=!0,(e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach(function(e){(0,a.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},game.src.Reelset.SymbolAnimations.getAnimation(e,t))).displayGroup=null,e.zOrder=null,this.animation.setAnimation(e),this.animation.anchor=new c2d.geom.Point(.5,.5),this.animation.animation&&(this.animation.animation.anchor=new c2d.geom.Point(.5,.5)),this.layout()):this.animation.visible=!1}}]),i}(flatUI.UIComponent);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],68:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/toConsumableArray"))),i=l(e("@babel/runtime/helpers/defineProperty")),r=l(e("@babel/runtime/helpers/classCallCheck")),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/get")),u=l(e("@babel/runtime/helpers/inherits")),c=l(e("@babel/runtime/helpers/possibleConstructorReturn")),h=l(e("@babel/runtime/helpers/getPrototypeOf")),f=l(e("../ScrollableLayout.js")),y=l(e("../paytable/PaytableBetLine.js"));function d(t,e){var n,l=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,n)),l}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach(function(e){(0,i.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function p(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(n);return e=l?(e=(0,h.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var l=flatUI.layout,m=l.VerticalLayout,g=l.HorizontalLayout,v=l.FrameLayout,_=l.GridLayout,S=l.Spacer,C=flatUI.text.TextField,e=function(e){(0,u.default)(n,e);var t=p(n);function n(e){return(0,r.default)(this,n),(e=t.call(this,b({align:"center",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.Panel.secondary},e),null)).background.interactive=!0,e}return(0,o.default)(n,[{key:"initialize",value:function(e){var t=e.slotsModel,e=e.config;this.slotsModel=t,this.config=e,this.betRecordModel=e.model,this.currency=e.currency,this.reelsetSymbols=[],this.reelsetScale=.5,(0,s.default)((0,h.default)(n.prototype),"initialize",this).apply(this,arguments)}},{key:"inflateMobileLandscapeLayout",value:function(){return this.inflateDesktopLayout.apply(this,arguments)}},{key:"inflateMobilePortraitLayout",value:function(){return this.inflateDesktopLayout.apply(this,arguments)}},{key:"inflateDesktopLayout",value:function(e){e=e.closeHandler;return[new m({align:"middle",layoutWidth:"100%",layoutHeight:"100%"},[this.inflateTittle(e),new f.default({align:"none",layoutWidth:"100%"},[new m({align:"left",layoutWidth:"100%",id:"Scrollable"},[new _({layoutWidth:"100%",columnCount:1,padding:10},this.featuresOrder)])])]).setParams({interactive:!0})]}},{key:"featuresOrder",get:function(){return[this.inflateBetInfo(),this.hasReelset&&this.inflateReelset(),this.hasBonusGame&&this.inflateBonusGame(this.betRecordModel.bonusGame),this.inflateBalance(),this.inflateActionResult(),this.hasReplaces&&this.inflateReplaces(this.betRecordModel.replace),this.inflateGameFeature(),this.hasWinFreespins&&this.inflateWinFreespins(),this.hasWinMoreFreespins&&this.inflateWinMoreFreespins(),this.hasWinBonusGame&&this.inflateWinBonusGame(),this.hasFreespins&&this.inflateFreespinsFeature(),this.hasBonusGame&&this.inflateBonusGameFeature(),this.hasFreezes&&this.inflateFreezes(this.betRecordModel.freeze),this.hasWalks&&this.inflateWalks(this.betRecordModel.walks),this.hasExpands&&this.inflateExpands(this.betRecordModel.reels.filter(function(e){return e.expanded})),this.hasExtra&&this.inflateExtra(this.betRecordModel.extra),this.hasCollectibleWins&&this.inflateWinCollectibleWins(this.betRecordModel.collectibleWins),this.hasWinFirstRespin&&this.inflateWinFirstRespin(this.betRecordModel.respin),this.hasWinNextRespin&&this.inflateWinNextRespin(this.betRecordModel.respin),this.hasFreespinsExtra&&this.inflateFreespinsExtra(this.betRecordModel.freespins.extra),this.hasWins&&this.inflateWins(this.betRecordModel)]}},{key:"hasReelset",get:function(){return null!=this.betRecordModel.reels}},{key:"hasBonusGame",get:function(){return this.betRecordModel.bonusGame.isReady}},{key:"hasExtra",get:function(){return null!=this.betRecordModel.extra}},{key:"hasWinFirstRespin",get:function(){return this.betRecordModel.respin&&this.betRecordModel.respin.hasRespin&&this.betRecordModel.respin.isFirstRespin}},{key:"hasWinNextRespin",get:function(){return this.betRecordModel.respin&&this.betRecordModel.respin.hasRespin&&!this.betRecordModel.respin.isFirstRespin}},{key:"hasFreespinsExtra",get:function(){return null!=this.betRecordModel.freespins.extra}},{key:"hasWins",get:function(){return 0<this.betRecordModel.totalWin}},{key:"hasCollectibleWins",get:function(){return this.betRecordModel.hasWinCollectible}},{key:"hasLineWins",get:function(){return this.betRecordModel.hasWinLines}},{key:"hasWinGroups",get:function(){return this.betRecordModel.hasWinGroups}},{key:"hasFreespins",get:function(){return this.betRecordModel.freespins.isActiveStatus&&"initfreespin"!=this.betRecordModel.nextAction}},{key:"hasWinMoreFreespins",get:function(){return!this.hasWinFreespins&&0<this.betRecordModel.freespins.addCount}},{key:"hasWinFreespins",get:function(){return"initfreespin"===this.betRecordModel.nextAction}},{key:"hasWinBonusGame",get:function(){return"initbonus"===this.betRecordModel.nextAction}},{key:"hasExpands",get:function(){return this.hasReelset&&this.betRecordModel.reels.some(function(e){return e.expanded})}},{key:"hasFreezes",get:function(){return this.hasReelset&&this.betRecordModel.freeze.hasFrozen}},{key:"hasWalks",get:function(){return this.hasReelset&&this.betRecordModel.walks.hasWalks&&0<this.betRecordModel.walks.aliveWalks.length}},{key:"hasReplaces",get:function(){return this.hasReelset&&this.betRecordModel.replace.hasReplace}},{key:"isSymbolFrozen",value:function(t,n){return!!this.hasFreezes()&&this.betRecordModel.freeze.frozen.positions.find(function(e){return e.id==t&&e.symId==n})}},{key:"inflateTittle",value:function(e){return new v({layoutWidth:"100%",layoutHeight:"120px",align:"center"},[new g({align:"center",layoutWidth:"95%",layoutHeight:"100%"},[new C("panel_name_bet_history".ls(),{layoutWidth:"50%",layoutHeight:"100%",style:this.styles.TextField.header,align:"left"}),new S,new flatUI.buttons.IconButton(e,{align:"center",layoutWidth:"50px",layoutHeight:"50px",style:{textures:{normal:"BUTTON_BACK_off",hover:"BUTTON_BACK_on",pressed:"BUTTON_BACK_off",disabled:"BUTTON_BACK_off"}}})])])}},{key:"inflateGameFeature",value:function(){}},{key:"inflateWinFirstRespin",value:function(e){return this.inflateFeature({header:"history_win_respins_header".ls(),text:"history_win_respins_description".ls()})}},{key:"inflateWinNextRespin",value:function(e){}},{key:"inflateActionResult",value:function(){var e;if(this.hasReelset)return e=(this.hasWins?"history_payout":"history_no_wins").ls(),new C(e,{style:this.styles.TextField.header,align:"center"})}},{key:"inflateReplaces",value:function(e){}},{key:"inflateBalance",value:function(){return new g({align:"center",layoutWidth:"100%",layoutHeight:"80px",style:{color:4473924,alpha:.2}},[new C("expand_panel_balance".ls()+" ",{layoutWidth:"50%",style:this.styles.TextField.headerBold,align:"right"}),new C(" "+c2d.env.toCurrency(this.config.currency,this.betRecordModel.balanceAfter),{layoutWidth:"50%",style:this.styles.TextField.headerBoldAccent,align:"left"})])}},{key:"inflateBetInfo",value:function(){var l=this,e=["bet_history_time".ls(),"bet_history_action".ls(),"ID","bet_history_bet".ls(),"bet_history_win".ls()],t=[this.config.datetime,this.config.action,this.config.actionId,c2d.env.toCurrency(this.config.currency,this.config.bet),c2d.env.toCurrency(this.config.currency,this.config.win)],e=c2d.env.device.portrait()?[e[0],t[0],e[1],t[1],e[2],t[2],e[3],t[3],e[4],t[4]]:[].concat(e,t),i=c2d.env.device.portrait()?2:5;return new _({layoutWidth:"100%",columnCount:i,padding:0,style:this.styles.Panel.primary},e.map(function(e,t,n){return new C(e,{layoutWidth:100/i+"%",layoutHeight:"60px",fitInLayout:!0,style:b(b({},l.styles.TextField.normal),{},{align:"center"}),align:"center"})}))}},{key:"createReelsetSymbols",value:function(){var i=this,e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).iconScale,a=void 0===e?this.reelsetScale:e,r=[],e=this.betRecordModel.reels.reduce(function(e,t){return e.concat(t.symbols)},[]),o=game.src.Reelset.SymbolAnimations.reelsetViewConfig;return e.forEach(function(e){var t=o.columnsWidth+o.columnsIndent,n=o.reelViewConfig.rowsHeight+o.reelViewConfig.rowsIndent,l=e.id*i.betRecordModel.reels.length+e.reelId;r[l]=new game.src.FlatUI.bet.BetHistorySymbol(e,"history_idle",{zoom:a,layoutWidth:t*a+"px",layoutHeight:n*a+"px"})}),this.reelsetSymbols=r}},{key:"inflateReelset",value:function(){var e=new _({layoutWidth:"100%",id:"reelset",columnCount:this.betRecordModel.reels.length,padding:0},this.createReelsetSymbols());return this.applyReelsetMask(e),new v({layoutWidth:"100%",align:"center"},[e])}},{key:"applyReelsetMask",value:function(e){var t=game.src.Reelset.SymbolAnimations.reelsetViewConfig,n=t.columnsWidth+t.columnsIndent,l=t.reelViewConfig.rowsHeight+t.reelViewConfig.rowsIndent,i=new c2d.display.Graphics;i.beginFill(16711680,.5),i.drawRect(0,0,t.columnsCount*n*this.reelsetScale,t.reelViewConfig.rowsCount*l*this.reelsetScale),e.addChild(i),e.mask=i}},{key:"inflateBonusGame",value:function(e){return console.warn("inflateBonusGame method had to be overriden"),this.inflateFeature({header:"bonus game",text:"bonusGame description"})}},{key:"inflateFreespinsFeature",value:function(){}},{key:"inflateBonusGameFeature",value:function(){}},{key:"inflateWinFreespins",value:function(){return console.warn("inflateWinFreespins method had to be overriden"),this.inflateFeature({icon:"0",animation:"history_idle",header:"history_win_freespins_header".ls(),text:"history_win_freespins_description".ls({AMOUNT:this.betRecordModel.freespins.addCount.toString()})})}},{key:"inflateWinMoreFreespins",value:function(){return console.warn("inflateWinMoreFreespins method had to be overriden"),this.inflateFeature({icon:"0",animation:"history_idle",header:"history_win_more_freespins_header".ls(),text:"history_win_more_freespins_description".ls({AMOUNT:this.betRecordModel.freespins.addCount.toString()})})}},{key:"inflateWinBonusGame",value:function(){console.warn("inflateWinBonusGame method had to be overriden")}},{key:"getBetHistoryItem",value:function(e,t){return this.reelsetSymbols[e+t*this.betRecordModel.reels.length]}},{key:"inflateWins",value:function(e){var t=this,n=e.lineWins,n=void 0===n?[]:n,l=e.groupWins,l=void 0===l?[]:l,i=e.scatterWins,i=void 0===i?[]:i,e=e.wayWins,e=void 0===e?[]:e;return new v({layoutWidth:"100%",align:"center"},[new _({layoutWidth:"100%",columnCount:1,padding:2},[].concat((0,a.default)(n.map(function(e){return t.inflateLineWin(e,t.parameters.lineWin)})),(0,a.default)(e.map(function(e){return t.inflateWayWin(e,t.parameters.wayWins)})),(0,a.default)(l.map(function(e){return t.inflateGroupWin(e,t.parameters.groupWin)})),(0,a.default)(i.map(function(e){return t.inflateScatterWin(e,t.parameters.scatterWin)}))))])}},{key:"inflateScatterWin",value:function(e,t){var n,l,i,a;if(0<e.amount)return e.code=0,l=this.betRecordModel.reels,n=e.positions.map(function(e){return[e.reelId,e.symId]}),l={columns:l[0].symbols.length,idx:-1,positions:n,rows:l.length,winPositions:n},i=e.code,a=e.amount,e=e.multiplier,this.inflateGridWin({idx:l.idx,code:i,amount:a,positions:n,multiplier:e},t,l)}},{key:"inflateGroupWin",value:function(e,t){var n=e.code,l=e.positions,e=e.amount,t=t.layoutHeight,i={Text:{layoutWidth:"25%",style:b(b({},this.styles.TextField.normal),{},{align:"left"}),fitInLayout:!0,align:"left"}};return new g({align:"center",layoutWidth:"100%",layoutHeight:t,style:this.styles.Panel.primary},[new game.src.FlatUI.bet.BetHistorySymbol(n,"history_idle",{zoom:.3,layoutWidth:"25%",layoutHeight:"75%"}),new C("".concat("history_symbols".ls(),": ").concat(l.length),i.Text),new C("".concat("history_amount".ls(),": ").concat(c2d.env.toCurrency(this.config.currency,e)),i.Text)])}},{key:"inflateWayWin",value:function(e,t){var n=e.idx,l=e.code,i=e.amount,a=e.positions,e=e.multiplier,r=this.betRecordModel.reels,a=a.map(function(e){return[e.reelId,e.symId]}),r={columns:r[0].symbols.length,idx:1,positions:a,rows:r.length,winPositions:a};return this.inflateGridWin({idx:n,code:l,amount:i,positions:a,multiplier:e},t,r)}},{key:"inflateLineWin",value:function(e,t){var n=e.idx,l=e.code,i=e.amount,a=e.positions,e=e.multiplier,r=b(b({},this.slotsModel.linesConfig[n]),{},{winPositions:a});return this.inflateGridWin({idx:n,code:l,amount:i,positions:a,multiplier:e},t,r)}},{key:"inflateGridWin",value:function(e,t,n){var l=e.idx,i=e.code,a=e.amount,r=e.positions,e=e.multiplier,o=-1<l?"BetLines":"BetWays",s={Text:{symbols:{layoutWidth:"25%",style:b(b({},this.styles.TextField.normal),{},{align:"left"}),fitInLayout:!0,align:"left"},multiplier:{style:b(b({},this.styles.TextField.headerBoldAccent),{},{align:"center"}),align:"center"}}},u=t.showSymbol,c=t.showSymbolsCount,h=t.symbolZoom,f=t.symbolAnimation,d=t.layoutWidth,p=t.layoutHeight,t=t.showBetLine;return new g({align:"center",layoutWidth:d,layoutHeight:p,style:this.styles.Panel.primary},[new v({align:"center",layoutWidth:"20%",layoutHeight:"90%"},[t&&new y.default(o,{layoutWidth:"100%",layoutHeight:"100%",lineConfig:n,id:l+1})]),new S,u&&new game.src.FlatUI.bet.BetHistorySymbol(i,f,{zoom:h,layoutWidth:"100px",layoutHeight:"75%"}),c&&new C("".concat("history_symbols".ls(),": ").concat(r.length),s.Text.symbols),new S,new v({align:"center",layoutWidth:"15%"},[1<e&&new C("x".concat(e),s.Text.multiplier)]),new C("".concat("history_amount".ls(),": ").concat(c2d.env.toCurrency(this.config.currency,a)),s.Text.symbols)])}},{key:"inflateWinCollectibleWins",value:function(e){}},{key:"inflateExpands",value:function(e){console.warn("inflateExpands method had to be overriden")}},{key:"inflateFreezes",value:function(e){var t=this;return e.frozen.positions.forEach(function(e){t.getBetHistoryItem(e.reelId,e.symId).setAnimation(e.type,"history_idle")}),new v({layoutWidth:"100%",align:"center",style:this.styles.Panel.primary},[new _({layoutWidth:"100%",columnCount:1,padding:0},[new C("Freeze Feature",{layoutWidth:"100%",style:b(b({},this.styles.TextField.header),{},{align:"center"})})])])}},{key:"inflateFeature",value:function(e){var t=e.icon,n=e.animation,l=e.header,i=e.text,e=e.iconScale,e=void 0===e?1:e;return new g({layoutWidth:"100%",align:"center",style:this.styles.Panel.primary},[new S({layoutWidth:"10px"}),t&&n&&new v({layoutWidth:"220px",layoutHeight:"220px",align:"center"},[new game.src.FlatUI.bet.BetHistorySymbol(t,n,{id:"symbol",zoom:e,layoutWidth:"200px",layoutHeight:"200px"})]),new S({layoutWidth:"10px"}),new _({columnCount:1,padding:10},[l&&new C(l,{layoutWidth:"100%",style:b(b({},this.styles.TextField.header),{},{align:"center"})}),i&&new C(i,{layoutWidth:"100%",style:b(b({},this.styles.TextField.normal),{},{fill:"0xA4A4A4"})})])])}},{key:"inflateExtra",value:function(e){}},{key:"inflateWalks",value:function(e){var t=this,e=(e.aliveWalks.forEach(function(e){t.getBetHistoryItem(e.position.reelId,e.position.symId).setAnimation(e.symbol,"history_idle")}),this.betRecordModel.walks.aliveWalks.first.symbol);return this.inflateFeature({icon:e,animation:"history_idle",header:"history_walks_header".ls(),text:"history_walks_description".ls()})}},{key:"inflateFreespinsExtra",value:function(e){}},{key:"toDeviceZoom",value:function(e){return c2d.env.device.desktop()?e:.5*e}},{key:"parameters",get:function(){return{lineWin:{layoutWidth:"100%",layoutHeight:"100px",showSymbol:!0,showSymbolsCount:!0,symbolZoom:.3,symbolAnimation:"history_idle",showBetLine:!0},wayWins:{layoutWidth:"100%",layoutHeight:"100px",showSymbol:!0,showSymbolsCount:!0,symbolZoom:.3,symbolAnimation:"history_idle",showBetLine:!0},scatterWin:{layoutWidth:"100%",layoutHeight:"100px",showSymbol:!0,showSymbolsCount:!0,symbolZoom:.3,symbolAnimation:"history_idle",showBetLine:!0},groupWin:{layoutWidth:"100%",layoutHeight:"100px"}}}},{key:"styles",get:function(){return c2d.env.device.desktop()?{TextField:{headerBold:flatUI.styles.TextField.option_screen_tab_normal,headerBoldAccent:flatUI.styles.TextField.option_screen_tab_active,header:flatUI.styles.TextField.option_screen_title,normal:flatUI.styles.TextField.option_screen_subtitle},Panel:{primary:flatUI.styles.Panel.primary}}:{TextField:{headerBold:b(b({},flatUI.styles.TextField.option_screen_tab_normal),{},{fontSize:"20px"}),headerBoldAccent:b(b({},flatUI.styles.TextField.option_screen_tab_active),{},{fontSize:"20px"}),header:b(b({},flatUI.styles.TextField.option_screen_title),{},{fontSize:"22px"}),normal:b(b({},flatUI.styles.TextField.option_screen_subtitle),{},{fontSize:"18px"})},Panel:{primary:flatUI.styles.Panel.primary}}}}]),n}(v);n.default=e},{"../ScrollableLayout.js":64,"../paytable/PaytableBetLine.js":72,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/toConsumableArray":25}],69:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),o=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),i=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/inherits")),a=l(e("@babel/runtime/helpers/possibleConstructorReturn")),r=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,r.default)(n);return e=l?(e=(0,r.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}l=function(e){(0,s.default)(r,e);var a=u(r);function r(e,t){var n,l=t.pages,i=t.maxButtons,t=t.page;return(0,o.default)(this,r),(n=a.call(this,{align:"middle",layoutHeight:"100px",columnCount:10,padding:10},[])).callback=e,n.pages=l,n.maxButtons=i,n.page=t,n}return(0,i.default)(r,[{key:"setupButtons",value:function(e){e.page}},{key:"buttonStyles",get:function(){return{activeButton:{layoutWidth:"60px",layoutHeight:"50px",align:"center",text:{style:flatUI.styles.TextField.option_screen_subtitle,align:"center"},button:{style:flatUI.styles.FlatButton.primary,round:!0}},selectedButton:{layoutWidth:"60px",layoutHeight:"50px",align:"center",text:{style:flatUI.styles.TextField.option_screen_subtitle,align:"center"},button:{style:flatUI.styles.FlatButton.accent,enabled:!1,round:!0}},disabledButton:{layoutWidth:"60px",layoutHeight:"50px",align:"center",text:{style:{alpha:0}},button:{style:{normal:{alpha:0},hover:{alpha:0},pressed:{alpha:0},disabled:{alpha:0}},enabled:!1}}}}},{key:"page",get:function(){return this._page},set:function(n){for(var l=this,i=(this._page=n,this.removeComponents(),[]),e=(this.maxButtons=Math.min(this.maxButtons,this.pages),Math.max(Math.floor(n-this.maxButtons/2),0)),t=(e>this.pages-n?e=this.pages-this.maxButtons:--e,e=e<0?0:e);t<e+this.maxButtons;t++)!function(e){var t=n==e+1?l.buttonStyles.selectedButton:l.buttonStyles.activeButton,t=new flatUI.buttons.TextButton(e+1,function(){return l.callback(e+1)},t);i.push(t)}(t);3<i.length&&(i.unshift(new flatUI.buttons.TextButton("<<",function(){return l.callback(1)},1==this.page?this.buttonStyles.disabledButton:this.buttonStyles.activeButton)),i.push(new flatUI.buttons.TextButton(">>",function(){return l.callback(l.pages)},this.page==this.pages?this.buttonStyles.disabledButton:this.buttonStyles.activeButton))),this.addChildren(i),this.layout()}}]),r}(flatUI.layout.GridLayout);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],70:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/defineProperty"))),a=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/get")),s=l(e("@babel/runtime/helpers/inherits")),u=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf"));function h(t,e){var n,l=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,n)),l}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach(function(e){(0,i.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function d(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}l=function(e){(0,s.default)(l,e);var n=d(l);function l(e){var t,e=e.cashData;return(0,a.default)(this,l),(t=n.call(this,{align:"none",layoutWidth:"100%",layoutHeight:"100%"},null,{cashData:e})).betChangedHandler=function(){return t.onBetChanged.apply(t,arguments)},c2d.eventManager.subscribe(game.events.FlatUI.ON_CASH_CHANGED,t.betChangedHandler),t.init(e),t}return(0,r.default)(l,[{key:"inflateMobilePortraitLayout",value:function(e,t,n){var l=this,n=n.cashData;return[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.Panel.secondary,id:"Scrollable"},[new flatUI.layout.Spacer,new flatUI.text.TextField("100",{align:"center",layoutWidth:"100%",layoutHeight:"10%",style:flatUI.styles.TextField.main_screen_numbers,id:"BetExpandedPanel#currentBet"}).setParams({textStyle:{fontSize:"50px"}}),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"5%",style:flatUI.styles.Panel.secondary},[new flatUI.layout.Spacer({layoutWidth:"20px"}),new flatUI.text.TextField(n.minBet,{layoutWidth:"native",layoutHeight:"100%",style:flatUI.styles.TextField.main_screen_numbers,align:"center",id:"BetExpandedPanel#minBet"}).setParams({textStyle:{fontSize:"35px"}}),new flatUI.layout.Spacer({layoutWidth:"20px"}),new flatUI.slider.Slider(function(e){return l.changeBet(e)},{style:{textures:{back:"PROGRESS_BAR_empty",fore:"PROGRESS_BAR_full",pin:"TUMBLER"}},id:"BetExpandedPanel#betSlider"}),new flatUI.panel.Panel({layoutWidth:"20px",style:{alpha:.5}}),new flatUI.layout.Spacer({layoutWidth:"20px"}),new flatUI.text.TextField(n.maxBet,{layoutWidth:"native",layoutHeight:"100%",style:flatUI.styles.TextField.main_screen_numbers,align:"center",id:"BetExpandedPanel#maxBet"}).setParams({textStyle:{fontSize:"35px"}}),new flatUI.layout.Spacer({layoutWidth:"20px"})]),new flatUI.layout.Spacer,new flatUI.text.TextField("max_win".ls()+"12345678890",{layoutWidth:"90%",layoutHeight:"70px",fitInLayout:!0,style:f(f({},flatUI.styles.TextField.main_screen_text),{},{fontSize:"20px",fontWeight:"700",fill:flatUI.styles.Color.accent}),align:"center",id:"BetExpandedPanel#maxWinInTotalBets"}).setParams({visible:c2d.env.showMaxWinRtpMessage}),new flatUI.layout.Spacer])]}},{key:"inflateMobileLandscapeLayout",value:function(e,t,n){var l=this,n=n.cashData;return[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.Panel.secondary,id:"Scrollable"},[new flatUI.text.TextField("panel_name_bet".ls().toUpperCase(),{layoutWidth:"100%",layoutHeight:"120px",style:flatUI.styles.TextField.option_screen_title,align:"left"}),new flatUI.layout.Spacer,new flatUI.text.TextField("100",{align:"center",layoutWidth:"100%",layoutHeight:"10%",style:flatUI.styles.TextField.main_screen_numbers,id:"BetExpandedPanel#currentBet"}).setParams({textStyle:{fontSize:"50px"}}),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"10%"},[new flatUI.layout.Spacer({layoutWidth:"20px"}),new flatUI.text.TextField(n.minBet,{layoutWidth:"native",layoutHeight:"100%",style:flatUI.styles.TextField.main_screen_numbers,align:"center",id:"BetExpandedPanel#minBet"}).setParams({textStyle:{fontSize:"35px"}}),new flatUI.layout.Spacer({layoutWidth:"20px"}),new flatUI.slider.Slider(function(e){return l.changeBet(e)},{style:{textures:{back:"PROGRESS_BAR_empty",fore:"PROGRESS_BAR_full",pin:"TUMBLER"}},id:"BetExpandedPanel#betSlider"}),new flatUI.layout.Spacer({layoutWidth:"20px"}),new flatUI.text.TextField(n.maxBet,{layoutWidth:"native",layoutHeight:"100%",style:flatUI.styles.TextField.main_screen_numbers,align:"center",id:"BetExpandedPanel#maxBet"}).setParams({textStyle:{fontSize:"35px"}}),new flatUI.layout.Spacer({layoutWidth:"20px"})]),new flatUI.layout.Spacer,new flatUI.text.TextField("max_win".ls()+"12345678890",{layoutWidth:"90%",layoutHeight:"70px",fitInLayout:!0,style:f(f({},flatUI.styles.TextField.main_screen_text),{},{fontSize:"20px",fontWeight:"700",fill:flatUI.styles.Color.accent}),align:"center",id:"BetExpandedPanel#maxWinInTotalBets"}).setParams({visible:c2d.env.showMaxWinRtpMessage}),new flatUI.layout.Spacer])]}},{key:"onBetChanged",value:function(e){var e=e.data,t=e.toCurrency,e=e.bet;this.findChildById("BetExpandedPanel#currentBet").text=t(e),this.findChildById("BetExpandedPanel#maxWinInTotalBets").text="max_win".ls({rtp:this.rtp,max:t(e),min:t(Number((c2d.env.maxWinInTotalBets*e*100).toFixed())/100)})}},{key:"init",value:function(e){var t=e.toCurrency,n=e.bet,l=e.minBet,i=e.maxBet,a=e.betLevel,r=(e.minBetLevel,e.maxBetLevel),e=(e.totalBets,e.rtp);this.rtp=e,this.findChildById("BetExpandedPanel#currentBet").text=t(n),this.findChildById("BetExpandedPanel#minBet").text=l,this.findChildById("BetExpandedPanel#maxBet").text=i,this.findChildById("BetExpandedPanel#betSlider").maxValue=r-1,this.findChildById("BetExpandedPanel#betSlider").value=a-1,this.findChildById("BetExpandedPanel#betSlider").step=1,this.findChildById("BetExpandedPanel#maxWinInTotalBets").text="max_win".ls({rtp:this.rtp,max:t(n),min:t(Number((c2d.env.maxWinInTotalBets*n*100).toFixed())/100)})}},{key:"changeBet",value:function(e){c2d.eventManager.dispatch(game.events.FlatUI.SET_BET_LEVEL,e+1)}},{key:"destroy",value:function(){c2d.eventManager.unsubscribe(game.events.FlatUI.ON_CASH_CHANGED,this.betChangedHandler),(0,o.default)((0,c.default)(l.prototype),"destroy",this).apply(this,arguments)}},{key:"sliderEnabled",set:function(e){this.findChildById("BetExpandedPanel#betSlider").enabled=e}}]),l}(l(e("../ScrollableLayout.js")).default);n.default=l},{"../ScrollableLayout.js":64,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],71:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,o.default)(i,e);var l=u(i);function i(e,t){var n=t.lineConfig;return(0,a.default)(this,i),(t=l.call(this,t)).lineConfig=n,t.rows=n.rows,t.columns=n.columns,t.type=e,t.background=new c2d.display.Graphics,t.addChild(t.background),t}return(0,r.default)(i,[{key:"onLayout",value:function(){for(var i=this,a=(this.background.clear(),this.background.beginFill(10066329,0),this.background.drawRect(0,0,this.layoutWidth,this.layoutHeight),this.background.endFill(),c2d.env.device.mobile()?2:4),r=Math.floor(Math.min(Math.floor(this.layoutHeight/this.columns-a),Math.floor(this.layoutWidth/this.rows-a))),o=.5*((r+a)*this.rows-this.layoutWidth),s=.5*((r+a)*this.columns-this.layoutHeight),e=function(l){for(var e=0;e<i.columns;e++)!function(t){var e,n=[l*(r+a)-o,t*(r+a)-s,r,r];"BetLines"==i.type?i.lineConfig.positions[l]?(i.background.beginFill(t==i.lineConfig.positions[l].symId?flatUI.styles.Color.accent:8750469,1),(e=i.background).drawRect.apply(e,n),i.background.endFill(),i.lineConfig.winPositions&&t==i.lineConfig.positions[l].symId&&!i.lineConfig.winPositions.find(function(e){return e.reelId==l&&e.symId==t})&&(i.background.beginFill(10066329),(e=i.background).drawRect.apply(e,n),i.background.beginFill(flatUI.styles.Color.accent),i.background.drawRect(n[0]+a,n[1]+a,n[2]-2*a,n[3]-2*a),i.background.endFill())):(i.background.beginFill(8750469,1),(e=i.background).drawRect.apply(e,n),i.background.endFill()):"BetWays"!=i.type&&"BetGroups"!=i.type||(i.background.beginFill(i.lineConfig.positions.find(function(e){return e[0]==l&&e[1]==t})?i.lineConfig.color||flatUI.styles.Color.accent:8750469,1),(e=i.background).drawRect.apply(e,n),i.lineConfig.wrongPositions&&i.lineConfig.wrongPositions.find(function(e){return e[0]==l&&e[1]==t})&&(i.background.beginFill(flatUI.styles.Color.negative),(e=i.background).drawRect.apply(e,n))),i.background.endFill()}(e)},t=0;t<this.rows;t++)e(t);this.cacheAsBitmap=!0}}]),i}(flatUI.UIComponent);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],72:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),o=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),i=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/inherits")),a=l(e("@babel/runtime/helpers/possibleConstructorReturn")),r=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./BetLineGrid.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,r.default)(n);return e=l?(e=(0,r.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}l=function(e){(0,s.default)(r,e);var a=c(r);function r(e,t){var n=t.layoutWidth,l=t.layoutHeight,i=t.lineConfig,t=t.id;return(0,o.default)(this,r),a.call(this,{align:"center",layoutWidth:n,layoutHeight:l,style:{color:1052688}},null,{type:e,lineConfig:i,id:t})}return(0,i.default)(r,[{key:"inflateMobileLandscapeLayout",value:function(){return this.inflateDesktopLayout.apply(this,arguments)}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){n.type,n.lineConfig,n.id;return this.inflateDesktopLayout.apply(this,arguments)}},{key:"inflateDesktopLayout",value:function(e,t,n){var l=n.type,i=n.lineConfig,n=n.id;return{BetLines:[new u.default(l,{lineConfig:i,layoutWidth:"60%",layoutHeight:"80%"}),new flatUI.text.TextField(n||i.sign,{layoutWidth:"20%",layoutHeight:"80%",style:flatUI.styles.TextField.option_screen_description,align:"center"})],BetWays:[new u.default(l,{lineConfig:i,layoutWidth:"60%",layoutHeight:"80%"}),new flatUI.text.TextField(i.sign,{layoutWidth:"20%",layoutHeight:"80%",style:flatUI.styles.TextField.option_screen_title,align:"center"}).setParams({color:i.signColor})],BetGroups:[new u.default(l,{lineConfig:i,layoutWidth:"80%",layoutHeight:"80%"})]}[l]}}]),r}(flatUI.layout.HorizontalLayout);n.default=l},{"./BetLineGrid.js":71,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],73:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./PaytableBetLine.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(l,e);var n=c(l);function l(e){var t=e.type,e=e.config;return(0,i.default)(this,l),n.call(this,{align:"middle",layoutWidth:"100%",columnCount:1,padding:c2d.env.device.portrait()?16:4},null,{type:t,config:e})}return(0,a.default)(l,[{key:"inflateMobileLandscapeLayout",value:function(e,t,n){var l=n.type,n=n.config,i=n.title,a=n.linesToShow,r=n.description,n=n.lines;return[i&&new flatUI.text.TextField(i.ls(),{layoutWidth:"99%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"10px",style:{alpha:0}}),r&&new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",style:flatUI.styles.Panel.tile},[new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"20px",style:{alpha:0}}),new flatUI.layout.GridLayout({layoutWidth:"98%",columnCount:1,padding:0},[new flatUI.text.TextField(r.ls().replace(/<?\/?br?\/?>/g,"\n"),{layoutWidth:"98%",style:flatUI.styles.TextField.option_screen_description,align:"left"})]),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"20px",style:{alpha:0}})]),"BetLines"==l&&new flatUI.layout.GridLayout({align:"horizontal",layoutWidth:"100%",columnCount:6,padding:4},a?n.filter(function(e,t){return t>=a.from&&t<a.to}).map(function(e){return new u.default(l,{lineConfig:e,layoutHeight:"80px",id:e.idx+1})}):n.map(function(e){return new u.default(l,{lineConfig:e,layoutHeight:"80px",id:e.idx+1})})),"BetWays"==l&&new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"200px"},n.map(function(e){return new u.default(l,{lineConfig:e,layoutWidth:"250px",layoutHeight:"100%"})})),"BetGroups"==l&&new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"300px"},[new u.default(l,{lineConfig:n[0],layoutWidth:"240px",layoutHeight:"240px"})])]}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){var l=n.type,n=n.config,i=n.title,a=n.linesToShow,r=n.description,n=n.lines;return[i&&new flatUI.text.TextField(i.ls(),{layoutWidth:"99%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),r&&new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",style:flatUI.styles.Panel.tile},[new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"40px",style:{alpha:0}}),new flatUI.layout.GridLayout({layoutWidth:"90%",columnCount:1,padding:0},[new flatUI.text.TextField(r.ls().replace(/<?\/?br?\/?>/g,"\n"),{layoutWidth:"100%",style:flatUI.styles.TextField.option_screen_description,align:"left"})]),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"40px",style:{alpha:0}})]),"BetLines"==l&&new flatUI.layout.GridLayout({align:"horizontal",layoutWidth:"100%",columnCount:3,padding:6},a?n.filter(function(e,t){return t>=a.from&&t<a.to}).map(function(e){return new u.default(l,{lineConfig:e,layoutHeight:"80px",id:e.idx+1})}):n.map(function(e){return new u.default(l,{lineConfig:e,layoutHeight:"80px",id:e.idx+1})})),"BetWays"==l&&new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"200px"},n.map(function(e){return new u.default(l,{lineConfig:e,layoutWidth:"300px",layoutHeight:"100%"})})),"BetGroups"==l&&new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"300px"},[new u.default(l,{lineConfig:n[0],layoutWidth:"240px",layoutHeight:"240px"})])]}},{key:"inflateDesktopLayout",value:function(e,t,n){var l=n.type,n=n.config,i=n.title,a=n.linesToShow,r=n.description,n=n.lines;return[i&&new flatUI.text.TextField(i.ls(),{layoutWidth:"99%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"20px",style:{alpha:0}}),r&&new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",style:flatUI.styles.Panel.tile},[new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"20px",style:{alpha:0}}),new flatUI.layout.GridLayout({layoutWidth:"98%",columnCount:1,padding:0},[new flatUI.text.TextField(r.ls().replace(/<?\/?br?\/?>/g,"\n"),{layoutWidth:"98%",style:flatUI.styles.TextField.option_screen_description,align:"left"})]),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"20px",style:{alpha:0}})]),"BetLines"==l&&new flatUI.layout.GridLayout({align:"horizontal",layoutWidth:"100%",columnCount:6,padding:4},a?n.filter(function(e,t){return t>=a.from&&t<a.to}).map(function(e){return new u.default(l,{lineConfig:e,layoutHeight:"120px",id:e.idx+1})}):n.map(function(e){return new u.default(l,{lineConfig:e,layoutHeight:"120px",id:e.idx+1})})),"BetWays"==l&&new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"200px"},n.map(function(e){return new u.default(l,{lineConfig:e,layoutWidth:"250px",layoutHeight:"100%"})})),"BetGroups"==l&&new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"300px"},[new u.default(l,{lineConfig:n[0],layoutWidth:"240px",layoutHeight:"240px"})])]}}]),l}(flatUI.layout.GridLayout);n.default=l},{"./PaytableBetLine.js":72,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],74:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=u(n);function n(e){return(0,i.default)(this,n),t.call(this,{align:"middle",layoutWidth:"100%",style:flatUI.styles.Panel.tile},null,e)}return(0,a.default)(n,[{key:"inflateMobileLandscapeLayout",value:function(){return this.inflateDesktopLayout.apply(this,arguments)}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){n.id;var l=n.title,i=n.description,a=n.description_header,n=n.image;return[l&&new flatUI.text.TextField(l,{layoutWidth:"90%",layoutHeight:"native",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),l&&new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"20px",style:{alpha:0}}),a&&new flatUI.panel.Panel({layoutHeight:"20px",style:{alpha:0}}),a&&new flatUI.text.TextField(a.ls(),{layoutWidth:"98%",style:flatUI.styles.TextField.option_screen_description,align:"left"}),a&&new flatUI.panel.Panel({layoutHeight:"20px",style:{alpha:0}}),n&&new flatUI.graphics.Icon(n,{layoutWidth:"100%",layoutHeight:"native",align:"center",fitInLayout:!0}),n&&new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"20px",style:{alpha:0}}),new flatUI.layout.GridLayout({layoutWidth:"98%",columnCount:1,padding:0},[i&&new flatUI.text.TextField(i.ls(),{layoutWidth:"100%",style:flatUI.styles.TextField.option_screen_description,align:"left"})])]}},{key:"inflateDesktopLayout",value:function(e,t,n){n.id;var l=n.title,i=n.description,a=n.description_header,r=n.image,o=n.image_orientation,s=n.imageWidth,n=n.textWidth;return[l&&new flatUI.text.TextField(l.ls(),{layoutWidth:"98%",layoutHeight:"native",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),l&&new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"20px",style:{alpha:0}}),a&&new flatUI.panel.Panel({layoutHeight:"20px",style:{alpha:0}}),a&&new flatUI.text.TextField(a.ls(),{layoutWidth:"98%",style:flatUI.styles.TextField.option_screen_description,align:"left"}),a&&new flatUI.panel.Panel({layoutHeight:"20px",style:{alpha:0}}),"left"===o&&new flatUI.layout.GridLayout({layoutWidth:"98%",columnCount:1,padding:1},[new flatUI.layout.HorizontalLayout({layoutWidth:"100%",align:"top"},[new flatUI.graphics.Icon(r,{layoutWidth:s,layoutHeight:"native",align:"center"}),i&&new flatUI.text.TextField(i.ls(),{layoutWidth:n,layoutHeight:"0%",style:flatUI.styles.TextField.option_screen_description,align:"left"})])]),"top"===o&&new flatUI.layout.GridLayout({layoutWidth:"98%",columnCount:1,padding:1},[new flatUI.graphics.Icon(r,{layoutWidth:"100%",layoutHeight:"native",align:"center"}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"20px",style:{alpha:0}}),i&&new flatUI.text.TextField(i.ls(),{layoutWidth:"98%",style:flatUI.styles.TextField.option_screen_description,align:"left"})]),!r&&new flatUI.layout.GridLayout({layoutWidth:"98%",columnCount:1,padding:1},[i&&new flatUI.text.TextField(i.ls(),{layoutWidth:"100%",style:flatUI.styles.TextField.option_screen_description,align:"left"})])]}}]),n}(flatUI.layout.VerticalLayout);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],75:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./PaytableFeature.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}function h(e){return e.features.map(function(e){var t=e.title,n=e.description,l=e.description_header,i=e.image,a=e.image_orientation,r=e.imageWidth,e=e.textWidth;return new u.default({title:t&&t.ls(),description:n&&n.ls().replace(/<?\/?br?\/?>/g,"\n"),description_header:l&&l.ls().replace(/<?\/?br?\/?>/g,"\n"),image:i,image_orientation:a,imageWidth:r,textWidth:e})})}l=function(e){(0,r.default)(n,e);var t=c(n);function n(e){e=e.config;return(0,i.default)(this,n),t.call(this,{align:"middle",layoutWidth:"100%",columnCount:1,padding:4},null,{config:e})}return(0,a.default)(n,[{key:"inflateMobileLandscapeLayout",value:function(){return this.inflateDesktopLayout.apply(this,arguments)}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){n=n.config;return[n.title&&new flatUI.text.TextField(n.title.ls().toUpperCase(),{layoutWidth:"99%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),new flatUI.layout.GridLayout({layoutWidth:"100%",columnCount:1,padding:16},h({features:n.features}))]}},{key:"inflateDesktopLayout",value:function(e,t,n){n=n.config;return[n.title&&new flatUI.text.TextField(n.title.ls().toUpperCase(),{layoutWidth:"99%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),n.title&&new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"20px",style:{alpha:0}}),new flatUI.layout.GridLayout({layoutWidth:"100%",columnCount:1,padding:16},h({features:n.features}))]}}]),n}(flatUI.layout.GridLayout);n.default=l},{"./PaytableFeature.js":74,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],76:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/toConsumableArray"))),r=l(e("@babel/runtime/helpers/classCallCheck")),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("./PaytableSymbolAnimation.js"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,s.default)(i,e);var l=h(i);function i(e){var t=e.symbolConfig,n=e.layoutWidth,e=e.layoutHeight;return(0,r.default)(this,i),l.call(this,{align:"center",layoutWidth:n,layoutHeight:e,style:flatUI.styles.Panel.tile},null,t)}return(0,o.default)(i,[{key:"inflateMobileLandscapeLayout",value:function(e,t,n){var l=n.id,n=n.combinations;return[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.Panel.primary},[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"95%",layoutHeight:"95%"},[new c.default(l,{layoutWidth:"100%",layoutHeight:"40%"})].concat((0,a.default)(n.map(function(e){return new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"90%",layoutHeight:"60px"},[new c.default(e.symbolsCount,{layoutWidth:"50%",layoutHeight:"100%"}),new flatUI.text.TextField("x"+e.coefficient,{layoutWidth:"50%",layoutHeight:"100%",style:flatUI.styles.TextField.option_screen_description,align:"left"}).setParams({textAlign:"left"})])}))))])]}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){var l=n.id,n=n.combinations;return[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.Panel.primary},[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"95%",layoutHeight:"100%"},[new c.default(l,{layoutWidth:"100%",layoutHeight:"30%"})].concat((0,a.default)(n.map(function(e){return new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"95%",layoutHeight:"60px"},[new c.default(e.symbolsCount,{layoutWidth:"50%",layoutHeight:"100%"}),new flatUI.text.TextField("x"+e.coefficient,{layoutWidth:"50%",layoutHeight:"100%",style:flatUI.styles.TextField.option_screen_description,align:"center"}).setParams({textAlign:"left"})])}))))])]}},{key:"inflateDesktopLayout",value:function(e,t,n){var l=n.id,n=n.combinations;return[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.Panel.primary},[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"95%",layoutHeight:"95%"},[new c.default(l,{layoutWidth:"100%",layoutHeight:"40%"})].concat((0,a.default)(n.map(function(e){return new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"90%",layoutHeight:"72px"},[new c.default(e.symbolsCount,{layoutWidth:"50%",layoutHeight:"100%"}),new flatUI.text.TextField("x"+e.coefficient,{layoutWidth:"50%",layoutHeight:"100%",style:flatUI.styles.TextField.option_screen_description,align:"left"}).setParams({textAlign:"left",breakWords:!1})])}))))])]}}]),i}(flatUI.layout.HorizontalLayout);n.default=l},{"./PaytableSymbolAnimation.js":84,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/toConsumableArray":25}],77:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),o=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),i=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/inherits")),a=l(e("@babel/runtime/helpers/possibleConstructorReturn")),r=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./PaytableItemSymbol.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,r.default)(n);return e=l?(e=(0,r.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}function h(e){var t=e.symbols,n=e.layoutHeight;return t.filter(function(e){return e&&0<e.combinations.first.coefficient}).map(function(e){return new u.default({symbolConfig:e,layoutHeight:n})})}l=function(e){(0,s.default)(r,e);var a=c(r);function r(e){var e=e.config,t=e.title,n=e.subtitle,l=e.symbols,i=e.form_mobile,e=e.form_desktop;return(0,o.default)(this,r),a.call(this,{align:"left",layoutWidth:"100%",columnCount:1,padding:4},null,{title:t,subtitle:n,form_mobile:i,form_desktop:e,symbols:l})}return(0,i.default)(r,[{key:"inflateMobileLandscapeLayout",value:function(){return this.inflateDesktopLayout.apply(this,arguments)}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){var l=n.title,i=n.subtitle,a=n.symbols,n=n.form_mobile;return[l&&new flatUI.text.TextField(l.ls(),{layoutWidth:"99%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),l&&new flatUI.layout.Spacer({layoutHeight:"20px"}),i&&new flatUI.text.TextField("  "+i.ls(),{layoutWidth:"99%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),i&&new flatUI.layout.Spacer({layoutHeight:"20px"}),new flatUI.layout.GridLayout({align:"horizontal",layoutWidth:"100%",columnCount:("3_symbols"!==n?{columnCount:2}:{columnCount:3}).columnCount,padding:16},h({symbols:a,layoutHeight:"400px"}))]}},{key:"inflateDesktopLayout",value:function(e,t,n){var l=n.title,i=n.subtitle,a=n.symbols,n=n.form_desktop;return[l&&new flatUI.text.TextField(l.ls(),{layoutWidth:"99%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),l&&new flatUI.layout.Spacer({layoutHeight:"20px"}),i&&new flatUI.text.TextField("  "+i.ls(),{layoutWidth:"99%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),i&&new flatUI.layout.Spacer({layoutHeight:"20px"}),new flatUI.layout.GridLayout({align:"horizontal",layoutWidth:"100%",columnCount:function(e){switch(e){case"5_symbols":return{columnCount:5};case"4_symbols":return{columnCount:4};default:return{columnCount:3}}}(n).columnCount,padding:10},h({symbols:a,layoutHeight:"500px"}))]}}]),r}(flatUI.layout.GridLayout);n.default=l},{"./PaytableItemSymbol.js":76,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],78:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),s=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),i=l(e("@babel/runtime/helpers/createClass")),a=l(e("@babel/runtime/helpers/inherits")),r=l(e("@babel/runtime/helpers/possibleConstructorReturn")),o=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./PaytableSymbolAnimation.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,o.default)(n);return e=l?(e=(0,o.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,e)}}function h(l){return d(l).reduce(function(e,t,n){return e+t.symbolsCount+(n?"":"+")+(n<l.length-1?"\n":"")},"")}function f(l){return d(l).reduce(function(e,t,n){return e+"x"+t.coefficient+(n<l.length-1?"\n":"")},"")}function d(e){return e.map(function(e){return JSON.parse(JSON.stringify(e))}).reduce(function(e,t){return e.length&&e[e.length-1].coefficient===t.coefficient?(e[e.length-1].combinationGroups=t.symbolsCount,e):e.concat(t)},[]).map(function(e){return{symbolsCount:e.combinationGroups?e.combinationGroups+" - "+e.symbolsCount:e.symbolsCount,coefficient:e.coefficient}})}l=function(e){(0,a.default)(o,e);var r=c(o);function o(e){var t=e.symbolConfig,n=t.config,l=t.id,i=t.title,t=t.description,a=e.layoutWidth,e=e.layoutHeight;return(0,s.default)(this,o),r.call(this,{align:"center",layoutWidth:a,layoutHeight:e,style:flatUI.styles.Panel.tile},null,{symbolConfig:{config:n,id:l,title:i,description:t},layoutWidth:a,layoutHeight:e})}return(0,i.default)(o,[{key:"inflateMobileLandscapeLayout",value:function(){return this.inflateDesktopLayout.apply(this,arguments)}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){var n=n.symbolConfig,l=n.config,n=n.id;return l.combinations=l.combinations.sort(function(e,t){return t.symbolsCount-e.symbolsCount}),[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.Panel.primary},[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"90%",layoutHeight:"100%"},[new u.default(n,{layoutWidth:"100%",layoutHeight:"40%"}),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"60%"},[new flatUI.text.TextField(h(l.combinations),{layoutHeight:"100%",style:flatUI.styles.TextField.option_screen_description,align:"center"}).setParams({textAlign:"left"}),new flatUI.layout.Spacer({layoutWidth:"5%"}),new flatUI.panel.Panel({layoutWidth:"4px",layoutHeight:"80%",style:{color:1907997,alpha:.8}}),new flatUI.text.TextField(f(l.combinations),{layoutHeight:"100%",style:flatUI.styles.TextField.option_screen_description,align:"center"}).setParams({textAlign:"left",color:flatUI.styles.Color.accent})])])])]}},{key:"inflateDesktopLayout",value:function(e,t,n){var n=n.symbolConfig,l=n.config,n=n.id;return l.combinations=l.combinations.sort(function(e,t){return t.symbolsCount-e.symbolsCount}),[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.Panel.primary},[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"95%",layoutHeight:"100%"},[new u.default(n,{layoutWidth:"100%",layoutHeight:"40%"}),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"60%"},[new flatUI.text.TextField(h(l.combinations),{layoutHeight:"100%",layoutWidth:"60%",style:flatUI.styles.TextField.option_screen_description,align:"center"}).setParams({textAlign:"left"}),new flatUI.panel.Panel({layoutWidth:"4px",layoutHeight:"80%",style:{color:1907997,alpha:.8}}),new flatUI.text.TextField(f(l.combinations),{layoutHeight:"100%",layoutWidth:"40%",style:flatUI.styles.TextField.option_screen_description,align:"center"}).setParams({textAlign:"left",color:flatUI.styles.Color.accent})])])])]}}]),o}(flatUI.layout.HorizontalLayout);n.default=l},{"./PaytableSymbolAnimation.js":84,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],79:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),a=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./PaytableMatch3Symbol.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(n);return e=l?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}function h(e){var t=e.symbols,n=e.layoutHeight;return t.map(function(e){return new u.default({symbolConfig:e,layoutHeight:n})})}l=function(e){(0,s.default)(a,e);var i=c(a);function a(e){var e=e.config,t=e.title,n=e.symbols,l=e.form_mobile,e=e.form_desktop;return(0,r.default)(this,a),i.call(this,{align:"left",layoutWidth:"100%",columnCount:1,padding:4},null,{title:t,symbols:n,form_mobile:l,form_desktop:e})}return(0,o.default)(a,[{key:"inflateMobileLandscapeLayout",value:function(){return this.inflateDesktopLayout.apply(this,arguments)}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){var l=n.title,i=n.symbols,n=n.form_mobile;function a(e){switch(e){case"5_symbols":return{columnCount:5,layoutHeight:"400px"};case"4_symbols":return{columnCount:4,layoutHeight:"400px"};case"3_symbols":return{columnCount:3,layoutHeight:"400px"};default:return{columnCount:4,layoutHeight:"500px"}}}return[new flatUI.text.TextField(l.ls(),{layoutWidth:"99%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),new flatUI.layout.GridLayout({align:"horizontal",layoutWidth:"100%",columnCount:a(n).columnCount,padding:8},h({symbols:i,layoutHeight:a(n).layoutHeight}))]}},{key:"inflateDesktopLayout",value:function(e,t,n){var l=n.title,i=n.symbols,n=n.form_desktop;function a(e){switch(e){case"5_symbols":return{columnCount:5,layoutHeight:"500px"};case"4_symbols":return{columnCount:4,layoutHeight:"500px"};case"3_symbols":return{columnCount:3,layoutHeight:"500px"};default:return{columnCount:5,layoutHeight:"700px"}}}return[new flatUI.text.TextField(l.ls(),{layoutWidth:"99%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),new flatUI.layout.GridLayout({align:"horizontal",layoutWidth:"100%",columnCount:a(n).columnCount,padding:8},h({symbols:i,layoutHeight:a(n).layoutHeight}))]}}]),a}(flatUI.layout.GridLayout);n.default=l},{"./PaytableMatch3Symbol.js":78,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],80:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./PaytableSymbolsPanel.js")),c=l(e("./PaytableItemSymbolsPanel.js")),h=l(e("./PaytableMatch3SymbolsPanel.js")),f=l(e("./PaytableTripleSymbolsPanel.js")),d=l(e("./PaytableSpecialSymbolsPanel.js")),p=l(e("./PaytableFeaturesPanel.js")),y=l(e("./PaytableTablePanel.js")),b=l(e("./PaytableBetLinesPanel.js"));function m(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}function g(e){return e.map(function(e){switch(e.type){case"Match3Symbols":return new h.default({config:e});case"Symbols":return new u.default({config:e});case"ItemSymbols":return new c.default({config:e});case"TripleSymbols":return new f.default({config:e});case"SpecialSymbols":return new d.default({config:e});case"Features":return new p.default({config:e});case"Table":return new y.default({config:e});case"BetLines":case"BetWays":case"BetGroups":return new b.default({type:e.type,config:e})}}).reduce(function(e,t){return e.concat(t,new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"5px",style:flatUI.styles.Panel.primary}))},[])}l=function(e){(0,r.default)(l,e);var n=m(l);function l(e){var t;return(0,i.default)(this,l),(t=n.call(this,{align:"none",layoutWidth:"100%",layoutHeight:"100%"},null,e)).config=e,t}return(0,a.default)(l,[{key:"inflateDesktopLayout",value:function(e,t,n){return[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.Panel.secondary,id:"Scrollable"},[new flatUI.text.TextField("panel_name_paytable".ls(),{layoutWidth:"100%",layoutHeight:"120px",style:flatUI.styles.TextField.option_screen_title,align:"left"}),new flatUI.layout.GridLayout({layoutWidth:"100%",align:"left",columnCount:1,padding:50},g(n)),new flatUI.layout.Spacer])]}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){return[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.Panel.secondary,id:"Scrollable"},[new flatUI.layout.GridLayout({layoutWidth:"100%",columnCount:1,padding:50},g(n)),new flatUI.layout.Spacer])]}},{key:"inflateMobileLandscapeLayout",value:function(e,t,n){return[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.Panel.secondary,id:"Scrollable"},[new flatUI.text.TextField("panel_name_paytable".ls().toUpperCase(),{layoutWidth:"100%",layoutHeight:"120px",style:flatUI.styles.TextField.option_screen_title,align:"left"}),new flatUI.layout.GridLayout({layoutWidth:"100%",align:"left",columnCount:1,padding:50},g(n)),new flatUI.layout.Spacer])]}}]),l}(l(e("../ScrollableLayout.js")).default);n.default=l},{"../ScrollableLayout.js":64,"./PaytableBetLinesPanel.js":73,"./PaytableFeaturesPanel.js":75,"./PaytableItemSymbolsPanel.js":77,"./PaytableMatch3SymbolsPanel.js":79,"./PaytableSpecialSymbolsPanel.js":82,"./PaytableSymbolsPanel.js":85,"./PaytableTablePanel.js":86,"./PaytableTripleSymbolsPanel.js":88,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],81:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),h=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),i=l(e("@babel/runtime/helpers/createClass")),a=l(e("@babel/runtime/helpers/get")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),f=l(e("./PaytableSymbolAnimation.js"));function d(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(c,e);var u=d(c);function c(e){var t=e.symbolConfig,n=t.config,l=t.id,i=t.payments,a=t.title,r=t.description,o=t.symbolWidth,t=t.textWidth,s=e.layoutWidth,e=e.layoutHeight;return(0,h.default)(this,c),u.call(this,{align:"middle",layoutWidth:s,layoutHeight:e,style:flatUI.styles.Panel.tile},null,{symbolConfig:{config:n,id:l,title:a,description:r,payments:i,symbolWidth:o,textWidth:t},layoutWidth:s,layoutHeight:e})}return(0,i.default)(c,[{key:"inflateMobileLandscapeLayout",value:function(){return this.inflateDesktopLayout.apply(this,arguments)}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){var n=n.symbolConfig,l=n.config,i=n.id,a=n.title,r=n.payments,o=n.description,s=n.symbolWidth,n=n.textWidth;return r&&(l.combinations=l.combinations.sort(function(e,t){return t.symbolsCount-e.symbolsCount})),[a&&new flatUI.text.TextField(a.ls(),{layoutWidth:"99%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),a&&new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"20px",style:{alpha:0}}),new flatUI.layout.GridLayout({columnCount:2,padding:10,layoutWidth:"100%"},[new f.default(i,{layoutWidth:s}),new flatUI.layout.GridLayout({columnCount:1,padding:0,layoutWidth:n,id:"description"},[new flatUI.text.TextField(o.ls(),{layoutWidth:"100%",style:flatUI.styles.TextField.option_screen_description,align:"left",id:"descriptionText"})])]),new flatUI.layout.Spacer]}},{key:"inflateDesktopLayout",value:function(e,t,n){var n=n.symbolConfig,l=n.config,i=n.id,a=n.title,r=n.payments,o=n.description,s=n.symbolWidth,n=n.textWidth;return r&&(l.combinations=l.combinations.sort(function(e,t){return t.symbolsCount-e.symbolsCount})),[a&&new flatUI.text.TextField(a.ls(),{layoutWidth:"99%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),a&&new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"20px",style:{alpha:0}}),new flatUI.layout.GridLayout({columnCount:2,padding:20,layoutWidth:"100%"},[new f.default(i,{layoutWidth:s}),new flatUI.layout.GridLayout({columnCount:1,padding:0,layoutWidth:n,id:"description"},[new flatUI.text.TextField(o.ls(),{layoutWidth:"100%",style:flatUI.styles.TextField.option_screen_description,align:"left",id:"descriptionText"})])]),new flatUI.layout.Spacer]}},{key:"layout",value:function(){(0,a.default)((0,s.default)(c.prototype),"layout",this).call(this),this.background.width=1,this.background.height=1}}]),c}(flatUI.layout.VerticalLayout);n.default=l},{"./PaytableSymbolAnimation.js":84,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],82:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),o=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),i=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/inherits")),a=l(e("@babel/runtime/helpers/possibleConstructorReturn")),r=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./PaytableSpecialSymbol.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,r.default)(n);return e=l?(e=(0,r.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}function h(e){var t=e.symbols,n=e.layoutHeight;return t.map(function(e){return new u.default({symbolConfig:e,layoutHeight:n})})}l=function(e){(0,s.default)(r,e);var a=c(r);function r(e){var e=e.config,t=e.title,n=e.description,l=e.payments,i=e.symbols,e=e.form;return(0,o.default)(this,r),a.call(this,{align:"center",layoutWidth:"100%",columnCount:1,padding:4},null,{title:t,symbols:i,description:n,payments:l,form:e})}return(0,i.default)(r,[{key:"inflateMobileLandscapeLayout",value:function(e,t,n){var l=n.title,i=n.symbols,a=n.description,n=n.form;return[l&&new flatUI.text.TextField(l.ls(),{layoutWidth:"99%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%"},[a?new flatUI.text.TextField(a.ls(),{layoutWidth:"98%",style:flatUI.styles.TextField.option_screen_description,align:"left"}):null]),new flatUI.layout.GridLayout({layoutWidth:"100%",columnCount:function(e){switch(e){case"3_symbols":return{columnCount:3};case"2_symbols":return{columnCount:2};default:return{columnCount:1}}}(n).columnCount,padding:20},h({symbols:i}))]}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){var l=n.title,i=n.symbols,a=n.description,n=n.form;return[l&&new flatUI.text.TextField(l.ls(),{layoutWidth:"99%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%"},[a?new flatUI.text.TextField(a.ls(),{layoutWidth:"98%",style:flatUI.styles.TextField.option_screen_description,align:"left"}):null]),new flatUI.layout.GridLayout({layoutWidth:"100%",columnCount:function(e){switch(e){case"3_symbols":return{columnCount:3};case"2_symbols":return{columnCount:2};default:return{columnCount:1}}}(n).columnCount,padding:16},h({symbols:i}))]}},{key:"inflateDesktopLayout",value:function(e,t,n){var l=n.title,i=n.symbols,a=n.description,n=n.form;return[l&&new flatUI.text.TextField(l.ls(),{layoutWidth:"99%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%"},[a?new flatUI.text.TextField(a.ls(),{layoutWidth:"98%",style:flatUI.styles.TextField.option_screen_description,align:"left"}):null]),new flatUI.layout.GridLayout({layoutWidth:"100%",columnCount:function(e){switch(e){case"3_symbols":return{columnCount:3};case"2_symbols":return{columnCount:2};default:return{columnCount:1}}}(n).columnCount,padding:20},h({symbols:i}))]}}]),r}(flatUI.layout.GridLayout);n.default=l},{"./PaytableSpecialSymbol.js":81,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],83:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),a=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./PaytableSymbolAnimation.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(n);return e=l?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}function h(l){return l.reduce(function(e,t,n){return e+t.symbolsCount+(n<l.length-1?"\n":"")},"")}function f(l){return l.reduce(function(e,t,n){return e+"x"+t.coefficient+(n<l.length-1?"\n":"")},"")}l=function(e){(0,s.default)(a,e);var i=c(a);function a(e){var t=e.symbolConfig,n=e.layoutWidth,l=e.layoutHeight,e=e.disableCount;return(0,r.default)(this,a),i.call(this,{align:"center",layoutWidth:n,layoutHeight:l,style:flatUI.styles.Panel.tile},null,t,e)}return(0,o.default)(a,[{key:"inflateMobileLandscapeLayout",value:function(){return this.inflateDesktopLayout.apply(this,arguments)}},{key:"inflateMobilePortraitLayout",value:function(e,t,n,l){var i=n.id,n=n.combinations.slice().sort(function(e,t){return t.symbolsCount-e.symbolsCount});return[new u.default(i,{layoutWidth:l?"65%":"45%",layoutHeight:"90%"}),!l&&new flatUI.layout.Spacer({layoutWidth:"20px"}),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:l?"25%":"45%",layoutHeight:"100%"},[!l&&new flatUI.text.TextField(h(n),{layoutWidth:"20%",layoutHeight:"100%",style:flatUI.styles.TextField.option_screen_subtitle,align:"right"}),!l&&new flatUI.layout.Spacer({layoutWidth:c2d.env.device.ipad()?"60px":"40px"}),new flatUI.text.TextField(f(n),{layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}).setParams({color:flatUI.styles.Color.accent})])]}},{key:"inflateDesktopLayout",value:function(e,t,n,l){var i=n.id,n=n.combinations.slice().sort(function(e,t){return t.symbolsCount-e.symbolsCount});return[new u.default(i,{layoutWidth:l?"65%":"45%",layoutHeight:"90%"}),!l&&new flatUI.layout.Spacer({layoutWidth:"20px"}),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:l?"25%":"45%",layoutHeight:"100%"},[!l&&new flatUI.text.TextField(h(n),{layoutWidth:"20px",layoutHeight:"100%",style:flatUI.styles.TextField.option_screen_subtitle,align:"right"}),!l&&new flatUI.layout.Spacer({layoutWidth:"40px"}),new flatUI.text.TextField(f(n),{layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}).setParams({color:flatUI.styles.Color.accent})])]}}]),a}(flatUI.layout.HorizontalLayout);n.default=l},{"./PaytableSymbolAnimation.js":84,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],84:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,o.default)(i,e);var l=u(i);function i(e,t){var n;return(0,a.default)(this,i),(n=l.call(this,t))._symbolId=null,n.animation=new c2d.display.Animation,n.addChild(n.animation),null!==e&&(n.symbolId=e,t=game.src.Reelset.SymbolAnimations.getAnimation({type:e},"paytable_win"),n.buttonMode=t&&(t.spine||t.textures)),n.interactive=n.buttonMode,n.click=n.tap=function(){n.animation.setAnimation(game.src.Reelset.SymbolAnimations.getAnimation({type:e},"paytable_win")),n.animation.displayGroup=null,n.animation.onComplete=function(){n.animation.setAnimation(game.src.Reelset.SymbolAnimations.getAnimation({type:e},"paytable_idle")),n.animation.displayGroup=null,n.animation.animation.anchor=new c2d.geom.Point(.5,.5)}},n}return(0,r.default)(i,[{key:"onLayout",value:function(){this.hitArea=new c2d.geom.Rectangle(0,0,this.layoutWidth,this.layoutHeight);var e=this.animation;e.scale.y=this.animation.scale.x=1,e.width=this.layoutWidth*(this.settings.zoom||1),e.height=this.layoutHeight*(this.settings.zoom||1),e.scale.y>e.scale.x?e.scale.y=e.scale.x:e.scale.x=e.scale.y,e.anchor&&(e.x=this.layoutWidth*e.anchor.x,e.y=this.layoutHeight*e.anchor.y)}},{key:"symbolId",get:function(){return this._symbolId},set:function(e){null!==e?(this.animation.visible=!0,this.animation.setAnimation(game.src.Reelset.SymbolAnimations.getAnimation({type:e},"paytable_idle")),this.animation.displayGroup=null,this.animation.anchor=new c2d.geom.Point(.5,.5),this.animation.animation&&(this.animation.animation.anchor=new c2d.geom.Point(.5,.5)),this.layout()):this.animation.visible=!1}}]),i}(flatUI.UIComponent);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],85:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),c=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),i=l(e("@babel/runtime/helpers/createClass")),a=l(e("@babel/runtime/helpers/inherits")),r=l(e("@babel/runtime/helpers/possibleConstructorReturn")),o=l(e("@babel/runtime/helpers/getPrototypeOf")),s=l(e("./PaytableSymbol.js"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,o.default)(n);return e=l?(e=(0,o.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,e)}}function f(e){var t=e.symbols,n=e.layoutHeight,l=e.disableCount;return t.filter(function(e){return 0<e.combinations.first.coefficient}).map(function(e){return new s.default({symbolConfig:e,layoutHeight:n,disableCount:l})})}l=function(e){(0,a.default)(u,e);var s=h(u);function u(e){var e=e.config,t=e.title,n=e.subtitle,l=e.symbols,i=e.form_mobile,a=e.form_desktop,r=e.disableCount,r=void 0!==r&&r,o=e.portraitLayoutHeight,o=void 0===o?"150px":o,e=e.landscapeLayoutHeight,e=void 0===e?"200px":e;return(0,c.default)(this,u),s.call(this,{align:"left",layoutWidth:"100%",columnCount:1,padding:4},null,{title:t,subtitle:n,form_mobile:i,form_desktop:a,symbols:l,disableCount:r,portraitLayoutHeight:o,landscapeLayoutHeight:e})}return(0,i.default)(u,[{key:"inflateMobileLandscapeLayout",value:function(){return this.inflateDesktopLayout.apply(this,arguments)}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){var l=n.title,i=n.subtitle,a=n.symbols,r=n.form_mobile,o=n.disableCount,n=n.portraitLayoutHeight;return[l&&new flatUI.text.TextField(l.ls(),{layoutWidth:"99%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),l&&new flatUI.layout.Spacer({layoutHeight:"20px"}),i&&new flatUI.text.TextField("  "+i.ls(),{layoutWidth:"99%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),i&&new flatUI.layout.Spacer({layoutHeight:"20px"}),new flatUI.layout.GridLayout({align:"horizontal",layoutWidth:"100%",columnCount:function(e){switch(e){case"1_symbols":return{columnCount:1};case"3_symbols":return{columnCount:3};default:return{columnCount:2}}}(r).columnCount,padding:16},f({symbols:a,layoutHeight:n,disableCount:o}))]}},{key:"inflateDesktopLayout",value:function(e,t,n){var l=n.title,i=n.subtitle,a=n.symbols,r=n.form_desktop,o=n.disableCount,n=n.landscapeLayoutHeight;return[l&&new flatUI.text.TextField(l.ls(),{layoutWidth:"99%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),l&&new flatUI.layout.Spacer({layoutHeight:"20px"}),i&&new flatUI.text.TextField("  "+i.ls(),{layoutWidth:"99%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),i&&new flatUI.layout.Spacer({layoutHeight:"20px"}),new flatUI.layout.GridLayout({align:"horizontal",layoutWidth:"100%",columnCount:function(e){switch(e){case"4_symbols":return{columnCount:4};case"2_symbols":return{columnCount:2};case"1_symbols":return{columnCount:1};default:return{columnCount:3}}}(r).columnCount,padding:10},f({symbols:a,layoutHeight:n,disableCount:o}))]}}]),u}(flatUI.layout.GridLayout);n.default=l},{"./PaytableSymbol.js":83,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],86:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}function c(e){return e.table.map(function(e){return c2d.env.device.portrait(),new flatUI.text.TextField(e.ls(),{layoutHeight:"0px",style:flatUI.styles.TextField.option_screen_description,align:"left"})})}l=function(e){(0,r.default)(n,e);var t=u(n);function n(e){e=e.config;return(0,i.default)(this,n),t.call(this,{align:"middle",layoutWidth:"100%"},null,{config:e})}return(0,a.default)(n,[{key:"inflateMobileLandscapeLayout",value:function(){return this.inflateDesktopLayout.apply(this,arguments)}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){n=n.config;return[n.title&&new flatUI.text.TextField(n.title.ls().toUpperCase(),{layoutWidth:"99%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),n.title&&new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"40px",style:{alpha:0}}),n.description&&new flatUI.text.TextField(n.description.ls(),{layoutWidth:"98%",layoutHeight:"0px",style:flatUI.styles.TextField.option_screen_description,align:"left"}),n.description&&new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"40px",style:{alpha:0}}),new flatUI.layout.GridLayout({layoutWidth:"100%",columnCount:n.table_columns,padding:8},c({table:n.table})),new flatUI.layout.Spacer]}},{key:"inflateDesktopLayout",value:function(e,t,n){n=n.config;return[n.title&&new flatUI.text.TextField(n.title.ls().toUpperCase(),{layoutWidth:"99%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),n.title&&new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"40px",style:{alpha:0}}),n.description&&new flatUI.text.TextField(n.description.ls(),{layoutWidth:"98%",layoutHeight:"0px",style:flatUI.styles.TextField.option_screen_description,align:"left"}),n.description&&new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"40px",style:{alpha:0}}),new flatUI.layout.GridLayout({layoutWidth:"98%",columnCount:n.table_columns,padding:14},c({table:n.table})),new flatUI.layout.Spacer]}}]),n}(flatUI.layout.VerticalLayout);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],87:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),u=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),i=l(e("@babel/runtime/helpers/createClass")),a=l(e("@babel/runtime/helpers/get")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf")),h=l(e("./PaytableSymbolAnimation.js"));function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}function d(l){return l.reduce(function(e,t,n){return e+t.symbolsCount+(n<l.length-1?"\n":"")},"")}function p(l){return l.reduce(function(e,t,n){return e+"x"+t.coefficient+(n<l.length-1?"\n":"")},"")}l=function(e){(0,r.default)(s,e);var o=f(s);function s(e){var t=e.symbolConfig,n=t.config,l=t.id,i=t.title,a=t.description,t=t.payments,r=e.layoutWidth,e=e.layoutHeight;return(0,u.default)(this,s),o.call(this,{align:"top",layoutWidth:r,layoutHeight:e,style:flatUI.styles.Panel.tile},null,{symbolConfig:{config:n,id:l,title:i,description:a,payments:t},layoutWidth:r,layoutHeight:e})}return(0,i.default)(s,[{key:"inflateMobileLandscapeLayout",value:function(){return this.inflateDesktopLayout.apply(this,arguments)}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){var n=n.symbolConfig,l=n.config,i=n.id,a=n.title,r=n.description,n=n.payments;return n&&(l.combinations=l.combinations.sort(function(e,t){return t.symbolsCount-e.symbolsCount})),[new h.default(i,{layoutWidth:n||r?"45%":"100%"}),new flatUI.layout.Spacer({layoutWidth:"20px"}),new flatUI.layout.GridLayout({padding:0,columnCount:1,align:"horizontal",layoutWidth:n||r?"45%":"0%"},[a&&new flatUI.text.TextField(a.ls(),{layoutWidth:"100%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}).setParams({textAlign:"center"}),a&&new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"40px",style:{alpha:0}}),n?new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"150px"},[new flatUI.text.TextField(d(l.combinations),{layoutWidth:"20%",layoutHeight:"100%",style:flatUI.styles.TextField.option_screen_subtitle,align:"right"}),new flatUI.layout.Spacer({layoutWidth:c2d.env.device.ipad()?"60px":"40px"}),new flatUI.text.TextField(p(l.combinations),{layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}).setParams({color:flatUI.styles.Color.accent})]):null,r&&new flatUI.text.TextField(r.ls(),{layoutWidth:"100%",style:flatUI.styles.TextField.option_screen_description,align:"left"}),new flatUI.layout.Spacer])]}},{key:"inflateDesktopLayout",value:function(e,t,n){var n=n.symbolConfig,l=n.config,i=n.id,a=n.title,r=n.description,n=n.payments;return n&&(l.combinations=l.combinations.sort(function(e,t){return t.symbolsCount-e.symbolsCount})),[new h.default(i,{layoutWidth:n||r?"45%":"100%"}),new flatUI.layout.Spacer({layoutWidth:"20px"}),new flatUI.layout.GridLayout({padding:0,columnCount:1,layoutWidth:n||r?"45%":"0%"},[a&&new flatUI.text.TextField(a.ls(),{layoutWidth:"100%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}).setParams({textAlign:"center"}),a&&new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"20px",style:{alpha:0}}),n?new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"90%",layoutHeight:"200px"},[new flatUI.text.TextField(d(l.combinations),{layoutWidth:"20px",layoutHeight:"100%",style:flatUI.styles.TextField.option_screen_subtitle,align:"right"}),new flatUI.layout.Spacer({layoutWidth:"40px"}),new flatUI.text.TextField(p(l.combinations),{layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}).setParams({color:flatUI.styles.Color.accent})]):null,r&&new flatUI.text.TextField(r.ls(),{layoutWidth:"100%",style:flatUI.styles.TextField.option_screen_description,align:"left"}),new flatUI.layout.Spacer])]}},{key:"layout",value:function(){(0,a.default)((0,c.default)(s.prototype),"layout",this).call(this),this.background.width=1,this.background.height=1}}]),s}(flatUI.layout.HorizontalLayout);n.default=l},{"./PaytableSymbolAnimation.js":84,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],88:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),u=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),i=l(e("@babel/runtime/helpers/createClass")),a=l(e("@babel/runtime/helpers/inherits")),r=l(e("@babel/runtime/helpers/possibleConstructorReturn")),o=l(e("@babel/runtime/helpers/getPrototypeOf")),s=l(e("./PaytableTripleSymbol.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,o.default)(n);return e=l?(e=(0,o.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,e)}}function h(e){var t=e.symbols,n=e.layoutHeight;return t.map(function(e){return new s.default({symbolConfig:e,layoutHeight:n})})}l=function(e){(0,a.default)(s,e);var o=c(s);function s(e){var e=e.config,t=e.description_header,n=e.description_footer,l=e.title,i=e.symbols,a=e.form_mobile,r=e.form_desktop,e=e.subtitle;return(0,u.default)(this,s),o.call(this,{align:"left",layoutWidth:"100%",columnCount:1,padding:4},null,{description_header:t,description_footer:n,title:l,symbols:i,form_mobile:a,form_desktop:r,subtitle:e})}return(0,i.default)(s,[{key:"inflateMobileLandscapeLayout",value:function(){return this.inflateDesktopLayout.apply(this,arguments)}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){var l=n.description_header,i=n.description_footer,a=n.title,r=n.symbols,o=n.form_mobile,s=n.subtitle;n.config;return[a&&new flatUI.text.TextField(a.ls(),{layoutWidth:"98%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),a&&new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"20px",style:{alpha:0}}),s&&new flatUI.text.TextField("  "+s.ls(),{layoutWidth:"99%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),s&&new flatUI.layout.Spacer({layoutHeight:"20px"}),l&&new flatUI.panel.Panel({layoutHeight:"20px",style:{alpha:0}}),l&&new flatUI.text.TextField(l.ls(),{layoutWidth:"98%",style:flatUI.styles.TextField.option_screen_description,align:"left"}),l&&new flatUI.panel.Panel({layoutHeight:"20px",style:{alpha:0}}),new flatUI.layout.GridLayout({align:"horizontal",layoutWidth:"100%",columnCount:function(e){switch(e){case"4_symbols":return{columnCount:4};case"3_symbols":return{columnCount:3};case"2_symbols":return{columnCount:2};default:return{columnCount:1}}}(o).columnCount,padding:16},h({symbols:r})),i&&new flatUI.panel.Panel({layoutHeight:"20px",style:{alpha:0}}),i&&new flatUI.text.TextField(i.ls(),{layoutWidth:"98%",style:flatUI.styles.TextField.option_screen_description,align:"left"})]}},{key:"inflateDesktopLayout",value:function(e,t,n){var l=n.description_header,i=n.description_footer,a=n.title,r=n.symbols,o=n.form_desktop,s=n.subtitle;n.config;return[a&&new flatUI.text.TextField(a.ls(),{layoutWidth:"99%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),a&&new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"20px",style:{alpha:0}}),s&&new flatUI.text.TextField("  "+s.ls(),{layoutWidth:"99%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),s&&new flatUI.layout.Spacer({layoutHeight:"20px"}),l&&new flatUI.panel.Panel({layoutHeight:"20px",style:{alpha:0}}),l&&new flatUI.text.TextField(l.ls(),{layoutWidth:"98%",style:flatUI.styles.TextField.option_screen_description,align:"left"}),l&&new flatUI.panel.Panel({layoutHeight:"20px",style:{alpha:0}}),new flatUI.layout.GridLayout({align:"horizontal",layoutWidth:"100%",columnCount:function(e){switch(e){case"1_symbols":return{columnCount:1};case"2_symbols":return{columnCount:2};case"4_symbols":return{columnCount:4};default:return{columnCount:3}}}(o).columnCount,padding:4},h({symbols:r})),i&&new flatUI.panel.Panel({layoutHeight:"20px",style:{alpha:0}}),i&&new flatUI.text.TextField(i.ls(),{layoutWidth:"98%",style:flatUI.styles.TextField.option_screen_description,align:"left"})]}}]),s}(flatUI.layout.GridLayout);n.default=l},{"./PaytableTripleSymbol.js":87,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],89:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/toConsumableArray"))),a=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}function h(n,e){var t=c2d.env.gameVersion;return("description_game_rules".ls()+"\nGame version $[GAME_VERSION]").replace(/\$\[RTP_VALUE\]/g,e).replace(/\$\[GAME_VERSION\]/g,t).split("\n\n").filter(function(e){return""!=e}).map(function(e,t){e=new flatUI.text.TextField(e,{layoutWidth:"100%",style:n,align:"left"});return 1e4<e.height&&console.error("The text is too long so its texture is over 10000px. Please check spaces."),e}).concat(new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"20px",style:{alpha:0}}))}function f(){return c2d.env.userSupportPageLink?[new flatUI.buttons.TextButton("contacts".ls(),function(){return window.open(c2d.env.userSupportPageLink)},{layoutWidth:"340px",layoutHeight:"50px",text:{style:flatUI.styles.TextField.spin_button_text,align:"center",fitInLayout:!0},button:{style:flatUI.styles.FlatButton.accent}})]:[]}l=function(e){(0,o.default)(n,e);var t=c(n);function n(e){return(0,a.default)(this,n),t.call(this,{align:"none",layoutWidth:"100%",layoutHeight:"100%"},null,e)}return(0,r.default)(n,[{key:"inflateMobileLandscapeLayout",value:function(){return this.inflateDesktopLayout.apply(this,arguments)}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){var l=Object.assign({},flatUI.styles.TextField.option_screen_description,{padding:1,trim:!0});return[new flatUI.layout.FrameLayout({align:"none",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.Panel.secondary,id:"Scrollable"},[new flatUI.layout.GridLayout({layoutWidth:"100%",columnCount:1,paddingY:20,paddingX:0},[].concat((0,i.default)(h(l,n.slotsModel.rtp)),(0,i.default)(f())))])]}},{key:"inflateDesktopLayout",value:function(e,t,n){var l=Object.assign({},flatUI.styles.TextField.option_screen_description,{padding:1,trim:!0});return[new flatUI.layout.VerticalLayout({align:"middle",id:"Scrollable",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.Panel.secondary},[new flatUI.text.TextField("panel_name_rules".ls(),{layoutWidth:"100%",layoutHeight:"120px",style:flatUI.styles.TextField.option_screen_title,align:"left"}),new flatUI.layout.GridLayout({layoutWidth:"100%",columnCount:1,padding:20},[].concat((0,i.default)(h(l,n.slotsModel.rtp)),(0,i.default)(f()))),new flatUI.layout.Spacer])]}}]),n}(l(e("../ScrollableLayout.js")).default);n.default=l},{"../ScrollableLayout.js":64,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/toConsumableArray":25}],90:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,o.default)(i,e);var l=u(i);function i(e,t){var n;return(0,a.default)(this,i),(n=l.call(this,t)).createTextField(e,Object.assign({},t.text,{layoutWidth:"100%",layoutHeight:"100%"})),n.createBackground(),n.createCursor(),n}return(0,r.default)(i,[{key:"createBackground",value:function(){this.background=new c2d.display.Graphics,this.addChildAt(this.background,0)}},{key:"drawBackground",value:function(e){var t=e.color,e=e.alpha;this.background.clear(),this.background.beginFill(t,e),this.background.drawRect(0,0,.1*this.layoutWidth,.1*this.layoutHeight),this.background.endFill(),this.background.width=this.layoutWidth,this.background.height=this.layoutHeight,this.updateCursorPosition()}},{key:"createTextField",value:function(e,t){e=new flatUI.text.TextField(e,t);this.addChild(e),this.textField=e}},{key:"createCursor",value:function(){var e=this.settings.text.style.fill,t=parseInt(this.settings.text.style.fontSize,10),n=new c2d.display.Graphics,e=(n.beginFill(e),n.drawRect(0,0,2,t),n.endFill(),new c2d.display.Sprite(n.generateCanvasTexture()));e.anchor.set(1,.5),this.cursor=e,this.addChild(e),this.updateCursorPosition(),this.startFlickCursor()}},{key:"updateCursorPosition",value:function(){this.cursor.x=this.layoutWidth/2+this.textField.width/2+2,this.cursor.y=this.layoutHeight/2}},{key:"startFlickCursor",value:function(){c2d.Tween.get(this.cursor,{override:!0,loop:!0}).to({alpha:1},250,c2d.Tween.Ease.quadIn).to({alpha:0},500,c2d.Tween.Ease.quadIn)}},{key:"stopFlickCursor",value:function(){this.cursor.alpha=0,c2d.Tween.removeTweens(this.cursor)}},{key:"onLayout",value:function(){this.drawBackground({color:"0x383838",alpha:1})}},{key:"text",get:function(){return this.textField.text.trim()},set:function(e){this.textField.text=e,this.updateCursorPosition()}}]),i}(l(e("../../../components/UIComponent.js")).default);n.default=l},{"../../../components/UIComponent.js":102,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],91:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),u=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),i=l(e("@babel/runtime/helpers/createClass")),a=l(e("@babel/runtime/helpers/inherits")),r=l(e("@babel/runtime/helpers/possibleConstructorReturn")),o=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("./NumericKeyboard.js"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,o.default)(n);return e=l?(e=(0,o.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,e)}}l=function(e){(0,a.default)(s,e);var o=h(s);function s(e,t,n){function l(e){a(e)?(i.text=i._placeholder,i.textField.style.fill=12303291,i.textField.alpha=.5):(i.text=e,i.textField.style.fill=n.text.style.fill,i.textField.alpha=1)}(0,u.default)(this,s),i=o.call(this,n);var i,a=function(e){e=parseFloat(e);return isNaN(e)||0==e},r=(i._placeholder="0",new c.default(a(e)?"":e));return r.confirmHandler=function(e){l(e),t(e)},i.createTextField(e,Object.assign({},n.text,{layoutWidth:"100%",layoutHeight:"100%"})),i.createButton(function(){i.root.addChild(r),r.show()},Object.assign({},n.button,{layoutWidth:"100%",layoutHeight:"100%"})),l(e),i}return(0,i.default)(s,[{key:"createButton",value:function(e,t){e=new flatUI.buttons.FlatButton(e,t);this.addChildAt(e,0),this.button=e}},{key:"createTextField",value:function(e,t){e=new flatUI.text.TextField(e,t);e.interactiveChildren=!1,this.addChild(e),(this.textField=e).x=5}},{key:"text",get:function(){return this.textField.text},set:function(e){this.textField.text=e}}]),s}(flatUI.UIComponent);n.default=l},{"./NumericKeyboard.js":92,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],92:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./KeyboardTextInput.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}var h={TextField:{confirm:{fontWeight:"700",fontSize:"34px",fill:"0xFFFFFF",padding:10},dismiss:{fontWeight:"400",fontSize:"34px",fill:"0x808080",padding:10},message:{fontWeight:"400",fontSize:"34px",fill:"0xE5E5E5",padding:10},header:{fontWeight:"700",fontSize:"52px",fill:"0xE5E5E5",padding:10}},button:{layoutHeight:"100px",text:{style:{fontWeight:"700",fontSize:"36px",fill:"0xF1F1F1",padding:10},align:"center"},button:{style:{normal:{color:3684408,alpha:.6},hover:{color:3684408,alpha:.6},pressed:{color:16777215,alpha:.25},disabled:{color:16777215,alpha:0}}}},textInput:{align:"middle",layoutWidth:"72%",layoutHeight:"80px",id:"textInput",text:{style:{fontWeight:"700",fontSize:"48px",fill:"0xF1F1F1",padding:10},align:"center"},button:{style:{normal:{color:3684408,alpha:.6},hover:{color:3684408,alpha:.6},pressed:{color:16777215,alpha:.25},disabled:{color:16777215,alpha:0}}}}},f={TextField:{confirm:{fontWeight:"700",fontSize:"64px",fill:"0xFFFFFF",padding:10},dismiss:{fontWeight:"400",fontSize:"64px",fill:"0x808080",padding:10},message:{fontWeight:"400",fontSize:"64px",fill:"0xE5E5E5",padding:10},header:{fontWeight:"700",fontSize:"80px",fill:"0xE5E5E5",padding:10}},button:{layoutWidth:"95px",layoutHeight:"20%",text:{style:{fontWeight:"700",fontSize:"48px",fill:"0xF1F1F1",padding:10},align:"center"},button:{style:{normal:{color:3684408,alpha:.6},hover:{color:3684408,alpha:.6},pressed:{color:16777215,alpha:.25},disabled:{color:16777215,alpha:0}}}},textInput:{align:"middle",layoutWidth:"90%",layoutHeight:"100px",id:"textInput",text:{style:{fontWeight:"700",fontSize:"48px",fill:"0xF1F1F1",padding:10},align:"center"},button:{style:{normal:{color:3684408,alpha:.6},hover:{color:16777215,alpha:.4},pressed:{color:16777215,alpha:.25},disabled:{color:16777215,alpha:0}}}}},l=function(e){(0,r.default)(l,e);var n=c(l);function l(e){var t;return(0,i.default)(this,l),(t=n.call(this,{align:"center",layoutWidth:"100vw",layoutHeight:"100vh",style:flatUI.styles.Panel.shadow,id:"popup#shadow"},null,e)).setParams({interactive:!0}),t.layout(),t.displayGroup=game.displayGroups.UI,t.zOrder=300,c2d.eventManager.subscribe(c2d.documentEvents.SCREEN_WAS_RESIZED,function(e){t.onResize(e.data),t.layout()}),t}return(0,a.default)(l,[{key:"inflateMobileLandscapeLayout",value:function(e,t,n){var l=this,i=h.textInput,a=h.button;return[new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"popup#frame"},[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"60%",layoutHeight:"90%",id:"popup#frame"},[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"90%",layoutHeight:"90%",id:"popup#contentLayout",style:flatUI.styles.Panel.primary},[new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"15%"},[new u.default(n,i),new flatUI.buttons.IconButton(function(){return l.fadeAndClose()},{layoutHeight:"100%",layoutWidth:"20%",align:"center",style:{textures:{normal:"BUTTON_CLOSE_normal",hover:"BUTTON_CLOSE_hover",pressed:"BUTTON_CLOSE_pressed",disabled:"BUTTON_CLOSE_disabled"}}})]),new flatUI.layout.HorizontalLayout({align:"bottom",layoutWidth:"90%",layoutHeight:"70%"},[new flatUI.layout.GridLayout({layoutWidth:"70%",columnCount:4,padding:6},[new flatUI.buttons.TextButton("1",function(){return l.buttonClickHandler("1")},a),new flatUI.buttons.TextButton("2",function(){return l.buttonClickHandler("2")},a),new flatUI.buttons.TextButton("3",function(){return l.buttonClickHandler("3")},a),new flatUI.buttons.TextButton("<",function(){return l.buttonClickHandler("<")},a),new flatUI.buttons.TextButton("4",function(){return l.buttonClickHandler("4")},a),new flatUI.buttons.TextButton("5",function(){return l.buttonClickHandler("5")},a),new flatUI.buttons.TextButton("6",function(){return l.buttonClickHandler("6")},a),new flatUI.buttons.TextButton(".",function(){return l.buttonClickHandler(".")},a),new flatUI.buttons.TextButton("7",function(){return l.buttonClickHandler("7")},a),new flatUI.buttons.TextButton("8",function(){return l.buttonClickHandler("8")},a),new flatUI.buttons.TextButton("9",function(){return l.buttonClickHandler("9")},a),new flatUI.buttons.TextButton("0",function(){return l.buttonClickHandler("0")},a)]),new flatUI.buttons.TextButton("ok",function(){return l.confirm()},{id:"enter",layoutWidth:"20%",layoutHeight:"100px",text:{style:{fontWeight:"700",fontSize:"48px",fill:"0xFFFFFF",padding:10},align:"center"},button:{style:flatUI.styles.FlatButton.accent}})])])])])]}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){var l=this,i=f.textInput,a=f.button;return[new flatUI.layout.FrameLayout({align:"center",layoutWidth:"600px",layoutHeight:"100%",id:"popup#frame"},[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"90%",layoutHeight:"900px",id:"popup#frame"},[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"90%",layoutHeight:"800px",id:"popup#contentLayout",style:flatUI.styles.Panel.primary},[new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"90%",layoutHeight:"native",id:"popup#contentLayout"},[new flatUI.layout.Spacer,new flatUI.buttons.IconButton(function(){return l.fadeAndClose()},{layoutHeight:"100%",layoutWidth:"80px",align:"center",style:{textures:{normal:"BUTTON_CLOSE_normal",hover:"BUTTON_CLOSE_hover",pressed:"BUTTON_CLOSE_pressed",disabled:"BUTTON_CLOSE_disabled"}}})]),new u.default(n,i),new flatUI.layout.GridLayout({columnCount:4,padding:6},[new flatUI.buttons.TextButton("1",function(){return l.buttonClickHandler("1")},a),new flatUI.buttons.TextButton("2",function(){return l.buttonClickHandler("2")},a),new flatUI.buttons.TextButton("3",function(){return l.buttonClickHandler("3")},a),new flatUI.buttons.TextButton("<",function(){return l.buttonClickHandler("<")},a),new flatUI.buttons.TextButton("4",function(){return l.buttonClickHandler("4")},a),new flatUI.buttons.TextButton("5",function(){return l.buttonClickHandler("5")},a),new flatUI.buttons.TextButton("6",function(){return l.buttonClickHandler("6")},a),new flatUI.buttons.TextButton(".",function(){return l.buttonClickHandler(".")},a),new flatUI.buttons.TextButton("7",function(){return l.buttonClickHandler("7")},a),new flatUI.buttons.TextButton("8",function(){return l.buttonClickHandler("8")},a),new flatUI.buttons.TextButton("9",function(){return l.buttonClickHandler("9")},a),new flatUI.buttons.TextButton("0",function(){return l.buttonClickHandler("0")},a)]),new flatUI.buttons.TextButton("ok",function(){return l.confirm()},{id:"enter",layoutWidth:"90%",layoutHeight:"100px",text:{style:{fontWeight:"700",fontSize:"64px",fill:"0xFFFFFF",padding:10},align:"center"},button:{style:flatUI.styles.FlatButton.accent}})])])])]}},{key:"show",value:function(){this.findChildById("enter").button.state="normal",this.fadeIn()}},{key:"confirm",value:function(){this.confirmHandler&&this.confirmHandler(this.findChildById("textInput").text),this.close()}},{key:"fadeIn",value:function(){this.findChildById("popup#shadow").alpha=0,this.findChildById("popup#contentLayout").alpha=0,this.findChildById("popup#frame").alpha=0,c2d.Tween.get(this.findChildById("popup#shadow")).to({alpha:1},300),c2d.Tween.get(this.findChildById("popup#contentLayout")).to({alpha:1},100),c2d.Tween.get(this.findChildById("popup#frame")).to({alpha:1},100)}},{key:"fadeAndClose",value:function(){var e=this;c2d.Tween.get(this.findChildById("popup#shadow")).to({alpha:0},100),c2d.Tween.get(this.findChildById("popup#contentLayout")).to({y:c2d.designSize.layoutHeight,alpha:0},150),c2d.Tween.get(this.findChildById("popup#frame")).to({y:c2d.designSize.layoutHeight,alpha:0},150).call(function(){return e.close()})}},{key:"close",value:function(){this.removeFromParent()}},{key:"onResize",value:function(e){e.isOrientationChange&&this.reInflateLayout(),this.layout()}},{key:"buttonClickHandler",value:function(e){var t=this.findChildById("textInput");"<"===e?t.text=t.text.substring(0,t.text.length-1):t.text.length<10&&(t.text=this.validateFloat(t.text,e))}},{key:"validateFloat",value:function(e,t){return 0<=e.indexOf(".")&&"."==t?e:""==e&&"."==t?"0.":e+t}}]),l}(flatUI.layout.FrameLayout);n.default=l},{"./KeyboardTextInput.js":90,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],93:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),f=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),i=l(e("@babel/runtime/helpers/createClass")),d=l(e("@babel/runtime/helpers/assertThisInitialized")),a=l(e("@babel/runtime/helpers/get")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),p=l(e("./TextInput.js")),y=l(e("./MobileTextInput.js"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(h,e);var c=u(h);function h(e,t,n){function l(e){(0,d.default)(u)&&t(u.tumbler.toggled,e)}var i=n.layoutWidth,a=n.layoutHeight,r=n.toggled,n=n.inputValue,o=((0,f.default)(this,h),new p.default(n,Object.assign({},flatUI.styles.TextField.option_screen_description,{wordWrap:!1}),"number",!0)),s=(o.caretColor=15066597,o.change=function(){return t(u.tumbler.toggled,o.text)},{layoutWidth:"90%",layoutHeight:"60%",text:{style:flatUI.styles.TextField.main_screen_numbers,align:"left"},button:{style:{normal:{alpha:1,color:1579032},hover:{alpha:1,color:1644825},pressed:{alpha:1,color:1052688},disabled:{alpha:1,color:0}}}}),u=c.call(this,{align:"center",layoutWidth:i,layoutHeight:a,style:{alpha:0}},[new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.Panel.primary},[new flatUI.panel.Panel({layoutWidth:"15px",layoutHeight:"100%",style:{alpha:0}}),new flatUI.text.TextField(e,{align:"left",layoutWidth:"49%",layoutHeight:"100%",style:flatUI.styles.TextField.option_screen_description,id:"label"}),new flatUI.layout.Spacer,new flatUI.layout.FrameLayout({align:"center",layoutWidth:"30%",layoutHeight:"100%"},[c2d.env.device.desktop()?new flatUI.panel.Panel({layoutWidth:"90%",layoutHeight:"60%",style:flatUI.styles.Panel.textArea}).setParams({id:"textArea"}):new y.default(n||"",l,s).setParams({id:"mobileInput"})]),new flatUI.buttons.Tumbler(function(e){t(e,o.text),u.findChildById("label").alpha=1},{toggled:r,id:"tumbler",layoutWidth:"native",style:{textures:{on:{back:"TUMBLER_BACK_on",pin:"TUMBLER_on"},off:{back:"TUMBLER_BACK_off",pin:"TUMBLER_off"}}}}),new flatUI.panel.Panel({layoutWidth:"15px",layoutHeight:"100%",style:{alpha:0}})])]);return u.tumbler=u.findChildById("tumbler"),l(n||""),c2d.env.device.desktop()?(u.findChildById("textArea").addChild(o),o.width=190,o.x=10,o.y=u.findChildById("textArea").y+.5*(.6*u.findChildById("textArea").parseParamToPixel(a,"height")-o.height)):o=u.findChildById("mobileInput"),u.findChildById("label").alpha=1,u.textInput=o,u}return(0,i.default)(h,[{key:"destroy",value:function(){(0,a.default)((0,s.default)(h.prototype),"destroy",this).apply(this,arguments),this.textInput.destroy()}}]),h}(flatUI.layout.FrameLayout);n.default=l},{"./MobileTextInput.js":91,"./TextInput.js":97,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],94:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./SettingsTumblerPanel.js")),c=l(e("./SettingsSliderPanel.js")),h=l(e("./SettingsInputPanel.js")),l=l(e("../ScrollableLayout.js"));function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}var d={style:{color:1907997,alpha:1}},e=function(e){(0,r.default)(l,e);var n=f(l);function l(e){var t;return(0,i.default)(this,l),(t=n.call(this,{align:"none",layoutWidth:"100%",layoutHeight:"100%"},null,e)).uimodel=e,t.showHDGraphicsNotificationMessage=c2d.once(function(){return game.api.showToast({message:"reload_page_suggestion".ls(),display:"normal"})}),t.showIntroNotificationMessage=c2d.once(function(){return game.api.showToast({message:"reload_page_suggestion".ls(),display:"normal"})}),t}return(0,a.default)(l,[{key:"inflateMobileLandscapeLayout",value:function(e,t,n){var l=this,i=n.config.autospinsOptions&&n.config.autospinsOptions.freespins,a=n.config.autospinsOptions&&n.config.autospinsOptions.bonus,r=!!game.slots.components.intro&&!n.config.hideIntroTumble,o=!!game.slots.components.preroll&&!n.config.hidePrerollTumble;n.config.disabledLeftHandMode;return[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.Panel.secondary,id:"Scrollable"},[new flatUI.text.TextField("panel_name_settings".ls().toUpperCase(),{layoutWidth:"100%",layoutHeight:"120px",style:flatUI.styles.TextField.option_screen_title,align:"left"}),new flatUI.layout.GridLayout({layoutWidth:"100%",columnCount:2,padding:20},[new flatUI.layout.GridLayout({columnCount:1,padding:0},[new flatUI.text.TextField("title_sound_settings".ls(),{layoutWidth:"100%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"10px",style:{alpha:0}}),new u.default("sound_on".ls(),function(e){return c2d.eventManager.dispatch(game.events.FlatUI.AUDIO_PRESSED,e)},{layoutWidth:"100%",layoutHeight:"100px",toggled:!c2d.AudioManager.mute,style:flatUI.styles.Panel.primary}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"2px",style:d.style}),new c.default("sound_volume".ls(),function(e){return c2d.eventManager.dispatch(game.events.FlatUI.SFX_VOLUME_CHANGED,e)},{layoutWidth:"100%",layoutHeight:"100px",value:n.sfxVolume,maxValue:1,style:flatUI.styles.Panel.primary}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"2px",style:d.style}),new c.default("music_volume".ls(),function(e){return c2d.eventManager.dispatch(game.events.FlatUI.MUSIC_VOLUME_CHANGED,e)},{layoutWidth:"100%",layoutHeight:"100px",value:n.musicVolume,maxValue:1,style:flatUI.styles.Panel.primary})]),c2d.env.hasSwipeControls?new flatUI.layout.GridLayout({columnCount:1,padding:0},[new flatUI.text.TextField("title_swipe_options".ls(),{layoutWidth:"100%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"10px",style:{alpha:0}}),new u.default("enable_swipe_mode".ls(),function(e){return l.toggleSwipeMode(e)},{layoutWidth:"100%",layoutHeight:"100px",toggled:n.useSwipeControls,style:flatUI.styles.Panel.primary}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"2px",style:d.style}),new u.default("hide_spin_button".ls(),function(e){return l.toggleSpinButton(e)},{layoutWidth:"100%",layoutHeight:"100px",toggled:n.hideSpinButton,enabled:n.useSwipeControls,id:"spinButtonToggle",style:flatUI.styles.Panel.primary})]):null,new flatUI.layout.GridLayout({columnCount:1,padding:0},[new flatUI.text.TextField("title_visual_settings".ls(),{layoutWidth:"100%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"10px",style:{alpha:0}}),r?new u.default("show_intro".ls(),function(e){l.showIntroNotificationMessage(),n.skipIntro=!e},{layoutWidth:"100%",layoutHeight:"100px",toggled:!n.skipIntro,style:flatUI.styles.Panel.primary}):null,r?new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"2px",style:d.style}):null,o?new u.default("show_preroll".ls(),function(e){l.showIntroNotificationMessage(),n.skipPreroll=!e},{layoutWidth:"100%",layoutHeight:"100px",toggled:!n.skipPreroll,style:flatUI.styles.Panel.primary}):null,o?new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"2px",style:d.style}):null,c2d.env.showTurboButton&&new u.default("turbo_mode".ls(),function(e){return c2d.eventManager.dispatch(game.events.FlatUI.TURBO_PRESSED,e)},{layoutWidth:"100%",layoutHeight:"100px",toggled:n.turboMode,style:flatUI.styles.Panel.primary}),c2d.env.gameSupportsDesktopGraphics&&new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"2px",style:d.style}),c2d.env.gameSupportsDesktopGraphics&&new u.default("use_hd_graphics".ls(),function(e){l.showHDGraphicsNotificationMessage(),c2d.env.useDesktopGraphics=e},{layoutWidth:"100%",layoutHeight:"100px",toggled:c2d.env.useDesktopGraphics,style:flatUI.styles.Panel.primary})])]),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"20px",style:{alpha:0}}),c2d.env.hasAutospinSettings?new flatUI.layout.GridLayout({layoutWidth:"100%",columnCount:1,padding:20},[new flatUI.layout.GridLayout({columnCount:1,padding:0},[new flatUI.text.TextField("title_stop_autospin_if".ls(),{layoutWidth:"100%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"10px",style:{alpha:0}}),new h.default("single_win_is_at_least".ls(),function(e,t){return n.addAutoplayLimit({name:"win",value:t,toggle:e})},{layoutWidth:"100%",layoutHeight:"100px",toggled:!!n.autospinsData.singleWinExceedEnabled,inputValue:n.autospinsData.singleWinExceed}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"2px",style:d.style}),new h.default("balance_is_increased_by".ls(),function(e,t){return n.addAutoplayLimit({name:"balanceIncrease",value:t,toggle:e})},{layoutWidth:"100%",layoutHeight:"100px",toggled:!!n.autospinsData.balanceIncreaseEnabled,inputValue:n.autospinsData.balanceIncrease}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"2px",style:d.style}),new h.default("balance_is_reduced_to".ls(),function(e,t){return n.addAutoplayLimit({name:"balanceDecrease",value:t,toggle:e})},{layoutWidth:"100%",layoutHeight:"100px",toggled:!!n.autospinsData.balanceDecreaseEnabled,inputValue:n.autospinsData.balanceDecrease}),i?new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"2px",style:d.style}):null,i?new u.default("freespins_won".ls(),function(e){return n.addAutoplayLimit({name:"freespinsWon",value:null,toggle:e})},{layoutWidth:"100%",layoutHeight:"100px",toggled:!!n.autospinsData.freespinsWon,style:flatUI.styles.Panel.primary}):null,a?new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"2px",style:d.style}):null,a?new u.default("bonus_won".ls(),function(e){return n.addAutoplayLimit({name:"bonusWon",value:null,toggle:e})},{layoutWidth:"100%",layoutHeight:"100px",toggled:!!n.autospinsData.bonusWon,style:flatUI.styles.Panel.primary}):null,new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"10px",style:{alpha:0}})])]):null,new flatUI.layout.Spacer])]}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){var l=this,i=n.config.autospinsOptions&&n.config.autospinsOptions.freespins,a=n.config.autospinsOptions&&n.config.autospinsOptions.bonus,r=!!game.slots.components.intro&&!n.config.hideIntroTumbler,o=!!game.slots.components.preroll&&!n.config.hidePrerollTumble;n.config.disabledLeftHandMode;return[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.Panel.secondary,id:"Scrollable"},[new flatUI.layout.GridLayout({layoutWidth:"100%",columnCount:1,padding:20},[new flatUI.layout.GridLayout({columnCount:1,padding:0},[new flatUI.text.TextField("title_sound_settings".ls(),{align:"left",layoutWidth:"100%",style:flatUI.styles.TextField.option_screen_subtitle}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"10px",style:{alpha:0}}),new u.default("sound_on".ls(),function(e){return c2d.eventManager.dispatch(game.events.FlatUI.AUDIO_PRESSED,e)},{layoutWidth:"100%",layoutHeight:"70px",toggled:!c2d.AudioManager.mute,style:flatUI.styles.Panel.primary}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"3px",style:d.style}),new c.default("sound_volume".ls(),function(e){return c2d.eventManager.dispatch(game.events.FlatUI.SFX_VOLUME_CHANGED,e)},{layoutWidth:"100%",layoutHeight:"70px",value:n.sfxVolume,maxValue:1,style:flatUI.styles.Panel.primary}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"3px",style:d.style}),new c.default("music_volume".ls(),function(e){return c2d.eventManager.dispatch(game.events.FlatUI.MUSIC_VOLUME_CHANGED,e)},{layoutWidth:"100%",layoutHeight:"70px",value:n.musicVolume,maxValue:1,style:flatUI.styles.Panel.primary})]),new flatUI.layout.GridLayout({columnCount:1,padding:0},[new flatUI.text.TextField("title_visual_settings".ls(),{align:"left",layoutWidth:"100%",style:flatUI.styles.TextField.option_screen_subtitle}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"10px",style:{alpha:0}}),r?new u.default("show_intro".ls(),function(e){l.showIntroNotificationMessage(),n.skipIntro=!e},{layoutWidth:"100%",layoutHeight:"70px",toggled:!n.skipIntro,style:flatUI.styles.Panel.primary}):null,r?new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"3px",style:d.style}):null,o?new u.default("show_preroll".ls(),function(e){l.showIntroNotificationMessage(),n.skipPreroll=!e},{layoutWidth:"100%",layoutHeight:"100px",toggled:!n.skipPreroll,style:flatUI.styles.Panel.primary}):null,o?new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"2px",style:d.style}):null,c2d.env.showTurboButton&&new u.default("turbo_mode".ls(),function(e){return c2d.eventManager.dispatch(game.events.FlatUI.TURBO_PRESSED,e)},{layoutWidth:"100%",layoutHeight:"70px",toggled:n.turboMode,style:flatUI.styles.Panel.primary}),c2d.env.gameSupportsDesktopGraphics&&new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"3px",style:d.style}),c2d.env.gameSupportsDesktopGraphics&&new u.default("use_hd_graphics".ls(),function(e){l.showHDGraphicsNotificationMessage(),c2d.env.useDesktopGraphics=e},{layoutWidth:"100%",layoutHeight:"70px",toggled:c2d.env.useDesktopGraphics,style:flatUI.styles.Panel.primary})]),c2d.env.hasSwipeControls?new flatUI.layout.GridLayout({columnCount:1,padding:0},[new flatUI.text.TextField("title_swipe_options".ls(),{align:"left",layoutWidth:"100%",style:flatUI.styles.TextField.option_screen_subtitle}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"10px",style:{alpha:0}}),new u.default("enable_swipe_mode".ls(),function(e){return l.toggleSwipeMode(e)},{layoutWidth:"100%",layoutHeight:"70px",toggled:n.useSwipeControls,style:flatUI.styles.Panel.primary}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"3px",style:d.style}),new u.default("hide_spin_button".ls(),function(e){return l.toggleSpinButton(e)},{layoutWidth:"100%",layoutHeight:"70px",toggled:n.hideSpinButton,enabled:n.useSwipeControls,id:"spinButtonToggle",style:flatUI.styles.Panel.primary})]):null,c2d.env.hasAutospinSettings?new flatUI.layout.GridLayout({columnCount:1,padding:0},[new flatUI.text.TextField("title_stop_autospin_if".ls(),{align:"left",layoutWidth:"100%",style:flatUI.styles.TextField.option_screen_subtitle}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"10px",style:{alpha:0}}),new h.default("single_win_is_at_least".ls(),function(e,t){return n.addAutoplayLimit({name:"win",value:t,toggle:e})},{layoutWidth:"100%",layoutHeight:"70px",toggled:!!n.autospinsData.singleWinExceedEnabled,inputValue:n.autospinsData.singleWinExceed}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"3px",style:d.style}),new h.default("balance_is_increased_by".ls(),function(e,t){return n.addAutoplayLimit({name:"balanceIncrease",value:t,toggle:e})},{layoutWidth:"100%",layoutHeight:"70px",toggled:!!n.autospinsData.balanceIncreaseEnabled,inputValue:n.autospinsData.balanceIncrease}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"3px",style:d.style}),new h.default("balance_is_reduced_to".ls(),function(e,t){return n.addAutoplayLimit({name:"balanceDecrease",value:t,toggle:e})},{layoutWidth:"100%",layoutHeight:"70px",toggled:!!n.autospinsData.balanceDecreaseEnabled,inputValue:n.autospinsData.balanceDecrease}),i?new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"3px",style:d.style}):null,i?new u.default("freespins_won".ls(),function(e){return n.addAutoplayLimit({name:"freespinsWon",value:null,toggle:e})},{layoutWidth:"100%",layoutHeight:"70px",toggled:!!n.autospinsData.freespinsWon,style:flatUI.styles.Panel.primary}):null,a?new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"3px",style:d.style}):null,a?new u.default("bonus_won".ls(),function(e){return n.addAutoplayLimit({name:"bonusWon",value:null,toggle:e})},{layoutWidth:"100%",layoutHeight:"70px",toggled:!!n.autospinsData.bonusWon,style:flatUI.styles.Panel.primary}):null,new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"10px",style:{alpha:0}})]):null]),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"4px",style:{alpha:0}}),new flatUI.layout.Spacer])]}},{key:"inflateDesktopLayout",value:function(e,t,n){var l=this,i=n.config.autospinsOptions&&n.config.autospinsOptions.freespins,a=n.config.autospinsOptions&&n.config.autospinsOptions.bonus,r=!!game.slots.components.intro&&!n.config.hideIntroTumbler,o=!!game.slots.components.preroll&&!n.config.hidePrerollTumble;return[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.Panel.secondary,id:"Scrollable"},[new flatUI.text.TextField("panel_name_settings".ls(),{layoutWidth:"100%",layoutHeight:"120px",style:flatUI.styles.TextField.option_screen_title,align:"left"}),new flatUI.layout.GridLayout({layoutWidth:"100%",columnCount:2,padding:20},[new flatUI.layout.GridLayout({columnCount:1,padding:0},[new flatUI.text.TextField("title_sound_settings".ls(),{layoutWidth:"100%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"15px",style:{alpha:0}}),new u.default("sound_on".ls(),function(e){return c2d.eventManager.dispatch(game.events.FlatUI.AUDIO_PRESSED,e)},{layoutWidth:"100%",layoutHeight:"100px",toggled:c2d.env.storage.getItem("audioEnabled",!0),style:flatUI.styles.Panel.primary}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"2px",style:d.style}),new c.default("master_volume".ls(),function(e){return c2d.eventManager.dispatch(game.events.FlatUI.MASTER_VOLUME_CHANGED,e)},{layoutWidth:"100%",layoutHeight:"100px",value:n.masterVolume,maxValue:1,style:flatUI.styles.Panel.primary}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"2px",style:d.style}),new c.default("sound_volume".ls(),function(e){return c2d.eventManager.dispatch(game.events.FlatUI.SFX_VOLUME_CHANGED,e)},{layoutWidth:"100%",layoutHeight:"100px",value:n.sfxVolume,maxValue:1,style:flatUI.styles.Panel.primary}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"2px",style:d.style}),new c.default("music_volume".ls(),function(e){return c2d.eventManager.dispatch(game.events.FlatUI.MUSIC_VOLUME_CHANGED,e)},{layoutWidth:"100%",layoutHeight:"100px",value:n.musicVolume,maxValue:1,style:flatUI.styles.Panel.primary})]),new flatUI.layout.GridLayout({columnCount:1,padding:0},[new flatUI.text.TextField("title_input_options".ls(),{layoutWidth:"100%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"15px",style:{alpha:0}}),new u.default("space_bar_to_spin".ls(),function(e){return n.spinBySpace=e},{layoutWidth:"100%",layoutHeight:"100px",toggled:n.spinBySpace,style:flatUI.styles.Panel.primary}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"2px",style:d.style}),!c2d.env.hideBetChangeButtons&&new u.default("use_cursor_buttons_to_change_bet".ls(),function(e){return n.cursorButtonsToChangeBet=e},{layoutWidth:"100%",layoutHeight:"100px",toggled:n.cursorButtonsToChangeBet,style:flatUI.styles.Panel.primary})]),new flatUI.layout.GridLayout({columnCount:1,padding:0},[new flatUI.text.TextField("title_visual_settings".ls(),{layoutWidth:"100%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"15px",style:{alpha:0}}),r?new u.default("show_intro".ls(),function(e){l.showIntroNotificationMessage(),n.skipIntro=!e},{layoutWidth:"100%",layoutHeight:"100px",toggled:!n.skipIntro,style:flatUI.styles.Panel.primary}):null,r?new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"2px",style:d.style}):null,o?new u.default("show_preroll".ls(),function(e){l.showIntroNotificationMessage(),n.skipPreroll=!e},{layoutWidth:"100%",layoutHeight:"100px",toggled:!n.skipPreroll,style:flatUI.styles.Panel.primary}):null,o?new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"2px",style:d.style}):null,c2d.env.showTurboButton&&new u.default("turbo_mode".ls(),function(e){return c2d.eventManager.dispatch(game.events.FlatUI.TURBO_PRESSED,e)},{layoutWidth:"100%",layoutHeight:"100px",toggled:n.turboMode,style:flatUI.styles.Panel.primary})]),c2d.env.hasAutospinSettings?new flatUI.layout.GridLayout({columnCount:1,padding:0},[new flatUI.text.TextField("title_stop_autospin_if".ls(),{layoutWidth:"100%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left"}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"15px",style:{alpha:0}}),new h.default("single_win_is_at_least".ls(),function(e,t){return n.addAutoplayLimit({name:"win",value:t,toggle:e})},{layoutWidth:"100%",layoutHeight:"100px",toggled:!!n.autospinsData.singleWinExceedEnabled,inputValue:n.autospinsData.singleWinExceed}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"2px",style:d.style}),new h.default("balance_is_increased_by".ls(),function(e,t){return n.addAutoplayLimit({name:"balanceIncrease",value:t,toggle:e})},{layoutWidth:"100%",layoutHeight:"100px",toggled:!!n.autospinsData.balanceIncreaseEnabled,inputValue:n.autospinsData.balanceIncrease}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"2px",style:d.style}),new h.default("balance_is_reduced_to".ls(),function(e,t){return n.addAutoplayLimit({name:"balanceDecrease",value:t,toggle:e})},{layoutWidth:"100%",layoutHeight:"100px",toggled:!!n.autospinsData.balanceDecreaseEnabled,inputValue:n.autospinsData.balanceDecrease}),i?new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"2px",style:d.style}):null,i?new u.default("freespins_won".ls(),function(e){return n.addAutoplayLimit({name:"freespinsWon",value:null,toggle:e})},{layoutWidth:"100%",layoutHeight:"100px",toggled:!!n.autospinsData.freespinsWon,style:flatUI.styles.Panel.primary}):null,a?new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"2px",style:d.style}):null,a?new u.default("bonus_won".ls(),function(e){return n.addAutoplayLimit({name:"bonusWon",value:null,toggle:e})},{layoutWidth:"100%",layoutHeight:"100px",toggled:!!n.autospinsData.bonusWon,style:flatUI.styles.Panel.primary}):null,new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"15px",style:{alpha:0}})]):null]),new flatUI.layout.Spacer])]}},{key:"toggleSwipeMode",value:function(e){c2d.eventManager.dispatch(game.events.FlatUI.ON_SWIPE_MODE_CHANGED,e),e?this.enableSpinButton():this.disableSpinButton()}},{key:"toggleSpinButton",value:function(e){c2d.eventManager.dispatch(game.events.FlatUI.ON_SPIN_BUTTON_CHANGED,e)}},{key:"disableSpinButton",value:function(){this.findChildById("spinButtonToggle").enabled=!1}},{key:"enableSpinButton",value:function(){this.findChildById("spinButtonToggle").enabled=!0}}]),l}(l.default);n.default=e},{"../ScrollableLayout.js":64,"./SettingsInputPanel.js":93,"./SettingsSliderPanel.js":95,"./SettingsTumblerPanel.js":96,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],95:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),u=l(e("@babel/runtime/helpers/classCallCheck")),a=l(e("@babel/runtime/helpers/inherits")),r=l(e("@babel/runtime/helpers/possibleConstructorReturn")),o=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,o.default)(n);return e=l?(e=(0,o.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,e)}}l=function(e){(0,a.default)(s,e);var o=c(s);function s(e,t,n){var l=n.layoutWidth,i=n.layoutHeight,a=n.value,r=n.maxValue,n=n.style;return(0,u.default)(this,s),o.call(this,{align:"center",layoutWidth:l,layoutHeight:i},[new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",style:n},[new flatUI.layout.Spacer({layoutWidth:"15px"}),new flatUI.text.TextField(e,{layoutWidth:"40%",layoutHeight:"100%",style:flatUI.styles.TextField.option_screen_description,align:"left"}),new flatUI.layout.Spacer({layoutWidth:"15px"}),new flatUI.slider.Slider(t,{value:a,maxValue:r,style:{textures:{back:"PROGRESS_BAR_empty",fore:"PROGRESS_BAR_full",pin:"TUMBLER"}}}),new flatUI.layout.Spacer({layoutWidth:"35px"})])])}return(0,i.default)(s)}(flatUI.layout.FrameLayout);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],96:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),h=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),i=l(e("@babel/runtime/helpers/createClass")),a=l(e("@babel/runtime/helpers/inherits")),r=l(e("@babel/runtime/helpers/possibleConstructorReturn")),o=l(e("@babel/runtime/helpers/getPrototypeOf"));function s(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,o.default)(n);return e=l?(e=(0,o.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,e)}}l=function(e){(0,a.default)(c,e);var u=s(c);function c(e,t,n){var l,i=n.layoutWidth,a=n.layoutHeight,r=n.toggled,o=n.id,s=n.enabled,s=void 0===s||s,n=n.style;return(0,h.default)(this,c),(l=u.call(this,{align:"center",layoutWidth:i,layoutHeight:a,id:o},[new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",style:n},[new flatUI.layout.Spacer({layoutWidth:"15px"}),new flatUI.text.TextField(e,{layoutHeight:"100%",style:flatUI.styles.TextField.option_screen_description,align:"left",id:"label"}),new flatUI.buttons.Tumbler(function(e){t(e),l.findChildById("label").alpha=1},{id:"tumbler",layoutWidth:"native",toggled:r,style:{textures:{on:{back:"TUMBLER_BACK_on",pin:"TUMBLER_on"},off:{back:"TUMBLER_BACK_off",pin:"TUMBLER_off"}}}}),new flatUI.layout.Spacer({layoutWidth:"15px"})]),new flatUI.panel.Panel({align:"center",layoutWidth:"100%",layoutHeight:"100%",style:{alpha:0},id:"cover"})])).findChildById("label").alpha=1,l.enabled=s,l}return(0,i.default)(c,[{key:"forceToggle",value:function(e,t){var n=this.findChildById("tumbler");t?n.toggled=e:n.toggled!==e&&n.onClick()}},{key:"enabled",set:function(e){this.interactiveChildren=e,this.findChildById("tumbler").interactive=e,this.findChildById("cover").visible=!e}}]),c}(flatUI.layout.FrameLayout);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],97:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),o=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),i=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/assertThisInitialized")),u=l(e("@babel/runtime/helpers/inherits")),a=l(e("@babel/runtime/helpers/possibleConstructorReturn")),r=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,r.default)(n);return e=l?(e=(0,r.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}l=function(e){(0,u.default)(r,e);var a=c(r);function r(e,t,n,l){var i;if((0,o.default)(this,r),i=a.call(this),window.pixiTextInputTarget=(0,s.default)(i),e=(e=e||"").toString(),t&&t.wordWrap)throw"wordWrap is not supported for input fields";return i._text=e,i._placeholder="0",l&&(i._nativeTextInput=i.getNativeTextInput(n),i.bindNativeTextInput()),i.localWidth=100,i._backgroundColor=16777215,i._caretColor=0,i._borderColor=0,i._borderWidth=0,i._background=!0,i._value=e,i.style=t,i.textField=new PIXI.Text(i._value,t),i.localHeight=parseFloat(i.textField.style.fontSize)+i.textField.style.strokeThickness+4,i.textColor=i.textField.style.fill,i.backgroundGraphics=new PIXI.Graphics,i.textFieldMask=new PIXI.Graphics,i.selectionGraphics=new PIXI.Graphics,i.caret=new PIXI.Graphics,i.drawElements(),i.addChild(i.backgroundGraphics),i.addChild(i.selectionGraphics),i.addChild(i.textField),i.addChild(i.caret),i.addChild(i.textFieldMask),i.scrollIndex=0,i._caretIndex=0,i.caretFlashInterval=null,i.blur(),i.updateCaretPosition(),i.buttonMode=!0,i.defaultCursor="text",i.mousedown=function(e){return i.onBackgroundMouseDown(e)},i.interactive=!0,i.keyEventClosure=function(e){return i.onKeyEvent(e)},i.windowBlurClosure=function(e){return i.onWindowBlur(e)},i.documentMouseDownClosure=function(e){return i.onDocumentMouseDown(e)},i.isFocusClick=!1,i.updateText(),i.textField.mask=i.textFieldMask,i.keypress=null,i.keydown=null,i.change=null,i.syncValue(),i}return(0,i.default)(r,[{key:"onBackgroundMouseDown",value:function(e){this._nativeTextInput&&this._nativeTextInput.focus();var e=this.toLocal(e.data.global).x,t=(this._caretIndex=this.getCaretIndexByCoord(e),this.updateCaretPosition(),this.focus(),this.isFocusClick=!0,this);setTimeout(function(){t.isFocusClick=!1},0)}},{key:"focus",value:function(){(window.pixiTextInputTarget=this).blur(),document.addEventListener("keydown",this.keyEventClosure),document.addEventListener("keypress",this.keyEventClosure),document.addEventListener("keyup",this.keyEventClosure),document.addEventListener("mousedown",this.documentMouseDownClosure),window.addEventListener("blur",this.windowBlurClosure),this._nativeTextInput&&this._nativeTextInput.focus(),this.showCaret()}},{key:"onKeyEvent",value:function(e){if("keypress"===e.type){if(e.charCode<32)return;if(32===e.charCode)return void e.preventDefault();this._text=this._text.substring(0,this._caretIndex)+String.fromCharCode(e.charCode)+this._text.substring(this._caretIndex),this.syncValue(),this._caretIndex++,this.ensureCaretInView(),this.showCaret(),this.updateText(),this.drawElements(),this.trigger(this.keypress,e),this.trigger(this.change)}if("keydown"==e.type){switch(e.keyCode){case 8:0<this._caretIndex&&(this._text=this._text.substring(0,this._caretIndex-1)+this._text.substring(this._caretIndex),this.syncValue(),this._caretIndex--,this.ensureCaretInView(),this.showCaret(),this.updateText()),e.preventDefault(),this.trigger(this.change);break;case 35:this._caretIndex=this._text.length,e.preventDefault(),this.ensureCaretInView(),this.updateCaretPosition(),this.showCaret(),this.updateText();break;case 36:this._caretIndex=0,e.preventDefault(),this.ensureCaretInView(),this.updateCaretPosition(),this.showCaret(),this.updateText();break;case 46:this._text=this._text.substring(0,this._caretIndex)+this._text.substring(this._caretIndex+1),this.syncValue(),this.ensureCaretInView(),this.updateCaretPosition(),this.showCaret(),this.updateText(),e.preventDefault(),this.trigger(this.change);break;case 39:var t;this._caretIndex+1<this._text.length&&(t=this._text.indexOf(" ",this._caretIndex))!=this._caretIndex?this._caretIndex=-1!=t?t:this._text.length:this.moveCarretRight(),this.ensureCaretInView(),this.updateCaretPosition(),this.showCaret(),this.updateText(),this.drawElements();break;case 37:this.moveCarretLeft(),this.ensureCaretInView(),this.updateCaretPosition(),this.showCaret(),this.updateText(),this.drawElements()}this.trigger(this.keydown,e)}}},{key:"moveCarretRight",value:function(){this._caretIndex++,this._caretIndex>this._text.length&&(this._caretIndex=this._text.length)}},{key:"moveCarretLeft",value:function(){this._caretIndex--,this._caretIndex<0&&(this._caretIndex=0)}},{key:"ensureCaretInView",value:function(){for(this.updateCaretPosition();this.caret.position.x>=this.localWidth-1;)this.scrollIndex++,this.updateCaretPosition();for(;this.caret.position.x<0;)this.scrollIndex-=2,this.scrollIndex<0&&(this.scrollIndex=0),this.updateCaretPosition()}},{key:"blur",value:function(){document.removeEventListener("keydown",this.keyEventClosure),document.removeEventListener("keypress",this.keyEventClosure),document.removeEventListener("keyup",this.keyEventClosure),document.removeEventListener("mousedown",this.documentMouseDownClosure),window.removeEventListener("blur",this.windowBlurClosure),this.hideCaret()}},{key:"onDocumentMouseDown",value:function(){this._nativeTextInput&&this._nativeTextInput.blur(),this.isFocusClick||this.blur()}},{key:"onWindowBlur",value:function(){this._nativeTextInput&&this._nativeTextInput.blur(),this.blur()}},{key:"updateCaretPosition",value:function(){var e;this._caretIndex<this.scrollIndex?this.caret.position.x=-1:(e=this._value.substring(0,this._caretIndex).substring(this.scrollIndex),this.caret.position.x=this.textField.context.measureText(e).width)}},{key:"updateText",value:function(){this.textField.text=this._value.substring(this.scrollIndex)}},{key:"syncValue",value:function(){this.textField&&this.textField.style.fill!=this.textColor&&(this.textField.style.fill=this.textColor,this.textField.alpha=1),0==this._text.length&&this._placeholder?(this._value=this._placeholder,this.textField&&(this.textField.style.fill=13421772,this.textField.alpha=.5)):(this._text=this.text.substr(0,10).replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1"),this._value=this._text)}},{key:"drawElements",value:function(){this.backgroundGraphics.clear(),this.backgroundGraphics.beginFill(this._backgroundColor,0),0<this._borderWidth&&this.backgroundGraphics.lineStyle(this._borderWidth,this._borderColor),this._background&&this.backgroundGraphics.drawRect(0,0,this.localWidth,this.localHeight),this.selectionGraphics.clear(),this.backgroundGraphics.endFill(),this.backgroundGraphics.hitArea=new PIXI.Rectangle(0,0,this.localWidth,this.localHeight),this.textFieldMask.clear(),this.textFieldMask.beginFill(this._backgroundColor),this.textFieldMask.drawRect(0,0,this.localWidth,this.localHeight),this.textFieldMask.endFill(),this.caret.clear(),this.caret.beginFill(this._caretColor),this.caret.drawRect(1,1,2,this.localHeight-2),this.caret.endFill()}},{key:"showCaret",value:function(){var e=this;this.caretFlashInterval&&(clearInterval(this.caretFlashInterval),this.caretFlashInterval=null),this.caret.visible=!0,this.caretFlashInterval=setInterval(function(){return e.onCaretFlashInterval()},500)}},{key:"hideCaret",value:function(){this.caretFlashInterval&&(clearInterval(this.caretFlashInterval),this.caretFlashInterval=null),this.caret.visible=!1}},{key:"onCaretFlashInterval",value:function(){this.caret.visible=!this.caret.visible}},{key:"getCaretIndexByCoord",value:function(e){for(var t=1e4,n=0,l=this._text.substring(this.scrollIndex),i=0;i<l.length+1;i++){var a=l.substring(0,i),a=this.textField.context.measureText(a).width;Math.abs(a-e)<t&&(t=Math.abs(a-e),n=i)}return this.scrollIndex+n}},{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){this.localWidth=e,this.drawElements(),this.ensureCaretInView(),this.updateText()}},{key:"text",get:function(){return this._text},set:function(e){this._text=e.toString(),this.syncValue(),this.scrollIndex=0,this.caretIndex=0,this.blur(),this.updateText()}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this.drawElements()}},{key:"borderColor",get:function(){return this._borderColor},set:function(e){this._borderColor=e,this.drawElements()}},{key:"borderWidth",get:function(){return this._borderWidth},set:function(e){this._borderWidth=e,this.drawElements()}},{key:"caretColor",get:function(){return this._caretColor},set:function(e){this._caretColor=e,this.drawElements()}},{key:"background",get:function(){return this._background},set:function(e){this._background=e,this.drawElements()}},{key:"placeholder",get:function(){return this._placeholder},set:function(e){this._placeholder=e,this.syncValue()}},{key:"setText",value:function(e){this._nativeTextInput&&(this._nativeTextInput.value=e),this.text=e}},{key:"trigger",value:function(e,t){e&&e(t)}},{key:"getNativeTextInput",value:function(e){var t,n=document.getElementById("PixiTextInput");return n||(t=document.createElement("input"),document.body.appendChild(t),t.style.position="fixed",t.style.top="-100px",t.style.left="-100px",e&&(t.type=e)),n}},{key:"bindNativeTextInput",value:function(){this._nativeTextInput&&this._nativeTextInput.addEventListener("keyup",function(e){window.pixiTextInputTarget.text=this.value})}}]),r}(PIXI.Container);n.default=l},{"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],98:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/toConsumableArray"))),a=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("@babel/runtime/helpers/slicedToArray")),h=l(e("./Timer.js"));function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}function d(e,t){var l=1<arguments.length&&void 0!==t?t:80;return[["rounds","statistics_rounds".ls(),e.rounds],["net_win","statistics_net_win".ls(),e.netWin],["total_stake","statistics_total_stake".ls(),e.totalStake],["total_win","statistics_total_win".ls(),e.totalWin]].map(function(e){var e=(0,c.default)(e,3),t=e[0],n=e[1],e=e[2];return new flatUI.layout.HorizontalLayout({align:"top",layoutWidth:"100%",layoutHeight:l,style:flatUI.styles.Panel.secondary},[new flatUI.text.TextField(n.toUpperCase(),{layoutWidth:"43%",layoutHeight:"100%",style:flatUI.styles.TextField.statistic_key,align:"right"}),new flatUI.layout.Spacer({layoutWidth:"14%"}),new flatUI.text.TextField(e,{id:t,layoutWidth:"43%",layoutHeight:"100%",style:flatUI.styles.TextField.statistic_value,align:"left"})])})}l=function(e){(0,o.default)(n,e);var t=f(n);function n(e){return(0,a.default)(this,n),t.call(this,{align:"center",layoutWidth:"100%",layoutHeight:"100%"},null,e)}return(0,r.default)(n,[{key:"inflateMobileLandscapeLayout",value:function(e,t,n){return[new flatUI.layout.VerticalLayout({align:"middle",id:"Scrollable",layoutWidth:"100%",layoutHeight:"99%",style:flatUI.styles.Panel.secondary},[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"130px",style:flatUI.styles.Panel.secondary},[new flatUI.text.TextField("statistics_title".ls(),{layoutWidth:"100%",layoutHeight:"60px",style:flatUI.styles.TextField.option_screen_title,align:"left"}),new flatUI.layout.Spacer])].concat((0,i.default)(d(n.slotsModel.statistic,60)),[new flatUI.layout.HorizontalLayout({align:"top",layoutWidth:"100%",layoutHeight:80,style:flatUI.styles.Panel.secondary},[new flatUI.text.TextField("statistics_time_in_game".ls().toUpperCase(),{layoutWidth:"43%",layoutHeight:"100%",style:flatUI.styles.TextField.statistic_key,align:"right"}),new flatUI.layout.Spacer({layoutWidth:"14%"}),new h.default("",{layoutWidth:"43%",layoutHeight:"100%",style:flatUI.styles.TextField.statistic_value,align:"left"},n.slotsModel.statistic,{})]),new flatUI.layout.Spacer]))]}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){return[new flatUI.layout.VerticalLayout({align:"middle",id:"Scrollable",layoutWidth:"100%",layoutHeight:"99%",style:flatUI.styles.Panel.secondary},[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:60,style:flatUI.styles.Panel.secondary},[new flatUI.layout.Spacer])].concat((0,i.default)(d(n.slotsModel.statistic,60)),[new flatUI.layout.HorizontalLayout({align:"top",layoutWidth:"100%",layoutHeight:80,style:flatUI.styles.Panel.secondary},[new flatUI.text.TextField("statistics_time_in_game".ls().toUpperCase(),{layoutWidth:"43%",layoutHeight:"100%",style:flatUI.styles.TextField.statistic_key,align:"right"}),new flatUI.layout.Spacer({layoutWidth:"14%"}),new h.default("",{layoutWidth:"43%",layoutHeight:"100%",style:flatUI.styles.TextField.statistic_value,align:"left"},n.slotsModel.statistic,{})]),new flatUI.layout.Spacer]))]}},{key:"inflateDesktopLayout",value:function(e,t,n){return[new flatUI.layout.VerticalLayout({align:"middle",id:"Scrollable",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.Panel.secondary},[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"265px",style:flatUI.styles.Panel.secondary},[new flatUI.text.TextField("statistics_title".ls(),{layoutWidth:"100%",layoutHeight:"120px",style:flatUI.styles.TextField.option_screen_title,align:"left"}),new flatUI.layout.Spacer])].concat((0,i.default)(d(n.slotsModel.statistic)),[new flatUI.layout.HorizontalLayout({align:"top",layoutWidth:"100%",layoutHeight:"80",style:flatUI.styles.Panel.secondary},[new flatUI.text.TextField("statistics_time_in_game".ls().toUpperCase(),{layoutWidth:"43%",layoutHeight:"100%",style:flatUI.styles.TextField.statistic_key,align:"right"}),new flatUI.layout.Spacer({layoutWidth:"14%"}),new h.default("",{layoutWidth:"43%",layoutHeight:"100%",style:flatUI.styles.TextField.statistic_value,align:"left"},n.slotsModel.statistic,{})]),new flatUI.layout.Spacer]))]}}]),n}(l(e("../ScrollableLayout.js")).default);n.default=l},{"../ScrollableLayout.js":64,"./Timer.js":99,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/slicedToArray":23,"@babel/runtime/helpers/toConsumableArray":25}],99:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/get")),s=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}function h(e){return 9<e?e:"0".concat(e)}l=function(e){(0,s.default)(i,e);var l=c(i);function i(e,t,n){return(0,a.default)(this,i),(e=l.call(this,e,t)).startTime=n.timeEnter,e.tickInterval=null,e.labels={hours:"statistics_h".ls(),minutes:"statistics_m".ls(),seconds:"statistics_s".ls()},e.getElapsedTime(e.startTime),e}return(0,r.default)(i,[{key:"getElapsedTime",value:function(){var e=this,t=new Date-this.startTime,t=this.getDateObject(t),n=t.hours,l=t.minutes,t=t.seconds;this.text="".concat(n).concat(this.labels.hours,":").concat(l).concat(this.labels.minutes,":").concat(t).concat(this.labels.seconds),this.tickInterval=c2d.call(function(){return e.getElapsedTime()},1e3)}},{key:"getDateObject",value:function(e){return{hours:h(Math.floor(e/36e5%24)),minutes:h(Math.floor(e/6e4%60)),seconds:h(Math.floor(e/1e3%60))}}},{key:"destroy",value:function(){return c2d.Timeout.clear(this.tickInterval),(0,o.default)((0,u.default)(i.prototype),"destroy",this).apply(this,arguments)}}]),i}(flatUI.text.TextField);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],100:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/defineProperty"))),a=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(t,e){var n,l=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,n)),l}function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(l,e);var n=h(l);function l(e){var t;return(0,a.default)(this,l),(t=n.call(this,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach(function(e){(0,i.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({align:"none",layoutWidth:"100vw",layoutHeight:"100vh",style:flatUI.styles.Panel.shadow,id:"popup#shadow"},e),null)).setParams({interactive:!0}),t.layout(),t.displayGroup=game.displayGroups.UI,t.zOrder=50,c2d.eventManager.subscribe(c2d.documentEvents.SCREEN_WAS_RESIZED,function(e){t.reInflateLayout(),t.layout()}),c2d.eventManager.dispatch(game.events.FlatUI.SHOW_POPUP),t}return(0,r.default)(l,[{key:"inflateDesktopLayout",value:function(e){var t=this,n=e.message,l=e.image,i=e.animation,a=e.confirm,e=e.dismiss;return[new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"popup#frame"},[new flatUI.layout.GridLayout({columnCount:1,padding:0,align:"middle",layoutWidth:"800px",style:flatUI.styles.Panel.primary,id:"popup#contentLayout"},[new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"10%",style:{alpha:0}}),i&&new flatUI.graphics.Animation(i,{align:"center",layoutWidth:"100%",layoutHeight:"native",fitInLayout:!0}),i&&new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"10%",style:{alpha:0}}),l&&new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%"},[new flatUI.graphics.Icon(l,{layoutWidth:"native",layoutHeight:"native",align:"center"})]),l&&new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"10%",style:{alpha:0}}),n&&new flatUI.layout.GridLayout({layoutWidth:"100%",columnCount:1,padding:0},[new flatUI.text.TextField(n.ls(),{align:"center",style:flatUI.styles.TextField.option_screen_subtitle,id:"popup#message",fitInLayout:!0}).setParams({textAlign:"center"})]),n&&new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"10%",style:{alpha:0}}),(a||e)&&new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"100px",id:"popup#buttons",style:flatUI.styles.Panel.primary},[e?new flatUI.buttons.TextButton(e.label.ls(),function(){return t.dismiss()},{layoutHeight:"100%",text:{style:flatUI.styles.TextField.option_screen_tab_normal,align:"center",fitInLayout:!0},button:{style:flatUI.styles.FlatButton.primary}}):null,a?new flatUI.buttons.TextButton(a.label.ls(),function(){return t.confirm()},{layoutHeight:"100%",text:{style:flatUI.styles.TextField.option_screen_tab_normal,align:"center",fitInLayout:!0},button:{style:flatUI.styles.FlatButton.accent}}):null])])])]}},{key:"inflateMobileLandscapeLayout",value:function(e){var t=this,n=e.message,l=e.image,i=e.animation,a=e.confirm,e=e.dismiss;return[new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"popup#frame"},[new flatUI.layout.GridLayout({columnCount:1,padding:0,layoutWidth:"775px",style:flatUI.styles.Panel.primary,id:"popup#contentLayout"},[new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%"},[new flatUI.panel.Panel({layoutWidth:"5%",style:{alpha:0}}),i&&new flatUI.graphics.Animation(i,{align:"center",fitInLayout:!0}),i&&new flatUI.panel.Panel({layoutWidth:"5%",style:{alpha:0}}),l&&new flatUI.graphics.Icon(l,{layoutWidth:"native",layoutHeight:"native",align:"center"}),l&&new flatUI.panel.Panel({layoutWidth:"5%",style:{alpha:0}}),n&&new flatUI.layout.GridLayout({columnCount:1,padding:0},[new flatUI.text.TextField(n.ls(),{align:"center",layoutHeight:"95%",layoutWidth:"95%",style:flatUI.styles.TextField.option_screen_subtitle,id:"popup#message",fitInLayout:!0})]),n&&new flatUI.panel.Panel({layoutWidth:"5%",style:{alpha:0}})]),(a||e)&&new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"80px",id:"popup#buttons",style:flatUI.styles.Panel.primary},[e?new flatUI.buttons.TextButton(e.label.ls(),function(){return t.dismiss()},{layoutHeight:"100%",text:{style:flatUI.styles.TextField.option_screen_tab_normal,align:"center",fitInLayout:!0},button:{style:flatUI.styles.FlatButton.primary}}):null,a?new flatUI.buttons.TextButton(a.label.ls(),function(){return t.confirm()},{layoutHeight:"100%",text:{style:flatUI.styles.TextField.option_screen_tab_normal,align:"center",fitInLayout:!0},button:{style:flatUI.styles.FlatButton.accent}}):null])])])]}},{key:"inflateMobilePortraitLayout",value:function(e){var t=this,n=e.message,l=e.image,i=e.animation,a=e.confirm,e=e.dismiss;return[new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"popup#frame"},[new flatUI.layout.GridLayout({columnCount:1,padding:0,layoutWidth:"450px",style:flatUI.styles.Panel.primary,id:"popup#contentLayout"},[new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"20px",style:{alpha:0}}),i&&new flatUI.graphics.Animation(i,{zoom:.8,align:"center",fitInLayout:!0}),i&&new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"20px",style:{alpha:0}}),l&&new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%"},[new flatUI.graphics.Icon(l,{layoutWidth:"native",layoutHeight:"native",align:"center"})]),l&&new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"20px",style:{alpha:0}}),n&&new flatUI.layout.GridLayout({layoutWidth:"100%",columnCount:1,padding:0},[new flatUI.text.TextField(n.ls(),{align:"center",style:flatUI.styles.TextField.option_screen_subtitle,id:"popup#message",fitInLayout:!0}).setParams({textAlign:"center"})]),n&&new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"40px",style:{alpha:0}}),(a||e)&&new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"80px",id:"popup#buttons",style:flatUI.styles.Panel.primary},[e?new flatUI.buttons.TextButton(e.label.ls(),function(){return t.dismiss()},{layoutHeight:"100%",text:{style:flatUI.styles.TextField.option_screen_tab_normal,align:"center",fitInLayout:!0},button:{style:flatUI.styles.FlatButton.primary}}):null,a?new flatUI.buttons.TextButton(a.label.ls(),function(){return t.confirm()},{layoutHeight:"100%",text:{style:flatUI.styles.TextField.option_screen_tab_normal,align:"center",fitInLayout:!0},button:{style:flatUI.styles.FlatButton.accent}}):null])])])]}},{key:"confirm",value:function(){this.settings.confirm&&this.settings.confirm.handler&&this.settings.confirm.handler(),this.fadeAndClose()}},{key:"dismiss",value:function(){this.settings.dismiss&&this.settings.dismiss.handler&&this.settings.dismiss.handler(),this.fadeAndClose()}},{key:"show",value:function(){this.fadeIn()}},{key:"fadeIn",value:function(){this.findChildById("popup#shadow").alpha=0,this.findChildById("popup#contentLayout").alpha=0,this.findChildById("popup#frame").alpha=0,c2d.Tween.get(this.findChildById("popup#shadow")).to({alpha:1},300),c2d.Tween.get(this.findChildById("popup#contentLayout")).to({alpha:1},100),c2d.Tween.get(this.findChildById("popup#frame")).to({alpha:1},100)}},{key:"fadeAndClose",value:function(){var e=this;c2d.Tween.get(this.findChildById("popup#shadow")).to({alpha:0},100),c2d.Tween.get(this.findChildById("popup#contentLayout")).to({y:c2d.designSize.layoutHeight,alpha:0},150),c2d.Tween.get(this.findChildById("popup#frame")).to({y:c2d.designSize.layoutHeight,alpha:0},150).call(function(){return e.close()})}},{key:"close",value:function(){this.removeFromParent(),c2d.eventManager.dispatch(game.events.FlatUI.POPUP_CLOSED)}}]),l}(flatUI.layout.FrameLayout);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],101:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/defineProperty"))),o=l(e("@babel/runtime/helpers/classCallCheck")),s=l(e("@babel/runtime/helpers/createClass")),u=l(e("@babel/runtime/helpers/assertThisInitialized")),c=l(e("@babel/runtime/helpers/get")),h=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),f=l(e("@babel/runtime/helpers/getPrototypeOf"));function d(t,e){var n,l=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,n)),l}function p(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,f.default)(n);return e=l?(e=(0,f.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,h.default)(a,e);var i=p(a);function a(e){(0,o.default)(this,a),(t=i.call(this,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach(function(e){(0,r.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({align:"middle",layoutWidth:"100vw",layoutHeight:"100vh"},e),null)).layout(),t.displayGroup=game.displayGroups.UI,t.zOrder=50;var t,n,l=t.findChildById("toast#container");return l.interactive=l.buttonMode=!0,l.click=l.tap=function(){l.interactive=l.buttonMode=!1,l.click=l.tap=null,t.fadeAndClose()},e.display&&(n=e.message.length,e={quick:100,normal:500,long:1500}[e.display]||500,c2d.Tween.get((0,u.default)(t)).wait(Math.sqrt(n)*e).call(function(){return t.fadeAndClose()})),t}return(0,s.default)(a,[{key:"inflateDesktopLayout",value:function(e){e=e.message;return[new flatUI.layout.GridLayout({padding:0,columnCount:1,layoutWidth:"100%",style:{color:flatUI.styles.Color.accent,alpha:.8},id:"toast#container"},[new flatUI.layout.Spacer({layoutHeight:"10px"}),new flatUI.text.TextField(e.ls(),{layoutWidth:"100%",style:flatUI.styles.TextField.main_screen_numbers,align:"center",id:"toast#text"}).setParams({textAlign:"center"}),new flatUI.layout.Spacer({layoutHeight:"10px"})]),new flatUI.layout.Spacer]}},{key:"inflateMobilePortraitLayout",value:function(e){e=e.message;return[new flatUI.layout.GridLayout({padding:0,columnCount:1,layoutWidth:"100%",style:{color:flatUI.styles.Color.accent,alpha:.8},id:"toast#container"},[new flatUI.layout.Spacer({layoutHeight:"10px"}),new flatUI.text.TextField(e.ls(),{layoutWidth:"100%",style:flatUI.styles.TextField.main_screen_numbers,fitInLayout:!0,align:"center",id:"toast#text"}).setParams({textAlign:"center"}),new flatUI.layout.Spacer({layoutHeight:"10px"})]),new flatUI.layout.Spacer]}},{key:"inflateMobileLandscapeLayout",value:function(e){e.text;return this.inflateDesktopLayout.apply(this,arguments)}},{key:"confirm",value:function(){this.settings.confirm&&this.settings.confirm.handler&&this.settings.confirm.handler(),this.fadeAndClose()}},{key:"dismiss",value:function(){this.settings.dismiss&&this.settings.dismiss.handler&&this.settings.dismiss.handler(),this.fadeAndClose()}},{key:"show",value:function(){this.fadeIn()}},{key:"layout",value:function(){(0,c.default)((0,f.default)(a.prototype),"layout",this).call(this)}},{key:"fadeIn",value:function(){var e=this.findChildById("toast#container").y;this.findChildById("toast#container").y-=this.findChildById("toast#container").height,this.findChildById("toast#container").alpha=0,this.findChildById("toast#text").alpha=0,c2d.Tween.get(this.findChildById("toast#container")).to({alpha:1,y:e},200),c2d.Tween.get(this.findChildById("toast#text")).wait(100).to({alpha:1},200)}},{key:"fadeAndClose",value:function(){var e=this;this.findChildById("toast#container").alpha=1,this.findChildById("toast#text").alpha=1,c2d.Tween.get(this.findChildById("toast#container")).wait(100).to({alpha:0},200).call(function(){return e.close()}),c2d.Tween.get(this.findChildById("toast#text")).to({alpha:0},100)}},{key:"close",value:function(){this.removeFromParent(),c2d.eventManager.dispatch(game.events.FlatUI.POPUP_CLOSED),c2d.Tween.removeTweens(this)}}]),a}(flatUI.layout.VerticalLayout);n.default=l},{"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],102:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/defineProperty"))),a=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(t,e){var n,l=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,n)),l}function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(l,e);var n=h(l);function l(e){var t;return(0,a.default)(this,l),(t=n.call(this))._validate(e),t.initialize(e),t}return(0,r.default)(l,[{key:"_validate",value:function(){}},{key:"initialize",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.layoutWidth,t=void 0===t?null:t,n=e.layoutHeight,n=void 0===n?null:n,l=e.style,l=void 0===l?null:l,e=e.id;this.settings=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach(function(e){(0,i.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},arguments[0]),this.id=e,this._rawLayoutWidth=t,this._rawLayoutHeight=n,this.style=Object.assign({},l),this.onInitialize(this.settings)}},{key:"onInitialize",value:function(e){}},{key:"parseParamToPixel",value:function(e,t){e=e?e.toString():"native";var n,l=parseFloat(e),i=isNaN(l)?e:e.substring(l.toString().length);if(0==i.toString().length)return Number(e);switch(i){case"px":return l;case"vw":return f(l);case"vh":return n=c2d.screenParams.screenAspectRatioActual,f(l)*n;case"%":return this.parent?"width"==t?this.parent.layoutWidth/100*l:"height"==t?this.parent.layoutHeight/100*l:1:10;case"native":return"width"==t?this.width:"height"==t?this.height:1;default:return console.error("Can not parse units: "+i)}}},{key:"layout",value:function(){this.onBeforeLayout(),this._rawLayoutWidth&&(this.layoutWidth=this.parseParamToPixel(this._rawLayoutWidth,"width")),this._rawLayoutHeight&&(this.layoutHeight=this.parseParamToPixel(this._rawLayoutHeight,"height")),this.components.forEach(function(e){e.layout()}),this.onLayout()}},{key:"onBeforeLayout",value:function(){}},{key:"onLayout",value:function(){}},{key:"getTexture",value:function(e){return l._respack.getAsset(e)}},{key:"setParams",value:function(t){var n=this;return Object.keys(t).forEach(function(e){return n[e]=t[e]}),this}},{key:"findChildById",value:function(t){var n=null;return this.components.find(function(e){n=e.id===t?e:e.findChildById(t)||n}),n}},{key:"components",get:function(){return this.children.filter(function(e){return l.prototype.isPrototypeOf(e)})}},{key:"style",get:function(){return this._style},set:function(e){this._style=e}},{key:"settings",get:function(){return this._settings},set:function(e){this._settings=e}},{key:"layoutWidth",get:function(){return this._layoutWidth||this.width},set:function(e){this._layoutWidth=e}},{key:"layoutHeight",get:function(){return this._layoutHeight||this.height},set:function(e){this._layoutHeight=e}},{key:"hasRawLayoutWidth",get:function(){return!!this._rawLayoutWidth}},{key:"hasRawLayoutHeight",get:function(){return!!this._rawLayoutHeight}},{key:"root",get:function(){for(var e=this;e&&e.parent&&e!=e.parent&&l.prototype.isPrototypeOf(e);)e=e.parent;return e}}],[{key:"respack",set:function(e){l._respack=e}}]),l}(c2d.display.Container);function f(e){var t;return c2d.env.device.tablet()?(t=c2d.env.device.portrait()?.5:.75,e*c2d.screenParams.screenWidth/100/t):e*c2d.screenParams.screenWidth/100}n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],103:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,o.default)(i,e);var l=u(i);function i(e,t){var n=t.enabled,n=void 0===n||n;t.swallowEvents;return(0,a.default)(this,i),(t=l.call(this,t)).clickHandler=e,t.hoverHandler=null,t.outHandler=null,t._enabled=!0,t.createBackground(),t.initEvents(),t.setInitialState(),t.enabled=n,t}return(0,r.default)(i,[{key:"createBackground",value:function(){}},{key:"initEvents",value:function(){var e=this;this.mouseover=function(){return e.onHover.apply(e,arguments)},this.mouseout=this.touchendoutside=function(){return e.onOut.apply(e,arguments)},this.mousedown=this.touchstart=function(){return e.onDown.apply(e,arguments)},this.click=function(){return e.doClick.apply(e,arguments)},this.touchend=function(){e.state===i.states.PRESSED?e.doClick.apply(e,arguments):e.setInitialState()}}},{key:"doClick",value:function(e){this._blockPropagation(e),this.state=i.states.HOVER,this.onPointerEvent(e),this.onClick(e),this.clickHandler&&this.clickHandler(e)}},{key:"setInitialState",value:function(){this.state=i.states.NORMAL}},{key:"onOut",value:function(e){this._blockPropagation(e),this.state=i.states.NORMAL,this.onPointerEvent(e),this.outHandler&&this.outHandler()}},{key:"onDown",value:function(e){this._blockPropagation(e),this.state=i.states.PRESSED,this.onPointerEvent(e),c2d.eventManager.dispatch(game.events.FlatUI.BUTTON_DOWN)}},{key:"onHover",value:function(e){this._blockPropagation(e),this.state=i.states.HOVER,this.hoverHandler&&this.hoverHandler(),c2d.eventManager.dispatch(game.events.FlatUI.BUTTON_HOVER,{id:this.id})}},{key:"onClick",value:function(e){this._blockPropagation(e),this.onPointerEvent(e),c2d.eventManager.dispatch(game.events.FlatUI.CLICK)}},{key:"onLayout",value:function(){this.state=this._state}},{key:"onPointerEvent",value:function(e){e&&this.settings.swallowEvents&&(e.stopPropagation(),e.data.originalEvent.stopPropagation())}},{key:"_blockPropagation",value:function(e){e&&(e.stopPropagation(),e.data.originalEvent.stopImmediatePropagation())}},{key:"state",get:function(){return this._state},set:function(e){this._state=e}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e,this.state=e?i.states.NORMAL:i.states.DISABLED,this.interactive=e,this.buttonMode=e}},{key:"clickHandler",get:function(){return this._clickHandler},set:function(e){this._clickHandler=e}}]),i}(l(e("../UIComponent.js")).default);(n.default=l).states={NORMAL:"normal",HOVER:"hover",OUT:"out",PRESSED:"pressed",DISABLED:"disabled"}},{"../UIComponent.js":102,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],104:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/get")),s=l(e("@babel/runtime/helpers/set")),u=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf")),h=l(e("./Button.js"));function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,u.default)(i,e);var l=f(i);function i(e,t){var n,t=t.round,t=void 0!==t&&t;return(0,a.default)(this,i),(n=l.apply(this,arguments)).round=t,n.interactive=null!=e,n.interactiveChildren=null!=e,n}return(0,r.default)(i,[{key:"createBackground",value:function(){this.background=new c2d.display.Graphics,this.addChild(this.background)}},{key:"drawBackground",value:function(e){var t=e.color,n=e.alpha,l=e.strokeColor,i=e.strokeSize,e=e.strokeAlpha,e=void 0===e?1:e;this.round?(this.background.clear(),i&&this.background.lineStyle(i,l,e),this.background.beginFill(t,n),this.background.drawRoundedRect(0,0,this.layoutWidth,this.layoutHeight,Math.floor(Math.min(this.layoutWidth,this.layoutHeight)/2)-2),this.background.endFill(),this.addChild(this.background)):(this.background.clear(),this.background.beginFill(t,n),this.background.drawRect(0,0,.1*this.layoutWidth,.1*this.layoutHeight),this.background.endFill(),this.background.width=this.layoutWidth,this.background.height=this.layoutHeight)}},{key:"state",get:function(){return(0,o.default)((0,c.default)(i.prototype),"state",this)},set:function(e){switch((0,s.default)((0,c.default)(i.prototype),"state",e,this,!0),e){case h.default.states.NORMAL:this.drawBackground(this.style.normal);break;case h.default.states.HOVER:this.drawBackground(this.style.hover);break;case h.default.states.PRESSED:this.drawBackground(this.style.pressed);break;case h.default.states.DISABLED:this.drawBackground(this.style.disabled)}}}]),i}(h.default);(n.default=l).states=h.default.states},{"./Button.js":103,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/set":21}],105:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/set")),s=l(e("@babel/runtime/helpers/inherits")),u=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf")),h=l(e("./Button.js")),f=l(e("../image/Icon.js"));function d(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}l=function(e){(0,s.default)(n,e);var t=d(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"createBackground",value:function(){this.icon=new f.default(null,Object.assign({},this.settings,{layoutWidth:"100%",layoutHeight:"100%"})),this.addChild(this.icon)}},{key:"drawIcon",value:function(e){this.icon.texture=e,this.settings.hitAreaZoom?this.hitArea=new PIXI.Rectangle(.5*-(this.layoutWidth*this.settings.hitAreaZoom),.5*-(this.layoutHeight*this.settings.hitAreaZoom),this.layoutWidth*this.settings.hitAreaZoom,this.layoutHeight*this.settings.hitAreaZoom):this.hitArea=new PIXI.Rectangle(0,0,this.layoutWidth,this.layoutHeight)}},{key:"state",get:function(){return(0,r.default)((0,c.default)(n.prototype),"state",this)},set:function(e){switch((0,o.default)((0,c.default)(n.prototype),"state",e,this,!0),e){case h.default.states.NORMAL:this.drawIcon(this.style.textures.normal);break;case h.default.states.HOVER:this.drawIcon(this.style.textures.hover);break;case h.default.states.PRESSED:this.drawIcon(this.style.textures.pressed);break;case h.default.states.DISABLED:this.drawIcon(this.style.textures.disabled)}}}]),n}(h.default);n.default=l},{"../image/Icon.js":114,"./Button.js":103,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/set":21}],106:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/set")),s=l(e("@babel/runtime/helpers/inherits")),u=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf")),h=l(e("./Button.js")),f=l(e("../image/Animation.js"));function d(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}l=function(e){(0,s.default)(n,e);var t=d(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"createBackground",value:function(){this.spine=new f.default(this.settings.spineSkeleton,{align:"center",layoutWidth:"100%",layoutHeight:"100%"}),this.addChild(this.spine),this.spine.animation.animation.stateData.setMix("spinButton_pressed","spinButton_disabled",0),this.spine.animation.animation.stateData.defaultMix=.25,this.spine.animation.hitArea=new c2d.geom.Circle(0,0,72)}},{key:"doClick",value:function(e){this.onPointerEvent(e),this.onClick(e),this.clickHandler&&this.clickHandler(e)}},{key:"onOut",value:function(e){this.state=h.default.states.OUT,this.onPointerEvent(e),this.outHandler&&this.outHandler()}},{key:"playButtonAnimation",value:function(){var e,t=this;(e=this.spine.animation.animation).play.apply(e,arguments),this.state===h.default.states.PRESSED&&(this.spine.animation.animation.onComplete=function(){t.spine.animation.animation.play(t.settings.buttonType+"_disabled");var e=t.settings.skipDisableAfterPressed;t.state=e?t.state:h.default.states.DISABLED,t._stateAfterPressed&&(t.spine.animation.animation.onComplete=function(){t.state=t._stateAfterPressed,t._stateAfterPressed=null})}),this.state===h.default.states.OUT&&(this.spine.animation.animation.onComplete=function(){t.setInitialState()})}},{key:"state",get:function(){return(0,r.default)((0,c.default)(n.prototype),"state",this)},set:function(e){switch((0,o.default)((0,c.default)(n.prototype),"state",e,this,!0),e){case h.default.states.NORMAL:if(this.spine.animation.animation._prevAnimation===this.settings.buttonType+"_pressed")break;this.playButtonAnimation(this.settings.buttonType+"_normal",!0);break;case h.default.states.HOVER:this.playButtonAnimation(this.settings.buttonType+"_hover");break;case h.default.states.OUT:this.playButtonAnimation(this.settings.buttonType+"_out");break;case h.default.states.PRESSED:this.playButtonAnimation(this.settings.buttonType+"_pressed");break;case h.default.states.DISABLED:}}},{key:"stateAfterPressed",set:function(e){this.spine.animation.animation._prevAnimation===this.settings.buttonType+"_pressed"&&(this._stateAfterPressed=e)}}]),n}(h.default);n.default=l},{"../image/Animation.js":113,"./Button.js":103,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/set":21}],107:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),a=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("../UIComponent.js")),c=l(e("./FlatButton.js")),h=l(e("../text/TextField.js"));function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(n);return e=l?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,s.default)(a,e);var i=f(a);function a(e,t,n){var l;return(0,r.default)(this,a),(l=i.call(this,n)).createTextField(e,Object.assign({},n.text,{layoutWidth:"100%",layoutHeight:"100%"})),l.createButton(t,Object.assign({},n.button,{layoutWidth:"100%",layoutHeight:"100%"})),l}return(0,o.default)(a,[{key:"createButton",value:function(e,t){e=new c.default(e,t);this.addChildAt(e,0),this.button=e}},{key:"createTextField",value:function(e,t){e=new h.default(e,t);e.interactiveChildren=!1,this.addChild(e),this.textField=e}},{key:"text",get:function(){return this.textField.text},set:function(e){this.textField.text=e}},{key:"enabled",set:function(e){this.button.enabled=e}}]),a}(u.default);n.default=l},{"../UIComponent.js":102,"../text/TextField.js":131,"./FlatButton.js":104,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],108:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/set")),s=l(e("@babel/runtime/helpers/get")),u=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,u.default)(i,e);var l=h(i);function i(e,t){var n,t=t.toggled,t=void 0!==t&&t;return(0,a.default)(this,i),(n=l.apply(this,arguments)).toggled=t,n._clickHandler=function(){return e(n.toggled)},n}return(0,r.default)(i,[{key:"doClick",value:function(){this.toggled=!this._toggled,(0,s.default)((0,c.default)(i.prototype),"doClick",this).call(this)}},{key:"style",get:function(){return this.toggled?this._style.toggled:this._style.normal},set:function(e){(0,o.default)((0,c.default)(i.prototype),"style",e,this,!0)}},{key:"toggled",get:function(){return this._toggled},set:function(e){this._toggled!=e&&(this._toggled=e,this.state=this._state)}}]),i}(l(e("./FlatButton.js")).default);n.default=l},{"./FlatButton.js":104,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/set":21}],109:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/set")),s=l(e("@babel/runtime/helpers/get")),u=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,u.default)(i,e);var l=h(i);function i(e,t){var n,t=t.toggled,t=void 0!==t&&t;return(0,a.default)(this,i),(n=l.apply(this,arguments)).toggled=t,n._clickHandler=function(){return e(n.toggled)},n}return(0,r.default)(i,[{key:"doClick",value:function(){this.toggled=!this._toggled,(0,s.default)((0,c.default)(i.prototype),"doClick",this).call(this)}},{key:"style",get:function(){return this.toggled?this._style.toggled:this._style.normal},set:function(e){(0,o.default)((0,c.default)(i.prototype),"style",e,this,!0)}},{key:"toggled",get:function(){return this._toggled},set:function(e){this._toggled=e,this.state=this._state}}]),i}(l(e("./IconButton.js")).default);n.default=l},{"./IconButton.js":105,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/set":21}],110:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./TextButton.js")),c=l(e("./ToggleButton.js"));l(e("../text/TextField.js"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=h(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"createButton",value:function(e,t){e=new c.default(e,t);this.addChildAt(e),this.button=e}},{key:"toggled",get:function(){return this.button.toggled},set:function(e){this.button.toggled=e}}]),n}(u.default);n.default=l},{"../text/TextField.js":131,"./TextButton.js":107,"./ToggleButton.js":108,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],111:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/get")),u=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf")),h=l(e("./Button.js")),f=l(e("../image/Icon.js"));function d(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,u.default)(a,e);var i=d(a);function a(e,t){var n,l=t.toggled,l=void 0!==l&&l;return(0,r.default)(this,a),(n=i.call(this,null,t)).interactive=!0,n.fadeToggle(l),n._clickHandler=function(){return e(n.toggled)},n}return(0,o.default)(a,[{key:"createBackground",value:function(){this.backActive=new f.default(this.style.textures.on.back,{align:"left",layoutWidth:this.layoutWidth,layoutHeight:this.layoutHeight}),this.pinActive=new f.default(this.style.textures.on.pin,{align:"left",layoutWidth:this.layoutWidth,layoutHeight:this.layoutHeight}),this.backInactive=new f.default(this.style.textures.off.back,{align:"left",layoutWidth:this.layoutWidth,layoutHeight:this.layoutHeight}),this.pinInactive=new f.default(this.style.textures.off.pin,{align:"left",layoutWidth:this.layoutWidth,layoutHeight:this.layoutHeight}),this.addChild(this.backInactive),this.addChild(this.backActive),this.addChild(this.pinInactive),this.addChild(this.pinActive)}},{key:"doClick",value:function(){this.fadeToggle(!this._toggled,200),(0,s.default)((0,c.default)(a.prototype),"doClick",this).call(this)}},{key:"onDown",value:function(e){(0,s.default)((0,c.default)(a.prototype),"onDown",this).call(this,e),e.stopPropagation(),e.data.originalEvent.stopPropagation(),this.clickX=e.data.global.x}},{key:"onOut",value:function(e){this.state==h.default.states.PRESSED?(this.toggled&&this.clickX>e.data.global.x||!this.toggled&&this.clickX<e.data.global.x)&&this.doClick():(0,s.default)((0,c.default)(a.prototype),"onOut",this).call(this)}},{key:"toggled",get:function(){return this._toggled},set:function(e){this._toggled=e,this._toggled?this.pinInactive.x=this.backActive.width-this.pinInactive.width:this.pinInactive.x=0,this.pinActive.x=this.pinInactive.x,this.backActive.alpha=!!this._toggled,this.pinActive.alpha=!!this._toggled,this.pinInactive.alpha=!this._toggled}},{key:"fadeToggle",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;this._toggled=e,this._toggled?(c2d.Tween.get(this.pinActive).to({alpha:1,x:this.backActive.width-this.pinActive.width},t,c2d.Tween.Ease.cubicInOut),c2d.Tween.get(this.pinInactive).to({alpha:0,x:this.backActive.width-this.pinActive.width},t,c2d.Tween.Ease.cubicInOut),c2d.Tween.get(this.backActive).to({alpha:1},t,c2d.Tween.Ease.cubicInOut)):(c2d.Tween.get(this.pinActive).to({alpha:0,x:0},t,c2d.Tween.Ease.cubicInOut),c2d.Tween.get(this.pinInactive).to({alpha:1,x:0},t,c2d.Tween.Ease.cubicInOut),c2d.Tween.get(this.backActive).to({alpha:0},t,c2d.Tween.Ease.cubicInOut))}}]),a}(h.default);n.default=l},{"../image/Icon.js":114,"./Button.js":103,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],112:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=u(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this,arguments[0])).background=new c2d.display.Graphics,e.addChild(e.background),e}return(0,a.default)(n,[{key:"onLayout",value:function(){this.background.clear(),this.background.beginFill(this.settings.style.color,null!=this.settings.style.alpha?this.settings.style.alpha:1),this.background.drawRect(0,0,Number(this.layoutWidth),Number(this.layoutHeight)),this.background.endFill()}}]),n}(l(e("../UIComponent.js")).default);n.default=l},{"../UIComponent.js":102,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],113:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),o=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),i=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/inherits")),a=l(e("@babel/runtime/helpers/possibleConstructorReturn")),r=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,r.default)(n);return e=l?(e=(0,r.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}l=function(e){(0,s.default)(r,e);var a=u(r);function r(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=(n.align,n.zoom),l=void 0===l?1:l,i=n.fitInLayout,i=void 0!==i&&i,n=n.fitToLayout,n=void 0!==n&&n;return(0,o.default)(this,r),(t=a.call(this,arguments[1])).fitInLayout=i,t.fitToLayout=n,t.animation=new c2d.display.Animation(null),t.addChild(t.animation),e&&t.animation.setAnimation(c2d.animationConfig.create(e)),t.scale.y=t.scale.x=l,t}return(0,i.default)(r,[{key:"align",value:function(e){if(e){switch(e){case"center":this.animation.anchor={x:.5,y:.5};break;case"left":this.animation.anchor={x:0,y:.5};break;case"right":this.animation.anchor={x:1,y:.5};break;default:throw new Error("undefined align value: "+e)}this.fitInLayout&&(this.animation.width=Math.min(this.animation.width/this.animation.scale.x,this.layoutWidth),this.animation.height=Math.min(this.animation.height/this.animation.scale.y,this.layoutHeight),this.animation.scale.y>this.animation.scale.x?this.animation.scale.y=this.animation.scale.x:this.animation.scale.x=this.animation.scale.y),this.fitToLayout&&(this.animation.width=this.layoutWidth,this.animation.height=this.layoutHeight),this.animation.x=this.layoutWidth/this.scale.x*this.animation.anchor.x,this.animation.y=this.layoutHeight/this.scale.y*this.animation.anchor.y}}},{key:"onLayout",value:function(){this.align(this.settings.align)}}]),r}(l(e("../UIComponent.js")).default);(n.default=l).align={CENTER:"center",LEFT:"left",RIGHT:"right"}},{"../UIComponent.js":102,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],114:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),o=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),i=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/inherits")),a=l(e("@babel/runtime/helpers/possibleConstructorReturn")),r=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,r.default)(n);return e=l?(e=(0,r.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}l=function(e){(0,s.default)(r,e);var a=u(r);function r(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=(n.align,n.zoom),l=void 0===l?1:l,i=n.fitInLayout,i=void 0!==i&&i,n=n.fitToLayout,n=void 0!==n&&n;return(0,o.default)(this,r),(t=a.call(this,arguments[1])).fitInLayout=i,t.fitToLayout=n,t.icon=new c2d.display.Sprite(null),t.icon.roundPixels=!0,t.addChild(t.icon),e&&(t.texture=e),t.scale.y=t.scale.x=l,t}return(0,i.default)(r,[{key:"align",value:function(e){if(e){switch(e){case"center":this.icon.anchor={x:.5,y:.5};break;case"left":this.icon.anchor={x:0,y:.5};break;case"right":this.icon.anchor={x:1,y:.5};break;default:throw new Error("undefined align value: "+e)}this.fitInLayout&&(this.icon.width=Math.min(this.icon.width/this.icon.scale.x,this.layoutWidth),this.icon.height=Math.min(this.icon.height/this.icon.scale.y,this.layoutHeight),this.icon.scale.y>this.icon.scale.x?this.icon.scale.y=this.icon.scale.x:this.icon.scale.x=this.icon.scale.y),this.fitToLayout&&(this.icon.width=this.layoutWidth,this.icon.height=this.layoutHeight),this.icon.x=this.layoutWidth/this.scale.x*this.icon.anchor.x,this.icon.y=this.layoutHeight/this.scale.y*this.icon.anchor.y}}},{key:"texture",set:function(e){this.icon.texture=this.getTexture(e)}},{key:"onLayout",value:function(){this.align(this.settings.align)}}]),r}(l(e("../UIComponent.js")).default);(n.default=l).align={CENTER:"center",LEFT:"left",RIGHT:"right"}},{"../UIComponent.js":102,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],115:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(l,e);var n=u(l);function l(e){var t;return(0,i.default)(this,l),(t=n.call(this,{})).image=new c2d.display.Sprite(null),t.addChild(t.image),e&&(t.texture=e),t}return(0,a.default)(l,[{key:"texture",set:function(e){this.image.texture=this.getTexture(e)}},{key:"tint",set:function(e){this.image.tint=e}}]),l}(l(e("../UIComponent.js")).default);n.default=l},{"../UIComponent.js":102,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],116:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=e("@babel/runtime/helpers/typeof"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("./UIComponent.js"))),a=l(e("./button/Button.js")),o=l(e("./button/FlatButton.js")),s=l(e("./button/TextButton.js")),u=l(e("./button/ToggleButton.js")),c=l(e("./button/ToggleTextButton.js")),h=l(e("./button/IconButton.js")),f=l(e("./button/SpineAnimationButton.js")),d=l(e("./button/ToggleIconButton.js")),p=l(e("./button/Tumbler.js")),y=l(e("./slider/Slider.js")),b=l(e("./slider/SliderVertical.js")),m=l(e("./progressbar/Progressbar.js")),g=l(e("./layout/HorizontalLayout.js")),v=l(e("./layout/VerticalLayout.js")),_=l(e("./layout/FrameLayout.js")),S=l(e("./layout/GridLayout.js")),C=l(e("./layout/Layout.js")),I=l(e("./layout/Spacer.js")),w=l(e("./image/Icon.js")),R=l(e("./image/Animation.js")),k=l(e("./graphics/Panel.js")),x=l(e("./text/CurvedTextField.js")),P=l(e("./text/TextField.js")),l=l(e("./text/MultiStyleTextField.js")),T=B(e("./stylesBlue.js")),E=B(e("./stylesGreen.js")),e=B(e("./stylesOrange.js"));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function B(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};t=O(t);if(t&&t.has(e))return t.get(e);var n,l,i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((l=a?Object.getOwnPropertyDescriptor(e,n):null)&&(l.get||l.set)?Object.defineProperty(i,n,l):i[n]=e[n]);return i.default=e,t&&t.set(e,i),i}a={UIComponent:i.default,buttons:{Button:a.default,FlatButton:o.default,IconButton:h.default,SpineAnimationButton:f.default,TextButton:s.default,ToggleButton:u.default,ToggleTextButton:c.default,ToggleIconButton:d.default,Tumbler:p.default},slider:{Slider:y.default,SliderVertical:b.default},progressbar:{Progressbar:m.default},graphics:{Image:Image,Icon:w.default,Animation:R.default},text:{CurvedTextField:x.default,MultiStyleTextField:l.default,TextField:P.default},layout:{HorizontalLayout:g.default,VerticalLayout:v.default,GridLayout:S.default,FrameLayout:_.default,Layout:C.default,Spacer:I.default},panel:{Panel:k.default},styles:{stylesBlue:c2d.env.device.desktop()?T.desktop:T.mobile,stylesGreen:c2d.env.device.desktop()?E.desktop:E.mobile,stylesOrange:c2d.env.device.desktop()?e.desktop:e.mobile},initialize:function(e){e=e.respack;i.default.respack=e}},o=window.flatUI=a;n.default=o},{"./UIComponent.js":102,"./button/Button.js":103,"./button/FlatButton.js":104,"./button/IconButton.js":105,"./button/SpineAnimationButton.js":106,"./button/TextButton.js":107,"./button/ToggleButton.js":108,"./button/ToggleIconButton.js":109,"./button/ToggleTextButton.js":110,"./button/Tumbler.js":111,"./graphics/Panel.js":112,"./image/Animation.js":113,"./image/Icon.js":114,"./layout/FrameLayout.js":117,"./layout/GridLayout.js":118,"./layout/HorizontalLayout.js":119,"./layout/Layout.js":120,"./layout/Spacer.js":121,"./layout/VerticalLayout.js":122,"./progressbar/Progressbar.js":123,"./slider/Slider.js":124,"./slider/SliderVertical.js":125,"./stylesBlue.js":126,"./stylesGreen.js":127,"./stylesOrange.js":128,"./text/CurvedTextField.js":129,"./text/MultiStyleTextField.js":130,"./text/TextField.js":131,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/typeof":26}],117:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=u(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"arrange",value:function(){var t=this;switch(this.measure(),this._align){case"top":break;case"center":this.componentsWithoutBack.forEach(function(e){e.x=.5*(t.layoutWidth-e.layoutWidth*e.scale.x),e.y=.5*(t.layoutHeight-e.layoutHeight*e.scale.y)});break;case"bottom":case"none":break;default:throw new Error("undefined align value"+this._align)}this.redrawBack()}}]),n}(l(e("./Layout.js")).default);n.default=l},{"./Layout.js":120,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],118:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/objectWithoutProperties"))),i=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf")),l=l(e("./Layout.js")),c=["paddingX","paddingY","padding","columnCount"];function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}e=function(e){(0,o.default)(n,e);var t=h(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,r.default)(n,[{key:"_validate",value:function(e){var t=e.paddingX,n=e.paddingY,l=e.padding,e=e.columnCount;if(void 0===l&&void 0===(t&&n))throw new Error("Padding is not specified");if(void 0===e)throw new Error("columnCount is not specified")}},{key:"onInitialize",value:function(e){var t=e.paddingX,n=e.paddingY,l=e.padding,i=e.columnCount;(0,a.default)(e,c);this.paddingX=t||l,this.paddingY=n||l,this.columnCount=i}},{key:"arrange",value:function(){var n=this,e=this.componentsWithoutBack,l=(this.layoutWidth-this.paddingX*(this.columnCount-1))/this.columnCount,i=0,a=0,r=0;e.forEach(function(e,t){n.settings.textFieldWidth||(e.layoutWidth=l),e.layout(),n.columnCount&&t%n.columnCount==0&&(r=a=0),e.x=a,e.y=i,r=Math.max(r,e.layoutHeight),a+=e.layoutWidth+n.paddingX,n.columnCount&&t%n.columnCount==n.columnCount-1&&(i+=r+n.paddingY)}),e.length&&(this.layoutHeight=e.reduce(function(e,t){return Math.max(e,t.y+t.layoutHeight)},0)),this.layoutWidth=e.reduce(function(e,t){return Math.max(e,t.x+t.layoutWidth)},0),this.redrawBack()}}]),n}(l.default);n.default=e},{"./Layout.js":120,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/objectWithoutProperties":17,"@babel/runtime/helpers/possibleConstructorReturn":19}],119:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),l=l(e("./Layout.js"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}var c={top:0,center:.5,bottom:1},e=function(e){(0,r.default)(n,e);var t=u(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"_validate",value:function(e){if(!(e.align in c))throw new Error("undefined horizontal align value: "+e.align)}},{key:"onBeforeLayout",value:function(){var t=this,e=this.componentsWithoutBack.filter(function(e){return!flatUI.layout.Spacer.prototype.isPrototypeOf(e)||e.hasRawLayoutWidth}),n=e.filter(function(e){return!e.hasRawLayoutWidth}),l=e.filter(function(e){return e.hasRawLayoutWidth}).slice(-this.columnCount).reduce(function(e,t){return e+t.parseParamToPixel(t._rawLayoutWidth,"width")},0);n.forEach(function(e){e.layoutWidth=(t.parseParamToPixel(t._rawLayoutWidth,"width")-l)/n.length})}},{key:"arrange",value:function(){var n=this,e=(this.measure(),this.componentsWithoutBack.filter(function(e){return!flatUI.layout.Spacer.prototype.isPrototypeOf(e)||e.hasRawLayoutWidth})),t=e.slice(-this.columnCount).reduce(function(e,t){return e+t.layoutWidth},0),l=(this.layoutWidth-t)/(e.length+1),i=l,a=0;this.spacersWithLayoutWeights.forEach(function(e){e.layoutWidth=(n.layoutWidth-t)/n.spacersWithLayoutWeights.length*e.layoutWeight/n.averageSpacerWeight,i=l=0}),this.componentsWithoutBack.forEach(function(e,t){n.columnCount&&t%n.columnCount==0&&(i=0),e.x=i,e.y=(n.layoutHeight-e.layoutHeight)*c[n._align]+a,i+=e.layoutWidth+l,n.columnCount&&t%n.columnCount==n.columnCount-1&&(a+=e.layoutHeight+l)}),this.redrawBack()}}]),n}(l.default);n.default=e},{"./Layout.js":120,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],120:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/toConsumableArray"))),r=l(e("@babel/runtime/helpers/classCallCheck")),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/get")),u=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf")),h=l(e("../graphics/Panel.js"));function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,u.default)(i,e);var l=f(i);function i(e,t){var n;return(0,r.default)(this,i),(n=l.call(this,e))._align=e.align,n.columnCount=e.columnCount,n.rowCount=e.rowCount,n.inflateArguments=arguments,n.addBackground(),t?n.addChildren(t):n.reInflateLayout(),n}return(0,o.default)(i,[{key:"reInflateLayout",value:function(){this.removeComponents(),c2d.env.device.desktop()?this.addChildren(this.inflateDesktopLayout.apply(this,(0,a.default)(this.inflateArguments))):!c2d.env.device.desktop()&&c2d.env.device.landscape()?this.addChildren(this.inflateMobileLandscapeLayout.apply(this,(0,a.default)(this.inflateArguments))):!c2d.env.device.desktop()&&c2d.env.device.portrait()&&this.addChildren(this.inflateMobilePortraitLayout.apply(this,(0,a.default)(this.inflateArguments)))}},{key:"inflateMobileLandscapeLayout",value:function(){}},{key:"inflateMobilePortraitLayout",value:function(){}},{key:"inflateDesktopLayout",value:function(){}},{key:"addBackground",value:function(){this.settings.style||(this.settings.style={color:16711680,alpha:0}),this.background=new h.default(Object.assign({},this.settings,{layoutWidth:"1px",layoutHeight:"1px"})),this.addChildAt(this.background,0)}},{key:"onInitialize",value:function(){this._maxChildWidth=0,this._maxChildHeight=0}},{key:"measure",value:function(){var t=this;this.componentsWithoutBack.forEach(function(e){t._maxChildWidth=Math.max(t._maxChildWidth,e.layoutWidth||0),t._maxChildHeight=Math.max(t._maxChildHeight,e.layoutHeight||0)})}},{key:"layout",value:function(){(0,s.default)((0,c.default)(i.prototype),"layout",this).call(this),this.arrange()}},{key:"arrange",value:function(){}},{key:"redrawBack",value:function(){this.background&&!this.background._destroyed&&(this.background.width=this.layoutWidth+1,this.background.height=this.layoutHeight)}},{key:"removeComponents",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.componentsWithoutBack.forEach(function(e){e.removeFromParent(),e.destroy(t)})}},{key:"addChildren",value:function(e){var t=this;e.filter(function(e){return e}).forEach(function(e){t.addChild(e)}),this.measure()}},{key:"componentsWithoutBack",get:function(){return this.components.slice(1)}},{key:"spacers",get:function(){return this.components.filter(function(e){return flatUI.layout.Spacer.prototype.isPrototypeOf(e)})}},{key:"spacersWithLayoutWeights",get:function(){return this.spacers.filter(function(e){return!e.hasRawLayoutWidth})}},{key:"averageSpacerWeight",get:function(){var n=this;return this.spacersWithLayoutWeights.reduce(function(e,t){return e+t.layoutWeight/n.spacers.length},0)}}]),i}(l(e("../UIComponent.js")).default);n.default=l},{"../UIComponent.js":102,"../graphics/Panel.js":112,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/toConsumableArray":25}],121:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(l,e);var n=u(l);function l(){var e,t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).layoutWeight,t=void 0===t?1:t;return(0,a.default)(this,l),(e=n.call(this,arguments[0])).layoutWeight=t,e}return(0,i.default)(l)}(l(e("../UIComponent.js")).default);n.default=l},{"../UIComponent.js":102,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],122:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),l=l(e("./Layout.js"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}var c={left:0,middle:.5,right:1},e=function(e){(0,r.default)(n,e);var t=u(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"_validate",value:function(e){if(!(e.align in c))throw new Error("undefined vertical align value: "+e.align)}},{key:"onBeforeLayout",value:function(){var t=this,e=this.componentsWithoutBack.filter(function(e){return!flatUI.layout.Spacer.prototype.isPrototypeOf(e)||e.hasRawLayoutWidth}),n=e.filter(function(e){return!e.hasRawLayoutHeight}),l=e.filter(function(e){return e.hasRawLayoutHeight}).slice(-this.rowsCount).reduce(function(e,t){return e+t.parseParamToPixel(t._rawLayoutHeight,"height")},0);n.forEach(function(e){e.layoutHeight=(t.parseParamToPixel(t._rawLayoutHeight,"height")-l)/n.length})}},{key:"arrange",value:function(){var n=this,e=(this.measure(),this.componentsWithoutBack.filter(function(e){return!flatUI.layout.Spacer.prototype.isPrototypeOf(e)||e.hasRawLayoutWidth})),t=e.reduce(function(e,t){return e+t.layoutHeight},0),l=(this.layoutHeight-t)/(e.length+1),i=l,a=this.spacersWithLayoutWeights.reduce(function(e,t){return e+t.layoutWeight/n.spacers.length},0);this.spacersWithLayoutWeights.forEach(function(e){e.layoutHeight=(n.layoutHeight-t)/n.spacersWithLayoutWeights.length*e.layoutWeight/a}),0!=this.spacers.length&&(i=l=0),this.componentsWithoutBack.forEach(function(e){e.y=i,i+=e.layoutHeight*e.scale.y+l,e.x=(n.layoutWidth-e.layoutWidth*e.scale.x)*c[n._align]}),this.redrawBack()}}]),n}(l.default);n.default=e},{"./Layout.js":120,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],123:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),a=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(n);return e=l?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,s.default)(a,e);var i=u(a);function a(e){var t=e.value,n=e.maxValue,l=e.minValue,l=void 0===l?0:l;return(0,r.default)(this,a),(e=i.call(this,e)).createBackground(),e.minValue=l,e.maxValue=n,e.value=t,e}return(0,o.default)(a,[{key:"createBackground",value:function(){this.back=this.drawGraphics(this.style.back),this.fore=this.drawGraphics(this.style.fore),this.addChild(this.back),this.addChild(this.fore)}},{key:"drawGraphics",value:function(e){var t=new c2d.display.Graphics;return t.beginFill(e.color,null!=e.alpha?e.alpha:1),t.drawRect(0,0,10,10),t.endFill(),t}},{key:"onLayout",value:function(){this.back.height=this.layoutHeight,this.fore.height=this.layoutHeight,this.back.width=this.layoutWidth,this.redraw()}},{key:"setData",value:function(e){var t=e.value,e=e.maxValue;this.value=t,this.maxValue=e,this.redraw()}},{key:"redraw",value:function(){c2d.Tween.get(this.fore,{override:!0}).to({width:this._value/this.maxValue*this.layoutWidth},100,c2d.Tween.Ease.cubicInOut)}},{key:"value",get:function(){return this._value},set:function(e){this._value=e}},{key:"maxValue",get:function(){return this._maxValue},set:function(e){this._maxValue=e}}]),a}(l(e("../UIComponent.js")).default);n.default=l},{"../UIComponent.js":102,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],124:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),s=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),i=l(e("@babel/runtime/helpers/createClass")),a=l(e("@babel/runtime/helpers/inherits")),r=l(e("@babel/runtime/helpers/possibleConstructorReturn")),o=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("../image/Image.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,o.default)(n);return e=l?(e=(0,o.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,e)}}l=function(e){(0,a.default)(o,e);var r=c(o);function o(e,t){var n=t.step,n=void 0===n?0:n,l=t.value,i=t.maxValue,a=t.minValue,a=void 0===a?0:a;t.textures;return(0,s.default)(this,o),(t=r.call(this,t)).interactive=!0,t.createBackground(),t.initEvents(),t.clickHandler=e,t.minValue=a,t.maxValue=i,t.step=n,t.value=l,t}return(0,i.default)(o,[{key:"createBackground",value:function(){this.back=new u.default(this.style.textures.back),this.fore=new u.default(this.style.textures.fore),this.pin=new u.default(this.style.textures.pin),this.pin.buttonMode=!0,this.pin.interactive=!0,this.addChild(this.back),this.addChild(this.fore),this.addChild(this.pin),this.redraw()}},{key:"onLayout",value:function(){this.back.width=this.layoutWidth,this.redraw()}},{key:"initEvents",value:function(){function t(e){return e=e.data.getLocalPosition(n).x/n.layoutWidth*n.maxValue,n.step&&(e=Math.round(e/n.step)*n.step),Math.max(n.minValue,Math.min(e,n.maxValue))}var n=this;this.mousedown=this.touchstart=function(e){e.stopPropagation(),e.data.originalEvent.stopImmediatePropagation(),n.value=t(e),n.redraw(200),n.clickHandler(n.value),n.mousemove=n.touchmove=function(e){e.stopPropagation(),e.data.originalEvent.stopImmediatePropagation(),n.value=t(e),n.redraw(),n.clickHandler(n.value)},n.mouseup=n.mouseupoutside=n.touchleave=n.touchendoutside=n.touchend=n.touchcancel=function(e){e.stopPropagation(),e.data.originalEvent.stopImmediatePropagation(),c2d.eventManager.dispatch(game.events.FlatUI.CLICK),n.mousemove=n.touchmove=null}}}},{key:"redraw",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;c2d.Tween.get(this.fore,{override:!0}).to({width:this._value/this.maxValue*this.layoutWidth},e,c2d.Tween.Ease.cubicInOut),c2d.Tween.get(this.pin,{override:!0}).to({x:this._value/this.maxValue*this.layoutWidth-.5*this.pin.width},e,c2d.Tween.Ease.cubicInOut),this.hitArea=new c2d.geom.Rectangle(0,.5*-this.layoutHeight,this.layoutWidth,2*this.layoutHeight)}},{key:"value",get:function(){return this._value},set:function(e){this._value=e,this.redraw()}},{key:"maxValue",get:function(){return this._maxValue},set:function(e){this._maxValue=e,this.redraw()}},{key:"enabled",set:function(e){this.interactive=e,this.fore.tint=e?16777215:10066329,this.back.tint=e?16777215:6316128}},{key:"onClick",value:function(){}}]),o}(l(e("../UIComponent.js")).default);n.default=l},{"../UIComponent.js":102,"../image/Image.js":115,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],125:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),s=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),i=l(e("@babel/runtime/helpers/createClass")),a=l(e("@babel/runtime/helpers/inherits")),r=l(e("@babel/runtime/helpers/possibleConstructorReturn")),o=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("../image/Image.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,o.default)(n);return e=l?(e=(0,o.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,e)}}l=function(e){(0,a.default)(o,e);var r=c(o);function o(e,t){var n=t.step,n=void 0===n?0:n,l=t.value,i=t.maxValue,a=t.minValue,a=void 0===a?0:a;t.textures;return(0,s.default)(this,o),(t=r.call(this,t)).interactive=!0,t.createBackground(),t.initEvents(),t.clickHandler=e,t.minValue=a,t.maxValue=i,t.step=n,t.value=l,t}return(0,i.default)(o,[{key:"createBackground",value:function(){this.back=new u.default(this.style.textures.back),this.fore=new u.default(this.style.textures.fore),this.pin=new u.default(this.style.textures.pin),this.fore.image.anchor={x:0,y:1},this.pin.buttonMode=!0,this.pin.interactive=!0,this.pin.x=.5*this.layoutWidth-.5*this.pin.width,this.addChild(this.back),this.addChild(this.fore),this.addChild(this.pin),this.redraw()}},{key:"onLayout",value:function(){this.back.height=this.layoutHeight,this.fore.y=this.layoutHeight,this.pin.x=.5*(this.layoutWidth-this.pin.width),this.fore.x=.5*(this.layoutWidth-this.fore.width),this.back.x=.5*(this.layoutWidth-this.back.width),this.redraw()}},{key:"initEvents",value:function(){function t(e){return e=1-e.data.getLocalPosition(n).y/n.layoutHeight*n.maxValue,n.step&&(e=Math.round(e/n.step)*n.step),Math.max(n.minValue,Math.min(e,n.maxValue))}var n=this;this.mousedown=this.touchstart=function(e){e.stopPropagation(),e.data.originalEvent.stopImmediatePropagation(),n.value=t(e),n.redraw(200),n.clickHandler(n.value),n.mousemove=n.touchmove=function(e){e.stopPropagation(),e.data.originalEvent.stopImmediatePropagation(),n.value=t(e),n.redraw(),n.clickHandler(n.value)},n.mouseup=n.mouseupoutside=n.touchleave=n.touchendoutside=n.touchend=n.touchcancel=function(){e.stopPropagation(),e.data.originalEvent.stopImmediatePropagation(),c2d.eventManager.dispatch(game.events.FlatUI.CLICK),n.mousemove=n.touchmove=null}}}},{key:"redraw",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;c2d.Tween.get(this.fore,{override:!0}).to({height:this._value/this.maxValue*this.layoutHeight},e,c2d.Tween.Ease.cubicInOut),c2d.Tween.get(this.pin,{override:!0}).to({y:this.layoutHeight-this._value/this.maxValue*this.layoutHeight-.5*this.pin.height},e,c2d.Tween.Ease.cubicInOut),this.hitArea=new c2d.geom.Rectangle(0,.5*-this.layoutWidth,this.layoutWidth,this.layoutHeight)}},{key:"value",get:function(){return this._value},set:function(e){this._value=e,this.redraw()}},{key:"maxValue",get:function(){return this._maxValue},set:function(e){this._maxValue=e,this.redraw()}},{key:"enabled",set:function(e){this.interactive=e,this.fore.tint=e?16777215:10066329,this.back.tint=e?16777215:6316128}}]),o}(l(e("../UIComponent.js")).default);n.default=l},{"../UIComponent.js":102,"../image/Image.js":115,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],126:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.mobile=n.desktop=void 0;var l={accent:821689,negative:14240844,bright:15066597,panel:0},i={primary:{normal:{color:3684408,alpha:.8},hover:{color:2697513,alpha:1},pressed:{color:2171169,alpha:.8},disabled:{color:5592405,alpha:.8}},accent:{normal:{color:l.accent,alpha:1},hover:{color:1874345,alpha:1},pressed:{color:2927033,alpha:1},disabled:{color:l.accent,alpha:1}},negative:{normal:{color:l.negative,alpha:.8},hover:{color:15293532,alpha:1},pressed:{color:16342108,alpha:.8},disabled:{color:l.negative,alpha:.8}}},a={back:{color:5066061,alpha:1},fore:{color:15066597,alpha:1}},r={primary:{normal:{normal:{color:16748739,alpha:.8},hover:{color:16748739,alpha:.7},pressed:{color:16748739,alpha:.9},disabled:{color:15658734,alpha:1}},toggled:{normal:{color:14680003,alpha:.8},hover:{color:14680003,alpha:.7},pressed:{color:14680003,alpha:.9},disabled:{color:14680003,alpha:1}}}},o={primary:{color:1052688,alpha:1},secondary:{color:0,alpha:1},textArea:{color:1579032,alpha:1},tile:{color:0,alpha:1},shadow:{color:0,alpha:.75},transparent:{color:16711680,alpha:0}},l={Color:l,Progressbar:a,FlatButton:i,ToggleButton:r,Panel:o,TextField:{spin_button_numbers:{fontWeight:"700",fontSize:"32px",padding:10,fill:"0x181819"},autospin_button_numbers:{fontWeight:"700",fontSize:"32px",padding:10,fill:"0xC4C4C4"},spin_button_text:{fontWeight:"700",fontSize:"28px",padding:10,fill:"0x181819"},main_screen_numbers:{fontWeight:"700",fontSize:"32px",padding:10,fill:"0xC4C4C4"},main_screen_text:{fontWeight:"400",fontSize:"28px",padding:10,fill:"0x858585"},main_screen_show_intro:{fontWeight:"400",fontSize:"28px",padding:10,fill:"0xFFFFFF"},main_screen_curved:{fontWeight:"700",fontSize:"15px",fill:"0xC4C4C4",radius:83,letterSpacing:3},main_screen_gameName:{fontWeight:"700",fontSize:"24px",padding:10,fill:"0xC4C4C4",stroke:"#111111",strokeThickness:0,letterSpacing:0},main_screen_clock:{fontWeight:"700",fontSize:"24px",padding:10,fill:"0xC4C4C4",stroke:"#111111",strokeThickness:1,wordWrap:!(n.mobile={Color:l,Progressbar:a,FlatButton:i,ToggleButton:r,Panel:o,TextField:{spin_button_numbers:{fontWeight:"700",fontSize:"30px",padding:10,fill:"0x181819",wordWrap:!1},autospin_button_numbers:{fontWeight:"700",fontSize:"30px",padding:10,fill:"0xC4C4C4",wordWrap:!1},spin_button_text:{fontWeight:"700",fontSize:"20px",padding:10,fill:"0x181819"},main_screen_numbers:{fontWeight:"700",fontSize:"30px",padding:10,fill:"0xC4C4C4",wordWrap:!1},main_screen_text:{fontWeight:"400",fontSize:"20px",padding:10,fill:"0x858585"},main_screen_show_intro:{fontWeight:"400",fontSize:"20px",padding:10,fill:"0xFFFFFF"},main_screen_curved:{fontWeight:"700",fontSize:"12px",fill:"0xC4C4C4",radius:83,letterSpacing:3},main_screen_gameName:{fontWeight:"400",fontSize:"20px",padding:10,fill:"0xC4C4C4",stroke:"#111111",strokeThickness:0,wordWrap:!1},main_screen_clock:{fontWeight:"400",fontSize:"17px",padding:10,fill:"0x000000",wordWrap:!1},statistic_key:{fontWeight:"700",fontSize:"26px",padding:10,fill:"0xC4C4C4"},statistic_value:{fontWeight:"700",fontSize:"26px",padding:10,fill:"0x0099FA"},option_screen_tab_active:{fontWeight:"700",fontSize:"32px",padding:10,fill:"0x00ACED",align:"center"},option_screen_tab_normal:{fontWeight:"700",fontSize:"32px",padding:10,fill:"0xC4C4C4",align:"center"},option_screen_title:{fontWeight:"400",fontSize:"35px",padding:10,fill:"0xC4C4C4"},option_screen_subtitle:{fontWeight:"400",fontSize:"30px",padding:0,fill:"0xC4C4C4"},option_screen_description:{fontWeight:"400",fontSize:"20px",padding:10,fill:"0xC4C4C4"}}})},statistic_key:{fontWeight:"700",fontSize:"32px",padding:10,fill:"0xC4C4C4"},statistic_value:{fontWeight:"700",fontSize:"32px",padding:10,fill:"0x0099FA"},option_screen_tab_active:{fontWeight:"700",fontSize:"32px",padding:10,fill:"0x00ACED"},option_screen_tab_normal:{fontWeight:"700",fontSize:"32px",padding:10,fill:"0xC4C4C4"},option_screen_title:{fontWeight:"400",fontSize:"40px",padding:10,fill:"0xC4C4C4"},option_screen_subtitle:{fontWeight:"400",fontSize:"30px",padding:10,fill:"0xC4C4C4"},option_screen_description:{fontWeight:"400",fontSize:"25px",padding:10,fill:"0xC4C4C4"}}};n.desktop=l},{}],127:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.mobile=n.desktop=void 0;var l={accent:5622067,negative:13191219,bright:14803425,panel:0},i={back:{color:5066061,alpha:1},fore:{color:15066597,alpha:1}},a={primary:{normal:{color:3684408,alpha:.8},hover:{color:2697513,alpha:1},pressed:{color:2171169,alpha:.8},disabled:{color:5592405,alpha:.8}},accent:{normal:{color:l.accent,alpha:1},hover:{color:l.accent,alpha:1},pressed:{color:l.accent,alpha:1},disabled:{color:l.accent,alpha:1}},negative:{normal:{color:l.negative,alpha:.8},hover:{color:l.negative,alpha:1},pressed:{color:l.negative,alpha:.8},disabled:{color:l.negative,alpha:.8}}},r={primary:{normal:{normal:{color:16748739,alpha:.8},hover:{color:16748739,alpha:.7},pressed:{color:16748739,alpha:.9},disabled:{color:15658734,alpha:1}},toggled:{normal:{color:14680003,alpha:.8},hover:{color:14680003,alpha:.7},pressed:{color:14680003,alpha:.9},disabled:{color:14680003,alpha:1}}}},o={primary:{color:1054992,alpha:1},secondary:{color:0,alpha:1},textArea:{color:1513239,alpha:1},tile:{color:0,alpha:1},shadow:{color:0,alpha:.75},transparent:{color:16711680,alpha:0}},l={Color:l,Progressbar:i,FlatButton:a,ToggleButton:r,Panel:o,TextField:{spin_button_numbers:{fontWeight:"700",fontSize:"32px",padding:10,fill:"0x181819"},autospin_button_numbers:{fontWeight:"700",fontSize:"32px",padding:10,fill:"0xC4C4C4"},spin_button_text:{fontWeight:"700",fontSize:"28px",padding:10,fill:"0x181819"},main_screen_numbers:{fontWeight:"700",fontSize:"32px",padding:10,fill:"0xC4C4C4"},main_screen_text:{fontWeight:"400",fontSize:"28px",padding:10,fill:"0x858585"},main_screen_show_intro:{fontWeight:"400",fontSize:"28px",padding:10,fill:"0xFFFFFF"},main_screen_curved:{fontWeight:"700",fontSize:"15px",fill:"0xC4C4C4",radius:83,letterSpacing:3},main_screen_gameName:{fontWeight:"700",fontSize:"24px",padding:10,fill:"0xC4C4C4",stroke:"#111111",strokeThickness:0,letterSpacing:0},main_screen_clock:{fontWeight:"700",fontSize:"24px",padding:10,fill:"0xC4C4C4",stroke:"#111111",strokeThickness:1,wordWrap:!(n.mobile={Color:l,Progressbar:i,FlatButton:a,ToggleButton:r,Panel:o,TextField:{spin_button_numbers:{fontWeight:"700",fontSize:"30px",padding:10,fill:"0x181819",wordWrap:!1},autospin_button_numbers:{fontWeight:"700",fontSize:"30px",padding:10,fill:"0xC4C4C4",wordWrap:!1},spin_button_text:{fontWeight:"700",fontSize:"20px",padding:10,fill:"0x181819"},main_screen_numbers:{fontWeight:"700",fontSize:"30px",padding:10,fill:"0xC4C4C4",wordWrap:!1},main_screen_text:{fontWeight:"400",fontSize:"20px",padding:10,fill:"0x858585"},main_screen_show_intro:{fontWeight:"400",fontSize:"28px",padding:10,fill:"0xFFFFFF"},main_screen_curved:{fontWeight:"700",fontSize:"12px",fill:"0xC4C4C4",radius:83,letterSpacing:3},main_screen_gameName:{fontWeight:"400",fontSize:"20px",padding:10,fill:"0xC4C4C4",stroke:"#111111",strokeThickness:0,wordWrap:!1},main_screen_clock:{fontWeight:"400",fontSize:"17px",padding:10,fill:"0x000000",wordWrap:!1},option_screen_tab_normal:{fontWeight:"700",fontSize:"32px",padding:10,fill:"0xC4C4C4",align:"center"},option_screen_title:{fontWeight:"400",fontSize:"35px",padding:10,fill:"0xC4C4C4"},option_screen_subtitle:{fontWeight:"400",fontSize:"30px",padding:0,fill:"0xC4C4C4"},option_screen_description:{fontWeight:"400",fontSize:"20px",padding:10,fill:"0xC4C4C4"}}})},option_screen_tab_active:{fontWeight:"700",fontSize:"32px",padding:10,fill:"0x00ACED"},option_screen_tab_normal:{fontWeight:"700",fontSize:"32px",padding:10,fill:"0xC4C4C4"},option_screen_title:{fontWeight:"400",fontSize:"40px",padding:10,fill:"0xC4C4C4"},option_screen_subtitle:{fontWeight:"400",fontSize:"30px",padding:10,fill:"0xC4C4C4"},option_screen_description:{fontWeight:"400",fontSize:"25px",padding:10,fill:"0xC4C4C4"}}};n.desktop=l},{}],128:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.mobile=n.desktop=void 0;var l={accent:13994752,negative:14240844,bright:15066597,panel:0},i={back:{color:5066061,alpha:1},fore:{color:15066597,alpha:1}},a={primary:{normal:{color:3684408,alpha:.8},hover:{color:2697513,alpha:1},pressed:{color:2171169,alpha:.8},disabled:{color:5592405,alpha:.8}},accent:{normal:{color:l.accent,alpha:.8},hover:{color:14652960,alpha:.9},pressed:{color:14652960,alpha:1},disabled:{color:l.accent,alpha:1}},negative:{normal:{color:l.negative,alpha:.8},hover:{color:15293532,alpha:1},pressed:{color:16342108,alpha:.8},disabled:{color:l.negative,alpha:.8}}},r={primary:{normal:{normal:{color:16748739,alpha:.8},hover:{color:16748739,alpha:.7},pressed:{color:16748739,alpha:.9},disabled:{color:15658734,alpha:1}},toggled:{normal:{color:14680003,alpha:.8},hover:{color:14680003,alpha:.7},pressed:{color:14680003,alpha:.9},disabled:{color:14680003,alpha:1}}}},o={primary:{color:1052688,alpha:1},secondary:{color:0,alpha:1},textArea:{color:1579032,alpha:1},tile:{color:0,alpha:1},shadow:{color:0,alpha:.75},transparent:{color:16711680,alpha:0}},l={Color:l,Progressbar:i,FlatButton:a,ToggleButton:r,Panel:o,TextField:{spin_button_numbers:{fontWeight:"700",fontSize:"32px",padding:10,fill:"0x181819"},autospin_button_numbers:{fontWeight:"700",fontSize:"32px",padding:10,fill:"0xC4C4C4"},spin_button_text:{fontWeight:"700",fontSize:"28px",padding:10,fill:"0x181819"},main_screen_numbers:{fontWeight:"700",fontSize:"32px",padding:10,fill:"0xC4C4C4"},main_screen_text:{fontWeight:"400",fontSize:"28px",padding:10,fill:"0x858585"},main_screen_show_intro:{fontWeight:"400",fontSize:"28px",padding:10,fill:"0xFFFFFF"},main_screen_curved:{fontWeight:"700",fontSize:"15px",fill:"0xC4C4C4",radius:83,letterSpacing:3},main_screen_gameName:{fontWeight:"700",fontSize:"24px",padding:10,fill:"0xC4C4C4",stroke:"#111111",strokeThickness:0,letterSpacing:0},main_screen_clock:{fontWeight:"700",fontSize:"24px",padding:10,fill:"0xC4C4C4",stroke:"#111111",strokeThickness:1,wordWrap:!(n.mobile={Color:l,Progressbar:i,FlatButton:a,ToggleButton:r,Panel:o,TextField:{spin_button_numbers:{fontWeight:"700",fontSize:"30px",padding:10,fill:"0x181819",wordWrap:!1},autospin_button_numbers:{fontWeight:"700",fontSize:"30px",padding:10,fill:"0xC4C4C4",wordWrap:!1},spin_button_text:{fontWeight:"700",fontSize:"20px",padding:10,fill:"0x181819"},main_screen_numbers:{fontWeight:"700",fontSize:"30px",padding:10,fill:"0xC4C4C4",wordWrap:!1},main_screen_text:{fontWeight:"400",fontSize:"20px",padding:10,fill:"0x858585"},main_screen_show_intro:{fontWeight:"400",fontSize:"28px",padding:10,fill:"0xFFFFFF"},main_screen_curved:{fontWeight:"700",fontSize:"12px",fill:"0xC4C4C4",radius:83,letterSpacing:3},main_screen_gameName:{fontWeight:"400",fontSize:"20px",padding:10,fill:"0xC4C4C4",stroke:"#111111",strokeThickness:0,wordWrap:!1},main_screen_clock:{fontWeight:"400",fontSize:"17px",padding:10,fill:"0x000000",wordWrap:!1},option_screen_tab_normal:{fontWeight:"700",fontSize:"32px",padding:10,fill:"0xC4C4C4",align:"center"},option_screen_title:{fontWeight:"400",fontSize:"35px",padding:10,fill:"0xC4C4C4"},option_screen_subtitle:{fontWeight:"400",fontSize:"30px",padding:0,fill:"0xC4C4C4"},option_screen_description:{fontWeight:"400",fontSize:"20px",padding:10,fill:"0xC4C4C4"}}})},option_screen_tab_active:{fontWeight:"700",fontSize:"32px",padding:10,fill:"0x00ACED"},option_screen_tab_normal:{fontWeight:"700",fontSize:"32px",padding:10,fill:"0xC4C4C4"},option_screen_title:{fontWeight:"400",fontSize:"40px",padding:10,fill:"0xC4C4C4"},option_screen_subtitle:{fontWeight:"400",fontSize:"30px",padding:10,fill:"0xC4C4C4"},option_screen_description:{fontWeight:"400",fontSize:"25px",padding:10,fill:"0xC4C4C4"}}};n.desktop=l},{}],129:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,o.default)(i,e);var l=u(i);function i(e,t){var n;(0,a.default)(this,i),(t=l.call(this,t)).style.fontFamily=t.style.fontFamily||"OpenSans, Arial, sans-serif",t.setLetterSpacingToZero(t.style),t.textField=new c2d.display.TextField(e,t.style);return 370<t.textField.width&&(e=370/t.textField.width,n=Number(t.textField.style.fontSize.split("px")[0]),n=Math.floor(n*e),t.textField.style.fontSize=n.toString()+"px"),t.addChild(t.textField),t.rope=null,t}return(0,r.default)(i,[{key:"setLetterSpacingToZero",value:function(e){e.letterSpacing=0}},{key:"onLayout",value:function(){for(var e=this.style.radius,t=Math.PI/300,n=.5*(300-Math.round(this.textField.texture.width/(e*Math.PI)*300)),l=[],i=300-n;n<i;i--){var a=e*Math.cos(t*i),r=e*Math.sin(t*i);l.push(new c2d.geom.Point(a,-r))}this.rope||(this.rope=new PIXI.SimpleRope(this.textField.texture,l),this.addChild(this.rope)),this.textField&&this.removeChild(this.textField),"center"===this.settings.align&&(this.rope.x=.5*this.layoutWidth,this.rope.y=.5*this.layoutHeight)}},{key:"text",get:function(){return this.textField.text},set:function(e){this.textField.text=e,this.removeChild(this.rope),this.rope=null,this.addChild(this.textField),this.onLayout()}}]),i}(l(e("../UIComponent.js")).default);n.default=l},{"../UIComponent.js":102,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],130:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,o.default)(i,e);var l=u(i);function i(e,t){var n=t.style,n=void 0===n?{}:n;return(0,a.default)(this,i),(t=l.call(this,t)).style.fontFamily=t.style.fontFamily||"OpenSans, Arial, sans-serif",t.style.wordWrap=void 0===n.wordWrap||n.wordWrap,t.style.breakWords="true"=="breakWords".ls(),t.setLetterSpacingToZero(t.style),t.measuredString=e.replaceAll(/<.\w{0,}>/g,""),t.measuredStyle=new PIXI.TextStyle(t.style.default),t.textField=new PIXI.MultistyleText(e,n),t.textMetrics=PIXI.TextMetrics.measureText(t.measuredString,t.measuredStyle),t.textField.roundPixels=!0,t.addChild(t.textField),t}return(0,r.default)(i,[{key:"align",value:function(e){if(e){switch(e){case"center":this.textField.anchor={x:.5,y:.5};break;case"left":this.textField.anchor={x:0,y:.5};break;case"right":this.textField.anchor={x:1,y:.5};break;default:throw new Error("undefined align value: "+e)}var t;this.settings.fitInLayout&&((t=Math.min(this.layoutWidth/this.textMetrics.width,this.layoutHeight/this.textMetrics.height))<1&&this.textField.scale.set(t),this.textField.x=this.layoutWidth*this.textField.anchor.x+this.textField.style.padding,this.textField.y=this.layoutHeight*this.textField.anchor.y),this.textField.x=this.layoutWidth*this.textField.anchor.x+this.textField.style.padding,this.textField.y=this.layoutHeight*this.textField.anchor.y}}},{key:"onBeforeLayout",value:function(){this.hasRawLayoutHeight||(this.layoutHeight=this.textField.height)}},{key:"onLayout",value:function(){this.parent.settings.textFieldWidth&&this.style.wordWrap?this.textField.style.wordWrapWidth=this.parent.layoutWidth:this.style.wordWrap&&(this.textField.style.wordWrapWidth=this.layoutWidth),this.align(this.settings.align)}},{key:"setLetterSpacingToZero",value:function(e){e.letterSpacing=0}}]),i}(l(e("../UIComponent.js")).default);(n.default=l).align={CENTER:"center",LEFT:"left",RIGHT:"right"}},{"../UIComponent.js":102,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],131:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,o.default)(i,e);var l=u(i);function i(e,t){var n=t.style,n=void 0===n?{}:n;return(0,a.default)(this,i),(t=l.call(this,t)).style.fontFamily=t.style.fontFamily||"OpenSans, Arial, sans-serif",t.style.wordWrap=void 0===n.wordWrap||n.wordWrap,t.style.breakWords="true"=="breakWords".ls(),t.setLetterSpacingToZero(t.style),t.textField=new c2d.display.TextField("",t.style),t.textField.roundPixels=!0,t.addChild(t.textField),t.text=e,t}return(0,r.default)(i,[{key:"align",value:function(e){if(e){switch(e){case"center":this.textField.anchor={x:.5,y:.5};break;case"left":this.textField.anchor={x:0,y:.5};break;case"right":this.textField.anchor={x:1,y:.5};break;default:throw new Error("undefined align value: "+e)}this.settings.fitInLayout&&(this.textField.width=Math.min(this.textField.width/this.textField.scale.x,this.layoutWidth),this.textField.height=Math.min(this.textField.height/this.textField.scale.y,this.layoutHeight),this.textField.scale.y>this.textField.scale.x?this.textField.scale.y=this.textField.scale.x:this.textField.scale.x=this.textField.scale.y),this.textField.x=this.layoutWidth*this.textField.anchor.x,this.textField.y=this.layoutHeight*this.textField.anchor.y}}},{key:"onBeforeLayout",value:function(){this.hasRawLayoutHeight||(this.layoutHeight=this.textField.height)}},{key:"onLayout",value:function(){this.parent.settings.textFieldWidth&&this.style.wordWrap?this.textField.style.wordWrapWidth=this.parent.layoutWidth:this.style.wordWrap&&(this.textField.style.wordWrapWidth=this.layoutWidth),this.align(this.settings.align)}},{key:"text",get:function(){return this.textField.text},set:function(e){this.textField.text=e,this.align(this.settings.align)}},{key:"textAlign",set:function(e){this.textField.style.align=e}},{key:"textStyle",get:function(){return this.textField.style},set:function(e){this.setLetterSpacingToZero(e),this.textField.style=Object.assign({},this.textField.style,e)}},{key:"color",set:function(e){this.textField.style.fill=e}},{key:"setLetterSpacingToZero",value:function(e){e.letterSpacing=0}}]),i}(l(e("../UIComponent.js")).default);(n.default=l).align={CENTER:"center",LEFT:"left",RIGHT:"right"}},{"../UIComponent.js":102,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],132:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./SpinButton.js")),c=l(e("./autospin/AutospinPanel.js"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}var f={spinButton:{textures:{normal:"SPIN_normal",hover:"SPIN_hover",pressed:"SPIN_pressed",disabled:"SPIN_disabled"}},stopButton:{textures:{normal:"STOP",hover:"STOP",pressed:"STOP",disabled:"STOP"}},blankButton:{textures:{normal:"BLANK_BUTTON_normal",hover:"BLANK_BUTTON_hover",pressed:"BLANK_BUTTON_pressed",disabled:"BLANK_BUTTON_disabled"}},blankButtonOther:{textures:{normal:"BLANK_BUTTON_other",hover:"BLANK_BUTTON_other",pressed:"BLANK_BUTTON_other",disabled:"BLANK_BUTTON_other"}},playButton:{textures:{normal:"PLAY_BUTTON_normal",hover:"PLAY_BUTTON_hover",pressed:"PLAY_BUTTON_pressed",disabled:"PLAY_BUTTON_disabled"}},TextField:{label:{fontWeight:"bold",fontSize:"30px",fill:"0xC4C4C4"},labelSmall:{fontWeight:"bold",fontSize:"24px",fill:"0xC4C4C4"}},spinButtonBack:"SPIN_background",spinButtonBack_qs:"SPIN_background_qs"},l=function(e){(0,r.default)(l,e);var n=h(l);function l(e){var t;return(0,i.default)(this,l),(t=n.call(this,e,[new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100"},[new flatUI.layout.FrameLayout({align:"center",id:"autospinLabeloff"},[new flatUI.graphics.Icon(f.spinButtonBack,{align:"center",layoutWidth:"native",layoutHeight:"native",id:"autospinLabeloffImage"}),new flatUI.graphics.Icon(f.spinButtonBack_qs,{align:"center",layoutWidth:"native",layoutHeight:"native",id:"autospinLabelQsEffect"})]).setParams({visible:c2d.env.autospinsEnabled}),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"180px",layoutHeight:"200px"},[new flatUI.text.CurvedTextField("button_title_hold_autospin_curved".ls().toUpperCase(),{layoutHeight:"100%",layoutWidth:"100%",align:"center",style:flatUI.styles.TextField.main_screen_curved,id:"autospinLabel"})]).setParams({visible:c2d.env.autospinsEnabled}),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",propagateState:!0,id:"collectButton"},[new flatUI.buttons.IconButton(function(){return t.collectButtonPressed()},{style:f.playButton})]),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"freeSpinsInfoPanel"},[new flatUI.buttons.IconButton(null,{layoutWidth:"100%",style:f.blankButtonOther,enabled:!1}),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"freeSpinsInfoPanel"},[new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"100%",layoutWidth:"100%",id:"fullFreespins"},[new flatUI.text.TextField("0",{layoutWidth:"90%",layoutHeight:"native",style:flatUI.styles.TextField.spin_button_numbers,align:"center",id:"freespinsCount"}),new flatUI.text.TextField("button_description_fs".ls().toUpperCase(),{layoutWidth:"70%",layoutHeight:"50%",fitInLayout:!0,style:flatUI.styles.TextField.spin_button_text,align:"center"}).setParams({textAlign:"center"})]),new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"100%",layoutWidth:"100%",id:"compactFreespins"},[new flatUI.text.TextField("button_description_fs".ls().toUpperCase(),{layoutWidth:"70%",layoutHeight:"50%",fitInLayout:!0,style:flatUI.styles.TextField.spin_button_text,align:"center"}).setParams({textAlign:"center"})])])]),new u.default(function(){return t.spinButtonPressed()},function(){return t.openAutospinPanel()},{layoutWidth:"100%",align:"center",style:f.spinButton,id:"spinButton"}),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",propagateState:!0,id:"giftspins"},[new flatUI.buttons.IconButton(function(){return t.spinButtonPressed()},{layoutWidth:"100%",style:f.blankButton}),new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"100%",layoutWidth:"100%"},[new flatUI.text.TextField("0",{layoutWidth:"90%",layoutHeight:"native",style:flatUI.styles.TextField.spin_button_numbers,align:"center",id:"giftspinsLeft"}),new flatUI.text.TextField("button_description_gift_spins".ls().toUpperCase(),{layoutWidth:"70%",layoutHeight:"50%",fitInLayout:!0,style:flatUI.styles.TextField.spin_button_text,align:"center"}).setParams({textAlign:"center"})])]),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"respins"},[new flatUI.graphics.Icon(f.blankButton.textures.disabled,{layoutWidth:"native"}),new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"100%",layoutWidth:"100%"},[e.uiConfig.compactRespins?null:new flatUI.text.TextField("0",{layoutWidth:"90%",layoutHeight:"native",style:flatUI.styles.TextField.spin_button_numbers,align:"center",id:"respinsLeft"}),new flatUI.text.TextField("button_description_respins".ls().toUpperCase(),{layoutWidth:"90%",layoutHeight:"50%",fitInLayout:!0,style:flatUI.styles.TextField.spin_button_text,align:"center"}).setParams({textAlign:"center"})])]),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"startFreespinsButton"},[new flatUI.buttons.IconButton(function(){return c2d.eventManager.dispatch(game.events.FlatUI.FREESPINS_START_PRESSED)},{style:f.playButton})]),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"stopButton"},[new flatUI.buttons.IconButton(function(){return t.stopButtonPressed()},{layoutWidth:"100%",style:f.stopButton}),new flatUI.text.TextField("0",{layoutWidth:"100%",style:flatUI.styles.TextField.autospin_button_numbers,align:"center",id:"autospinsLeft"})]),new flatUI.buttons.IconButton(function(){return t.playButtonPressed()},{align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"playButton",style:f.playButton})]),new flatUI.layout.Spacer])).buttons={},["spinButton","startFreespinsButton","collectButton","freeSpinsInfoPanel","giftspins","playButton","stopButton","respins"].forEach(function(e){t.buttons[e]=t.findChildById(e)}),t.selected=!1,t}return(0,a.default)(l,[{key:"spinButtonPressed",value:function(){c2d.eventManager.dispatch(game.events.FlatUI.SPIN_PRESSED),this.autospinPanel&&this.autospinPanel.collapse()}},{key:"playButtonPressed",value:function(){c2d.eventManager.dispatch(game.events.FlatUI.PLAY_BUTTON_PRESSED)}},{key:"stopButtonPressed",value:function(){c2d.eventManager.dispatch(game.events.FlatUI.CANCEL_AUTOSPINS_PRESSED)}},{key:"collectButtonPressed",value:function(){c2d.eventManager.dispatch(game.events.FlatUI.COLLECT_PRESSED)}},{key:"openAutospinPanel",value:function(){var t=this;c2d.env.autospinsEnabled&&this.longClickEnabled&&(this.autospinPanel?this.autospinPanel.collapse():(this.autospinPanel=new c.default({callback:function(e){return t.selectAutospins(e)},dismissCallback:function(){return t.hideAutospinPanel()}}),this.parent.addChild(this.autospinPanel),this.autospinPanel.expand(),this.findChildById("autospinLabel").visible=!1,this.findChildById("autospinLabeloff").visible=!1))}},{key:"onAutospinStarted",value:function(){this.selected=!0,this.autospinPanel&&this.autospinPanel.onAutospinStarted()}},{key:"hideAutospinPanel",value:function(){this.selected||(this.findChildById("autospinLabel").visible=!0,this.findChildById("autospinLabeloff").visible=!0),this.autospinPanel=null,this.selected=!1}},{key:"setState",value:function(n){var l=this;"actionButton"===n.type?Object.assign(this,n.params):(Object.keys(this.buttons).forEach(function(e){var t;n.type===e?(t=l.buttons[n.type],Object.assign(t,n.params),t.visible=!0,t.settings.propagateState&&t.components.filter(function(e){return!e.notInheritState}).forEach(function(e){return Object.assign(e,n.params)})):(l.buttons[e].visible=!1,"spinButton"===e&&void 0!==n.params.longClickEnabled&&(l.buttons[e].longClickEnabled=n.params.longClickEnabled))}),"freeSpinsInfoPanel"===n.type&&(this.findChildById("fullFreespins").visible=!this.settings.uiConfig.compactFreespins,this.findChildById("compactFreespins").visible=!!this.settings.uiConfig.compactFreespins),this.findChildById("autospinLabel").visible="spinButton"===n.type&&!this.autospinPanel,this.findChildById("autospinLabeloff").visible=""!==n.type&&("stopButton"===n.type||!this.autospinPanel),this._forceHide&&(this.visible=!1))}},{key:"forceHide",value:function(){this._forceHide=!0,this.visible=!1}},{key:"cancelForceHide",value:function(){this._forceHide=!1,this.visible=!0}},{key:"longClickEnabled",get:function(){return this.findChildById("spinButton").longClickEnabled}}]),l}(flatUI.layout.VerticalLayout);n.default=l},{"./SpinButton.js":137,"./autospin/AutospinPanel.js":139,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],133:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./SpinButtonSpine.js")),c=l(e("./autospin/AutospinPanel.js"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}var f="SPIN_background",d="SPIN_background_qs",l=function(e){(0,r.default)(l,e);var n=h(l);function l(e){var t;return(0,i.default)(this,l),(t=n.call(this,e,[new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100"},[new flatUI.layout.FrameLayout({align:"center",id:"autospinLabeloff"},[new flatUI.graphics.Icon(f,{align:"center",layoutWidth:"native",layoutHeight:"native",id:"autospinLabeloffImage"}),new flatUI.graphics.Icon(d,{align:"center",layoutWidth:"native",layoutHeight:"native",id:"autospinLabelQsEffect"})]).setParams({visible:c2d.env.autospinsEnabled}),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"180px",layoutHeight:"200px"},[new flatUI.text.CurvedTextField("button_title_hold_autospin_curved".ls().toUpperCase(),{layoutHeight:"100%",layoutWidth:"100%",align:"center",style:flatUI.styles.TextField.main_screen_curved,id:"autospinLabel"})]).setParams({visible:c2d.env.autospinsEnabled}),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",propagateState:!0,id:"collectButton"},[new flatUI.buttons.SpineAnimationButton(function(){return t.collectButtonPressed()},{spineSkeleton:e.uiConfig.actionButtonAnimation,buttonType:"collectButton"})]),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"freeSpinsInfoPanel"},[new flatUI.buttons.SpineAnimationButton(function(){return t.collectButtonPressed()},{spineSkeleton:e.uiConfig.actionButtonAnimation,enabled:!1,buttonType:"blankButton"}),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"freeSpinsInfoPanel"},[new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"100%",layoutWidth:"100%",id:"fullFreespins"},[new flatUI.text.TextField("0",{layoutWidth:"90%",layoutHeight:"native",style:flatUI.styles.TextField.spin_button_numbers,align:"center",id:"freespinsCount"}),new flatUI.text.TextField("button_description_fs".ls().toUpperCase(),{layoutWidth:e.uiConfig.actionButtonTextWidth||"70%",layoutHeight:"50%",fitInLayout:!0,style:flatUI.styles.TextField.spin_button_text,align:"center"}).setParams({textAlign:"center"})]),new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"100%",layoutWidth:"100%",id:"compactFreespins"},[new flatUI.text.TextField("button_description_fs".ls().toUpperCase(),{layoutWidth:e.uiConfig.actionButtonTextWidth||"70%",layoutHeight:"50%",fitInLayout:!0,style:flatUI.styles.TextField.spin_button_text,align:"center"}).setParams({textAlign:"center"})])])]),new u.default(function(){return t.spinButtonPressed()},function(){return t.openAutospinPanel()},{spineSkeleton:e.uiConfig.actionButtonAnimation,id:"spinButton",buttonType:"spinButton"}),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",propagateState:!0,id:"giftspins"},[new flatUI.buttons.SpineAnimationButton(function(){return t.spinButtonPressed()},{spineSkeleton:e.uiConfig.actionButtonAnimation,buttonType:"blankButton"}),new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"100%",layoutWidth:"100%"},[new flatUI.text.TextField("0",{layoutWidth:"90%",layoutHeight:"native",style:flatUI.styles.TextField.spin_button_numbers,align:"center",id:"giftspinsLeft"}),new flatUI.text.TextField("button_description_gift_spins".ls().toUpperCase(),{layoutWidth:"70%",layoutHeight:"50%",fitInLayout:!0,style:flatUI.styles.TextField.spin_button_text,align:"center"}).setParams({textAlign:"center"})])]),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"respins"},[new flatUI.buttons.SpineAnimationButton(function(){return t.spinButtonPressed()},{spineSkeleton:e.uiConfig.actionButtonAnimation,buttonType:"blankButton"}),new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"100%",layoutWidth:"100%"},[e.uiConfig.compactRespins?null:new flatUI.text.TextField("0",{layoutWidth:"90%",layoutHeight:"native",style:flatUI.styles.TextField.spin_button_numbers,align:"center",id:"respinsLeft"}),new flatUI.text.TextField("button_description_respins".ls().toUpperCase(),{layoutWidth:"90%",layoutHeight:"50%",fitInLayout:!0,style:flatUI.styles.TextField.spin_button_text,align:"center"}).setParams({textAlign:"center"})])]),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"startFreespinsButton",propagateState:!0},[new flatUI.buttons.SpineAnimationButton(function(){return c2d.eventManager.dispatch(game.events.FlatUI.FREESPINS_START_PRESSED)},{spineSkeleton:e.uiConfig.actionButtonAnimation,buttonType:"collectButton"})]),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"stopButton"},[new flatUI.buttons.SpineAnimationButton(function(){return t.stopButtonPressed()},{spineSkeleton:e.uiConfig.actionButtonAnimation,buttonType:"stopButton"}),new flatUI.text.TextField("0",{layoutWidth:"100%",style:flatUI.styles.TextField.autospin_button_numbers,align:"center",id:"autospinsLeft"})]),new flatUI.buttons.SpineAnimationButton(function(){return t.playButtonPressed()},{spineSkeleton:e.uiConfig.actionButtonAnimation,id:"playButton",buttonType:"collectButton"})]),new flatUI.layout.Spacer])).buttons={},["spinButton","startFreespinsButton","collectButton","freeSpinsInfoPanel","giftspins","playButton","stopButton","respins"].forEach(function(e){t.buttons[e]=t.findChildById(e)}),t.selected=!1,t}return(0,a.default)(l,[{key:"spinButtonPressed",value:function(){c2d.eventManager.dispatch(game.events.FlatUI.SPIN_PRESSED),this.autospinPanel&&this.autospinPanel.collapse()}},{key:"playButtonPressed",value:function(){c2d.eventManager.dispatch(game.events.FlatUI.PLAY_BUTTON_PRESSED)}},{key:"stopButtonPressed",value:function(){c2d.eventManager.dispatch(game.events.FlatUI.CANCEL_AUTOSPINS_PRESSED)}},{key:"collectButtonPressed",value:function(){c2d.eventManager.dispatch(game.events.FlatUI.COLLECT_PRESSED)}},{key:"openAutospinPanel",value:function(){var t=this;this.longClickEnabled&&c2d.env.autospinsEnabled&&(this.autospinPanel?this.autospinPanel.collapse():(this.autospinPanel=new c.default({callback:function(e){return t.selectAutospins(e)},dismissCallback:function(){return t.hideAutospinPanel()},expandPadding:this.settings.expandPadding}),this.parent.addChild(this.autospinPanel),this.autospinPanel.expand(),this.findChildById("autospinLabel").visible=!1,this.findChildById("autospinLabeloff").visible=!1))}},{key:"onAutospinStarted",value:function(){this.selected=!0,this.autospinPanel&&this.autospinPanel.onAutospinStarted()}},{key:"hideAutospinPanel",value:function(){this.selected||(this.findChildById("autospinLabel").visible=!0,this.findChildById("autospinLabeloff").visible=!0),this.autospinPanel=null,this.selected=!1}},{key:"setState",value:function(n){var l=this;"actionButton"===n.type?Object.assign(this,n.params):(Object.keys(this.buttons).forEach(function(e){var t;n.type===e?(t=l.buttons[n.type],Object.assign(t,n.params),t.visible=!0,t.settings.propagateState&&t.components.filter(function(e){return!e.notInheritState}).forEach(function(e){return Object.assign(e,n.params)})):(l.buttons[e].visible=!1,"spinButton"===e&&void 0!==n.params.longClickEnabled&&(l.buttons[e].longClickEnabled=n.params.longClickEnabled))}),"freeSpinsInfoPanel"===n.type&&(this.findChildById("fullFreespins").visible=!this.settings.uiConfig.compactFreespins,this.findChildById("compactFreespins").visible=!!this.settings.uiConfig.compactFreespins),this.findChildById("autospinLabel").visible="spinButton"===n.type&&!this.autospinPanel,this.findChildById("autospinLabeloff").visible=""!==n.type&&("stopButton"===n.type||!this.autospinPanel),this._forceHide&&(this.visible=!1))}},{key:"forceHide",value:function(){this._forceHide=!0,this.visible=!1}},{key:"cancelForceHide",value:function(){this._forceHide=!1,this.visible=!0}},{key:"longClickEnabled",get:function(){return this.findChildById("spinButton").longClickEnabled}}]),l}(flatUI.layout.VerticalLayout);n.default=l},{"./SpinButtonSpine.js":138,"./autospin/AutospinPanel.js":139,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],134:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("../../common/controlsPanel/ControlsPanel.js")),c=l(e("./ActionButton.js")),h=l(e("./ActionButtonSpine.js")),f=l(e("./bet/BetPanel.js")),d=l(e("./balance/BalancePanel.js")),p=l(e("./bet/BetExpandedPanel.js")),y=l(e("../../common/controlsPanel/Clock.js")),b=l(e("./QuickSettingsPanel.js"));function m(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}var g={paytableButton:{textures:{normal:"PAYTABLE_normal",hover:"PAYTABLE_hover",pressed:"PAYTABLE_pressed",disabled:"PAYTABLE_disabled"}},betSub:{textures:{normal:"BET_SUB_normal",hover:"BET_SUB_hover",pressed:"BET_SUB_pressed",disabled:"BET_SUB_disabled"}},homeButton:{textures:{normal:"HOME_normal",hover:"HOME_hover",pressed:"HOME_pressed",disabled:"HOME_disabled"}},betAdd:{textures:{normal:"BET_ADD_normal",hover:"BET_ADD_hover",pressed:"BET_ADD_pressed",disabled:"BET_ADD_disabled"}},footerPanel:"desktop_footer_panel",footerPanel_qs:"desktop_footer_panel_qs"},l=function(e){(0,o.default)(i,e);var l=m(i);function i(e){(0,a.default)(this,i);var t,n=e.expandPadding;void 0===n&&(n=0);return(t=l.call(this,{align:"middle",layoutWidth:c2d.designSize.width,layoutHeight:c2d.designSize.height+2,id:"controlsPanel"},[new flatUI.layout.HorizontalLayout({align:"top",layoutHeight:"60px",layoutWidth:"99%"},[new flatUI.layout.VerticalLayout({align:"left",layoutWidth:"400px",layoutHeight:"100%"},[!1!==e.showTitle&&new flatUI.text.TextField(c2d.env.gameTitle,{layoutWidth:"100%",layoutHeight:"30px",style:flatUI.styles.TextField.main_screen_gameName,align:"left"}),new flatUI.buttons.TextButton("?",function(){return c2d.eventManager.dispatch(game.events.FlatUI.OPTIONS_PRESSED,{page:"Rules"})},{id:"rules",layoutWidth:"20px",layoutHeight:"30px",text:{style:flatUI.styles.TextField.main_screen_gameName,align:"left"},button:{style:{normal:{alpha:1e-4},hover:{alpha:1e-4},pressed:{alpha:1e-4},disabled:{alpha:1e-4}}}})]),new flatUI.layout.Spacer,c2d.env.showClock?new y.default:null]),new flatUI.layout.Spacer,c2d.env.showExitButton&&new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"100px"},[new flatUI.buttons.IconButton(function(){return c2d.env.goToLobby()},{align:"center",layoutWidth:"100px",layoutHeight:"100%",style:g.homeButton,id:"home",swallowEvents:!0}),new flatUI.layout.Spacer]),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"102px"},[new flatUI.graphics.Icon(g.footerPanel,{align:"center",layoutWidth:"native",layoutHeight:"native",id:"desktop_footer_panel"}),new flatUI.graphics.Icon(g.footerPanel_qs,{align:"center",layoutWidth:"native",layoutHeight:"native",id:"desktop_footer_panel_qs_effect"}),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"footPanel"},[new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"40%",layoutHeight:"100%"},[new flatUI.layout.Spacer,new flatUI.buttons.IconButton(function(){return c2d.eventManager.dispatch(game.events.FlatUI.PAYTABLE_PRESSED)},{layoutWidth:"native",style:g.paytableButton,id:"paytable"}),new d.default(function(e){return t.onTextClick(e)},{align:"middle",layoutWidth:"47%",layoutHeight:"100%",styles:g,id:"balancePanel"}),new f.default(function(e){return t.onTextClick(e)},{align:"center",layoutWidth:"42%",layoutHeight:"100%",expandPadding:n,styles:g,id:"betPanel"})]),new flatUI.layout.Spacer,new(e.actionButtonAnimation?h:c).default({align:"middle",layoutWidth:"155px",layoutHeight:"120px",id:"actionButton",uiConfig:e,expandPadding:n}),new flatUI.layout.Spacer,new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"40%",layoutHeight:"100%"},[new flatUI.layout.FrameLayout({align:"center",layoutWidth:"65%",layoutHeight:"100%"},[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"100%",id:"radio"},[new flatUI.layout.Spacer,new flatUI.text.TextField("0",{layoutWidth:"100%",layoutHeight:"50%",style:flatUI.styles.TextField.main_screen_numbers,align:"center",id:"win"}),new flatUI.text.TextField("you_win".ls().toUpperCase(),{layoutWidth:"100%",layoutHeight:"20%",style:flatUI.styles.TextField.main_screen_text,align:"center",id:"winLabel"}),new flatUI.layout.Spacer]),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"120%",layoutHeight:"100px",id:"introTumbler"},[new flatUI.layout.GridLayout({columnCount:1,padding:0,textFieldWidth:!0},[new flatUI.text.TextField("dont_show_next_time_intro".ls(),{align:"center",style:flatUI.styles.TextField.main_screen_show_intro})]),new flatUI.layout.Spacer({layoutWidth:"20px"}),new flatUI.buttons.Tumbler(function(e){return t.onIntroTumblerSwitch(e)},{align:"center",layoutWidth:"native",layoutHeight:"native",toggled:c2d.env.storage.getItem("skipIntro",!1),style:{textures:{on:{back:"TUMBLER_BACK_on",pin:"TUMBLER_on"},off:{back:"TUMBLER_BACK_off",pin:"TUMBLER_off"}}}}),new flatUI.layout.Spacer])]),new b.default,new flatUI.layout.Spacer])])])])).buttonsList=["paytable","betSub","betAdd","spinButton","startFreespinsButton","collectButton"].map(function(e){return t.findChildById(e)}),t.actionButton={},t.quickStopCb=function(){document.removeEventListener("mousedown",t.quickStopCb),document.removeEventListener("touchstart",t.quickStopCb),document.removeEventListener("keyup",t.quickStopBySpace),c2d.eventManager.dispatch(game.events.FlatUI.QUICK_STOP_PRESSED),c2d.Tween.get(t.findChildById("desktop_footer_panel_qs_effect")).to({alpha:.1},70).to({alpha:0},300),c2d.Tween.get(t.findChildById("autospinLabelQsEffect")).to({alpha:.1},70).to({alpha:0},300)},t.quickStopBySpace=function(e){!c2d.env.storage.getItem("spinBySpace",!0)||32!=e.key&&32!=e.keyCode||t.quickStopCb()},t.skipWinBySpace=function(e){!c2d.env.storage.getItem("spinBySpace",!0)||32!=e.key&&32!=e.keyCode||t.skipWinCb()},t.skipWinCb=function(e){c2d.eventManager.dispatch(game.events.FlatUI.SKIP_WIN_PRESSED,{needSpin:!1})},t.layout(),t.findChildById("desktop_footer_panel_qs_effect").alpha=0,t.findChildById("desktop_footer_panel").alpha=1,t.findChildById("autospinLabelQsEffect").alpha=0,t}return(0,r.default)(i,[{key:"onTextClick",value:function(e){var t=this.findChildById("betPanel");this.betExpandedPanel?this.betExpandedPanel.expanded?(e.stopPropagation(),this.betExpandedPanel.collapse()):this.betExpandedPanel.expand(t.cashData):(this.betExpandedPanel=new p.default({callback:function(){return c2d.eventManager.dispatch(game.events.FlatUI.SET_BET_LEVEL)},expandPadding:t.settings.expandPadding}),this.addChild(this.betExpandedPanel),this.betExpandedPanel.expand(t.cashData))}},{key:"removeSkipListeners",value:function(){document.removeEventListener("mouseup",this.skipWinCb),document.removeEventListener("keyup",this.skipWinBySpace)}},{key:"addSkipListeners",value:function(){document.addEventListener("mouseup",this.skipWinCb),document.addEventListener("keyup",this.skipWinBySpace)}},{key:"collapseAutospinPanel",value:function(){this.autospinPanel&&this.autospinPanel.expanded&&this.autospinPanel.collapse()}}]),i}(u.default);n.default=l},{"../../common/controlsPanel/Clock.js":59,"../../common/controlsPanel/ControlsPanel.js":60,"./ActionButton.js":132,"./ActionButtonSpine.js":133,"./QuickSettingsPanel.js":136,"./balance/BalancePanel.js":140,"./bet/BetExpandedPanel.js":141,"./bet/BetPanel.js":142,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],135:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/toConsumableArray"))),o=l(e("@babel/runtime/helpers/classCallCheck")),i=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/inherits")),a=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}l=function(e){(0,s.default)(a,e);var n=c(a);function a(l,e){var i,t=e.content,e=e.titleContent,e=void 0===e?[]:e;return(0,o.default)(this,a),(i=n.call(this,l.settings||{layoutWidth:"850px",layoutHeight:"250px",align:"middle",style:{color:0,alpha:.8}},[new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"80px",style:{alpha:0}},[new flatUI.panel.Panel({layoutWidth:""!=c2d.env.cashUrl?"20px":"80px",layoutHeight:"100%",style:{alpha:0}})].concat((0,r.default)(e),[new flatUI.layout.Spacer,new flatUI.text.TextField(l.title.toUpperCase(),{layoutWidth:"500px",layoutHeight:"100%",style:flatUI.styles.TextField.main_screen_text,align:"center"}),new flatUI.layout.Spacer,new flatUI.buttons.IconButton(function(){return i.collapse()},{layoutHeight:"100%",layoutWidth:"80px",align:"center",style:{textures:{normal:"BUTTON_CLOSE_normal",hover:"BUTTON_CLOSE_hover",pressed:"BUTTON_CLOSE_pressed",disabled:"BUTTON_CLOSE_disabled"}}})]))].concat((0,r.default)(t),[new flatUI.layout.Spacer])))._clickOutsideHandler=function(e){var t=i.background.background.getBounds(),n=i.parent.background.background.getBounds(),n=!l.excludeParent||!n.contains(e);i.expanded&&!t.contains(e.offsetX,e.offsetY)&&n&&i.collapse()},i._expanded=!1,i.dismissCallback=l.settings.dismissCallback,i.isAnimated=!1,i.displayGroup=game.displayGroups.UI,i.zOrder=-1,i.layout(),i}return(0,i.default)(a,[{key:"expand",value:function(){var e=this;this.isAnimated||(this.isAnimated=!0,this.x=-this.parent.x,this.visible=!0,c2d.Tween.get(this,{override:!0}).to({alpha:1,y:this.y+this.settings.expandPadding-this.parseParamToPixel(this.layoutHeight,"height")},200,c2d.Tween.Ease.cubicOut).call(function(){e.expanded=!0,e.isAnimated=!1}),c2d.engine._canvas.addEventListener("mousedown",this._clickOutsideHandler,!1))}},{key:"collapse",value:function(){var e=this;this.isAnimated||(this.isAnimated=!0,c2d.engine._canvas.removeEventListener("mousedown",this._clickOutsideHandler,!1),c2d.Tween.get(this,{override:!0}).to({y:0,alpha:0},100,c2d.Tween.Ease.cubicOut).call(function(){e.expanded=!1,e.isAnimated=!1,e.visible=!1}),this.dismissCallback&&this.dismissCallback())}},{key:"expanded",get:function(){return this._expanded},set:function(e){this._expanded=e}}]),a}(flatUI.layout.VerticalLayout);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/toConsumableArray":25}],136:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./sound/SoundExpandedPanel.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}var h={turboButton:{normal:{textures:{normal:"TURBO_OFF_normal",hover:"TURBO_OFF_hover",pressed:"TURBO_OFF_pressed",disabled:"TURBO_OFF_disabled"}},toggled:{textures:{normal:"TURBO_ON_normal",hover:"TURBO_ON_hover",pressed:"TURBO_ON_pressed",disabled:"TURBO_ON_disabled"}}},soundButton:{toggled:{textures:{normal:"SOUND_ON_normal",hover:"SOUND_ON_hover",pressed:"SOUND_ON_pressed",disabled:"SOUND_ON_disabled"}},normal:{textures:{normal:"SOUND_OFF_normal",hover:"SOUND_OFF_hover",pressed:"SOUND_OFF_pressed",disabled:"SOUND_OFF_disabled"}}},settingsButton:{textures:{normal:"SETTINGS_normal",hover:"SETTINGS_hover",pressed:"SETTINGS_pressed",disabled:"SETTINGS_disabled"}},fullscreenButton:{normal:{textures:{normal:"FULLSCREEN_ON_normal",hover:"FULLSCREEN_ON_hover",pressed:"FULLSCREEN_ON_pressed",disabled:"FULLSCREEN_ON_disabled"}},toggled:{textures:{normal:"FULLSCREEN_OFF_normal",hover:"FULLSCREEN_OFF_hover",pressed:"FULLSCREEN_OFF_pressed",disabled:"FULLSCREEN_OFF_disabled"}}}},l=function(e){(0,r.default)(l,e);var n=c(l);function l(){var t;return(0,i.default)(this,l),(t=n.call(this,{align:"center",layoutWidth:"native",layoutHeight:"100%",padding:5,columnCount:50,id:"quickSettingsPanel"},null)).findChildById("audio").hoverHandler=function(){return t.openSoundPanel()},t.findChildById("audio").outHandler=function(){return t.closeSoundPanel()},c2d.eventManager.subscribe(game.events.FlatUI.ON_AUDIO_MODE_CHANGED,function(e){!1===e.data&&t.closeSoundPanel(!0),t.findChildById("audio").toggled!=e.data&&(t.findChildById("audio").toggled=e.data)}),c2d.eventManager.subscribe(game.events.FlatUI.ON_TURBO_MODE_CHANGED,function(e){t.findChildById("turbo").toggled!=e.data&&(t.findChildById("turbo").toggled=e.data)}),c2d.eventManager.subscribe(c2d.documentEvents.SCREEN_WAS_RESIZED,function(){t.findChildById("fullscreen").toggled=screenfull.isFullscreen}),c2d.eventManager.subscribe(game.events.FlatUI.ON_AUDIO_VISIBILITY_CHANGED,function(e){t.hideAudio=!e.data,t.reInflateLayout(),t.layout()}),c2d.eventManager.subscribe(game.events.FlatUI.ON_FULLSCREEN_VISIBILITY_CHANGED,function(e){t.hideFullscreen=!e.data,t.reInflateLayout(),t.layout()}),t}return(0,a.default)(l,[{key:"inflateDesktopLayout",value:function(){return[c2d.env.showTurboButton?new flatUI.buttons.ToggleIconButton(function(e){return c2d.eventManager.dispatch(game.events.FlatUI.TURBO_PRESSED,e)},{layoutWidth:"native",style:h.turboButton,id:"turbo",toggled:c2d.env.storage.getItem("turboMode",!1)}):null,this.hideAudio?null:new flatUI.buttons.ToggleIconButton(function(e){return c2d.eventManager.dispatch(game.events.FlatUI.AUDIO_PRESSED,e)},{layoutWidth:"native",style:h.soundButton,id:"audio",toggled:c2d.env.storage.getItem("audioEnabled",!0)}),new flatUI.buttons.IconButton(function(){return c2d.eventManager.dispatch(game.events.FlatUI.OPTIONS_PRESSED,{page:"Settings"})},{layoutWidth:"native",style:h.settingsButton,id:"options"}),this.hideFullscreen?null:new flatUI.buttons.ToggleIconButton(function(e){return c2d.eventManager.dispatch(game.events.FlatUI.FULLSCREEN_PRESSED,e)},{layoutWidth:"native",style:h.fullscreenButton,id:"fullscreen",toggled:screenfull.isFullscreen})]}},{key:"openSoundPanel",value:function(){var e;!1===c2d.env.storage.getItem("audioEnabled")||this.soundExpandedPanel||(e=c2d.env.storage.getItem("masterVolume",1),this.soundExpandedPanel=new u.default(e),this.findChildById("audio").addChild(this.soundExpandedPanel),this.soundExpandedPanel.expand())}},{key:"closeSoundPanel",value:function(){var e=this;this.soundExpandedPanel&&this.soundExpandedPanel.collapse(0<arguments.length&&void 0!==arguments[0]&&arguments[0]?0:350,function(){e.soundExpandedPanel&&(e.soundExpandedPanel.removeFromParent(),e.soundExpandedPanel=null)})}}]),l}(flatUI.layout.GridLayout);n.default=l},{"./sound/SoundExpandedPanel.js":144,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],137:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/get")),u=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,u.default)(a,e);var i=h(a);function a(e,t,n){var l;return(0,r.default)(this,a),(l=i.call(this,e,n))._longClickHandler=t,l._longClickDone=!1,document.addEventListener("keyup",function(e){!c2d.env.storage.getItem("spinBySpace",!0)||!l.enabled||32!=e.key&&32!=e.keyCode||l.root.popup||c2d.env.spinTimeout||l.doClick()},!1),l}return(0,o.default)(a,[{key:"onOut",value:function(){(0,s.default)((0,c.default)(a.prototype),"onOut",this).call(this),this.cancelLongClickHandler()}},{key:"onDown",value:function(){(0,s.default)((0,c.default)(a.prototype),"onDown",this).call(this),this.initLongClickHandler()}},{key:"doClick",value:function(){this._longClickDone?this.cancelLongClickHandler():((0,s.default)((0,c.default)(a.prototype),"doClick",this).call(this),c2d.Tween.get(this.icon.icon.scale).to({x:1.07,y:1.07},70).to({x:1,y:1},100))}},{key:"onClick",value:function(){this.cancelLongClickHandler()}},{key:"initLongClickHandler",value:function(){var e=this;c2d.Tween.get(this.icon.icon).wait(750).call(function(){e._longClickHandler(),e.onHover(),e.icon.icon.rotation=0,e._longClickDone=!0}).to({rotation:2*Math.PI},500,c2d.Tween.Ease.cubicOut).call(function(){})}},{key:"cancelLongClickHandler",value:function(){c2d.Tween.removeTweens(this.icon.icon),this.icon.icon.rotation=0,this._longClickDone=!1}}]),a}(flatUI.buttons.IconButton);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],138:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/get")),u=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,u.default)(a,e);var i=h(a);function a(e,t,n){var l;return(0,r.default)(this,a),(l=i.call(this,e,n))._longClickHandler=t,l._longClickDone=!1,document.addEventListener("keyup",function(e){!c2d.env.storage.getItem("spinBySpace",!0)||!l.enabled||32!=e.key&&32!=e.keyCode||l.root.popup||c2d.env.spinTimeout||(l.state="pressed",l.doClick())},!1),l}return(0,o.default)(a,[{key:"onOut",value:function(){(0,s.default)((0,c.default)(a.prototype),"onOut",this).call(this),this.cancelLongClickHandler()}},{key:"onDown",value:function(){(0,s.default)((0,c.default)(a.prototype),"onDown",this).call(this),this.initLongClickHandler()}},{key:"doClick",value:function(){this._longClickDone?this.cancelLongClickHandler():(0,s.default)((0,c.default)(a.prototype),"doClick",this).call(this)}},{key:"onClick",value:function(){this.cancelLongClickHandler()}},{key:"initLongClickHandler",value:function(){var e=this;c2d.Tween.get(this).wait(750).call(function(){e._longClickHandler(),e.onHover(),e._longClickDone=!0}).wait(500).call(function(){})}},{key:"cancelLongClickHandler",value:function(){c2d.Tween.removeTweens(this),this._longClickDone=!1}}]),a}(flatUI.buttons.SpineAnimationButton);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],139:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,o.default)(i,e);var l=u(i);function i(e){(0,a.default)(this,i);var t={button:{layoutWidth:"166px",layoutHeight:"60px",text:{style:flatUI.styles.TextField.main_screen_numbers,align:"center"},button:{style:{normal:{color:0,alpha:1,strokeColor:2368548,strokeSize:2},hover:{color:flatUI.styles.Color.accent,alpha:1},pressed:{color:flatUI.styles.Color.accent,alpha:1},disabled:{color:16777215,alpha:0,strokeColor:15658734}},round:!0}},panel:{color:0,alpha:.8}},n=l.call(this,{settings:{layoutWidth:e.expandPadding?"1150px":"800px",layoutHeight:e.expandPadding?"402px":"300px",align:"middle",style:t.panel,id:"autospinPanel",dismissCallback:e.dismissCallback},title:"expand_panel_autospin".ls()},{content:[new flatUI.layout.GridLayout({columnCount:4,padding:15},[new flatUI.buttons.TextButton("5",function(){return n.buttonClickHandler(5)},t.button),new flatUI.buttons.TextButton("10",function(){return n.buttonClickHandler(10)},t.button),new flatUI.buttons.TextButton("15",function(){return n.buttonClickHandler(15)},t.button),new flatUI.buttons.TextButton("20",function(){return n.buttonClickHandler(20)},t.button),new flatUI.buttons.TextButton("25",function(){return n.buttonClickHandler(25)},t.button),new flatUI.buttons.TextButton("50",function(){return n.buttonClickHandler(50)},t.button),new flatUI.buttons.TextButton("75",function(){return n.buttonClickHandler(75)},t.button),new flatUI.buttons.TextButton("100",function(){return n.buttonClickHandler(100)},t.button)])]});return n.callback=e.callback,n.interactive=!0,n.onmousedown=function(e){return e.stopImmediatePropagation()},n}return(0,r.default)(i,[{key:"buttonClickHandler",value:function(e){c2d.eventManager.dispatch(game.events.FlatUI.AUTOSPIN_PRESSED,{value:e})}},{key:"onAutospinStarted",value:function(){var e=this;this.interactiveChildren=!1,c2d.Tween.get(this,{override:!0}).wait(300).call(function(){e.collapse()})}},{key:"expand",value:function(){this.expanded=!0,this.x=(this.parent.width-this.width)/2,c2d.Tween.get(this,{override:!0}).to({alpha:1,y:this.y+(this.layoutHeight-300)-this.parseParamToPixel(this.layoutHeight,"height")},200,c2d.Tween.Ease.cubicOut),c2d.engine._canvas.addEventListener("mousedown",this._clickOutsideHandler,!1)}}]),i}(l(e("../ExpandedPanel.js")).default);n.default=l},{"../ExpandedPanel.js":135,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],140:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}var c={button:{normal:{alpha:1e-4},hover:{alpha:1e-4},pressed:{alpha:1e-4},disabled:{alpha:1e-4}}},l=function(e){(0,o.default)(i,e);var l=u(i);function i(e,t){var n;return(0,a.default)(this,i),n=l.call(this,t,[new flatUI.layout.Spacer,new flatUI.buttons.TextButton("0",e,{layoutWidth:"70%",layoutHeight:"50%",text:{style:flatUI.styles.TextField.main_screen_numbers,align:"center",fitInLayout:!0},button:{style:c.button},id:"balance"}),new flatUI.buttons.TextButton("expand_panel_balance".ls().toUpperCase(),e,{layoutWidth:"70%",layoutHeight:"20%",text:{style:flatUI.styles.TextField.main_screen_text,align:"center"},button:{style:c.button},id:"balanceLabel"}).setParams({interactive:""!=c2d.env.cashUrl}),new flatUI.layout.Spacer]),c2d.eventManager.subscribe(game.events.FlatUI.ON_CASH_CHANGED,function(e){return n.onBetChanged(e.data)}),n}return(0,r.default)(i,[{key:"onBetChanged",value:function(e){var t=e.toCurrency,n=e.balance;this.cashData=e,this.findChildById("balance").text!=t(n)&&game.api.postEvent({message:"app.state",state:{balance:n}}),this.findChildById("balance").text=t(n)}},{key:"enabled",set:function(e){this.findChildById("balance").enabled=e,this.findChildById("balanceLabel").enabled=e}}]),i}(flatUI.layout.VerticalLayout);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],141:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/defineProperty"))),a=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(t,e){var n,l=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,n)),l}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach(function(e){(0,i.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(l,e);var n=f(l);function l(e){var t;return(0,a.default)(this,l),(t=n.call(this,{settings:{layoutWidth:"850px",layoutHeight:e.expandPadding+300,align:"middle",expandPadding:e.expandPadding,style:{color:0,alpha:.8}},title:"expand_panel_bet".ls().toUpperCase(),excludeParent:!0},{content:[new flatUI.layout.Spacer,new flatUI.text.TextField("100",{layoutWidth:"100%",layoutHeight:"70px",style:flatUI.styles.TextField.main_screen_numbers,align:"center",id:"BetExpandedPanel#currentBet"}),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"5px"},[new flatUI.text.TextField("0",{layoutWidth:"18%",layoutHeight:"100%",style:flatUI.styles.TextField.main_screen_numbers,align:"center",id:"BetExpandedPanel#minBet"}),new flatUI.slider.Slider(function(e){return t.changeBet(e)},{layoutWidth:"60%",step:1,value:10,maxValue:100,style:{textures:{back:"PROGRESS_BAR_empty",fore:"PROGRESS_BAR_full",pin:"TUMBLER"}},id:"BetExpandedPanel#betSlider"}),new flatUI.text.TextField("100",{layoutWidth:"22%",layoutHeight:"100%",style:flatUI.styles.TextField.main_screen_numbers,align:"center",id:"BetExpandedPanel#maxBet"})]),new flatUI.layout.Spacer({layoutWeight:.5}),new flatUI.text.TextField("max_win".ls()+"12345678890",{layoutWidth:"70%",layoutHeight:"70px",fitInLayout:!0,style:h(h({},flatUI.styles.TextField.main_screen_text),{},{fontWeight:"700",fontSize:"20px",fill:flatUI.styles.Color.accent}),align:"center",id:"BetExpandedPanel#maxWinInTotalBets"}).setParams({visible:c2d.env.showMaxWinRtpMessage}),new flatUI.layout.Spacer({layoutWeight:.5})],titleContent:[""!=c2d.env.cashUrl&&new flatUI.buttons.TextButton("go_to_bank".ls(),function(){return c2d.env.goToBank()},{layoutWidth:"300px",layoutHeight:"60px",text:{style:flatUI.styles.TextField.main_screen_numbers,fitInLayout:!0,align:"center"},button:{style:flatUI.styles.FlatButton.accent}})]})).isAnimated=!1,t.callback=e.callback,c2d.eventManager.subscribe(game.events.FlatUI.ON_CASH_CHANGED,function(e){return t.onBetChanged(e.data)}),t}return(0,r.default)(l,[{key:"onBetChanged",value:function(e){var t=e.toCurrency,n=e.bet,e=e.betLevel;this.findChildById("BetExpandedPanel#currentBet").text=t(n),this.findChildById("BetExpandedPanel#betSlider").value=e-1,this.findChildById("BetExpandedPanel#maxWinInTotalBets").text="max_win".ls({rtp:this.rtp,max:t(n),min:t(Number((c2d.env.maxWinInTotalBets*n*100).toFixed())/100)})}},{key:"expand",value:function(e){var t=this,n=e.toCurrency,l=e.bet,i=e.minBet,a=e.maxBet,r=e.betLevel,o=(e.minBetLevel,e.maxBetLevel),e=(e.totalBets,e.rtp);this.rtp=e,this.interactive=!0,this.isAnimated||(this.isAnimated=!0,this.y=c2d.screenParams.designHeight+this.layoutHeight,this.x=0,this.visible=!0,c2d.Tween.get(this,{override:!0}).to({alpha:1,y:c2d.screenParams.designHeight-this.layoutHeight-(0!=this.settings.expandPadding?0:100)},200,c2d.Tween.Ease.cubicOut).call(function(){t.expanded=!0,t.isAnimated=!1}),c2d.engine._canvas.addEventListener("mousedown",this._clickOutsideHandler,!1),this.findChildById("BetExpandedPanel#currentBet").text=n(l),this.findChildById("BetExpandedPanel#minBet").text=i,this.findChildById("BetExpandedPanel#maxBet").text=a,this.findChildById("BetExpandedPanel#betSlider").maxValue=o-1,this.findChildById("BetExpandedPanel#betSlider").value=r-1,this.findChildById("BetExpandedPanel#maxWinInTotalBets").text="max_win".ls({rtp:e,max:n(l),min:n(Number((c2d.env.maxWinInTotalBets*l*100).toFixed())/100)}))}},{key:"collapse",value:function(){var e=this;this.interactive=!1,this.isAnimated||(this.isAnimated=!0,c2d.engine._canvas.removeEventListener("mousedown",this._clickOutsideHandler,!1),c2d.Tween.get(this,{override:!0}).to({alpha:0},100,c2d.Tween.Ease.cubicOut).call(function(){e.expanded=!1,e.isAnimated=!1,e.visible=!1}),this.settings.dismissCallback&&this.dismissCallback())}},{key:"changeBet",value:function(e){c2d.eventManager.dispatch(game.events.FlatUI.SET_BET_LEVEL,e+1)}}]),l}(l(e("../ExpandedPanel.js")).default);n.default=l},{"../ExpandedPanel.js":135,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],142:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),o=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),i=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/inherits")),a=l(e("@babel/runtime/helpers/possibleConstructorReturn")),r=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./LongClickIconButton.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,r.default)(n);return e=l?(e=(0,r.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}var h={button:{normal:{alpha:1e-4},hover:{alpha:1e-4},pressed:{alpha:1e-4},disabled:{alpha:1e-4}}},l=function(e){(0,s.default)(r,e);var a=c(r);function r(e,t){function n(e){e=(e.data.global.x-i.toGlobal({x:0,y:0}).x)/(i.width*l.worldTransform.a),e=Math.min(e,1),e=Math.ceil(l.cashData.betRanges.length*e),c2d.eventManager.dispatch(game.events.FlatUI.SET_BET_LEVEL,e)}(0,o.default)(this,r),l=a.call(this,t,[new u.default(function(){return l.interactive&&c2d.eventManager.dispatch(game.events.FlatUI.DECREASE_BET_LEVEL)},function(){return l.onMinBetClick()},{align:"center",style:t.styles.betSub,id:"betSub"}).setParams({visible:!c2d.env.hideBetChangeButtons}),new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"250px",layoutHeight:"100%"},[new flatUI.layout.Spacer,new flatUI.buttons.TextButton("0",e,{layoutWidth:"70%",layoutHeight:"50%",text:{style:flatUI.styles.TextField.main_screen_numbers,align:"center",fitInLayout:!0},button:{style:h.button},id:"bet"}),new flatUI.text.TextField("panel_name_bet".ls().toUpperCase(),{layoutWidth:"100%",layoutHeight:"20%",style:flatUI.styles.TextField.main_screen_text,align:"center",id:"betLabel"}),new flatUI.layout.Spacer,new flatUI.progressbar.Progressbar({value:0,maxValue:5,layoutWidth:"65%",layoutHeight:"6px",style:flatUI.styles.Progressbar,id:"betSlider"})]),new u.default(function(){return l.interactive&&c2d.eventManager.dispatch(game.events.FlatUI.INCREASE_BET_LEVEL)},function(){return l.onMaxBetClick()},{align:"center",style:t.styles.betAdd,id:"betAdd"}).setParams({visible:!c2d.env.hideBetChangeButtons})]),document.addEventListener("keyup",function(e){!l.interactive||l.root.popup||l.root.optionsScreen||!c2d.env.storage.getItem("cursorButtonsToChangeBet",!0)||c2d.env.hideBetChangeButtons||(l.findChildById("betSub").enabled&&(37!=e.key&&37!=e.keyCode||l.findChildById("betSub").doClick(),40!=e.key&&40!=e.keyCode||l.findChildById("betSub").doClick()),l.findChildById("betAdd").enabled&&(39!=e.key&&39!=e.keyCode||l.findChildById("betAdd").doClick(),38!=e.key&&38!=e.keyCode||l.findChildById("betAdd").doClick()))},!1);var l,i=l.findChildById("betSlider");i.hitArea=new c2d.geom.Rectangle(0,-25,200,50),i.interactive=!c2d.env.hideBetChangeButtons;return i.mousedown=function(e){!l.interactive||e.data.originalEvent&&-1===e.data.originalEvent.button||(n(e),i.mousemove=function(e){e.data.originalEvent&&-1!==e.data.originalEvent.button&&n(e)},i.mouseup=i.mouseupoutside=function(){i.mousemove=null})},c2d.eventManager.subscribe(game.events.FlatUI.ON_CASH_CHANGED,function(e){return l.onBetChanged(e.data)}),l}return(0,i.default)(r,[{key:"onMinBetClick",value:function(){this.interactive&&(this.findChildById("betSub").enabled=!1,c2d.eventManager.dispatch(game.events.FlatUI.SET_BET_LEVEL,this.cashData.minBetLevel))}},{key:"onMaxBetClick",value:function(){this.interactive&&(this.findChildById("betAdd").enabled=!1,c2d.eventManager.dispatch(game.events.FlatUI.SET_BET_LEVEL,this.cashData.maxBetLevel))}},{key:"onBetChanged",value:function(e){var t=e.toCurrency,n=e.isEnoughMoneyToSpin,l=e.bet,i=e.betLevel,a=e.isMaxBet,r=e.maxBetLevel;this.cashData=e,this.findChildById("bet").text=t(l),this.findChildById("betSlider").setData({value:i,maxValue:r}),this.interactive&&(this.findChildById("betSlider").fore.tint=n?16777215:16733525,this.findChildById("betSub").enabled=1!=i,this.findChildById("betAdd").enabled=!a)}},{key:"enabled",set:function(e){this.findChildById("betSub").enabled=e&&1!=this.cashData.betLevel,this.findChildById("betAdd").enabled=e&&!this.cashData.isMaxBet,this.findChildById("bet").enabled=e,this.findChildById("betSlider").fore.tint=e?this.cashData.isEnoughMoneyToSpin?16777215:16733525:6316128,this.findChildById("betSlider").back.tint=e?16777215:10066329}}]),r}(flatUI.layout.HorizontalLayout);n.default=l},{"./LongClickIconButton.js":143,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],143:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/get")),s=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,s.default)(i,e);var l=c(i);function i(e,t,n){return(0,a.default)(this,i),(e=l.call(this,e,n))._longClickHandler=t,e._longClickDone=!1,e}return(0,r.default)(i,[{key:"onOut",value:function(){(0,o.default)((0,u.default)(i.prototype),"onOut",this).call(this),this.cancelLongClickHandler()}},{key:"onDown",value:function(){(0,o.default)((0,u.default)(i.prototype),"onDown",this).call(this),this.initLongClickHandler()}},{key:"doClick",value:function(){this._longClickDone?this.cancelLongClickHandler():(0,o.default)((0,u.default)(i.prototype),"doClick",this).call(this)}},{key:"onClick",value:function(){(0,o.default)((0,u.default)(i.prototype),"onClick",this).call(this),this.cancelLongClickHandler()}},{key:"initLongClickHandler",value:function(){var e=this;c2d.Tween.get(this).wait(500).call(function(){return e.doLongClick()})}},{key:"doLongClick",value:function(){this._longClickHandler(),this._longClickDone=!0,(0,o.default)((0,u.default)(i.prototype),"onClick",this).call(this)}},{key:"cancelLongClickHandler",value:function(){c2d.Tween.removeTweens(this),this._longClickDone=!1}}]),i}(flatUI.buttons.IconButton);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],144:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=u(n);function n(e){return(0,i.default)(this,n),(e=t.call(this,{align:"middle",layoutWidth:"50px",layoutHeight:"270px",style:{color:0,alpha:.8}},[new flatUI.slider.SliderVertical(function(e){return c2d.eventManager.dispatch(game.events.FlatUI.MASTER_VOLUME_CHANGED,e)},{layoutWidth:"40px",layoutHeight:"200px",value:e,maxValue:1,style:{textures:{back:"PROGRESS_BAR_empty_vertical",fore:"PROGRESS_BAR_full_vertical",pin:"TUMBLER_mini"}}})])).layout(),e.onMouseOver(),e.interactive=!0,e._isExpanded=!1,e.alpha=0,e}return(0,a.default)(n,[{key:"expand",value:function(){var e=this;this.y=-300,c2d.Tween.get(this,{override:!0}).wait(150).to({alpha:1},160,c2d.Tween.Ease.cubicIn).call(function(){return e._isExpanded=!0})}},{key:"collapse",value:function(e,t){var n=this;c2d.Tween.removeTweens(this),c2d.Tween.get(this,{override:!0}).wait(e).to({alpha:0},120,c2d.Tween.Ease.cubicOut).call(function(){n._isExpanded=!1,t()})}},{key:"onMouseOver",value:function(){var t=this;this.mouseover=function(e){e.stopPropagation(),e.data.originalEvent.stopPropagation(),t._isExpanded&&(c2d.Tween.removeTweens(t),t._resetParams())}}},{key:"_resetParams",value:function(){this.alpha=1,this.y=-301}}]),n}(flatUI.layout.VerticalLayout);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],145:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),l=function(){function e(){(0,i.default)(this,e),this.canvasElement=document.getElementById("slotCanvas"),this._on=c2d.env.storage.getItem("swipeModeOn",!1),this._firstSwipeDownDone=c2d.env.storage.getItem("firstSwipeDownDone",!1),this.startPoint=null,this._longClickStarted=!1,this._longClickDone=!1,this.isIdle=!1,this.isBGShowResultState=!1,this.isSpinButtonEnabled=!1,this._locked=!1,this.initEvents()}return(0,a.default)(e,[{key:"toggle",value:function(e){(this._on=e)&&!this.isChecked&&this.firstSwipeDownDone()}},{key:"isEnabled",get:function(){return this._on&&this.isSpinButtonEnabled}},{key:"isChecked",get:function(){return this._firstSwipeDownDone}},{key:"isSkip",get:function(){return this._on&&this.isBGShowResultState}},{key:"isLocked",get:function(){return this._locked}},{key:"lock",value:function(){this._locked=!0}},{key:"unlock",value:function(){this._locked=!1}},{key:"firstSwipeDownDone",value:function(){this._firstSwipeDownDone=!0,c2d.env.storage.setItem("firstSwipeDownDone",!0)}},{key:"initEvents",value:function(){var a=this;this.onTouchstart=function(e){1<e.touches.length?e.preventDefault():!a.isLocked&&a.isIdle&&(a.isSpinButtonEnabled&&!a._longClickStarted&&a.isIdle&&a.initLongClickHandler(),a.canvasElement.removeEventListener("touchstart",a.onTouchstart),a.canvasElement.addEventListener("touchmove",a.onTouchmove),a.startPoint=a.currentCursorPosition={x:e.changedTouches[0].screenX,y:e.changedTouches[0].screenY})},this.onTouchend=function(e){if(1<e.touches.length)e.preventDefault();else if(!a.isLocked&&a.isIdle&&a.startPoint){if(a._longClickStarted&&a.cancelLongClickHandler(),a._longClickDone)return a.canvasElement.addEventListener("touchstart",a.onTouchstart),void a.canvasElement.removeEventListener("touchmove",a.onTouchmove);var t=e.changedTouches[0].screenX,e=e.changedTouches[0].screenY,n=a.startPoint,e=e-n.y,t=t-n.x;a.startPoint=null,a.currentCursorPosition=null,Math.abs(e)>Math.abs(t)&&40<Math.abs(e)?c2d.eventManager.dispatch(0<e?a.isEnabled?game.events.FlatUI.SWIPE_DOWN_DONE:"empty":game.events.FlatUI.SWIPE_UP_DONE):Math.abs(t)>Math.abs(e)&&40<Math.abs(t)&&c2d.eventManager.dispatch(0<t?game.events.FlatUI.SWIPE_RIGHT_DONE:game.events.FlatUI.SWIPE_LEFT_DONE),!a.isEnabled&&!a.isChecked&&40<e&&c2d.eventManager.dispatch(game.events.FlatUI.FIRST_SWIPE_DOWN_DONE),a.canvasElement.addEventListener("touchstart",a.onTouchstart),a.canvasElement.removeEventListener("touchmove",a.onTouchmove)}},this.onTouchmove=function(e){1<e.touches.length?e.preventDefault():!a.isLocked&&a.isIdle&&a.startPoint&&(a.currentCursorPosition={x:e.changedTouches[0].screenX,y:e.changedTouches[0].screenY})},this.canvasElement.addEventListener("touchstart",function(e){var t,n,l,i;!a.isLocked&&a.isSpinButtonEnabled&&(t=e.changedTouches[0].screenX,n=e.changedTouches[0].screenY,l=function(e){e={x:e.touches[0].screenX,y:e.touches[0].screenY};a.isIdle&&20<e.x-t&&Math.abs(e.y-n)<Math.abs(e.x-t)/2&&(c2d.eventManager.dispatch(game.events.FlatUI.SWIPE_RIGHT_STARTED,e),i())},i=function e(t){a.canvasElement.removeEventListener("touchmove",l),a.canvasElement.removeEventListener("touchend",e),a.canvasElement.addEventListener("touchstart",a.onTouchstart),a.startPoint=null,a.cancelLongClickHandler()},a.canvasElement.addEventListener("touchmove",l),a.canvasElement.addEventListener("touchend",i))},!1),this.canvasElement.addEventListener("touchstart",this.onTouchstart),this.canvasElement.addEventListener("touchend",this.onTouchend)}},{key:"initLongClickHandler",value:function(){var n=this;this._longClickStarted=!0,this._longClickDone=!1,c2d.Tween.get(this).wait(300).call(function(){var e=n.currentCursorPosition,t=n.startPoint;10<c2d.geom.Point.distance(e,t)?n._longClickStarted=!1:n._longClickHandler()})}},{key:"cancelLongClickHandler",value:function(){c2d.Tween.removeTweens(this),this._longClickStarted=!1,this._longClickDone=!1}},{key:"_longClickHandler",value:function(){this._longClickStarted=!1,this._longClickDone=!0,c2d.eventManager.dispatch(game.events.FlatUI.LONG_CLICK_ON_SCREEN_DONE)}},{key:"applyState",value:function(e,t){this.isIdle=t===game.slots.constants.SlotsFSM.IDLE_STATE||t===game.slots.constants.SlotsFSM.GS_IDLE_STATE,this.isBGShowResultState=t===game.slots.constants.SlotsFSM.BG_SHOW_RESULT_STATE,!e.actionButton||"giftspins"!==e.actionButton.type&&"spinButton"!==e.actionButton.type||(this.isSpinButtonEnabled=e.actionButton.params.enabled)}}]),e}();n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],146:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./SpinButton.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}var h={spinButton:{textures:{normal:"SPIN_normal",hover:"SPIN_hover",pressed:"SPIN_pressed",disabled:"SPIN_disabled"}},stopButton:{textures:{normal:"STOP",hover:"STOP",pressed:"STOP",disabled:"STOP"}},blankButton:{textures:{normal:"BLANK_BUTTON_normal",hover:"BLANK_BUTTON_hover",pressed:"BLANK_BUTTON_pressed",disabled:"BLANK_BUTTON_disabled"}},blankButtonOther:{textures:{normal:"BLANK_BUTTON_other",hover:"BLANK_BUTTON_other",pressed:"BLANK_BUTTON_other",disabled:"BLANK_BUTTON_other"}},playButton:{textures:{normal:"PLAY_BUTTON_normal",hover:"PLAY_BUTTON_hover",pressed:"PLAY_BUTTON_pressed",disabled:"PLAY_BUTTON_disabled"}},spinButtonBack:"SPIN_background_mob"},f=["spinButton","stopButton"],l=function(e){(0,r.default)(l,e);var n=c(l);function l(e){var t;return(0,i.default)(this,l),(t=n.call(this,e,[new flatUI.graphics.Icon(h.spinButtonBack,{layoutWidth:"native",layoutHeight:"native",id:"spinButtonBack"}),new flatUI.layout.FrameLayout({layoutHeight:"100%",layoutWidth:"100%",align:"none"},[new flatUI.text.CurvedTextField("button_title_hold_autospin_curved".ls().toUpperCase(),{layoutHeight:"100%",layoutWidth:"100%",align:"center",style:flatUI.styles.TextField.main_screen_curved,id:"autospinLabel"})]).setParams({visible:c2d.env.autospinsEnabled}),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",propagateState:!0,id:"collectButton"},[new flatUI.buttons.IconButton(function(){return t.collectButtonPressed()},{style:h.playButton})]),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"freeSpinsInfoPanel"},[new flatUI.buttons.IconButton(null,{layoutWidth:"native",style:h.blankButtonOther,enabled:!1}),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%"},[new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"80%",layoutWidth:"80%",id:"fullFreespins"},[new flatUI.text.TextField("0",{layoutWidth:"90%",layoutHeight:"native",style:flatUI.styles.TextField.spin_button_numbers,align:"center",id:"freespinsCount"}),new flatUI.text.TextField("button_description_fs".ls().toUpperCase(),{layoutWidth:"70%",layoutHeight:"50%",fitInLayout:!0,style:flatUI.styles.TextField.spin_button_text,align:"center"}).setParams({textAlign:"center"})]),new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"80%",layoutWidth:"80%",id:"compactFreespins"},[new flatUI.text.TextField("button_description_fs".ls().toUpperCase(),{layoutWidth:"70%",layoutHeight:"50%",fitInLayout:!0,style:flatUI.styles.TextField.spin_button_text,align:"center"}).setParams({textAlign:"center"})])])]),new u.default(function(){return t.spinButtonPressed()},function(){return e.onLongClickDone()},{layoutWidth:"100%",layoutHeight:"100%",style:h.spinButton,align:"center",id:"spinButton"}),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",propagateState:!0,id:"giftspins"},[new flatUI.buttons.IconButton(function(){return t.spinButtonPressed()},{layoutWidth:"native",style:h.blankButton}),new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"80%",layoutWidth:"80%"},[new flatUI.text.TextField("0",{layoutWidth:"90%",layoutHeight:"native",style:flatUI.styles.TextField.spin_button_numbers,align:"center",id:"giftspinsLeft"}),new flatUI.text.TextField("button_description_gift_spins".ls().toUpperCase(),{layoutWidth:"70%",layoutHeight:"50%",fitInLayout:!0,style:flatUI.styles.TextField.spin_button_text,align:"center"}).setParams({textAlign:"center"})])]),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"respins"},[new flatUI.graphics.Icon(h.blankButton.textures.disabled,{layoutWidth:"native"}),new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"80%",layoutWidth:"80%"},[e.uiConfig.compactRespins?null:new flatUI.text.TextField("0",{layoutWidth:"90%",layoutHeight:"native",style:flatUI.styles.TextField.spin_button_numbers,align:"center",id:"respinsLeft"}),new flatUI.text.TextField("button_description_respins".ls().toUpperCase(),{layoutWidth:"80%",layoutHeight:"50%",fitInLayout:!0,style:flatUI.styles.TextField.spin_button_text,align:"center"}).setParams({textAlign:"center"})])]),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"startFreespinsButton"},[new flatUI.buttons.IconButton(function(){return c2d.eventManager.dispatch(game.events.FlatUI.FREESPINS_START_PRESSED)},{style:h.playButton})]),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"stopButton"},[new flatUI.buttons.IconButton(function(){return t.stopButtonPressed()},{style:h.stopButton}),new flatUI.text.TextField("0",{layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.TextField.autospin_button_numbers,align:"center",id:"autospinsLeft"})]),new flatUI.buttons.IconButton(function(){return t.playButtonPressed()},{align:"center",layoutWidth:"native",layoutHeight:"native",id:"playButton",style:h.playButton})])).buttons={},["spinButton","startFreespinsButton","collectButton","freeSpinsInfoPanel","giftspins","playButton","stopButton","respins"].forEach(function(e){t.buttons[e]=t.findChildById(e)}),t._longClickEnabled=!0,t}return(0,a.default)(l,[{key:"spinButtonPressed",value:function(){c2d.eventManager.dispatch(game.events.FlatUI.SPIN_PRESSED)}},{key:"playButtonPressed",value:function(){c2d.eventManager.dispatch(game.events.FlatUI.PLAY_BUTTON_PRESSED)}},{key:"stopButtonPressed",value:function(){c2d.eventManager.dispatch(game.events.FlatUI.CANCEL_AUTOSPINS_PRESSED)}},{key:"collectButtonPressed",value:function(){c2d.eventManager.dispatch(game.events.FlatUI.COLLECT_PRESSED)}},{key:"setState",value:function(n){var l=this;if("actionButton"===n.type)return Object.assign(this,n.params),this.findChildById("spinButtonBack").visible=n.params.visible&&!n.params.hideSpinButton,void(this.visible=n.params.visible&&!n.params.hideSpinButton);Object.keys(this.buttons).forEach(function(e){var t;n.type===e?(t=l.buttons[n.type],Object.assign(t,n.params),t.visible=!0,t.settings.propagateState&&t.components.filter(function(e){return!e.notInheritState}).forEach(function(e){return Object.assign(e,n.params)})):l.buttons[e].visible=!1}),"freeSpinsInfoPanel"===n.type&&(this.findChildById("fullFreespins").visible=!this.settings.uiConfig.compactFreespins,this.findChildById("compactFreespins").visible=!!this.settings.uiConfig.compactFreespins),this.findChildById("spinButtonBack").visible=""!=n.type,this.findChildById("autospinLabel").visible="spinButton"===n.type,this.findChildById("autospinLabel").alpha=this.findChildById("spinButtonBack").visible,this.visible=!(n.params.hideSpinButton&&f.contains(n.type)),this._forceHide&&(this.visible=!1)}},{key:"forceHide",value:function(){this._forceHide=!0,this.visible=!1}},{key:"cancelForceHide",value:function(){this._forceHide=!1,this.visible=!0}},{key:"longClickEnabled",get:function(){return this.findChildById("spinButton").longClickEnabled},set:function(e){this.findChildById("spinButton").longClickEnabled=e}}]),l}(flatUI.layout.FrameLayout);n.default=l},{"./SpinButton.js":149,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],147:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./SpinButtonSpine.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}var h="SPIN_background_mob",f=["spinButton","stopButton"],l=function(e){(0,r.default)(l,e);var n=c(l);function l(e){var t;return(0,i.default)(this,l),(t=n.call(this,e,[new flatUI.graphics.Icon(h,{layoutWidth:"native",layoutHeight:"native",id:"spinButtonBack"}),new flatUI.layout.FrameLayout({layoutHeight:"100%",layoutWidth:"100%",align:"none"},[new flatUI.text.CurvedTextField("button_title_hold_autospin_curved".ls().toUpperCase(),{layoutHeight:"100%",layoutWidth:"100%",align:"center",style:flatUI.styles.TextField.main_screen_curved,id:"autospinLabel"})]).setParams({visible:c2d.env.autospinsEnabled}),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",propagateState:!0,id:"collectButton"},[new flatUI.buttons.SpineAnimationButton(function(){return t.collectButtonPressed()},{spineSkeleton:e.uiConfig.actionButtonAnimation,buttonType:"collectButton",skipDisableAfterPressed:!0})]),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"freeSpinsInfoPanel"},[new flatUI.buttons.SpineAnimationButton(function(){return t.collectButtonPressed()},{spineSkeleton:e.uiConfig.actionButtonAnimation,enabled:!1,buttonType:"blankButton"}),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%"},[new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"80%",layoutWidth:"80%",id:"fullFreespins"},[new flatUI.text.TextField("0",{layoutWidth:"90%",layoutHeight:"native",style:flatUI.styles.TextField.spin_button_numbers,align:"center",id:"freespinsCount"}),new flatUI.text.TextField("button_description_fs".ls().toUpperCase(),{layoutWidth:e.uiConfig.actionButtonTextWidth||"78%",layoutHeight:"50%",fitInLayout:!0,style:flatUI.styles.TextField.spin_button_text,align:"center"}).setParams({textAlign:"center"})]),new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"80%",layoutWidth:"80%",id:"compactFreespins"},[new flatUI.text.TextField("button_description_fs".ls().toUpperCase(),{layoutWidth:e.uiConfig.actionButtonTextWidth||"78%",layoutHeight:"50%",fitInLayout:!0,style:flatUI.styles.TextField.spin_button_text,align:"center"}).setParams({textAlign:"center"})])])]),new u.default(function(){return t.spinButtonPressed()},function(){return e.onLongClickDone()},{spineSkeleton:e.uiConfig.actionButtonAnimation,id:"spinButton",buttonType:"spinButton"}),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",propagateState:!0,id:"giftspins"},[new flatUI.buttons.SpineAnimationButton(function(){return t.spinButtonPressed()},{spineSkeleton:e.uiConfig.actionButtonAnimation,buttonType:"blankButton",skipDisableAfterPressed:!0}),new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"70%",layoutWidth:"70%"},[new flatUI.text.TextField("0",{layoutWidth:"90%",layoutHeight:"native",style:flatUI.styles.TextField.spin_button_numbers,align:"center",id:"giftspinsLeft"}),new flatUI.text.TextField("button_description_gift_spins".ls().toUpperCase(),{layoutWidth:"60%",layoutHeight:"50%",fitInLayout:!0,style:flatUI.styles.TextField.spin_button_text,align:"center"}).setParams({textAlign:"center"})])]),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"respins"},[new flatUI.buttons.SpineAnimationButton(function(){return t.spinButtonPressed()},{spineSkeleton:e.uiConfig.actionButtonAnimation,buttonType:"blankButton"}),new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"80%",layoutWidth:"80%"},[e.uiConfig.compactRespins?null:new flatUI.text.TextField("0",{layoutWidth:"90%",layoutHeight:"native",style:flatUI.styles.TextField.spin_button_numbers,align:"center",id:"respinsLeft"}),new flatUI.text.TextField("button_description_respins".ls().toUpperCase(),{layoutWidth:"100%",layoutHeight:"50%",fitInLayout:!0,style:flatUI.styles.TextField.spin_button_text,align:"center"}).setParams({textAlign:"center"})])]),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"startFreespinsButton",propagateState:!0},[new flatUI.buttons.SpineAnimationButton(function(){return c2d.eventManager.dispatch(game.events.FlatUI.FREESPINS_START_PRESSED)},{spineSkeleton:e.uiConfig.actionButtonAnimation,buttonType:"collectButton",skipDisableAfterPressed:!0})]),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",id:"stopButton"},[new flatUI.buttons.SpineAnimationButton(function(){return t.stopButtonPressed()},{spineSkeleton:e.uiConfig.actionButtonAnimation,buttonType:"stopButton"}),new flatUI.text.TextField("0",{layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.TextField.autospin_button_numbers,align:"center",id:"autospinsLeft"})]),new flatUI.buttons.SpineAnimationButton(function(){return t.playButtonPressed()},{spineSkeleton:e.uiConfig.actionButtonAnimation,id:"playButton",buttonType:"collectButton",propagateState:!0,skipDisableAfterPressed:!0})])).buttons={},["spinButton","startFreespinsButton","collectButton","freeSpinsInfoPanel","giftspins","playButton","stopButton","respins"].forEach(function(e){t.buttons[e]=t.findChildById(e)}),t._longClickEnabled=!0,t}return(0,a.default)(l,[{key:"spinButtonPressed",value:function(){c2d.eventManager.dispatch(game.events.FlatUI.SPIN_PRESSED)}},{key:"playButtonPressed",value:function(){c2d.eventManager.dispatch(game.events.FlatUI.PLAY_BUTTON_PRESSED)}},{key:"stopButtonPressed",value:function(){c2d.eventManager.dispatch(game.events.FlatUI.CANCEL_AUTOSPINS_PRESSED)}},{key:"collectButtonPressed",value:function(){c2d.eventManager.dispatch(game.events.FlatUI.COLLECT_PRESSED)}},{key:"setState",value:function(n){var l=this;if("actionButton"===n.type)return Object.assign(this,n.params),this.findChildById("spinButtonBack").visible=n.params.visible&&!n.params.hideSpinButton,void(this.visible=n.params.visible&&!n.params.hideSpinButton);Object.keys(this.buttons).forEach(function(e){var t;n.type===e?(t=l.buttons[n.type],Object.assign(t,n.params),t.visible=!0,t.settings.propagateState&&t.components.filter(function(e){return!e.notInheritState}).forEach(function(e){return Object.assign(e,n.params)})):l.buttons[e].visible=!1}),"freeSpinsInfoPanel"===n.type&&(this.findChildById("fullFreespins").visible=!this.settings.uiConfig.compactFreespins,this.findChildById("compactFreespins").visible=!!this.settings.uiConfig.compactFreespins),this.findChildById("spinButtonBack").visible=""!=n.type,this.findChildById("autospinLabel").visible="spinButton"===n.type,this.findChildById("autospinLabel").alpha=this.findChildById("spinButtonBack").visible,this.visible=!(n.params.hideSpinButton&&f.contains(n.type)),this._forceHide&&(this.visible=!1)}},{key:"forceHide",value:function(){this._forceHide=!0,this.visible=!1}},{key:"cancelForceHide",value:function(){this._forceHide=!1,this.visible=!0}},{key:"longClickEnabled",get:function(){return this.findChildById("spinButton").longClickEnabled},set:function(e){this.findChildById("spinButton").longClickEnabled=e}}]),l}(flatUI.layout.FrameLayout);n.default=l},{"./SpinButtonSpine.js":150,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],148:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("../../common/controlsPanel/ControlsPanel.js")),c=l(e("./ActionButton.js")),h=l(e("./ActionButtonSpine.js")),f=l(e("./bet/BetPanel.js")),d=l(e("./bet/BetExpandedPanel.js")),p=l(e("./balance/BalancePanel.js")),y=l(e("../../common/controlsPanel/Clock.js")),b=l(e("./autospin/AutospinPanel.js"));function m(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}var g={paytableButton:{textures:{normal:"SETTINGS_normal",hover:"SETTINGS_normal",pressed:"SETTINGS_pressed",disabled:"SETTINGS_disabled"}},stopButton:{textures:{normal:"STOP",hover:"STOP",pressed:"STOP",disabled:"STOP"}},homeButton:{textures:{normal:"HOME_normal",hover:"HOME_normal",pressed:"HOME_pressed",disabled:"HOME_disabled"},zOrder:600},vrButton:{textures:{normal:"VR_normal",hover:"VR_normal",pressed:"VR_pressed",disabled:"VR_disabled"},zOrder:600},soundButton:{toggled:{textures:{normal:"SOUND_ON_normal",hover:"SOUND_ON_normal",pressed:"SOUND_ON_pressed",disabled:"SOUND_ON_disabled"}},normal:{textures:{normal:"SOUND_OFF_normal",hover:"SOUND_OFF_normal",pressed:"SOUND_OFF_pressed",disabled:"SOUND_OFF_disabled"}}},footerPanel:"mobile_footer_panel",headerPanel:"mobile_header_panel"},l=function(e){(0,o.default)(i,e);var l=m(i);function i(t){var n;return(0,a.default)(this,i),n=l.call(this,{align:"middle",layoutWidth:"100vw",layoutHeight:"100vh",id:"controlsPanel",uiConfig:t,zOrder:1e3},null),c2d.eventManager.subscribe(game.events.FlatUI.ON_AUDIO_MODE_CHANGED,function(e){t.hideSoundButton||(n.findChildById("audio").toggled=e.data)}),n.quickStopCb=function(){document.removeEventListener("mousedown",n.quickStopCb),document.removeEventListener("touchstart",n.quickStopCb),c2d.eventManager.dispatch(game.events.FlatUI.QUICK_STOP_PRESSED),c2d.Tween.get(n.findChildById("footerPanel")).to({alpha:.5},100).to({alpha:1},300)},n.skipWinCb=function(e){c2d.eventManager.dispatch(game.events.FlatUI.SKIP_WIN_PRESSED,{needSpin:!1})},n.layout(),n.resizeHandler=function(){n.checkAndCloseOtherPanels(),n.onResize.apply(n,arguments)},c2d.eventManager.subscribe(c2d.documentEvents.SCREEN_WAS_RESIZED,n.resizeHandler),n.autospinPanel=n.findChildById("autospinPanel"),c2d.eventManager.subscribe(game.events.FlatUI.ON_AUDIO_VISIBILITY_CHANGED,function(e){}),n}return(0,r.default)(i,[{key:"reSetPositions",value:function(){this.leftHand=!1}},{key:"inflateMobileLandscapeLayout",value:function(e){var t=this,n=(this.reSetPositions(),e.uiConfig),l=n.audioButtonFloat,l=void 0===l?"left":l,i=n.showTitle,i=void 0===i||i,a=n.supportVR,a=void 0!==a&&a,n=(n.spinButtonHeight,n.actionButtonAnimation),r=1,o=(c2d.env.device.tablet()&&e.uiConfig.controlsPanelProperties&&e.uiConfig.controlsPanelProperties.tablet&&(r=e.uiConfig.controlsPanelProperties.tablet.landscape.scale),"70px");return e.uiConfig.soundButtonLowerLandscape&&(o="90px"),[new flatUI.layout.FrameLayout({align:"center",layoutWidth:100*r+"%",layoutHeight:"100%"},[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"100%"},[new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"96%",layoutHeight:o},[new flatUI.layout.VerticalLayout({align:"left",layoutWidth:"50%",layoutHeight:"100%"},[i&&new flatUI.text.TextField(c2d.env.gameTitle,{align:"left",layoutWidth:"native",layoutHeight:"native",style:flatUI.styles.TextField.main_screen_gameName,id:"gameTitle"}),e.uiConfig.hideSoundButton?null:"left"==l&&new flatUI.buttons.ToggleIconButton(function(e){return c2d.eventManager.dispatch(game.events.FlatUI.AUDIO_PRESSED,e)},{layoutWidth:"native",layoutHeight:"native",style:g.soundButton,id:"audio",toggled:!c2d.AudioManager.mute,swallowEvents:!0})]),new flatUI.layout.Spacer,new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"70px",layoutHeight:"100px"},[new flatUI.layout.Spacer,a&&c2d.env.device.mobile()?new flatUI.buttons.IconButton(function(){return c2d.engine.renderer3D.webVR.enter()},{layoutWidth:"native",layoutHeight:"native",style:g.vrButton,id:"vr"}):null]),e.uiConfig.hideSoundButton?null:"right"==l&&new flatUI.buttons.ToggleIconButton(function(e){return c2d.eventManager.dispatch(game.events.FlatUI.AUDIO_PRESSED,e)},{layoutWidth:"native",layoutHeight:"native",style:g.soundButton,id:"audio",toggled:!c2d.AudioManager.mute,swallowEvents:!0})]),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"96%",id:"actionButtonHolder"},[this.leftHand?null:new flatUI.layout.Spacer,new(n?h:c).default({align:"center",layoutWidth:"186",layoutHeight:"186",uiConfig:e.uiConfig,id:"actionButton",onLongClickDone:function(){return t.onLongClickOnScreenDone()}}).setParams({displayGroup:game.displayGroups.UI,zOrder:3}),this.leftHand?new flatUI.layout.Spacer:null]),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"96%",layoutHeight:"1px"},[new flatUI.layout.FrameLayout({align:"center",layoutWidth:"70px",layoutHeight:"70px"},[new flatUI.buttons.IconButton(function(){return c2d.env.goToLobby()},{align:"center",style:g.homeButton,id:"home",swallowEvents:!0}),c2d.env.showClock?new y.default:null]),new flatUI.layout.Spacer,new flatUI.layout.FrameLayout({align:"center",layoutWidth:"70px",layoutHeight:"70px"},[new flatUI.buttons.IconButton(function(){return c2d.eventManager.dispatch(game.events.FlatUI.OPTIONS_PRESSED,{page:"Settings"})},{align:"center",style:g.paytableButton,id:"paytable",swallowEvents:!0}),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"70px",layoutHeight:"70px",id:"stopButtonSwipe"},[new flatUI.buttons.IconButton(function(){return c2d.eventManager.dispatch(game.events.FlatUI.CANCEL_AUTOSPINS_PRESSED)},{align:"center",layoutWidth:"126px",layoutHeight:"126px",fitToLayout:!0,style:g.stopButton,swallowEvents:!0}),new flatUI.text.TextField("0",{align:"center",layoutWidth:"50%",layoutHeight:"50%",style:flatUI.styles.TextField.main_screen_numbers,id:"autospinsLeftSwipe"})])])]).setParams({displayGroup:game.displayGroups.UI,zOrder:11}),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"70px",id:"footPanel"},[new flatUI.graphics.Icon(g.footerPanel,{align:"center",layoutWidth:"native",layoutHeight:"70px",fitToLayout:!0,id:"footerPanel"}),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"70px",id:"introTumbler"},[new flatUI.layout.Spacer,new flatUI.layout.GridLayout({columnCount:1,padding:0,textFieldWidth:!0},[new flatUI.text.TextField("dont_show_next_time_intro".ls(),{align:"center",wordWrapWidth:1e3,fitInLayout:!1,style:flatUI.styles.TextField.main_screen_show_intro})]),new flatUI.buttons.Tumbler(function(e){return t.onIntroTumblerSwitch(e)},{align:"center",layoutWidth:"native",layoutHeight:"native",toggled:c2d.env.storage.getItem("skipIntro",!1),style:{textures:{on:{back:"TUMBLER_BACK_on",pin:"TUMBLER_on"},off:{back:"TUMBLER_BACK_off",pin:"TUMBLER_off"}}}}),new flatUI.layout.Spacer]),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"70px"},[new p.default({align:"middle",layoutWidth:"50%",layoutHeight:"100%",styles:g,id:"balancePanel",callback:function(){return t.openBetExpandedPanel()}}),new f.default({align:"center",layoutWidth:"50%",layoutHeight:"100%",styles:g,id:"betPanel",callback:function(){return t.openBetExpandedPanel()}})]),new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"100%",id:"radio"},[new flatUI.text.TextField("0",{align:"center",layoutWidth:"100%",layoutHeight:"50%",style:flatUI.styles.TextField.main_screen_numbers,id:"win"}),new flatUI.text.TextField("win".ls(),{align:"center",layoutWidth:"100%",layoutHeight:"42%",style:flatUI.styles.TextField.main_screen_text,id:"winLabel"}),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"4px",style:{alpha:0}})])]).setParams({displayGroup:game.displayGroups.UI,zOrder:10})]),new b.default({callback:function(e){return t.selectAutospins(e)},dismissCallback:function(){return t.hideAutospinPanel()}}),new d.default({dismissCallback:function(){return t.hideBetExpandedPanel()}})])]}},{key:"inflateMobilePortraitLayout",value:function(e){var t=this,n=(this.reSetPositions(),e.uiConfig),l=n.audioButtonFloat,l=void 0===l?"left":l,i=n.showTitle,i=void 0===i||i,a=n.titleFloat,a=void 0===a?"underActionButton":a,r=n.supportVR,r=void 0!==r&&r,o=n.spinButtonHeight,o=void 0===o?3:o,n=n.actionButtonAnimation;return[new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"50px"},[new flatUI.graphics.Icon(g.headerPanel,{align:"center",layoutWidth:"native",layoutHeight:"50px",fitToLayout:!0,id:"footerPanel"}),new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"100%",id:"radio"},[new flatUI.text.TextField("0",{align:"center",layoutWidth:"100%",layoutHeight:"26px",style:flatUI.styles.TextField.main_screen_numbers,id:"win"}).setParams({textStyle:{fontSize:"26px"}}),new flatUI.text.TextField("win".ls(),{align:"center",layoutWidth:"100%",layoutHeight:"16px",style:flatUI.styles.TextField.main_screen_text,id:"winLabel"}).setParams({textStyle:{fontSize:"16px"}})]),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"95%",layoutHeight:"100%"},[e.uiConfig.hideSoundButton?null:"right"==l&&new flatUI.layout.Spacer,e.uiConfig.hideSoundButton?null:new flatUI.buttons.ToggleIconButton(function(e){return c2d.eventManager.dispatch(game.events.FlatUI.AUDIO_PRESSED,e)},{align:"center",layoutWidth:"native",layoutHeight:"native",style:g.soundButton,id:"audio",toggled:!c2d.AudioManager.mute,swallowEvents:!0}),e.uiConfig.hideSoundButton?null:"left"==l&&new flatUI.layout.Spacer,r&&c2d.env.device.mobile()?new flatUI.buttons.IconButton(function(){return c2d.engine.renderer3D.webVR.enter()},{align:"center",layoutWidth:"70",layoutHeight:"70",style:g.vrButton,id:"vr"}):null,i&&"right"==a&&new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"95%",layoutHeight:"30px"},[new flatUI.text.TextField(c2d.env.gameTitle,{align:"right",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.TextField.main_screen_gameName,id:"gameTitle"})])])]),i&&"belowSoundButton"==a&&new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"95%",layoutHeight:"30px"},[new flatUI.text.TextField(c2d.env.gameTitle,{align:"left",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.TextField.main_screen_gameName,id:"gameTitle"})]),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",id:"actionButtonHolder"},[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"100%"},[new flatUI.layout.Spacer({layoutWeight:o}),new(n?h:c).default({align:"center",layoutWidth:"186",layoutHeight:"186",uiConfig:e.uiConfig,id:"actionButton",onLongClickDone:function(){return t.onLongClickOnScreenDone()}}).setParams({displayGroup:game.displayGroups.UI,zOrder:3}),new flatUI.layout.Spacer({layoutWeight:1})]),new b.default({callback:function(e){return t.selectAutospins(e)},dismissCallback:function(){return t.hideAutospinPanel()}}),new d.default({dismissCallback:function(){return t.hideBetExpandedPanel()}})]),i&&"underActionButton"==a&&new flatUI.text.TextField(c2d.env.gameTitle,{align:"center",layoutWidth:"100%",layoutHeight:"30px",style:flatUI.styles.TextField.main_screen_gameName,id:"gameTitle"}),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"90%",layoutHeight:"1px"},[new flatUI.layout.FrameLayout({align:"center",layoutWidth:"70px",layoutHeight:"70px"},[new flatUI.buttons.IconButton(function(){return c2d.env.goToLobby()},{align:"center",style:g.homeButton,id:"home",swallowEvents:!0}),c2d.env.showClock?new y.default:null]),new flatUI.layout.Spacer,new flatUI.layout.FrameLayout({align:"center",layoutWidth:"70px",layoutHeight:"70px"},[new flatUI.buttons.IconButton(function(){return c2d.eventManager.dispatch(game.events.FlatUI.OPTIONS_PRESSED,{page:"Settings"})},{align:"center",style:g.paytableButton,id:"paytable",swallowEvents:!0}),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"70px",layoutHeight:"70px",id:"stopButtonSwipe"},[new flatUI.buttons.IconButton(function(){return c2d.eventManager.dispatch(game.events.FlatUI.CANCEL_AUTOSPINS_PRESSED)},{align:"center",layoutWidth:"126px",layoutHeight:"126px",fitToLayout:!0,style:g.stopButton,swallowEvents:!0}),new flatUI.text.TextField("0",{align:"center",layoutWidth:"50%",layoutHeight:"50%",style:flatUI.styles.TextField.main_screen_numbers,id:"autospinsLeftSwipe"})])])]).setParams({displayGroup:game.displayGroups.UI,zOrder:11}),new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"70px",id:"footPanel"},[new flatUI.graphics.Icon(g.footerPanel,{align:"center",layoutWidth:"native",layoutHeight:"70px",fitToLayout:!0}),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"70px",id:"introTumbler"},[new flatUI.layout.Spacer,new flatUI.layout.GridLayout({columnCount:1,padding:0,id:"introTumbler",textFieldWidth:!0},[new flatUI.text.TextField("dont_show_next_time_intro".ls(),{align:"center",style:flatUI.styles.TextField.main_screen_show_intro})]),new flatUI.buttons.Tumbler(function(e){return t.onIntroTumblerSwitch(e)},{align:"center",layoutWidth:"native",layoutHeight:"native",toggled:c2d.env.storage.getItem("skipIntro",!1),style:{textures:{on:{back:"TUMBLER_BACK_on",pin:"TUMBLER_on"},off:{back:"TUMBLER_BACK_off",pin:"TUMBLER_off"}}}}),new flatUI.layout.Spacer]),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"70px"},[new flatUI.layout.Spacer,new p.default({align:"middle",layoutWidth:"32%",layoutHeight:"100%",styles:g,id:"balancePanel",callback:function(){return t.openBetExpandedPanel()}}),new f.default({align:"center",layoutWidth:"32%",layoutHeight:"100%",styles:g,id:"betPanel",callback:function(){return t.openBetExpandedPanel()}}),new flatUI.layout.Spacer])]).setParams({displayGroup:game.displayGroups.UI,zOrder:10})]}},{key:"onResize",value:function(e){var t=this;this.root.touchstart=function(){},e.data.isOrientationChange?(this.reInflateLayout(),this.buttonsList=["paytable","spinButton","startFreespinsButton","collectButton"].map(function(e){return t.findChildById(e)}),this.layout()):(this.reSetPositions(),this.layout(),c2d.env.device.landscape())}},{key:"onHandModeChanged",value:function(e){var t=this;this.leftHand=e,this.onResize({data:{isOrientationChange:!0}}),c2d.call(function(){return t.applyState(t.lastStateData)},1)}},{key:"onLongClickOnScreenDone",value:function(){c2d.env.autospinsEnabled&&this.findChildById("actionButton").longClickEnabled&&!this.isAnyPanelAnimated()&&(this.autospinPanel=this.findChildById("autospinPanel"),this.autospinPanel.expanded||this.openAutospinPanel())}},{key:"openAutospinPanel",value:function(){this.findChildById("actionButton").longClickEnabled&&!this.isAnyPanelExpanded()&&c2d.env.autospinsEnabled&&(this.autospinPanel=this.findChildById("autospinPanel"),this.autospinPanel.expanded?this.autospinPanel.collapse():(this.checkAndCloseOtherPanels(),this.autospinPanel.expand(),this.autospinPanel.selected=!1,this.findChildById("autospinLabel").visible=!1))}},{key:"openBalanceExpandedPanel",value:function(){this.isAnyPanelAnimated()||(this.balanceExpandedPanel=this.findChildById("balanceExpandedPanel"),this.balanceExpandedPanel.expanded?this.balanceExpandedPanel.collapse():(this.checkAndCloseOtherPanels(),this.balanceExpandedPanel.expand()))}},{key:"openBetExpandedPanel",value:function(){this.isAnyPanelAnimated()||(this.betExpandedPanel=this.findChildById("betExpandedPanel"),this.betExpandedPanel.expanded?this.betExpandedPanel.collapse():(this.checkAndCloseOtherPanels(),this.betExpandedPanel.expand(this.findChildById("betPanel").cashData)))}},{key:"onAutospinStarted",value:function(){this.autospinPanel&&this.autospinPanel.onAutospinStarted(),this.findChildById("autospinsLeft").text=" ",this.findChildById("autospinsLeftSwipe")&&(this.findChildById("autospinsLeftSwipe").text=" ")}},{key:"hideAutospinPanel",value:function(){this.autospinPanel.selected||(this.findChildById("autospinLabel").visible=!0),this.autospinPanel=null}},{key:"collapseAutospinPanel",value:function(){this.autospinPanel&&this.autospinPanel.expanded&&this.autospinPanel.collapse()}},{key:"hideBalanceExpandedPanel",value:function(){this.balanceExpandedPanel&&this.balanceExpandedPanel.collapse(),this.balanceExpandedPanel=null}},{key:"hideBetExpandedPanel",value:function(){this.betExpandedPanel&&this.betExpandedPanel.collapse(),this.betExpandedPanel=null}},{key:"setStopButtonSwipeData",value:function(e,t){this.findChildById("stopButtonSwipe").visible=t.visible,this.findChildById("paytable").visible=!t.visible,t.visible&&this.findChildById("stopButtonSwipe").layout()}},{key:"shiftPanelsPositions",value:function(){this.autospinPanel&&this.autospinPanel.shiftPosition(),this.betExpandedPanel&&this.betExpandedPanel.shiftPosition(),this.balanceExpandedPanel&&this.balanceExpandedPanel.shiftPosition()}},{key:"isAnyPanelAnimated",value:function(){return this.autospinPanel&&this.autospinPanel.isAnimated||this.betExpandedPanel&&this.betExpandedPanel.isAnimated||this.balanceExpandedPanel&&this.balanceExpandedPanel.isAnimated}},{key:"isAnyPanelExpanded",value:function(){return this.autospinPanel&&(this.autospinPanel.isAnimated||this.autospinPanel.expanded)||this.betExpandedPanel&&(this.betExpandedPanel.isAnimated||this.betExpandedPanel.expanded)||this.balanceExpandedPanel&&(this.balanceExpandedPanel.isAnimated||this.balanceExpandedPanel.expanded)}},{key:"checkAndCloseOtherPanels",value:function(){this.autospinPanel&&this.autospinPanel.expanded?this.autospinPanel.collapse():this.betExpandedPanel&&this.betExpandedPanel.expanded?this.betExpandedPanel.collapse():this.balanceExpandedPanel&&this.balanceExpandedPanel.expanded&&this.balanceExpandedPanel.collapse()}},{key:"removeSkipListeners",value:function(){document.removeEventListener("mousedown",this.skipWinCb),document.removeEventListener("touchend",this.skipWinCb)}},{key:"addSkipListeners",value:function(){document.addEventListener("mousedown",this.skipWinCb),document.addEventListener("touchend",this.skipWinCb)}}]),i}(u.default);n.default=l},{"../../common/controlsPanel/Clock.js":59,"../../common/controlsPanel/ControlsPanel.js":60,"./ActionButton.js":146,"./ActionButtonSpine.js":147,"./autospin/AutospinPanel.js":151,"./balance/BalancePanel.js":152,"./bet/BetExpandedPanel.js":153,"./bet/BetPanel.js":154,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],149:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/get")),s=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,s.default)(i,e);var l=c(i);function i(e,t,n){return(0,a.default)(this,i),(e=l.call(this,e,n))._longClickHandler=t,e.icon.icon.anchor={x:.5,y:.5},e}return(0,r.default)(i,[{key:"initEvents",value:function(){var e=this;(0,o.default)((0,u.default)(i.prototype),"initEvents",this).call(this),this.touchend=function(){e.state===flatUI.buttons.Button.states.PRESSED?e.doClick.apply(e,arguments):e.setInitialState(),e.touchmove=function(){}}}},{key:"onOut",value:function(){this.touchmove=function(){},(0,o.default)((0,u.default)(i.prototype),"onOut",this).call(this),this.cancelLongClickHandler()}},{key:"onDown",value:function(){var t=this;this.touchmove=function(e){t.children[0].children[0].containsPoint(e.data.global)||t.onOut(e)},(0,o.default)((0,u.default)(i.prototype),"onDown",this).call(this),this.initLongClickHandler()}},{key:"doClick",value:function(){c2d.env.spinTimeout||((0,o.default)((0,u.default)(i.prototype),"doClick",this).call(this),c2d.Tween.get(this.icon.icon.scale).to({x:1.05,y:1.05},70).to({x:1,y:1},100))}},{key:"onClick",value:function(){this.cancelLongClickHandler()}},{key:"initLongClickHandler",value:function(){var e=this;c2d.Tween.get(this.icon.icon).wait(750).call(function(){e._longClickHandler(),e.onHover()}).to({},500,c2d.Tween.Ease.cubicInOut).call(function(){})}},{key:"cancelLongClickHandler",value:function(){c2d.Tween.removeTweens(this.icon.icon),this.icon.icon.rotation=0,this._longClickDone=!1}},{key:"triggerLongClick",value:function(){this._longClickHandler()}}]),i}(flatUI.buttons.IconButton);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],150:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/get")),u=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,u.default)(a,e);var i=h(a);function a(e,t,n){var l;return(0,r.default)(this,a),(l=i.call(this,e,n))._longClickHandler=t,l._longClickDone=!1,document.addEventListener("keyup",function(e){!c2d.env.storage.getItem("spinBySpace",!0)||!l.enabled||32!=e.key&&32!=e.keyCode||l.root.popup||c2d.env.spinTimeout||l.doClick()},!1),l}return(0,o.default)(a,[{key:"onOut",value:function(){(0,s.default)((0,c.default)(a.prototype),"onOut",this).call(this),this.cancelLongClickHandler()}},{key:"onDown",value:function(){(0,s.default)((0,c.default)(a.prototype),"onDown",this).call(this),this.initLongClickHandler()}},{key:"doClick",value:function(){this._longClickDone?this.cancelLongClickHandler():(0,s.default)((0,c.default)(a.prototype),"doClick",this).call(this)}},{key:"onClick",value:function(){this.cancelLongClickHandler()}},{key:"initLongClickHandler",value:function(){var e=this;c2d.Tween.get(this).wait(750).call(function(){e._longClickHandler(),e.onHover(),e._longClickDone=!0}).wait(500).call(function(){})}},{key:"cancelLongClickHandler",value:function(){c2d.Tween.removeTweens(this),this._longClickDone=!1}}]),a}(flatUI.buttons.SpineAnimationButton);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],151:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("../../../common/optionsScreen/settings/SettingsTumblerPanel.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(l,e);var n=c(l);function l(e){var t;return(0,i.default)(this,l),(t=n.call(this,{align:"middle",layoutWidth:"100%",layoutHeight:"100%",style:{color:0,alpha:.9},id:"autospinPanel"}))._clickOutsideHandler=function(e){!t.expanded||t.isAnimated||t.background.background.containsPoint(e.data.global)||t.collapse()},t._expanded=!1,t.dismissCallback=e.dismissCallback,t.isAnimated=!1,t.displayGroup=game.displayGroups.UI,t.zOrder=8,t.interactive=!0,t.touchstart=function(e){e.stopPropagation(),e.data.originalEvent.stopPropagation()},t.callback=e.callback,t.layout(),t.visible=t.expanded,t}return(0,a.default)(l,[{key:"styles",get:function(){return{button:{landscape:{layoutWidth:"18%",layoutHeight:"80px",text:{style:flatUI.styles.TextField.main_screen_numbers,align:"center"},button:{style:{normal:{color:0,alpha:1,strokeColor:2368548,strokeSize:2},hover:{color:flatUI.styles.Color.accent,alpha:1},pressed:{color:flatUI.styles.Color.accent,alpha:1},disabled:{color:16777215,alpha:0,strokeColor:15658734}},round:!0}},portrait:{layoutWidth:"20%",layoutHeight:"60px",text:{style:flatUI.styles.TextField.main_screen_numbers,align:"center"},button:{style:{normal:{color:0,alpha:1,strokeColor:2368548,strokeSize:2},hover:{color:flatUI.styles.Color.accent,alpha:1},pressed:{color:flatUI.styles.Color.accent,alpha:1},disabled:{color:16777215,alpha:0,strokeColor:15658734}},round:!0}}}}}},{key:"inflateMobileLandscapeLayout",value:function(){var e=this,t=this.styles.button.landscape;return this.expand=function(){return e.expandLandscape()},[new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100px"},[new flatUI.text.TextField("expand_panel_autospin".ls().toUpperCase(),{align:"center",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.TextField.option_screen_title}),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%"},[new flatUI.layout.Spacer,new flatUI.buttons.IconButton(function(){return e.collapse()},{align:"center",layoutHeight:"100%",layoutWidth:"8%",style:{textures:{normal:"BUTTON_CLOSE_normal",hover:"BUTTON_CLOSE_hover",pressed:"BUTTON_CLOSE_pressed",disabled:"BUTTON_CLOSE_disabled"}},id:"closeButton"})])]),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"40px",style:{alpha:0}}),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"80%",layoutHeight:t.layoutHeight,id:"buttonsArea1"},[new flatUI.buttons.TextButton("5",function(){return e.buttonClickHandler(5)},t),new flatUI.buttons.TextButton("10",function(){return e.buttonClickHandler(10)},t),new flatUI.buttons.TextButton("15",function(){return e.buttonClickHandler(15)},t),new flatUI.buttons.TextButton("20",function(){return e.buttonClickHandler(20)},t)]),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"20px",style:{alpha:0}}),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"80%",layoutHeight:t.layoutHeight,id:"buttonsArea2"},[new flatUI.buttons.TextButton("25",function(){return e.buttonClickHandler(25)},t),new flatUI.buttons.TextButton("50",function(){return e.buttonClickHandler(50)},t),new flatUI.buttons.TextButton("75",function(){return e.buttonClickHandler(75)},t),new flatUI.buttons.TextButton("100",function(){return e.buttonClickHandler(100)},t)]),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"30px",style:{alpha:0}}),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"50%",layoutHeight:"100px"},[new flatUI.graphics.Icon("TURBO_ON_normal",{align:"center",layoutWidth:"native",layoutHeight:"native"}),new u.default("turbo_mode".ls(),function(e){return c2d.eventManager.dispatch(game.events.FlatUI.TURBO_PRESSED,e)},{layoutWidth:"50%",layoutHeight:"100px",id:"turboTumbler",toggled:c2d.env.storage.getItem("turboMode",!1)})]),new flatUI.layout.Spacer]}},{key:"inflateMobilePortraitLayout",value:function(){var e=this,t=this.styles.button.portrait;return this.expand=function(){return e.expandPortrait()},[new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100px"},[new flatUI.text.TextField("expand_panel_autospin".ls().toUpperCase(),{align:"center",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.TextField.option_screen_title}),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%"},[new flatUI.layout.Spacer,new flatUI.buttons.IconButton(function(){return e.collapse()},{align:"center",layoutHeight:"100%",layoutWidth:"20%",style:{textures:{normal:"BUTTON_CLOSE_normal",hover:"BUTTON_CLOSE_hover",pressed:"BUTTON_CLOSE_pressed",disabled:"BUTTON_CLOSE_disabled"}},id:"closeButton"})])]),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"40px",style:{alpha:0}}),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:t.layoutHeight,id:"buttonsArea1"},[new flatUI.buttons.TextButton("5",function(){return e.buttonClickHandler(5)},t),new flatUI.buttons.TextButton("10",function(){return e.buttonClickHandler(10)},t),new flatUI.buttons.TextButton("15",function(){return e.buttonClickHandler(15)},t),new flatUI.buttons.TextButton("20",function(){return e.buttonClickHandler(20)},t)]),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"20px",style:{alpha:0}}),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:t.layoutHeight,id:"buttonsArea2"},[new flatUI.buttons.TextButton("25",function(){return e.buttonClickHandler(25)},t),new flatUI.buttons.TextButton("50",function(){return e.buttonClickHandler(50)},t),new flatUI.buttons.TextButton("75",function(){return e.buttonClickHandler(75)},t),new flatUI.buttons.TextButton("100",function(){return e.buttonClickHandler(100)},t)]),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"40px",style:{alpha:0}}),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"100px"},[new flatUI.layout.Spacer,new flatUI.graphics.Icon("TURBO_ON_normal",{align:"left",layoutWidth:"native",layoutHeight:"native"}),new flatUI.panel.Panel({layoutWidth:"20px",layoutHeight:"1px",style:{alpha:0}}),new u.default("turbo_mode".ls(),function(e){return c2d.eventManager.dispatch(game.events.FlatUI.TURBO_PRESSED,e)},{layoutWidth:"280",layoutHeight:"100px",id:"turboTumbler",toggled:c2d.env.storage.getItem("turboMode",!1)}),new flatUI.layout.Spacer]),new flatUI.layout.Spacer]}},{key:"buttonClickHandler",value:function(e){var t=this;this.interactive=!1,c2d.Tween.get(this,{override:!0}).wait(150).call(function(){t.interactive=!0,t.refresh(),c2d.eventManager.dispatch(game.events.FlatUI.AUTOSPIN_PRESSED,{value:e})})}},{key:"onAutospinStarted",value:function(){var e=this;this.interactiveChildren=!1,this.selected=!0,c2d.Tween.get(this,{override:!0}).wait(150).call(function(){e.collapse()})}},{key:"expandLandscape",value:function(){var t=this;this.visible=!0,this.isAnimated=!0,this.y=0,this.findChildById("turboTumbler").forceToggle(c2d.env.storage.getItem("turboMode",!1),!0),c2d.Tween.get(this,{override:!0}).to({alpha:1,x:0},200,c2d.Tween.Ease.sineOut).call(function(){t.expanded=!0,t.isAnimated=!1}),this.interactiveChildren=!0,this.root.interactive=!0,this.root.touchstart=function(e){return t._clickOutsideHandler(e)},this.refresh()}},{key:"expandPortrait",value:function(){var t=this;this.visible=!0,this.isAnimated=!0,this.y=this.parseParamToPixel(this.layoutHeight,"height"),this.x=0,this.findChildById("turboTumbler").forceToggle(c2d.env.storage.getItem("turboMode",!1),!0),c2d.Tween.get(this,{override:!0}).to({alpha:1,y:250},200,c2d.Tween.Ease.sineOut).call(function(){t.expanded=!0,t.isAnimated=!1}),this.interactiveChildren=!0,this.root.interactive=!0,this.root.touchstart=function(e){return t._clickOutsideHandler(e)},this.refresh()}},{key:"collapse",value:function(){var e,t=this;this.isAnimated||(e=2*this.parseParamToPixel(this.layoutHeight,"height"),this.isAnimated=!0,this.root.interactive=!1,this.root.touchstart=function(){},c2d.Tween.get(this,{override:!0}).to({y:e,alpha:0},100,c2d.Tween.Ease.sineIn).call(function(){t.expanded=!1,t.isAnimated=!1,t.visible=!1}),this.dismissCallback&&this.dismissCallback(),this.refresh())}},{key:"refresh",value:function(){this.buttons.forEach(function(e){e.setInitialState(),e.interactive=!0})}},{key:"shiftPosition",value:function(){this.y=0}},{key:"expanded",get:function(){return this._expanded},set:function(e){this._expanded=e}},{key:"buttons",get:function(){var e=this.findChildById("buttonsArea1").components.concat(this.findChildById("buttonsArea2").components).slice().filter(function(e){return e.button}).map(function(e){return e.button});return e.push(this.findChildById("closeButton")),e}}]),l}(flatUI.layout.VerticalLayout);n.default=l},{"../../../common/optionsScreen/settings/SettingsTumblerPanel.js":96,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],152:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}var c={button:{normal:{alpha:1e-5},hover:{alpha:1e-5},pressed:{alpha:1e-5},disabled:{alpha:1e-5}}},l=function(e){(0,r.default)(l,e);var n=u(l);function l(e){var t;return(0,i.default)(this,l),(t=n.call(this,e,null)).interactive=!0,t.touchstart=function(e){e.stopPropagation(),e.data.originalEvent.stopPropagation()},t.findChildById("balance").textField.textStyle.breakWords=!1,c2d.eventManager.subscribe(game.events.FlatUI.ON_CASH_CHANGED,function(e){return t.onBetChanged(e.data)}),t}return(0,a.default)(l,[{key:"inflateMobilePortraitLayout",value:function(){var t=this;return[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"100%"},[new flatUI.buttons.TextButton("0",function(e){return t.onBalanceTextClick(e)},{layoutWidth:"100%",layoutHeight:"50%",text:{style:flatUI.styles.TextField.main_screen_numbers,align:"center",fitInLayout:!0},button:{style:c.button},id:"balance"}),new flatUI.buttons.TextButton("expand_panel_balance".ls().toUpperCase(),function(e){return t.onBalanceTextClick(e)},{layoutWidth:"100%",layoutHeight:"42%",text:{style:flatUI.styles.TextField.main_screen_text,align:"center"},button:{style:c.button},id:"balanceLabel"}),new flatUI.layout.Spacer])]}},{key:"inflateMobileLandscapeLayout",value:function(){var t=this;return[new flatUI.buttons.TextButton("0",function(e){return t.onBalanceTextClick(e)},{layoutWidth:"100%",layoutHeight:"50%",text:{style:flatUI.styles.TextField.main_screen_numbers,align:"center",fitInLayout:!0},button:{style:c.button},id:"balance"}),new flatUI.buttons.TextButton("expand_panel_balance".ls().toUpperCase(),function(e){return t.onBalanceTextClick(e)},{layoutWidth:"100%",layoutHeight:"42%",text:{style:flatUI.styles.TextField.main_screen_text,align:"center"},button:{style:c.button},id:"balanceLabel"}),new flatUI.layout.Spacer]}},{key:"onBetChanged",value:function(e){var t=e.toCurrency,e=e.balance;this.findChildById("balance").text=t(e),this.findChildById("balance").textField.align("center")}},{key:"onBalanceTextClick",value:function(e){var t=this.root.controlsPanel.findChildById("betExpandedPanel");this.interactive&&!this._startSwipe&&(t.expanded?this.root.controlsPanel.hideBetExpandedPanel():this.root.controlsPanel.openBetExpandedPanel())}},{key:"enabled",set:function(e){this.findChildById("balance").enabled=e,this.findChildById("balanceLabel").enabled=e}}]),l}(flatUI.layout.VerticalLayout);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],153:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/defineProperty"))),a=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(t,e){var n,l=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,n)),l}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach(function(e){(0,i.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(l,e);var n=f(l);function l(e){var t;return(0,a.default)(this,l),(t=n.call(this,{align:"middle",layoutWidth:"100%",layoutHeight:"100%",style:{color:0,alpha:.9},id:"betExpandedPanel"}))._clickOutsideHandler=function(e){!t.expanded||t.isAnimated||t.background.background.containsPoint(e.data.global)||t.root.controlsPanel.findChildById("betPanel").background.background.containsPoint(e.data.global)||t.collapse()},t._expanded=!1,t.dismissCallback=e.dismissCallback,t.isAnimated=!1,t.startPoint=null,t.displayGroup=game.displayGroups.UI,t.zOrder=8,t.initEvents(),t.callback=e.callback,t.layout(),t.visible=t.expanded,c2d.eventManager.subscribe(game.events.FlatUI.ON_CASH_CHANGED,function(e){return t.onBetChanged(e.data)}),t}return(0,r.default)(l,[{key:"inflateMobileLandscapeLayout",value:function(e,t,n){var l=this;return this.expand=function(e){return l.expandLandscape(e)},[new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100px"},[new flatUI.text.TextField("expand_panel_bet".ls().toUpperCase(),{align:"center",layoutWidth:"100%",layoutHeight:"100%",style:flatUI.styles.TextField.option_screen_title}),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%"},[new flatUI.layout.Spacer,new flatUI.buttons.IconButton(function(){return l.collapse()},{align:"center",layoutHeight:"100%",layoutWidth:"8%",style:{textures:{normal:"BUTTON_CLOSE_normal",hover:"BUTTON_CLOSE_hover",pressed:"BUTTON_CLOSE_pressed",disabled:"BUTTON_CLOSE_disabled"}},id:"closeButton"})])]),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"40px",style:{alpha:0}}),new flatUI.text.TextField("0",{align:"center",layoutWidth:"100%",layoutHeight:"40px",style:flatUI.styles.TextField.main_screen_numbers,id:"BetExpandedPanel#currentBet"}).setParams({textStyle:{fontSize:"50px"}}),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"20%"},[new flatUI.text.TextField("0",{align:"center",layoutWidth:"20%",layoutHeight:"100%",style:flatUI.styles.TextField.main_screen_numbers,id:"BetExpandedPanel#minBet"}).setParams({textStyle:{fontSize:"35px"}}),new flatUI.slider.Slider(function(e){return l.changeBet(e)},{layoutWidth:"60%",step:1,value:10,maxValue:100,style:{textures:{back:"PROGRESS_BAR_empty",fore:"PROGRESS_BAR_full",pin:"TUMBLER"}},id:"BetExpandedPanel#betSlider"}),new flatUI.text.TextField("0",{align:"center",layoutWidth:"20%",layoutHeight:"100%",style:flatUI.styles.TextField.main_screen_numbers,id:"BetExpandedPanel#maxBet"}).setParams({textStyle:{fontSize:"35px"}})]),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"40px",style:{alpha:0}}),""!=c2d.env.cashUrl&&new flatUI.buttons.TextButton("go_to_bank".ls(),function(){return c2d.env.goToBank()},{layoutWidth:"240px",layoutHeight:"60px",text:{style:flatUI.styles.TextField.option_screen_tab_normal,align:"center",fitInLayout:!0},button:{style:flatUI.styles.FlatButton.accent}}),new flatUI.text.TextField("max_win".ls()+"12345678890",{layoutWidth:"70%",layoutHeight:"70px",fitInLayout:!0,style:h(h({},flatUI.styles.TextField.main_screen_text),{},{fontSize:"20px",fontWeight:"700",fill:flatUI.styles.Color.accent}),align:"center",id:"BetExpandedPanel#maxWinInTotalBets"}).setParams({visible:c2d.env.showMaxWinRtpMessage}),new flatUI.layout.Spacer]}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){var l=this;return this.expand=function(e){return l.expandPortrait(e)},[new flatUI.layout.FrameLayout({align:"center",layoutWidth:"100%",layoutHeight:"100px"},[new flatUI.text.TextField("expand_panel_bet".ls().toUpperCase(),{align:"center",layoutWidth:"65%",layoutHeight:"100%",style:flatUI.styles.TextField.option_screen_title,fitInLayout:!0}).setParams({textAlign:"center"}),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%"},[new flatUI.layout.Spacer,new flatUI.buttons.IconButton(function(){return l.collapse()},{align:"center",layoutHeight:"100%",layoutWidth:"20%",style:{textures:{normal:"BUTTON_CLOSE_normal",hover:"BUTTON_CLOSE_hover",pressed:"BUTTON_CLOSE_pressed",disabled:"BUTTON_CLOSE_disabled"}},id:"closeButton"})])]),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"20px",style:{alpha:0}}),new flatUI.text.TextField("0",{align:"center",layoutWidth:"100%",layoutHeight:"40px",style:flatUI.styles.TextField.main_screen_numbers,id:"BetExpandedPanel#currentBet"}).setParams({textStyle:{fontSize:"40px"}}),new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"100px"},[new flatUI.text.TextField("0",{align:"center",layoutWidth:"20%",layoutHeight:"100%",style:flatUI.styles.TextField.main_screen_numbers,id:"BetExpandedPanel#minBet"}).setParams({textStyle:{fontSize:"25px"}}),new flatUI.slider.Slider(function(e){return l.changeBet(e)},{layoutWidth:"60%",step:1,value:10,maxValue:100,style:{textures:{back:"PROGRESS_BAR_empty",fore:"PROGRESS_BAR_full",pin:"TUMBLER"}},id:"BetExpandedPanel#betSlider"}),new flatUI.text.TextField("0",{align:"center",layoutWidth:"20%",layoutHeight:"100%",style:flatUI.styles.TextField.main_screen_numbers,id:"BetExpandedPanel#maxBet"}).setParams({textStyle:{fontSize:"25px"}})]),new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"20px",style:{alpha:0}}),""!=c2d.env.cashUrl&&new flatUI.buttons.TextButton("go_to_bank".ls(),function(){return c2d.env.goToBank()},{layoutWidth:"280px",layoutHeight:"50px",text:{style:flatUI.styles.TextField.option_screen_tab_normal,align:"center",fitInLayout:!0},button:{style:flatUI.styles.FlatButton.accent}}),new flatUI.layout.Spacer({layoutWeight:.1}),new flatUI.text.TextField("max_win".ls()+"12345678890",{layoutWidth:"70%",layoutHeight:"70px",fitInLayout:!0,style:h(h({},flatUI.styles.TextField.main_screen_text),{},{fontSize:"20px",fontWeight:"700",fill:flatUI.styles.Color.accent}),align:"center",id:"BetExpandedPanel#maxWinInTotalBets"}).setParams({visible:c2d.env.showMaxWinRtpMessage}),new flatUI.layout.Spacer({layoutWeight:.9})]}},{key:"initEvents",value:function(){var n=this;this.interactive=!0,this.touchstart=function(e){e.stopPropagation(),e.data.originalEvent.stopPropagation(),n.startPoint={x:e.data.global.x,y:e.data.global.y}},this.touchend=this.touchendoutside=function(e){var t;n.startPoint&&(e.data.global.x,e=e.data.global.y,t=n.startPoint,n.startPoint=null,100<e-t.y&&n.collapse())}}},{key:"buttonClickHandler",value:function(e){this.callback&&this.callback(e),this.collapse()}},{key:"onHandModeChanged",value:function(e){}},{key:"expandLandscape",value:function(e){var t=this;this.isAnimated||(this.visible=!0,this.isAnimated=!0,this.y=0,this.setCashData(e),c2d.Tween.get(this,{override:!0}).to({alpha:1,x:0},200,c2d.Tween.Ease.sineOut).call(function(){t.expanded=!0,t.isAnimated=!1}),this.interactiveChildren=!0,this.root.interactive=!0,this.root.touchstart=function(e){return t._clickOutsideHandler(e)})}},{key:"expandPortrait",value:function(e){var t=this;this.isAnimated||(this.visible=!0,this.isAnimated=!0,this.y=2*this.parseParamToPixel(this.layoutHeight,"height"),this.x=0,this.setCashData(e),c2d.Tween.get(this,{override:!0}).to({alpha:1,y:200},200,c2d.Tween.Ease.sineOut).call(function(){t.expanded=!0,t.isAnimated=!1}),this.interactiveChildren=!0,this.root.interactive=!0,this.root.touchstart=function(e){return t._clickOutsideHandler(e)})}},{key:"collapse",value:function(){var e,t=this;this.isAnimated||(e=2*this.parseParamToPixel(this.layoutHeight,"height"),this.isAnimated=!0,this.root.interactive=!1,this.root.touchstart=function(){},c2d.Tween.get(this,{override:!0}).to({y:e,alpha:0},100,c2d.Tween.Ease.sineIn).call(function(){t.expanded=!1,t.isAnimated=!1,t.visible=!1}),this.dismissCallback&&this.dismissCallback())}},{key:"expanded",get:function(){return this._expanded},set:function(e){this._expanded=e}},{key:"onBetChanged",value:function(e){var t=e.toCurrency,n=e.bet,e=e.betLevel;this.findChildById("BetExpandedPanel#currentBet").text=t(n),this.findChildById("BetExpandedPanel#betSlider").value=e-1,this.findChildById("BetExpandedPanel#maxWinInTotalBets").text="max_win".ls({rtp:this.rtp,max:t(n),min:t(Number((c2d.env.maxWinInTotalBets*n*100).toFixed())/100)})}},{key:"setCashData",value:function(e){var t=e.toCurrency,n=e.bet,l=e.minBet,i=e.maxBet,a=e.betLevel,r=(e.minBetLevel,e.maxBetLevel),e=(e.totalBets,e.rtp);this.rtp=e,this.findChildById("BetExpandedPanel#currentBet").text=t(n),this.findChildById("BetExpandedPanel#minBet").text=l,this.findChildById("BetExpandedPanel#maxBet").text=i,this.findChildById("BetExpandedPanel#betSlider").maxValue=r-1,this.findChildById("BetExpandedPanel#betSlider").value=a-1,this.findChildById("BetExpandedPanel#maxWinInTotalBets").text="max_win".ls({rtp:e,max:t(n),min:t(Number((c2d.env.maxWinInTotalBets*n*100).toFixed())/100)})}},{key:"changeBet",value:function(e){c2d.eventManager.dispatch(game.events.FlatUI.SET_BET_LEVEL,e+1)}},{key:"shiftPosition",value:function(){this.y=0}}]),l}(flatUI.layout.VerticalLayout);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],154:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}var c={button:{normal:{alpha:1e-5},hover:{alpha:1e-5},pressed:{alpha:1e-5},disabled:{alpha:1e-5}}},l=function(e){(0,r.default)(l,e);var n=u(l);function l(e){var t;return(0,i.default)(this,l),(t=n.call(this,e,null))._startSwipe=null,t.interactive=!0,t.findChildById("bet").textField.textStyle.breakWords=!1,c2d.eventManager.subscribe(game.events.FlatUI.ON_CASH_CHANGED,function(e){return t.onBetChanged(e.data)}),t}return(0,a.default)(l,[{key:"inflateMobilePortraitLayout",value:function(){var e=this;return[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"100%"},[new flatUI.buttons.TextButton("0",function(){return e.onBetTextClick()},{layoutWidth:"100%",layoutHeight:"50%",text:{style:flatUI.styles.TextField.main_screen_numbers,align:"center",fitInLayout:!0},button:{style:c.button},id:"bet"}),new flatUI.buttons.TextButton("panel_name_bet".ls().toUpperCase(),function(){return e.onBetTextClick()},{layoutWidth:"100%",layoutHeight:"42%",text:{style:flatUI.styles.TextField.main_screen_text,align:"center"},button:{style:c.button},id:"betLabel"}),new flatUI.progressbar.Progressbar({value:0,maxValue:5,layoutWidth:"80%",layoutHeight:"8%",style:flatUI.styles.Progressbar,id:"betSlider"})])]}},{key:"inflateMobileLandscapeLayout",value:function(){var e=this;return[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"100%"},[new flatUI.layout.Spacer,new flatUI.buttons.TextButton("0",function(){return e.onBetTextClick()},{layoutWidth:"100%",layoutHeight:"50%",text:{style:flatUI.styles.TextField.main_screen_numbers,align:"center",fitInLayout:!0},button:{style:c.button},id:"bet"}),new flatUI.buttons.TextButton("panel_name_bet".ls().toUpperCase(),function(){return e.onBetTextClick()},{layoutWidth:"100%",layoutHeight:"42%",text:{style:flatUI.styles.TextField.main_screen_text,align:"center"},button:{style:c.button},id:"betLabel"}),new flatUI.layout.Spacer,new flatUI.progressbar.Progressbar({value:0,maxValue:5,layoutWidth:"35%",layoutHeight:"4px",style:flatUI.styles.Progressbar,id:"betSlider"})])]}},{key:"onBetChanged",value:function(e){var t=e.toCurrency,n=e.isEnoughMoneyToSpin,l=e.bet,i=e.betLevel,a=(e.isMaxBet,e.maxBetLevel);this.cashData=e,this.findChildById("bet").text=t(l),this.findChildById("bet").textField.align("center"),this.findChildById("betSlider").setData({value:i,maxValue:a}),this.interactive&&(this.findChildById("betSlider").fore.tint=n?16777215:16733525)}},{key:"onBetTextClick",value:function(e){var t=this.root.controlsPanel.findChildById("betExpandedPanel");this.interactive&&!this._startSwipe&&(t.expanded?this.root.controlsPanel.hideBetExpandedPanel():this.root.controlsPanel.openBetExpandedPanel())}},{key:"enabled",set:function(e){this.findChildById("bet").enabled=e,this.findChildById("betLabel").enabled=e,this.findChildById("betSlider").fore.tint=e?this.cashData&&!this.cashData.isEnoughMoneyToSpin?16733525:16777215:6316128,this.findChildById("betSlider").back.tint=e?16777215:10066329}}]),l}(flatUI.layout.HorizontalLayout);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],155:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),c=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),i=l(e("@babel/runtime/helpers/createClass")),a=l(e("@babel/runtime/helpers/inherits")),r=l(e("@babel/runtime/helpers/possibleConstructorReturn")),o=l(e("@babel/runtime/helpers/getPrototypeOf"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,o.default)(n);return e=l?(e=(0,o.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,e)}}l=function(e){(0,a.default)(u,e);var s=h(u);function u(e,t,n,l){var i,a=n.paddingX,r=n.paddingY,o=n.padding,n=n.columnCount;return(0,c.default)(this,u),(i=s.call(this,{paddingX:a,paddingY:r,padding:o,columnCount:n},l)).clickHandler=e,i.id=t,i.allToggleButtons=i.components.filter(function(e){return e.button&&void 0!==e.toggled}),i.allToggleButtons.forEach(function(e){e.button.interactive=!0,e.button.interactiveChildren=!0,e.button.clickHandler=function(){return i.onToggleButtonClick(e)}}),i}return(0,i.default)(u,[{key:"isToggledCurrentButtonById",value:function(t){var n=!1;return this.allToggleButtons.filter(function(e){return e.id===t}).forEach(function(e){n=e.toggled}),n}},{key:"onToggleButtonClick",value:function(e){this.clickHandler({id:e.id,isToggled:e.toggled})}}]),u}(flatUI.layout.GridLayout);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],156:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),d=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),i=l(e("@babel/runtime/helpers/createClass")),a=l(e("@babel/runtime/helpers/inherits")),r=l(e("@babel/runtime/helpers/possibleConstructorReturn")),o=l(e("@babel/runtime/helpers/getPrototypeOf")),s=l(e("./RowPanelCell.js"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,o.default)(n);return e=l?(e=(0,o.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,e)}}l=function(e){(0,a.default)(f,e);var h=u(f);function f(e){var l,t=e.slotModel,n=e.title,i=e.rows,a=e.columns,r=e.selectByKeyHandler,o=e.clearHandler,s=e.selectHandler,u=e.id,c=e.mainLayoutWidth,e=e.mainLayoutHeight;return(0,d.default)(this,f),(l=h.call(this,{layoutWidth:c,layoutHeight:e,align:"middle",style:{alpha:0}},null,{slotModel:t,title:n,rows:i,columns:a,selectByKeyHandler:r,clearHandler:o,selectHandler:s,id:u})).rows=i,l.symbols=[],l.columns=a,l.selectHandler=s,l.selectByKeyHandler=r,l._selectedCell=null,l.id=u,l.isActive=!1,l.combinationId=null,t.symbolsConfig.map(function(e){return l.symbols.push(e.id)}),l.enableClearButton=!1,l.clickRowPanel=function(e){if(null!==l.selectedCell){var t,n=l.findChildById("reelsetGrid").findChildById(l._selectedCell);switch(e.key){case"ArrowLeft":--l.selectedCell;break;case"ArrowDown":l.selectedCell+=a;break;case"ArrowRight":l.selectedCell+=1;break;case"ArrowUp":l.selectedCell-=a;break;case"Delete":case"Backspace":n.cellValue(null),l.selectByKeyHandler(e.key.toString()),l.verifyClearButton();break;default:0<=e.key&&e.key<10&&(t=parseInt(n.findChildById("symbolId").text.toString()+e.key.toString()).toString(),-1===l.symbols.indexOf(t)&&(t=e.key),n.cellValue(t),l.selectByKeyHandler(t.toString()))}}},document.addEventListener("keydown",l.clickRowPanel),l}return(0,i.default)(f,[{key:"removeListeners",value:function(){document.removeEventListener("keydown",this.clickRowPanel)}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){var l=this,i=n.title,a=n.rows,r=n.columns,o=(n.selectByKeyHandler,n.clearHandler),n=n.selectHandler;return[new flatUI.layout.VerticalLayout({layoutWidth:85*(r+1),layoutHeight:85*(a+2),align:"middle",style:{color:1907997,alpha:0}},[new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"90%",layoutHeight:"55px"},[new flatUI.text.TextField(i,{align:"center",layoutWidth:"60%",layoutHeight:"70%",style:flatUI.styles.TextField.option_screen_subtitle,id:"title"}),new flatUI.buttons.TextButton("CLEAR",function(){o(l.id)},{align:"center",layoutWidth:"30%",layoutHeight:"80%",text:{style:flatUI.styles.TextField.option_screen_subtitle,align:"center"},button:{style:flatUI.styles.FlatButton.negative},id:"clearBtn"})]),new flatUI.layout.GridLayout({columnCount:r,padding:5,id:"reelsetGrid"},this.createCells("80px",i,a,r,n))])]}},{key:"inflateMobileLandscapeLayout",value:function(e,t,n){var l=this,i=n.title,a=n.rows,r=n.columns,o=(n.selectByKeyHandler,n.clearHandler),n=n.selectHandler;return[new flatUI.layout.VerticalLayout({layoutWidth:65*(r+1),layoutHeight:65*(a+2),align:"middle",style:{color:1907997,alpha:0}},[new flatUI.layout.HorizontalLayout({layoutWidth:"90%",layoutHeight:"55px",align:"center"},[new flatUI.text.TextField(i,{layoutWidth:"360",layoutHeight:"70%",style:flatUI.styles.TextField.option_screen_subtitle,align:"left",id:"title"}),new flatUI.buttons.TextButton("CLEAR",function(){o(l.id)},{layoutWidth:"100",layoutHeight:"80%",text:{style:flatUI.styles.TextField.option_screen_subtitle,align:"center"},button:{style:flatUI.styles.FlatButton.negative},id:"clearBtn"})]),new flatUI.layout.GridLayout({columnCount:r,padding:5,id:"reelsetGrid"},this.createCells("60px",i,a,r,n))])]}},{key:"inflateDesktopLayout",value:function(e,t,n){var l=this,i=n.title,a=n.rows,r=n.columns,o=(n.selectByKeyHandler,n.clearHandler),n=n.selectHandler;return[new flatUI.text.TextField(i,{layoutWidth:"300",layoutHeight:"45",style:flatUI.styles.TextField.option_screen_subtitle,align:"center",id:"title"}),new flatUI.layout.GridLayout({columnCount:r,padding:5,id:"reelsetGrid",style:{alpha:0}},this.createCells("70",i,a,r,n)),new flatUI.panel.Panel({layoutHeight:"20",style:{alpha:0}}),new flatUI.buttons.TextButton("CLEAR",function(){o(l.id)},{layoutWidth:"200",layoutHeight:"45",text:{style:flatUI.styles.TextField.option_screen_subtitle,align:"center"},button:{style:flatUI.styles.FlatButton.negative},id:"clearBtn"}),new flatUI.panel.Panel({layoutHeight:"20",style:{alpha:0}}),new flatUI.layout.Spacer]}},{key:"createCells",value:function(n,l,e,t,i){var a=this;return this.cells=[],this.cells=new Array(e*t).fill(0).map(function(e,t){return new s.default(t,n,n,{selectHandler:function(){a.selectedCell=a.selectedCell===t?null:t,i({panelName:l,selectedCell:a.selectedCell,id:a.id})}})}),this.cells}},{key:"activate",value:function(e){(this.isActive=e)||(this.selectedCell=null,this.cells.forEach(function(e){e.selected=!1}))}},{key:"clearInputs",value:function(){this.enableClearButton=!1,this.deactivateCells(),this.clearCellsValues()}},{key:"deactivateCells",value:function(){this.selectedCell=null,this.cells.forEach(function(e){e.selected=!1})}},{key:"verifyClearButton",value:function(){0===this.cells.filter(function(e){return e.symbolId}).length&&(this.enableClearButton=!1)}},{key:"clearCellsValues",value:function(){this.cells.forEach(function(e){return e.cellValue(null)})}},{key:"setValues",value:function(n,e){var l=this;this.clearInputs(),this.enableClearButton=!0,this.cells.forEach(function(e,t){t=t%l.columns*l.rows+Math.floor(t/l.columns);n[t]&&(e.selected=!1,e.cellValue(n[t]))}),this.combinationId=e}},{key:"cellValues",get:function(){var l=this,i=[];return this.cells.forEach(function(e,t){var n=Math.floor(t/l.columns)+t%l.columns*l.rows;l.cells[t]&&(i[n]=l.cells[t].symbolId)}),i}},{key:"enableClearButton",set:function(e){this.findChildById("clearBtn").visible=e}},{key:"selectedCell",get:function(){return this._selectedCell},set:function(e){e=null!==e?Math.max(0,Math.min(e,this.rows*this.columns-1)):null,null!==this._selectedCell&&(this.findChildById("reelsetGrid").findChildById(this._selectedCell).selected=!1),null!==e&&(this.findChildById("reelsetGrid").findChildById(e).selected=!0),this._selectedCell=e}}]),f}(flatUI.layout.VerticalLayout);n.default=l},{"./RowPanelCell.js":157,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],157:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),o=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),i=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/inherits")),a=l(e("@babel/runtime/helpers/possibleConstructorReturn")),r=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("../common/optionsScreen/paytable/PaytableSymbolAnimation.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,r.default)(n);return e=l?(e=(0,r.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}l=function(e){(0,s.default)(r,e);var a=c(r);function r(e,t,n,l){var i=l.selectHandler;return(0,o.default)(this,r),(l=a.call(this,{layoutWidth:t,layoutHeight:n,align:"center",style:{alpha:.4,color:16777215}},null)).interactive=!0,l.buttonMode=!0,l.id=e,l._symbolId=null,l.click=function(){i()},l.tap=function(){i()},l}return(0,i.default)(r,[{key:"inflateMobilePortraitLayout",value:function(){return[new u.default(null,{layoutWidth:"95%",layoutHeight:"95%",id:"symbolAnimation"}).setParams({alpha:.8,interactive:!1}),new flatUI.text.TextField("  ",{layoutWidth:"95%",style:flatUI.styles.TextField.main_screen_numbers,align:"center",id:"symbolId"})]}},{key:"inflateMobileLandscapeLayout",value:function(){return[new u.default(null,{layoutWidth:"95%",layoutHeight:"95%",id:"symbolAnimation"}).setParams({alpha:.8,interactive:!1}),new flatUI.text.TextField("  ",{layoutWidth:"95%",style:flatUI.styles.TextField.main_screen_numbers,align:"center",id:"symbolId"})]}},{key:"inflateDesktopLayout",value:function(){return[new u.default(null,{layoutWidth:"95%",layoutHeight:"95%",id:"symbolAnimation"}).setParams({alpha:.8,interactive:!1}),new flatUI.text.TextField("  ",{layoutWidth:"95%",style:flatUI.styles.TextField.main_screen_numbers,align:"center",id:"symbolId"})]}},{key:"symbolId",get:function(){return this._symbolId},set:function(e){this._symbolId=e}},{key:"cellValue",value:function(e){var t=this.findChildById("symbolAnimation"),n=this.findChildById("symbolId");this.selected=!1,(this.symbolId=e)||(t.symbolId=null),e&&game.src.Reelset.SymbolAnimations.getAnimation({type:e},"paytable_idle")&&(t.symbolId=e),n.text=e||""}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e,this.background.background.tint=this._selected?5592575:16777215}}]),r}(flatUI.layout.FrameLayout);n.default=l},{"../common/optionsScreen/paytable/PaytableSymbolAnimation.js":84,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],158:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),u=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/toConsumableArray"))),c=l(e("@babel/runtime/helpers/classCallCheck")),i=l(e("@babel/runtime/helpers/createClass")),a=l(e("@babel/runtime/helpers/inherits")),r=l(e("@babel/runtime/helpers/possibleConstructorReturn")),o=l(e("@babel/runtime/helpers/getPrototypeOf"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,o.default)(n);return e=l?(e=(0,o.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,e)}}l=function(e){(0,a.default)(s,e);var o=h(s);function s(e){var t,n=e.slotModel,l=e.customConfig,i=e.gridBars,a=e.changeParamsHandler,r=e.resizeShifterHandler;return(0,c.default)(this,s),(t=o.call(this,{align:"none",layoutWidth:"100vw",layoutHeight:"100vh",scrollableLayoutMaskDisabled:!0,style:flatUI.styles.Panel.shadow,slotModel:n,customConfig:l,gridBars:i},null)).setParams({interactive:!0}),t.customConfig=l,t.changeParamsHandler=a,t.displayGroup=game.displayGroups.UI,t.zOrder=2e4,t.lastActivePanel=null,t.allGridsArr=i,t.layout(),t.setValuesFromCookies(),t.reLayout=function(e){e.data.isOrientationChange&&(t.closeShifter(),r())},c2d.eventManager.dispatch(game.events.FlatUI.LOCK_SWIPE_MODE),c2d.eventManager.subscribe(c2d.documentEvents.SCREEN_WAS_RESIZED,t.reLayout),t}return(0,i.default)(s,[{key:"inflateMobileLandscapeLayout",value:function(e){var t=this,n=e.slotModel,l=e.gridBars,e=e.customConfig;return[new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%"},[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"10%",layoutHeight:"100%"},[new flatUI.buttons.TextButton("NEW\nUSER",function(){return t.onResetClick()},{layoutWidth:"100%",layoutHeight:"50%",text:{style:flatUI.styles.TextField.main_screen_numbers,align:"center"},button:{style:flatUI.styles.FlatButton.accent}}),new flatUI.buttons.TextButton("CLEAR",function(){return t.clearAllInputs()},{layoutWidth:"100%",layoutHeight:"50%",text:{style:flatUI.styles.TextField.main_screen_numbers,align:"center"},button:{style:flatUI.styles.FlatButton.negative}})]),new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"60%",layoutHeight:"100%",id:"RowPanelsLayout"},[new flatUI.layout.GridLayout({layoutWidth:"100%",columnCount:2,padding:0,id:"Scrollable"},[new flatUI.layout.GridLayout({layoutWidth:"80%",columnCount:1,padding:0},[this.hasNeedBar(l)&&new game.src.FlatUI.shifter.RowPanel({slotModel:n,title:"NEED BAR",rows:n.reels.first.symbols.length,columns:n.reels.length,selectByKeyHandler:function(){return t.symbolsPanelCellSelectHandler.apply(t,arguments)},clearHandler:function(){return t.clearCurrentGrid.apply(t,arguments)},selectHandler:function(){return t.gridPanelCellSelectHandler.apply(t,arguments)},id:"need_bar",mainLayoutWidth:"100%"}),this.hasFreeNeedBar(l)&&new game.src.FlatUI.shifter.RowPanel({slotModel:n,title:"FREE NEED BAR",rows:n.reels.first.symbols.length,columns:n.reels.length,selectByKeyHandler:function(){return t.symbolsPanelCellSelectHandler.apply(t,arguments)},clearHandler:function(){return t.clearCurrentGrid.apply(t,arguments)},selectHandler:function(){return t.gridPanelCellSelectHandler.apply(t,arguments)},id:"free_need_bar",mainLayoutWidth:"100%"}),this.hasNeedRow(l)&&new game.src.FlatUI.shifter.RowPanel({slotModel:n,title:"NEED ROW",rows:1,columns:n.reels.length,selectByKeyHandler:function(){return t.symbolsPanelCellSelectHandler.apply(t,arguments)},clearHandler:function(){return t.clearCurrentGrid.apply(t,arguments)},selectHandler:function(){return t.gridPanelCellSelectHandler.apply(t,arguments)},id:"need_row",mainLayoutWidth:"100%"}),this.hasFreeNeedRow(l)&&new game.src.FlatUI.shifter.RowPanel({slotModel:n,title:"FREE NEED ROW",rows:1,columns:n.reels.length,selectByKeyHandler:function(){return t.symbolsPanelCellSelectHandler.apply(t,arguments)},clearHandler:function(){return t.clearCurrentGrid.apply(t,arguments)},selectHandler:function(){return t.gridPanelCellSelectHandler.apply(t,arguments)},id:"free_need_row",mainLayoutWidth:"100%"})]),new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"20%"},[new flatUI.layout.HorizontalLayout({layoutHeight:"100",align:"center"},[new flatUI.text.TextField("PRESETS:",{layoutWidth:"90%",style:flatUI.styles.TextField.option_screen_subtitle})])].concat((0,u.default)(this.createButtons(e,1,"200")),[new flatUI.layout.Spacer]))])]),this.hasSymbols(n)&&new flatUI.layout.VerticalLayout({layoutWidth:"30%",layoutHeight:"100%",align:"middle"},[new flatUI.layout.GridLayout({layoutWidth:"50%",columnCount:1,padding:0,style:{color:14240844,alpha:.8}},[new flatUI.buttons.TextButton("CLOSE",function(){return t.closeShifter()},{layoutHeight:"50%",text:{style:flatUI.styles.TextField.main_screen_numbers,align:"center"},button:{style:flatUI.styles.FlatButton.negative}})]),new game.src.FlatUI.shifter.SymbolsPanel({slotModel:n,selectHandler:function(){return t.symbolsPanelCellSelectHandler.apply(t,arguments)}},3)])])]}},{key:"inflateMobilePortraitLayout",value:function(e){var t=this,n=e.slotModel,l=e.gridBars,e=e.customConfig;return[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"100%"},[new flatUI.layout.Spacer,new flatUI.layout.GridLayout({columnCount:1,padding:0,id:"Scrollable"},[new flatUI.panel.Panel({layoutHeight:"30%",style:{alpha:0}}),new flatUI.layout.GridLayout({columnCount:1,padding:0,id:"RowPanelsLayout"},[this.hasNeedBar(l)&&new game.src.FlatUI.shifter.RowPanel({slotModel:n,title:"NEED BAR",rows:n.reels.first.symbols.length,columns:n.reels.length,selectByKeyHandler:function(){return t.symbolsPanelCellSelectHandler.apply(t,arguments)},clearHandler:function(){return t.clearCurrentGrid.apply(t,arguments)},selectHandler:function(){return t.gridPanelCellSelectHandler.apply(t,arguments)},id:"need_bar",mainLayoutWidth:"100%"}),this.hasFreeNeedBar(l)&&new game.src.FlatUI.shifter.RowPanel({slotModel:n,title:"FREE NEED BAR",rows:n.reels.first.symbols.length,columns:n.reels.length,selectByKeyHandler:function(){return t.symbolsPanelCellSelectHandler.apply(t,arguments)},clearHandler:function(){return t.clearCurrentGrid.apply(t,arguments)},selectHandler:function(){return t.gridPanelCellSelectHandler.apply(t,arguments)},id:"free_need_bar",mainLayoutWidth:"100%"}),this.hasNeedRow(l)&&new game.src.FlatUI.shifter.RowPanel({slotModel:n,title:"NEED ROW",rows:1,columns:n.reels.length,selectByKeyHandler:function(){return t.symbolsPanelCellSelectHandler.apply(t,arguments)},clearHandler:function(){return t.clearCurrentGrid.apply(t,arguments)},selectHandler:function(){return t.gridPanelCellSelectHandler.apply(t,arguments)},id:"need_row",mainLayoutWidth:"100%"}),this.hasFreeNeedRow(l)&&new game.src.FlatUI.shifter.RowPanel({slotModel:n,title:"FREE NEED ROW",rows:1,columns:n.reels.length,selectByKeyHandler:function(){return t.symbolsPanelCellSelectHandler.apply(t,arguments)},clearHandler:function(){return t.clearCurrentGrid.apply(t,arguments)},selectHandler:function(){return t.gridPanelCellSelectHandler.apply(t,arguments)},id:"free_need_row",mainLayoutWidth:"100%"}),new flatUI.layout.VerticalLayout({layoutWidth:"100%",align:"middle"},(0,u.default)(this.createButtons(e,1,"300")))])])]),new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"30%",style:{color:1907997,alpha:.8}},[new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"30%"},[new flatUI.buttons.TextButton("NEW USER",function(){return t.onResetClick()},{layoutWidth:"35%",layoutHeight:"100%",text:{style:flatUI.styles.TextField.main_screen_numbers,align:"center"},button:{style:flatUI.styles.FlatButton.accent}}),new flatUI.buttons.TextButton("CLEAR",function(){return t.clearAllInputs()},{layoutWidth:"35%",layoutHeight:"100%",text:{style:flatUI.styles.TextField.main_screen_numbers,align:"center"},button:{style:flatUI.styles.FlatButton.negative}}),new flatUI.buttons.IconButton(function(){return t.closeShifter()},{align:"center",layoutWidth:"30%",layoutHeight:"100%",style:{textures:{normal:"BUTTON_CLOSE_normal",hover:"BUTTON_CLOSE_hover",pressed:"BUTTON_CLOSE_pressed",disabled:"BUTTON_CLOSE_disabled"}}})]),this.hasSymbols(n)&&new flatUI.layout.VerticalLayout({layoutWidth:"100%",layoutHeight:"70%",align:"middle"},[new game.src.FlatUI.shifter.SymbolsPanel({slotModel:n,selectHandler:function(){return t.symbolsPanelCellSelectHandler.apply(t,arguments)}},6)])])]}},{key:"inflateDesktopLayout",value:function(e){var t=this,n=e.slotModel,l=e.gridBars,e=e.customConfig;return[new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"100%",style:{color:1907997,alpha:.8}},[new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"35%",layoutHeight:"100%",style:{color:1447446,alpha:.8}},[new flatUI.layout.HorizontalLayout({layoutWidth:"100%",layoutHeight:"15%",align:"center"},[new flatUI.buttons.TextButton("NEW USER",function(){return t.onResetClick()},{layoutWidth:"40%",layoutHeight:"50%",text:{style:flatUI.styles.TextField.option_screen_subtitle,align:"center"},button:{style:flatUI.styles.FlatButton.accent}}),new flatUI.buttons.TextButton("CLEAR INPUTS",function(){return t.clearAllInputs()},{layoutWidth:"40%",layoutHeight:"50%",text:{style:flatUI.styles.TextField.option_screen_subtitle,align:"center"},button:{style:flatUI.styles.FlatButton.negative}})]),new flatUI.text.TextField("PRESETS:",{layoutWidth:"80%",layoutHeight:"8%",style:flatUI.styles.TextField.option_screen_subtitle,align:"center"}),new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100%",layoutHeight:"77%"},[new flatUI.layout.GridLayout({columnCount:1,padding:50,style:{color:2096918,alpha:0}},(0,u.default)(this.createButtons(e,3,"220px"))),new flatUI.layout.Spacer])]),this.hasSymbols(n)&&new flatUI.layout.VerticalLayout({layoutWidth:"10%",layoutHeight:"100%",align:"middle"},[new flatUI.text.TextField("SYMBOLS:",{layoutWidth:"80%",layoutHeight:"1",style:flatUI.styles.TextField.option_screen_subtitle,align:"center"}),new game.src.FlatUI.shifter.SymbolsPanel({slotModel:n,selectHandler:function(){return t.symbolsPanelCellSelectHandler.apply(t,arguments)}},n.symbolsConfig.length<14?1:2)]),new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"40%",layoutHeight:"100%",id:"RowPanelsLayout"},[new flatUI.layout.GridLayout({layoutHeight:"100%",layoutWidth:"100%",columnCount:1,padding:50,id:"Scrollable"},[this.hasNeedBar(l)&&new game.src.FlatUI.shifter.RowPanel({slotModel:n,title:"NEED BAR",rows:n.reels.first.symbols.length,columns:n.reels.length,selectByKeyHandler:function(){return t.symbolsPanelCellSelectHandler.apply(t,arguments)},clearHandler:function(){return t.clearCurrentGrid.apply(t,arguments)},selectHandler:function(){return t.gridPanelCellSelectHandler.apply(t,arguments)},id:"need_bar",mainLayoutWidth:"100%"}),this.hasFreeNeedBar(l)&&new game.src.FlatUI.shifter.RowPanel({slotModel:n,title:"FREE NEED BAR",rows:n.reels.first.symbols.length,columns:n.reels.length,selectByKeyHandler:function(){return t.symbolsPanelCellSelectHandler.apply(t,arguments)},clearHandler:function(){return t.clearCurrentGrid.apply(t,arguments)},selectHandler:function(){return t.gridPanelCellSelectHandler.apply(t,arguments)},id:"free_need_bar",mainLayoutWidth:"100%"}),this.hasNeedRow(l)&&new game.src.FlatUI.shifter.RowPanel({slotModel:n,title:"NEED ROW",rows:1,columns:n.reels.length,selectByKeyHandler:function(){return t.symbolsPanelCellSelectHandler.apply(t,arguments)},clearHandler:function(){return t.clearCurrentGrid.apply(t,arguments)},selectHandler:function(){return t.gridPanelCellSelectHandler.apply(t,arguments)},id:"need_row",mainLayoutWidth:"100%"}),this.hasFreeNeedRow(l)&&new game.src.FlatUI.shifter.RowPanel({slotModel:n,title:"FREE NEED ROW",rows:1,columns:n.reels.length,selectByKeyHandler:function(){return t.symbolsPanelCellSelectHandler.apply(t,arguments)},clearHandler:function(){return t.clearCurrentGrid.apply(t,arguments)},selectHandler:function(){return t.gridPanelCellSelectHandler.apply(t,arguments)},id:"free_need_row",mainLayoutWidth:"100%"})])]),new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"15%",layoutHeight:"100%",style:{color:1447446,alpha:.8}},[new flatUI.buttons.IconButton(function(){return t.closeShifter()},{align:"center",layoutWidth:"100%",layoutHeight:"14%",style:{textures:{normal:"BUTTON_CLOSE_normal",hover:"BUTTON_CLOSE_hover",pressed:"BUTTON_CLOSE_pressed",disabled:"BUTTON_CLOSE_disabled"}}}),new flatUI.layout.Spacer])])]}},{key:"hasSymbols",value:function(e){return 0<e.symbolsConfig.length}},{key:"hasNeedBar",value:function(e){return-1!==e.indexOf("need_bar")}},{key:"hasNeedRow",value:function(e){return-1!==e.indexOf("need_row")}},{key:"hasFreeNeedRow",value:function(e){return-1!==e.indexOf("free_need_row")}},{key:"hasFreeNeedBar",value:function(e){return-1!==e.indexOf("free_need_bar")}},{key:"createButtons",value:function(t,l,i,e,n){var a=this,r="100%";return Object.keys(t).map(function(e){var n=Object.keys(t[e]);return n.length+1>l&&(r/=parseInt((n.length+1)/l)+.25),new game.src.FlatUI.shifter.GridPanel(function(e){return a.clickPresetBtn(e)},e.toString(),{columnCount:l,padding:5,paddingX:10},(0,u.default)(new Array(n.length).fill(0).map(function(e,t){return new flatUI.buttons.ToggleTextButton(n[t],null,{layoutWidth:i,layoutHeight:r,text:{style:flatUI.styles.TextField.main_screen_numbers,align:"center"},button:{style:flatUI.styles.ToggleButton.primary},id:n[t].toString()})})))})}},{key:"closeShifter",value:function(){var t=this;c2d.eventManager.dispatch(game.events.FlatUI.UNLOCK_SWIPE_MODE),c2d.eventManager.unsubscribe(c2d.documentEvents.SCREEN_WAS_RESIZED,this.reLayout),this.allGridsArr.forEach(function(e){t.findChildById("RowPanelsLayout").findChildById(e).removeListeners()}),this.removeFromParent()}},{key:"clearCurrentGrid",value:function(e){this.findChildById("RowPanelsLayout").findChildById(e).clearInputs(),"radioGroup"!==e&&this.writeCookie(e,null),this.validateActiveButtons()}},{key:"getActualCookies",value:function(){if(c2d.env.storage.isStorageAvailable()&&c2d.env.storage.gameData)return c2d.env.storage.gameData.shifter_data;c2d.cookie.getAllCookies()}},{key:"validateActiveButtons",value:function(){var a=this,r=this.getActualCookies(),o=[];Object.keys(this.customConfig).map(function(i){Object.keys(a.customConfig[i]).forEach(function(e){var t=0,n=[],l=a.customConfig[i][e];Object.keys(l).filter(function(e){return r[e]===l[e].toString()}).forEach(function(e){t++,n={presetElement:e,value:l[e].toString()}}),t===Object.keys(l).filter(function(e){return"radioGroup"!==e}).length?(o.push({panel:i,preset:e,presetElementsArr:n,presetAmount:t}),a.findChildById(i).findChildById(e).toggled=!0):a.findChildById(i).findChildById(e).toggled=!1})}),this.verifyPresetsOnSameFields(o)}},{key:"verifyPresetsOnSameFields",value:function(e){var r=this;e.forEach(function(i){var a=r.customConfig[i.panel][i.preset];e.forEach(function(n){var l=r.customConfig[n.panel][n.preset];Object.keys(a).filter(function(e){return"radioGroup"!==e}).forEach(function(t){Object.keys(l).filter(function(e){return"radioGroup"!==e}).forEach(function(e){t===e&&a[t]===l[e]&&i.presetAmount<n.presetAmount&&(r.findChildById(i.panel).findChildById(i.preset).toggled=!1)})})})})}},{key:"setValuesFromCookies",value:function(){var t=this,n=this.getActualCookies();this.validateActiveButtons(),this.allGridsArr.filter(function(e){return n[e]}).forEach(function(e){t.findChildById("RowPanelsLayout").findChildById(e).activate(!0),t.findChildById("RowPanelsLayout").findChildById(e).setValues(n[e].split(","),null)})}},{key:"symbolsPanelCellSelectHandler",value:function(a){var r=this;this.allGridsArr.forEach(function(e){var t,n,l,i=r.findChildById("RowPanelsLayout").findChildById(e);i.isActive?(t=i.selectedCell,r.lastActivePanel===e&&null!==t&&(l=(n=i.findChildById("reelsetGrid")).findChildById(t),i.combinationId&&(i.combinationId=null),i.enableClearButton=!0,i._selectedCell=r.calculateNextCellIndex(a,t,e),"Delete"!==a&&"Backspace"!==a&&l.cellValue(a),n.findChildById(i._selectedCell).selected=!0,r.writeCookie(e,i.cellValues))):i.deactivateCells()}),this.validateActiveButtons()}},{key:"calculateNextCellIndex",value:function(e,t,n){var l=0;if("Delete"!==e&&"Backspace"!==e)(l=t+1)>this.findChildById("RowPanelsLayout").findChildById(n).cellValues.length-1&&(l=0);else switch(e){case"Delete":(l=t+1)>this.findChildById("RowPanelsLayout").findChildById(n).cellValues.length-1&&(l=0);break;case"Backspace":-1===(l=t-1)&&(l=this.findChildById("RowPanelsLayout").findChildById(n).cellValues.length-1)}return l}},{key:"writeCookie",value:function(e,t){Array.isArray(t)&&0<t.filter(function(e){return e}).length||t?(c2d.cookie.write(e,t),c2d.env.storage.gameData.shifter_data[e]=t.toString()):(delete c2d.env.storage.gameData.shifter_data[e],c2d.cookie.write(e)),this.changeParamsHandler()}},{key:"onResetClick",value:function(){c2d.env.storage.erase(),location.reload()}},{key:"clearAllInputs",value:function(){var t=this;this.lastActivePanel=null,Object.keys(this.getActualCookies()).forEach(function(e){return t.writeCookie(e,null)}),this.allGridsArr.forEach(function(e){t.findChildById("RowPanelsLayout").findChildById(e).clearInputs()}),this.validateActiveButtons()}},{key:"gridPanelCellSelectHandler",value:function(t){var n=this;this.lastActivePanel=t.id,this.allGridsArr.forEach(function(e){n.findChildById("RowPanelsLayout").findChildById(e).activate(e===t.id)})}},{key:"getCurrentPresetById",value:function(n){var l=this,i=null;return Object.keys(this.customConfig).map(function(t){Object.keys(l.customConfig[t]).filter(function(e){return e===n}).forEach(function(e){i=l.customConfig[t][e]})}),i}},{key:"clickPresetBtn",value:function(l){var i=this,a=this.getCurrentPresetById(l.id);l.isToggled?(Object.keys(this.customConfig).map(function(t){var n=Object.keys(i.customConfig[t]);n.filter(function(e){return e!==l.id&&-1!==n.indexOf(l.id)&&i.findChildById(t).isToggledCurrentButtonById(e)}).forEach(function(e){i.cleanCookieRadioGroup(a,e),i.cleanCookieInPerset(a,t,e)})}),Object.keys(a).forEach(function(e){i.writeCookieOfCurrentPerset(a,e,l)}),"Gift Spins"!==l.id&&"Gift FreeSpins"!==l.id||window.location.reload()):this.cleanCookieOfUntoggledButton(a),this.validateActiveButtons()}},{key:"cleanCookieInPerset",value:function(e,n,l){var i=this,a=!1,r=this.getCurrentPresetById(l);Object.keys(this.customConfig[n][l]).filter(function(e){return"radioGroup"!==e}).forEach(function(t){Object.keys(e).filter(function(e){return"radioGroup"!==e}).forEach(function(e){i.customConfig[n][l][t]===r[e]&&(a=!0)})}),a&&Object.keys(r).filter(function(e){return"radioGroup"!==e}).forEach(function(e){i.writeCookie(e,null)})}},{key:"cleanCookieRadioGroup",value:function(t,e){var n=this,l=this.getCurrentPresetById(e);Object.keys(l).filter(function(e){return void 0!==t.radioGroup&&t.radioGroup===l.radioGroup&&"radioGroup"!==e}).forEach(function(e){n.writeCookie(e,null)})}},{key:"writeCookieOfCurrentPerset",value:function(e,t,n){e=e[t];"radioGroup"!==t&&this.writeCookie(t,e.toString()),-1!==this.allGridsArr.indexOf(t)&&(this.findChildById("RowPanelsLayout").findChildById(t).activate(!0),this.findChildById("RowPanelsLayout").findChildById(t).setValues(e.split(","),n.id))}},{key:"cleanCookieOfUntoggledButton",value:function(e){var t=this;Object.keys(e).forEach(function(e){"radioGroup"!==e&&t.writeCookie(e,null),-1!==t.allGridsArr.indexOf(e)&&t.clearCurrentGrid(e)})}},{key:"onLayout",value:function(){this.scrollableLayoutHeight=this.scrollableLayout.height,this._settings.scrollableLayoutMaskDisabled||(this.maskSprite.width=this.layoutWidth,this.maskSprite.height=this.layoutHeight),this.scrollBack.visible=this.isOverflow,this.scrollPin.visible=this.isOverflow,this.scrollPin.height=this.layoutHeight/(this.scrollableLayoutHeight/this.layoutHeight),this.scrollBack.x=this.layoutWidth,this.scrollBack.height=this.layoutHeight,this.scrollPin.x=this.layoutWidth-25,this.scrollValue=0}}]),s}(l(e("../common/optionsScreen/ScrollableLayout.js")).default);n.default=l},{"../common/optionsScreen/ScrollableLayout.js":64,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/toConsumableArray":25}],159:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}var c={disabled:{normal:{color:8421504,alpha:.001},hover:{color:12632256,alpha:.001},pressed:{color:16777215,alpha:.001},disabled:{color:16777215,alpha:1}},enabled:{normal:{color:32768,alpha:.001},hover:{color:32848,alpha:.001},pressed:{color:32848,alpha:.001},disabled:{color:32848,alpha:1}}},h={normal:{fontWeight:"600",fontSize:"20px",padding:10,fill:"0xffffff",align:"center"},normalPortrait:{fontWeight:"600",fontSize:"20px",padding:10,fill:"0xffffff",align:"center"}},l=function(e){(0,r.default)(n,e);var t=u(n);function n(e){var l,e=e.slotModel;return(0,i.default)(this,n),l=t.call(this,{layoutWidth:"100vw",layoutHeight:"100vh",align:"middle"},null),game.api.addMethod("showShifter",function(){return l.showShifter()}),l.slotModel=e,l.layout(),l.displayGroup=game.displayGroups.UI,l.zOrder=2,l.gridBars=["need_bar","need_row","free_need_row","free_need_bar"],c2d.env.storage.isStorageAvailable()&&c2d.env.storage.gameData&&(c2d.env.storage.gameData.shifter_data=c2d.cookie.getAllCookies()),l.customConfig={},c2d&&c2d.FileManager.isFileExist("shifterConfig.json")&&window.utils.loadJSON(c2d.FileManager.getFullPath("shifterConfig.json"),function(e){var n=JSON.parse(e);c2d.env.DEBUG||(delete n.Presets["Gift FreeSpins"],delete n.Presets["Gift Spins"]),Object.keys(n).forEach(function(t){"settings"==t?Object.keys(n[t]).forEach(function(e){"need_panels"==e&&(l.gridBars=n[t][e].length?n[t][e].split(","):[])}):l.customConfig[t]=n[t]}),l.validateActiveCookies()}),c2d.eventManager.subscribe(c2d.documentEvents.SCREEN_WAS_RESIZED,function(e){l.customConfig&&(l.reInflateLayout(),l.layout(),l.validateActiveCookies(),l.displayGroup=game.displayGroups.UI,l.zOrder=2)}),l}return(0,a.default)(n,[{key:"getActualCookies",value:function(){if(c2d.env.storage.isStorageAvailable()&&c2d.env.storage.gameData)return c2d.env.storage.gameData.shifter_data;c2d.cookie.getAllCookies()}},{key:"validateActiveCookies",value:function(){var e=this.findChildById("ShifterBtn");e&&(this.hasActiveCookies()?e.button.style=c.enabled:e.button.style=c.disabled,e.button.state="normal")}},{key:"hasActiveCookies",value:function(){var n=this,l=this.getActualCookies(),i=!1;return Object.keys(this.customConfig).forEach(function(t){Object.keys(n.customConfig[t]).forEach(function(e){Object.keys(n.customConfig[t][e]).filter(function(e){return l[e]}).forEach(function(e){return i=!0})})}),this.gridBars.filter(function(e){return l[e]}).forEach(function(e){return i=!0}),i}},{key:"inflateMobilePortraitLayout",value:function(){var e=this;return[new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"100"},[new flatUI.layout.Spacer,new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100",layoutHeight:"100",style:{color:14240844,alpha:.1}},[new flatUI.buttons.TextButton("E.Tool",function(){return e.showShifter()},{layoutWidth:"100",layoutHeight:"100",text:{style:h.normal,align:"center"},button:{style:c.disabled},id:"ShifterBtn"})])]),new flatUI.layout.Spacer]}},{key:"inflateMobileLandscapeLayout",value:function(){var e=this;return[new flatUI.layout.HorizontalLayout({align:"center",layoutWidth:"100%",layoutHeight:"150"},[new flatUI.layout.Spacer,new flatUI.layout.VerticalLayout({align:"middle",layoutWidth:"100",layoutHeight:"150",style:{color:14240844,alpha:.1}},[new flatUI.buttons.TextButton("E.Tool",function(){return e.showShifter()},{layoutWidth:"100",layoutHeight:"150",text:{style:h.normal,align:"center"},button:{style:c.disabled},id:"ShifterBtn"})])]),new flatUI.layout.Spacer]}},{key:"inflateDesktopLayout",value:function(){return[]}},{key:"showShifter",value:function(){var e=this;this.root.addChild(new game.src.FlatUI.shifter.Shifter({slotModel:this.slotModel,customConfig:this.customConfig,gridBars:this.gridBars,changeParamsHandler:function(){return e.validateActiveCookies()},resizeShifterHandler:function(){return e.showShifter()}}))}}]),n}(flatUI.layout.VerticalLayout);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],160:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./SymbolsPanelCell.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,o.default)(i,e);var l=c(i);function i(e,t){var n=e.slotModel,e=e.selectHandler;return(0,a.default)(this,i),l.call(this,{columnCount:t,padding:5},null,{slotModel:n,selectHandler:e})}return(0,r.default)(i,[{key:"inflateLayout",value:function(e,t,n,l){var i=n.slotModel,a=n.selectHandler;return i.symbolsConfig.map(function(e){return new u.default(e.id,{layoutWidth:l.layoutWidth,layoutHeight:l.layoutHeight,selectHandler:function(e){a(e)}})})}},{key:"inflateDesktopLayout",value:function(e,t,n){var l=n.slotModel,n=n.selectHandler;return this.inflateLayout(e,t,{slotModel:l,selectHandler:n},{layoutWidth:70,layoutHeight:70})}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){var l=n.slotModel,n=n.selectHandler;return this.inflateLayout(e,t,{slotModel:l,selectHandler:n},{layoutWidth:70,layoutHeight:70})}},{key:"inflateMobileLandscapeLayout",value:function(e,t,n){var l=n.slotModel,n=n.selectHandler;return this.inflateLayout(e,t,{slotModel:l,selectHandler:n},{layoutWidth:60,layoutHeight:60})}}]),i}(flatUI.layout.GridLayout);n.default=l},{"./SymbolsPanelCell.js":161,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],161:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),o=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),i=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/inherits")),a=l(e("@babel/runtime/helpers/possibleConstructorReturn")),r=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("../common/optionsScreen/paytable/PaytableSymbolAnimation.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,r.default)(n);return e=l?(e=(0,r.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}l=function(e){(0,s.default)(r,e);var a=c(r);function r(e,t){var n=t.layoutWidth,l=t.layoutHeight,i=t.selectHandler;return(0,o.default)(this,r),(t=a.call(this,{layoutWidth:n,layoutHeight:l,align:"center",style:{alpha:.4,color:16777215}},[new flatUI.layout.Spacer,new u.default(e,{layoutWidth:n-10,layoutHeight:l-10,id:"symbolAnimation"}).setParams({alpha:.8,interactive:!1}),new flatUI.text.TextField(e,{layoutWidth:"100%",style:flatUI.styles.TextField.main_screen_numbers,align:"left",id:"symbolId"}),new flatUI.layout.Spacer])).interactive=!0,t.buttonMode=!0,t.click=function(){i(e)},t.tap=function(){i(e)},t}return(0,i.default)(r,[{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e,this.background.background.tint=this._selected?5592575:16777215}}]),r}(flatUI.layout.FrameLayout);n.default=l},{"../common/optionsScreen/paytable/PaytableSymbolAnimation.js":84,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],162:[function(e,t,n){"use strict";e("./lines/index.js"),e("./network/index.js"),e("./reelset/index.js"),e("./bonusGame/index.js"),e("./popup/index.js"),e("./audio/index.js"),e("./flatUI/index.js"),e("./tournament/index.js"),e("./BigwinNotification/index.js"),e("./intro/index.js"),e("./reward/index.js"),e("./blackout/index.js")},{"./BigwinNotification/index.js":36,"./audio/index.js":40,"./blackout/index.js":42,"./bonusGame/index.js":46,"./flatUI/index.js":52,"./intro/index.js":163,"./lines/index.js":167,"./network/index.js":178,"./popup/index.js":226,"./reelset/index.js":233,"./reward/index.js":248,"./tournament/index.js":253}],163:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){var e;if((0,i.default)(this,n),e=t.apply(this,arguments),0==arguments.length)throw new Error("There are no arguments in intro constructor!");return e.loopsCounter=2,e.currentStage=-1,e.lockButtons=!1,e.touchStartFunction=null,e.touchEndFunction=null,e.isStarted=!1,e}return(0,a.default)(n,[{key:"onActivate",value:function(){(0,r.default)((0,u.default)(n.prototype),"onActivate",this).call(this),this.isIntroSkipped&&(this.visible=!1)}},{key:"start",value:function(e){var t=this;this.isStarted=!0,this.onFinish=function(){return e()},this.hideCallback=function(){return t.hide()},c2d.eventManager.subscribe(game.events.FlatUI.PLAY_BUTTON_PRESSED,this.hideCallback),this.addStages(),this.addSwipe(),this.config.arrowButtons&&this.addArrows(),this.setStage(0)}},{key:"onResize",value:function(){this.isStarted&&((0,r.default)((0,u.default)(n.prototype),"onResize",this).call(this),this.config.arrowButtons&&this.addArrows(),-1!==this.currentStage&&this.play(this.config.stages[this.currentStage].animation,!1,!0),this.addStages(),this.addSwipe(),this.setStage(this.currentStage))}},{key:"addSwipe",value:function(){var l=this;this.removeSwipeListeners();this.touchStartFunction=function(e){document.removeEventListener("touchend",l.touchEndFunction),l.touchEndFunction=null;var n=e.changedTouches[0].screenX;e.changedTouches[0].screenY;l.touchEndFunction=function(e){var t=e.changedTouches[0].screenX;e.changedTouches[0].screenY;n<t?70<t-n&&l.decreaseStage(!1):70<n-t&&l.increaseStage(!1),document.removeEventListener("touchend",l.touchEndFunction),l.touchEndFunction=null},document.addEventListener("touchend",l.touchEndFunction)},document.addEventListener("touchstart",this.touchStartFunction)}},{key:"increaseStage",value:function(){var e=this;this.lockButtons||(0<arguments.length&&void 0!==arguments[0]&&!arguments[0]||(this.increaseButton.play(this.config.arrowButtons.increase.states.push),this.increaseButton.onComplete=function(){e.increaseButton.play(e.config.arrowButtons.increase.states.normal)}),this.currentStage=this.currentStage+1,this.currentStage>this.config.stages.length-1&&(this.currentStage=0),this.loopsCounter=2,this.setStage(this.currentStage))}},{key:"decreaseStage",value:function(){var e=this;this.lockButtons||(0<arguments.length&&void 0!==arguments[0]&&!arguments[0]||(this.decreaseButton.play(this.config.arrowButtons.decrease.states.push),this.decreaseButton.onComplete=function(){e.decreaseButton.play(e.config.arrowButtons.decrease.states.normal)}),this.currentStage=this.currentStage-1,this.currentStage<0&&(this.currentStage=this.config.stages.length-1),this.loopsCounter=2,this.setStage(this.currentStage))}},{key:"addArrows",value:function(){var e=this,t=(this.decreaseButton&&this.decreaseButton.removeFromParent(),this.increaseButton&&this.increaseButton.removeFromParent(),this.config.arrowButtons.increase),n=(this.increaseButton=new c2d.display.Spine(this._respack.getAsset(t.spine)),this._content.skeleton.findSlot(t.slotName).currentSprite.addChild(this.increaseButton),this.increaseButton.interactive=this.increaseButton.buttonMode=!0,this.increaseButton.play(t.states.normal),t.states.hover&&(this.increaseButton.mouseover=function(){e.increaseButton.play(t.states.hover)}),this.increaseButton.mouseup=this.increaseButton.touchend=this.increaseButton.mouseout=this.increaseButton.touchleave=this.increaseButton.touchendoutside=function(){e.increaseButton.play(t.states.normal)},this.increaseButton.mousedown=this.increaseButton.touchstart=function(){e.increaseStage()},this.config.arrowButtons.decrease);this.decreaseButton=new c2d.display.Spine(this._respack.getAsset(n.spine)),this._content.skeleton.findSlot(n.slotName).currentSprite.addChild(this.decreaseButton),this.decreaseButton.interactive=this.decreaseButton.buttonMode=!0,this.decreaseButton.play(t.states.normal),n.states.hover&&(this.decreaseButton.mouseover=function(){e.decreaseButton.play(e.config.arrowButtons.decrease.states.hover)}),this.decreaseButton.mouseup=this.decreaseButton.touchend=this.decreaseButton.mouseout=this.decreaseButton.touchleave=this.decreaseButton.touchendoutside=function(){e.decreaseButton.play(n.states.normal)},this.decreaseButton.mousedown=this.decreaseButton.touchstart=function(){e.decreaseStage()}}},{key:"addStages",value:function(){var n=this;this.config.stages.forEach(function(e,t){n._content.setTouchOnSlot(e.touch,{down:function(){n.lockButtons||(n.loopsCounter=2,n.setStage(t))}})})}},{key:"playDisableStages",value:function(){this.lockButtons=!0,this.play(this.config.stages[this.currentStage].disableAnimation,!1,!0),this.playNext()}},{key:"playEnableStages",value:function(){this.lockButtons=!1,this.play(this.config.stages[this.currentStage].animation,!1,!0),this.playNext()}},{key:"activateStagesButtons",value:function(){var n=this;this.config.stages.forEach(function(e,t){e=n._content.skeleton.findSlot(e.touch).currentSprite;e.interactive=e.buttonMode=t!==n.currentStage})}},{key:"setStage",value:function(e){var t=this;Array.isArray(this.config.stages)&&(e>this.config.stages.length&&console.warn("Intro: incorrect stage:",e),this.currentStage=e,this.activateStagesButtons(),this.play(this.config.stages[e].animation,!1,!0),this.onComplete=function(){++e>=t.config.stages.length&&(t.loopsCounter--,(e=0)===t.loopsCounter)?t.hide():t.setStage(e)})}},{key:"removeSwipeListeners",value:function(){document.removeEventListener("touchstart",this.touchStartFunction),document.removeEventListener("touchend",this.touchEndFunction),this.touchStartFunction=null,this.touchEndFunction=null}},{key:"hide",value:function(){var e=this;this.removeSwipeListeners(),this.stop(),c2d.Tween.get(this).to({alpha:0},500,c2d.Tween.Ease.cubicIn).call(function(){e.visible=!1,e._content.destroy({children:!0}),e.deactivate()}),this.onFinish(),c2d.eventManager.unsubscribe(game.events.FlatUI.PLAY_BUTTON_PRESSED,this.hideCallback)}},{key:"isIntroSkipped",get:function(){return c2d.env.storage.getItem("skipIntro",!1)}}]),n}(game.components.spine);(n.default=l).ID="Intro",game.registerComponent(l,{})},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],164:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={LINES_WILL_SHOWN:"Lines.LINES_WILL_SHOWN",LINES_DID_SHOWN:"Lines.LINES_DID_SHOWN",LINES_DID_HIDE:"Lines.LINES_DID_HIDE",LINE_DID_SHOWN:"Lines.LINE_DID_SHOWN"}},{}],165:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=u(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"onInitialize",value:function(){var e=new game.src.Lines.Model,t=new game.src.Lines.View,n=(t.initialize(this.respack),this.context.view.addChild(t),new game.src.Lines.Controller);n.initialize(e,t),this.controller=n,this.exportApi(["initLines","show","hide"])}}]),n}(game.slots.Component);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],166:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./../api/Events.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"onInitialize",value:function(){this._config=this._view._respack.getAsset("config")}},{key:"initLines",value:function(e){this._view.initLines(e)}},{key:"show",value:function(e,t){var n=this;this.hide(),e.filter(function(e){return e}).forEach(function(e){void 0!==e.idx?(n._view.createLine(e),n._view.showLine(e.idx,t)):(n._view.createScatters(e),n._view.showScatters())})}},{key:"showEmptyLines",value:function(e){for(var t=0;t<e;t++)this._view.createLine({idx:t}),this._view.showLine(t)}},{key:"hide",value:function(){this._view.hideAll(),this._view.destroyAllLines(),c2d.Tween.removeTweens(this),this.dispatch(u.default.LINES_DID_HIDE)}}]),n}(c2d.ComponentController);n.default=l},{"./../api/Events.js":164,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],167:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=l(e("./api/LinesApi.js")),a=l(e("./api/Events.js")),r=l(e("./model/LinesModel.js")),o=l(e("./view/LinesView.js")),l=l(e("./controller/LinesController.js"));i.default.src={Model:r.default,View:o.default,Controller:l.default},i.default.ID="Lines",game.registerComponent(i.default),game.registerEvents(i.default.ID,a.default)},{"./api/Events.js":164,"./api/LinesApi.js":165,"./controller/LinesController.js":166,"./model/LinesModel.js":168,"./view/LinesView.js":172,"@babel/runtime/helpers/interopRequireDefault":12}],168:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=u(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this)).config=null,e}return(0,a.default)(n,[{key:"setInitData",value:function(e){this.config=e}}]),n}(c2d.Model);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],169:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),s=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),i=l(e("@babel/runtime/helpers/createClass")),a=l(e("@babel/runtime/helpers/inherits")),r=l(e("@babel/runtime/helpers/possibleConstructorReturn")),o=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(e,t){var n,l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return l&&(e=l),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,r=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return a=e.done,e},e:function(e){r=!0,i=e},f:function(){try{a||null==l.return||l.return()}finally{if(r)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,o.default)(n);return e=l?(e=(0,o.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,e)}}l=function(e){(0,a.default)(P,e);var o=h(P);function P(e,t,n,l,i){var a,r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1;return(0,s.default)(this,P),(a=o.call(this)).color=e,a.lineSize=t,a.lineCurvature=n,a.graphics=new c2d.display.Graphics,a.graphics.lineStyle(a.lineSize,a.color,r),l&&(a.shadow=new c2d.display.Graphics,a.shadow.lineStyle(a.lineSize+l,i,r),a.addChild(a.shadow),(e=new c2d.display.filters.BlurFilter).blur=2,a.shadow.filters=[e]),a.shapeSprite=new c2d.display.Sprite,a.addChild(a.shapeSprite),a}return(0,i.default)(P,[{key:"drawRects",value:function(e){var t,n=u(e);try{for(n.s();!(t=n.n()).done;){var l=t.value;this._drawRect(l.x,l.y,l.width,l.height)}}catch(e){n.e(e)}finally{n.f()}return this.cacheAsBitmap=!0,this}},{key:"drawPath",value:function(e,t,n,l){for(var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,r=[],o=[],s=[],u=1;u<e.length;u++){var c=e[u-1],h=e[u],f=Math.sqrt((h.x-c.x)*(h.x-c.x)+(h.y-c.y)*(h.y-c.y)),d=new c2d.geom.Point(h.x-c.x,h.y-c.y),d=new c2d.geom.Point(d.x/f,d.y/f),p=Math.min(f/4,this.lineCurvature);1==u&&o.push(new c2d.geom.Line(new c2d.geom.Point(c.x-1,c.y),new c2d.geom.Point(h.x,h.y))),o.push(new c2d.geom.Line(new c2d.geom.Point(c.x+d.x*p,c.y+d.y*p),new c2d.geom.Point(c.x+d.x*(f-p),c.y+d.y*(f-p)))),u==e.length-1&&o.push(new c2d.geom.Line(new c2d.geom.Point(c.x,c.y),new c2d.geom.Point(h.x+1,h.y))),r.push(new c2d.geom.Point(c.x+d.x*p,c.y+d.y*p)),r.push(new c2d.geom.Point(c.x+d.x*(f-p),c.y+d.y*(f-p))),r.push(new c2d.geom.Point(h.x,h.y))}for(var y=0;y<t.length;y++){var b=new c2d.geom.Rectangle(t[y].x,t[y].y,n,l),m=b.getIntersectionPoints(o),g={};g.border=b,g.enter=m[0],g.exit=m[1],s.push(g)}for(var v=1;v<r.length-2;v+=3){var _=new c2d.geom.Curve(r[v],r[v+1],r[v+2]),S=P.findHoleForPoint(r[v+1],P.holePointsToRectangles(t,n,l));if(null===S)return console.error(v,r[v+1]),this.drawRects(P.holePointsToRectangles(t,n,l)),void this._drawHole(r[v+1].x,r[v+1].y,10);s[S].curve=_}for(var C=0,I=null,w=0,R=s;w<R.length;w++){var k=R[w];t[C].isHole?this._drawRect(k.border.x,k.border.y,k.border.width,k.border.height):(this._moveTo(k.enter.x,k.enter.y),k.curve&&(this._lineTo(k.curve.a.x,k.curve.a.y),this._drawCurve(k.curve)),this._lineTo(k.exit.x,k.exit.y)),I&&(this._moveTo(I.exit.x,I.exit.y),this._lineTo(k.enter.x,k.enter.y)),I=k,C++}i&&(this._moveTo(s.first.enter.x,s.first.enter.y),this._lineTo(s.first.enter.x-i,s.first.enter.y)),a&&(this._moveTo(s.last.exit.x,s.last.exit.y),this._lineTo(s.last.exit.x+a,s.last.exit.y)),this.graphics.getBounds(),this.shapeSprite.texture=c2d.engine._renderer.generateTexture(this.graphics),this.shapeSprite.x=this.graphics.getLocalBounds().x,this.shapeSprite.y=this.graphics.getLocalBounds().y}},{key:"_drawCurve",value:function(e){this._moveTo(e.a.x,e.a.y),this._bezierCurveTo(e.a.x,e.a.y,e.anchor.x,e.anchor.y,e.b.x,e.b.y)}},{key:"_drawHole",value:function(e,t,n){return this._drawRect(parseInt(e-.5*this.lineSize),parseInt(t-.5*this.lineSize),n+this.lineSize,n+this.lineSize),this._endFill(),this}},{key:"_moveTo",value:function(e,t){this.graphics.moveTo(parseInt(e),parseInt(t)),this.shadow&&this.shadow.moveTo(parseInt(e),parseInt(t))}},{key:"_lineTo",value:function(e,t){this.graphics.lineTo(parseInt(e),parseInt(t)),this.shadow&&this.shadow.lineTo(parseInt(e),parseInt(t))}},{key:"_line",value:function(e){this.graphics.lineTo(parseInt(x),parseInt(y)),this.shadow&&this.shadow.lineTo(parseInt(x),parseInt(y))}},{key:"_bezierCurveTo",value:function(e,t,n,l,i,a){this.graphics.bezierCurveTo(parseInt(e),parseInt(t),parseInt(n),parseInt(l),parseInt(i),parseInt(a)),this.shadow&&this.shadow.bezierCurveTo(parseInt(e),parseInt(t),parseInt(n),parseInt(l),parseInt(i),parseInt(a))}},{key:"_drawRect",value:function(e,t,n,l){this.graphics.drawRect(parseInt(e),parseInt(t),parseInt(n),parseInt(l)),this.shadow&&this.shadow.drawRect(parseInt(e),parseInt(t),parseInt(n),parseInt(l)),this.graphics.getBounds(),this.shapeSprite.texture=this.graphics.generateCanvasTexture(),this.shapeSprite.x=this.graphics.getLocalBounds().x,this.shapeSprite.y=this.graphics.getLocalBounds().y}},{key:"_drawDot",value:function(e,t,n,l){l=c2d.display.TextField.create(l,15,16777215);this.graphics.lineStyle(this.lineSize,16777215*Math.random(),1),this.graphics.drawCircle(parseInt(e),parseInt(t),n),l.x=e,l.y=t,this.addChild(l),this.shadow&&this.shadow.drawCircle(parseInt(e),parseInt(t),n)}},{key:"_endFill",value:function(){this.graphics.endFill(),this.shadow&&this.shadow.endFill()}}],[{key:"getAbsolutePathFromRelative",value:function(e,t,n){var l,i=[],a=u(e);try{for(a.s();!(l=a.n()).done;){var r=l.value;i.push(new c2d.geom.Point(r.x*t,r.y*n))}}catch(e){a.e(e)}finally{a.f()}return i}},{key:"holePointsToRectangles",value:function(e,t,n){var l,i=[],a=u(e);try{for(a.s();!(l=a.n()).done;){var r=l.value,o=new c2d.geom.Rectangle(r.x,r.y,t,n);i.push(o)}}catch(e){a.e(e)}finally{a.f()}return i}},{key:"findHoleForPoint",value:function(e,t){for(var n in t)if(e.isInsideRectangle(t[n]))return n;return null}}]),P}(c2d.display.Container);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],170:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),o=l(e("@babel/runtime/helpers/classCallCheck")),s=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),a=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(n);return e=l?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,s.default)(a,e);var i=u(a);function a(e,t){(0,o.default)(this,a),n=i.call(this);var n,l=new c2d.display.Graphics,e=(n.addChild(l),new c2d.display.TextField(e,{font:"20px Arial",fill:"#ffffff",stroke:"#000000",strokeThickness:3}));return n.addChild(e),l.beginFill(t,1),l.drawRect(0,0,Math.max(50,e.width),e.height),e.x=parseInt(.5*(l.width-e.width)),n}return(0,r.default)(a)}(c2d.display.Container);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],171:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),a=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(n);return e=l?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,s.default)(a,e);var i=u(a);function a(e,t,n){var l;return(0,r.default)(this,a),(l=i.call(this)).respack=e,l._drawImage(n),t.labels&&t.labels.font?(l._image.anchor.x=0,l._drawText(t)):l._image.anchor.x=.5,l.textureEnabled=n.textureEnabled?l.respack.getAsset(n.textureEnabled):PIXI.Texture.EMPTY,l.textureDisabled=n.textureDisabled?l.respack.getAsset(n.textureDisabled):PIXI.Texture.EMPTY,l.textureActivated=n.textureActivated?l.respack.getAsset(n.textureActivated):l.textureEnabled,l.textureDeactivated=n.textureDeactivated?l.respack.getAsset(n.textureDeactivated):l.textureEnabled,l.deactivate(),l}return(0,o.default)(a,[{key:"_drawText",value:function(e){var t=new c2d.display.TextField("-",{font:e.labels.font,fill:"#"+e.labels.textColor.substring(2,8)});t.position.x=.5*e.labels.width,t.anchor.x=.5,t.anchor.y=.5,this.addChild(t),this._label=t}},{key:"_drawImage",value:function(e){var t=new c2d.display.Sprite;t.anchor.y=.5,this.addChild(t),this._image=t}},{key:"available",set:function(e){this._label&&(this._label.visible=e),this._image.visible=e}},{key:"text",set:function(e){this._label&&(this._label.text=e)}},{key:"activate",value:function(){this._image.texture=this.textureActivated}},{key:"deactivate",value:function(){this._image.texture=this.textureDeactivated}},{key:"hideBorder",value:function(){}}]),a}(c2d.display.Container);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],172:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),f=l(e("./Line.js")),d=l(e("./LineAmount.js")),u=l(e("./LineLabel.js"));function c(e,t){var n,l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return l&&(e=l),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,r=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return a=e.done,e},e:function(e){r=!0,i=e},f:function(){try{a||null==l.return||l.return()}finally{if(r)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function p(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=p(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this)).lines=[],e.labels=[],e}return(0,a.default)(n,[{key:"onInitialize",value:function(){this.config=this._respack.getAsset("config"),this.showHoles=void 0===this.config.showHoles||this.config.showHoles,this.columnsCount=this.config.columnsCount,this.rowsCount=this.config.rowsCount,this.indent=this.config.columnsIndent,this.rowsIndent=this.config.rowsIndent||0,this.symbolWidth=this.config.symbol.size.width,this.symbolHeight=this.config.symbol.size.height,this.boundWidth=this.columnsCount*(this.symbolWidth+this.indent)-this.indent,this.boundHeight=this.rowsCount*(this.symbolHeight+this.rowsIndent)-this.rowsIndent,this.tailWidth=this.config.tailWidth,this.labelsExpand=this.config.labels&&this.config.labels.expand||1,this.fontWinLinesPrefix=this.config.fontWinLinesPrefix,this.fontWinLinesPadding=this.config.fontWinLinesPadding,this.linesLayer=new c2d.display.Container,this.labelsLayer=new c2d.display.Container,this.addChild(this.linesLayer),this.addChild(this.labelsLayer),this.config.displayGroup&&(this.displayGroup=c2d.display.groups[this.config.displayGroup]),this.config.zOrder&&(this.zOrder=this.config.zOrder)}},{key:"initLines",value:function(e){this.config.list=this.config.list?this.config.list.map(function(t){return Object.assign({},t,e.find(function(e){return e.id===t.id})||{})}):e;for(var t=0;t<this.config.list.length;t++){var n=this.config.list[t];if(void 0===n.coordinates){var l=[],i=n.deltaY||0,a=3==this.config.rowsCount?[.15,.5,.85]:[.1,.3,.5,.7,.9],r=[.1,.3,.5,.7,.9];l.push(new c2d.geom.Point(0,a[n.symbols.first]+i));for(var o=0;o<n.symbols.length;o++){var s={x:r[o],y:a[n.symbols[o]]+i};l.push(new c2d.geom.Point(s.x,s.y))}l.push(new c2d.geom.Point(1,a[n.symbols.last]+i)),n.coordinates=l}}this._createLabels()}},{key:"_createLabels",value:function(){for(var e=0;e<this.config.list.length;e++){var t,n,l=this.config.list[e];l.label&&(t=l.label.left?new u.default(this._respack,this.config,l.label.left):null,n=l.label.right?new u.default(this._respack,this.config,l.label.right):null,t&&(this.config.labels&&!l.label.left.position?(t.x=-this.config.labels.width-this.config.labels.padding,t.y=Math.floor(l.coordinates.first.y*this.boundHeight*this.labelsExpand)-this.boundHeight*(this.labelsExpand-1)*.5):this.config.labels&&!l.label.left.position||(l.label.left.position=l.label.left.position||{x:-30,y:0},t.x=parseInt(l.label.left.position.x),t.y=parseInt(l.coordinates.first.y*this.boundHeight+l.label.left.position.y))),n&&(this.config.labels&&!l.label.right.position?(n.x=this.boundWidth+this.config.labels.padding,n.y=Math.floor(l.coordinates.last.y*this.boundHeight*this.labelsExpand)-this.boundHeight*(this.labelsExpand-1)*.5):this.config.labels&&!l.label.right.position||(l.label.right.position=l.label.right.position||{x:30,y:0},n.x=parseInt(this.boundWidth+l.label.right.position.x),n.y=parseInt(l.coordinates.last.y*this.boundHeight+l.label.right.position.y))),this.labels[l.id]=[],t&&(t.label=l.id,this.labelsLayer.addChild(t),this.labels[l.id].push(t)),n&&(n.label=l.id,this.labelsLayer.addChild(n),this.labels[l.id].push(n)))}}},{key:"availableLinesCount",set:function(n){var e,l=this;for(e in this.labels)!function(t){l.labels[t].forEach(function(e){return e.available=t<n})}(e)}},{key:"bet",set:function(t){for(var e in this.labels)this.labels[e].forEach(function(e){return e.text=t})}},{key:"createScatters",value:function(e){var t,n=e.positions,e=e.amount,l=this.config.scatter&&this.config.scatter.color?this.config.scatter.color:16711680,l=new f.default(l,this.config.lineSize,this.config.lineCurvature,2|this.config.shadowWidth);if(!(this.config.scatter&&!1===this.config.scatter.visible)){var i,a=[],r=c(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;a.push({x:o.reelId*(this.symbolWidth+this.indent),y:o.symId*(this.symbolHeight+this.rowsIndent),width:this.symbolWidth,height:this.symbolHeight})}}catch(e){r.e(e)}finally{r.f()}l.drawRects(a)}n.length&&e&&this.fontWinLinesPrefix&&((t=new c2d.display.LabelSprite(this._respack,this.fontWinLinesPrefix,this.fontWinLinesPadding)).zOrder=1001,t.displayGroup=game.displayGroups.OVERLAY,t.text=e,t.x=n[0].reelId*(this.symbolWidth+this.indent)+this.symbolWidth/2,t.y=n[0].symId*(this.symbolHeight+this.rowsIndent)+this.symbolHeight/2,l.lineAmount=t,l.lineAmount.needPlayTween=!0,l.addChild(t)),this.scatter=l}},{key:"showScatters",value:function(){var e,t;this.scatter.lineAmount&&this.scatter.lineAmount.needPlayTween&&(e=this.scatter.lineAmount,t=Math.min(this.symbolWidth/e.contentSize.width,1),e.scale.x=.5*t,e.scale.y=.5*t,c2d.Tween.get(e.scale,{override:!0,loop:!1}).to({x:t,y:t},200,c2d.Tween.Ease.bounceOut).wait(100).to({x:.5*t,y:.5*t},200,c2d.Tween.Ease.sineIn).to({x:t,y:t},200,c2d.Tween.Ease.bounceOut),this.scatter.lineAmount.needPlayTween=!1),this.linesLayer.addChild(this.scatter)}},{key:"createLine",value:function(e){for(var t=e.idx,n=e.holes,l=e.amount,i=this._getLineConfig(t),a=[],r=0;r<i.coordinates.length;r++){var o=i.coordinates[r];a.push(new c2d.geom.Point(o.x,o.y))}i.color=i.color||this.config.color||Math.randomColor(),i.shadowColor=i.shadowColor||this.config.shadowColor||"0x000000";for(var s,u=new f.default(i.color,this.config.lineSize,this.config.lineCurvature,this.config.shadowWidth,i.shadowColor,void 0===this.config.lineAlpha?1:this.config.lineAlpha),c=(u.id=t,[]),h=0;h<this.columnsCount;h++)c[h]=new c2d.geom.Point(h*(this.symbolWidth+this.indent),i.symbols[h]*(this.symbolHeight+this.rowsIndent)),c[h].isHole=this.showHoles&&n&&0<=n.indexOf(h),!s&&c[h].isHole&&l&&!this.fontWinLinesPrefix&&((s=new d.default(l,i.color)).x=parseInt(c[h].x+this.symbolWidth-s.width),s.y=parseInt(c[h].y-s.height),u.addChild(s));return!s&&l&&n&&this.fontWinLinesPrefix&&(e=n.contains(2)?2:1,t=this.config.lineAmount&&this.config.lineAmount.displayGroup?c2d.display.groups[this.config.lineAmount.displayGroup]:game.displayGroups.OVERLAY,(s=new c2d.display.LabelSprite(this._respack,this.fontWinLinesPrefix,this.fontWinLinesPadding)).zOrder=this.config.lineAmount&&this.config.lineAmount.zOrder||1001,s.displayGroup=t,s.text=l,s.x=parseInt(c[e].x+this.symbolWidth/2),s.y=parseInt(c[e].y+this.symbolHeight/2),u.lineAmount=s,u.lineAmount.needPlayTween=!0,u.addChild(s)),u.drawPath(f.default.getAbsolutePathFromRelative(a,this.boundWidth,this.boundHeight),c,this.symbolWidth,this.symbolHeight,i.label&&i.label.left?this.tailWidth:0,i.label&&i.label.right?this.tailWidth:0),this.lines.push(u),u}},{key:"showLine",value:function(t,e){var n,l=this.lines.find(function(e){return e.id==t});if(l.lineAmount&&(l.lineAmount.visible=e,l.lineAmount.needPlayTween&&(e=l.lineAmount,n=Math.min(this.symbolWidth/e.contentSize.width,1),e.scale.x=.5*n,e.scale.y=.5*n,c2d.Tween.get(e.scale,{override:!0,loop:!1}).to({x:n,y:n},200,c2d.Tween.Ease.bounceOut).wait(100).to({x:.5*n,y:.5*n},200,c2d.Tween.Ease.sineIn).to({x:n,y:n},200,c2d.Tween.Ease.bounceOut),l.lineAmount.needPlayTween=!1)),this.linesLayer.addChild(l),this.labels[t]){var i,a=c(this.labels[t]);try{for(a.s();!(i=a.n()).done;)i.value.activate()}catch(e){a.e(e)}finally{a.f()}}}},{key:"destroyAllLines",value:function(){this.hideAll(),this.lines=[],this.scatter=null}},{key:"hideAll",value:function(){var e,t=this;for(e in this.lines.forEach(function(e){return t.hideLine(e.id)}),this.hideScatters(),this.labels){var n,l=c(this.labels[e]);try{for(l.s();!(n=l.n()).done;){var i=n.value;i.visible=!0,c2d.Tween.removeTweens(i)}}catch(e){l.e(e)}finally{l.f()}}}},{key:"hideLine",value:function(t){var e=this.lines.find(function(e){return e.id==t});e&&(this.labels[t]&&this.labels[t].forEach(function(e){return e.deactivate()}),this.linesLayer.removeChild(e))}},{key:"hideScatters",value:function(){this.scatter&&this.linesLayer.removeChild(this.scatter)}},{key:"_getLineConfig",value:function(t){return this.config.list.find(function(e){return e.id===t})}}]),n}(c2d.display.View);n.default=l},{"./Line.js":169,"./LineAmount.js":170,"./LineLabel.js":171,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],173:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={INIT:"init",SETTINGS:"settings",SPIN:"spin",DROP:"drop",RESPIN:"respin",FREESPIN:"freespin",EXTRA_BONUS_SPIN:"extrabonus_spin",INIT_SPIN:"initspin",INIT_FREESPIN:"initfreespin",COLLECT:"collect",INIT_BONUS:"initbonus",BONUS_GAME:"bonus",HISTORY:"history"}},{}],174:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={TOKEN_RECEIVED:"Network.TOKEN_RECEIVED",ERROR_RECEIVED:"Network.ERROR_RECEIVED",RECONNECT_RECEIVED:"Network.RECONNECT_RECEIVED",BEFORE_SEND_REQUEST:"Network.BEFORE_SEND_REQUEST",COMPLETE:"Network.COMPLETE"}},{}],175:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./Events.js")),c=l(e("./Actions.js"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=h(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"onInitialize",value:function(){var e=new game.src.Network.Model,t=(e.gameId=c2d.env.gameId,e.reconnectTimeout=4e3,e.reconnectAttempts=1e3,e.requestUrl=c2d.env.actionUrl,e.token=c2d.env.token,e.apiUrl=c2d.env.apiUrl,e.pingUrl=c2d.env.pingUrl,e.gameVersion=c2d.env.gameVersion,new game.src.Network.Controller);t.initialize(e),this.controller=t,this.parser=new game.src.Network.Parser,this._actions={},this._actions[c.default.INIT_SPIN]=this.sendInitSpin,this._actions[c.default.INIT_FREESPIN]=this.sendInitFreespin,this._actions[c.default.INIT_BONUS]=this.sendInitBonus,this.controller.ping()}},{key:"onReconnect",value:function(e){this.dispatch(u.default.RECONNECT_RECEIVED,{success:e})}},{key:"_onSuccess",value:function(e,t,n){t.settings&&t.settings.action&&"history"==t.settings.action?(this.controller.model.simpleEventData=this.parser.parseSimpleData(t),this.dispatch(e,this.controller.model.simpleEventData)):(this.controller.model.responseData=this.parser.parse(t),t.init&&t.init.next_request_id&&(this.controller.model.nextRequestId=t.init.next_request_id),this.dispatch(e,this.controller.model.responseData)),this.onCompleteHandler&&(this.controller.model.simpleEventData&&t.settings&&t.settings.action&&"history"==t.settings.action?this.onCompleteHandler(this.controller.model.simpleEventData):this.onCompleteHandler(this.controller.model.responseData),this.onCompleteHandler=null),n&&n()}},{key:"onComplete",value:function(e){return this.onCompleteHandler=e,this}},{key:"onError",value:function(e){console.error(e),this.controller.model.responseError=e,this.dispatch(u.default.ERROR_RECEIVED,e)}},{key:"_sendRequest",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=2<arguments.length?arguments[2]:void 0;return n.action=e,this.dispatch(u.default.BEFORE_SEND_REQUEST,e),this.controller.sendRequest(n,function(e){return t._onSuccess(u.default.COMPLETE,e,l)},function(e){return t.onError(e)},function(e){return t.onReconnect(e)}),this.onCompleteHandler=null,this}},{key:"sendAction",value:function(e){if(this._actions[e]){for(var t=arguments.length,n=new Array(1<t?t-1:0),l=1;l<t;l++)n[l-1]=arguments[l];return this._actions[e].apply(this,n)}throw new Error("incorrect action ["+e+"]")}},{key:"registerUser",value:function(e,t,n){this.controller.registerUser(e,t,n)}},{key:"registerBonus",value:function(e,t,n){this.controller.registerBonus(e,t,n)}},{key:"sendInit",value:function(t){var n=this;return this.sendSettings(function(e){n._sendRequest(c.default.INIT,{time_offset:(new Date).getTimezoneOffset(),game_client_version:n.controller.model.gameVersion},t)}),this}},{key:"sendSettings",value:function(e){return c2d.env.showMaxWinRtpMessage?this._sendRequest(c.default.SETTINGS,{},e):(this.controller.model.nextRequestId++,e())}},{key:"sendInitFreespin",value:function(e){return this._sendRequest(c.default.INIT_FREESPIN,e)}},{key:"sendInitBonus",value:function(e){return this._sendRequest(c.default.INIT_BONUS,e)}},{key:"sendInitSpin",value:function(e){return this._sendRequest(c.default.INIT_SPIN,e)}},{key:"sendNextAction",value:function(e){return this._sendRequest(this.controller.model.nextAction,Object.assign({},{bet:this.controller.model.bet,lines:this.controller.model.lines},e),function(){c2d.eventManager.dispatch("UNLOCK_STATISTIC")})}},{key:"sendCustomAction",value:function(e){var t=e.action,e=e.data;return this._sendRequest(t,Object.assign({},e))}},{key:"sendSpin",value:function(e,t){return this._sendRequest(e,Object.assign({bet:this.controller.model.bet},t))}},{key:"sendCollect",value:function(){return this._sendRequest(c.default.COLLECT)}},{key:"sendBonusStep",value:function(e,t){return this._sendRequest(c.default.BONUS_GAME,{bonus_game:e,choice:t})}},{key:"setRequestData",value:function(e){var t=e.bet,e=(e.denomination,e.lines);this.controller.model.bet=t,this.controller.model.lines=e}},{key:"sendHistory",value:function(e){return this._sendRequest(c.default.HISTORY,{page:e})}},{key:"responseError",get:function(){return this.controller.model.responseError}},{key:"responseData",get:function(){return this.controller.model.responseData}}]),n}(game.slots.Component);n.default=l},{"./Actions.js":173,"./Events.js":174,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],176:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./../api/Events.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=c(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this)).inReconnectState=!1,e.reconnectAttempt=0,e}return(0,a.default)(n,[{key:"sendRequest",value:function(e,t,n,l){var i,a=this;game.api.sessionClosed?game.api.showPopup({message:"\n"+"session_close".ls()+"\n",confirm:{label:"back_to_lobby".ls(),handler:function(){return c2d.env.goToLobby()}}}):("history"!=e.action&&"settings"!=e.action||delete e.request_id,i={url:this.model.requestUrl,data:this._getRequestDataString(e),cookies:JSON.stringify(this.requestCookie)},this.request=new game.src.Network.Request(i),this.model.currentRequest=e.action,this.request.onResponse(function(e){console.log("%cResponse received!!!","background: #DDDDFF; color: #000000"),console.groupEnd();e=e.data;e.events&&e.navigation||(a.model.nextRequestId+=1),a.inReconnectState&&(a.inReconnectState=!1,a.reconnectAttempt=0,l(!0)),t(e)}),this.request.onError(function(e){a.inReconnectState||n(e.data),e.data.reconnectAvailable&&(console.log("Reconnect attempt: "+a.reconnectAttempt+" of "+a.model.reconnectAttempts),a.reconnectAttempt===a.model.reconnectAttempts?l(!1):c2d.Timeout.invoke(function(){a.inReconnectState=!0,a.reconnectAttempt++,a.request.send()},a.reconnectAttempt&&a.model.reconnectTimeout))}),this.request.send())}},{key:"registerUser",value:function(t){var n=this;this.model.token&&this.model.token.length?t():this._requestUser(function(e){console.log("%cToken received!!!","background: #DDDDFF; color: #000000"),console.groupEnd(),n.model.token=e.data.customVars,c2d.env.storage.setItem("token",e.data.customVars),n.dispatch(u.default.TOKEN_RECEIVED,e.data.customVars),t()})}},{key:"_requestUser",value:function(t){var n=this;this.sendApiRequest("registerUser",{currency:"USD"},function(e){n.model.userId=e.data.newUserId,c2d.env.storage.setItem("userId",e.data.newUserId),n._requestCustomVars(t)})}},{key:"_requestCustomVars",value:function(e){this.sendApiRequest("getCustomVars",{mode:"real",user_id:this.model.userId,game:this.model.gameId,currency:"USD"},e)}},{key:"_getRequestApiParams",value:function(e,t){return{url:this.model.apiUrl,data:{login:"dev",password:"dev4321",action:e,args:JSON.stringify(t)}}}},{key:"sendApiRequest",value:function(e,t,n){e=this._getRequestApiParams(e,t),t=new game.src.Network.Request({url:e.url});t.onResponse(n),t.send(e.data)}},{key:"_getRequestDataString",value:function(t){return t.game=this.model.gameId,t.customVars=this.model.token,"history"!=t.action&&"settings"!=t.action&&(t.request_id=this.model.nextRequestId.toString()),Object.keys(t).forEach(function(e){void 0===t[e]&&delete t[e]}),JSON.stringify(t)}},{key:"registerBonus",value:function(e,t){var n=this.model.userId||c2d.env.storage.getItem("userId",!1);this.sendApiRequest("registerBonus",{user_id:n,game:this.model.gameId,bonus_type:e.type,bonus_params:e.params},t)}},{key:"getGameInfo",value:function(){this.sendApiRequest("getGameInfo",{game:this.model.gameId},function(e){return e.data})}},{key:"ping",value:function(){var e,t=this;this.model.pingUrl&&((e=new XMLHttpRequest).open("GET",this.model.pingUrl,!0),e.overrideMimeType("application/json"),e.onreadystatechange=function(){4===Number(e.readyState)&&200===Number(e.status)&&setTimeout(function(){t.ping()},1e4)},e.error=function(){return console.error("Ping broken.")},e.send(null))}},{key:"requestCookie",get:function(){return c2d.env.storage.isStorageAvailable()&&c2d.env.storage.gameData&&c2d.env.storage.gameData.shifter_data?c2d.env.storage.gameData.shifter_data:c2d.cookie.getAllCookies()}}]),n}(c2d.ComponentController);n.default=l},{"./../api/Events.js":174,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],177:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/slicedToArray"))),s=l(e("@babel/runtime/helpers/classCallCheck")),a=l(e("@babel/runtime/helpers/createClass")),u=l(e("@babel/runtime/helpers/inherits")),r=l(e("@babel/runtime/helpers/possibleConstructorReturn")),o=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("../api/Events.js")),h=l(e("../model/MockServerData.js"));function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,o.default)(n);return e=l?(e=(0,o.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,e)}}l=function(e){(0,u.default)(o,e);var r=f(o);function o(e){var t,n=e.url,l=e.data,l=void 0===l?"":l,i=e.cookies,i=void 0===i?"":i,a=e.method,a=void 0===a?"POST":a,e=e.responseFormat,e=void 0===e?"JSON":e;return(0,s.default)(this,o),(t=r.call(this))._url=n,t._data=l,t._cookies=i,t._method=a,t._responseFormat=e,t._workOffline=!0===c2d.env.storage.getItem("workOffline"),t._request=null,c2d.env.DEBUG&&(l={action:-1!==n.indexOf("token")?"get.token":"no.action"},t._data.length&&delete(l=JSON.parse(t._data)).customVars,console.group("Network:"),console.log("%cRequest:%c["+l.action+"]","background: #DDDDFF; font-weight: bold; color: black; padding: 3px 5px;","background: #b1ffab; padding:3px 5px; color: black; font-weight: bold",l)),t._data=t._data.replace(new RegExp(':"',"g"),': "'),t._data=t._data.replace(new RegExp(',"',"g"),', "'),t._data=t._data.replace(new RegExp(':{"',"g"),': {"'),t._data=t._data.replace(new RegExp('{"token": "',"g"),'{"token":"'),t}return(0,a.default)(o,[{key:"prepareCallbacks",value:function(){var t=this,n=this._request;n.ontimeout=function(){t.dispatch(c.default.ERROR_RECEIVED,{code:444,message:"Request Timeout",reconnectAvailable:!0})},n.error=function(){t.dispatch(c.default.ERROR_RECEIVED,{code:444,message:"Network Error",reconnectAvailable:!0})},n.onreadystatechange=function(){if(4==n.readyState)if(200==n.status)if(0===n.responseText.length)t.dispatch(c.default.ERROR_RECEIVED,{code:n.status,message:"server_answer_is_empty".ls(),reconnectAvailable:!1});else{var e;try{e="JSON"==t._responseFormat?JSON.parse(n.responseText):n.responseText}catch(e){return void t.dispatch(c.default.ERROR_RECEIVED,{code:n.status,message:"JSON Parse Error",reconnectAvailable:!1})}e.error?t.dispatch(c.default.ERROR_RECEIVED,{code:n.status,message:e.error.message.ls(),reconnectAvailable:63==e.error.code,silentMode:!0}):t.dispatch("response",e)}else t.dispatch(c.default.ERROR_RECEIVED,{code:n.status,message:"internal_server_error".ls(),reconnectAvailable:!1})}}},{key:"prepareRequestData",value:function(){var e=new FormData;return e.append("data",this._data),e.append("cookies",this._cookies),e}},{key:"_appendFormData",value:function(e){var n=new FormData;return Object.entries(e).forEach(function(e){var e=(0,i.default)(e,2),t=e[0],e=e[1];n.append(t,e)}),n}},{key:"send",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this._workOffline?c2d.Timeout.invoke(function(){return e.dispatch("response",h.default.getData(e._data),200)}):!1===window.navigator.onLine?this.dispatch(c.default.ERROR_RECEIVED,{code:444,message:"offline".ls(),reconnectAvailable:!0}):(this._request=new XMLHttpRequest,this.prepareCallbacks(),t=t?this._appendFormData(t):this.prepareRequestData(),this._request.open(this._method,this._url,!0),this._request.send(t))}},{key:"onResponse",value:function(e){this.subscribe("response",e)}},{key:"onError",value:function(e){this.subscribe(c.default.ERROR_RECEIVED,e)}}]),o}(c2d.EventDispatcher);n.default=l},{"../api/Events.js":174,"../model/MockServerData.js":179,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/slicedToArray":23}],178:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=l(e("./api/NetworkApi.js")),a=l(e("./api/Events.js")),r=l(e("./model/NetworkModel.js")),o=l(e("./controller/NetworkController.js")),s=l(e("./controller/NetworkRequest.js")),u=l(e("./parsers/ResponseParser.js")),c=l(e("./parsers/SpinParser.js")),h=l(e("./parsers/InitParser.js")),f=l(e("./parsers/InitFreespinParser.js")),d=l(e("./parsers/InitBonusGameParser.js")),p=l(e("./parsers/BonusGameParser.js")),y=l(e("./parsers/BonusGamesParser.js")),b=l(e("./parsers/HistoryParser.js")),m=l(e("./parsers/generator/ResponseGenerator.js")),g=l(e("./parsers/data/FreezeNodeData.js")),l=l(e("./parsers/data/FreezePositionData.js"));i.default.src={Model:r.default,View:null,Controller:o.default,Request:s.default,Parser:u.default,SpinParser:c.default,InitParser:h.default,InitFreespinParser:f.default,InitBonusGameParser:d.default,BonusGameParser:p.default,HistoryParser:b.default,BonusGamesParser:y.default,Generator:m.default,Data:{FreezeNodeData:g.default,FreezePositionData:l.default}},i.default.ID="Network",game.registerComponent(i.default,a.default)},{"./api/Events.js":174,"./api/NetworkApi.js":175,"./controller/NetworkController.js":176,"./controller/NetworkRequest.js":177,"./model/NetworkModel.js":180,"./parsers/BonusGameParser.js":182,"./parsers/BonusGamesParser.js":183,"./parsers/HistoryParser.js":185,"./parsers/InitBonusGameParser.js":186,"./parsers/InitFreespinParser.js":187,"./parsers/InitParser.js":188,"./parsers/ResponseParser.js":189,"./parsers/SpinParser.js":190,"./parsers/data/FreezeNodeData.js":200,"./parsers/data/FreezePositionData.js":201,"./parsers/generator/ResponseGenerator.js":221,"@babel/runtime/helpers/interopRequireDefault":12}],179:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),l=new(function(){function e(){(0,i.default)(this,e),this._data={init:{balance:{before:31070.5,after:31070.5},denomination:1,init:{bet:"1",lines:9,ranges:{bet:{.5:{0:1,1:2,2:3,3:4,4:5,5:10,6:20,7:30,8:40,9:50,10:100,11:200},1:{0:1,1:2,2:3,3:4,4:5,5:10,6:20,7:30,8:40,9:50,10:100,11:200},2:{0:1,1:2,2:3,3:4,4:5,5:10,6:20,7:30,8:40,9:50,10:100,11:200},5:{0:1,1:2,2:3,3:4,4:5,5:10,6:20,7:30,8:40,9:50,10:100,11:200},10:{0:1,1:2,2:3,3:4,4:5,5:10,6:20,7:30,8:40,9:50,10:100,11:200}},denomination:{0:.5,1:1,2:2,3:5,4:10}},currency:"RUB",restorestate:!1,next_request_id:2,directory:{lines:{0:{0:1,1:1,2:1,3:1,4:1},1:{0:0,1:0,2:0,3:0,4:0},2:{0:2,1:2,2:2,3:2,4:2},3:{0:0,1:1,2:2,3:1,4:0},4:{0:2,1:1,2:0,3:1,4:2},5:{0:1,1:2,2:2,3:2,4:1},6:{0:1,1:0,2:0,3:0,4:1},7:{0:2,1:2,2:1,3:0,4:0},8:{0:0,1:0,2:1,3:2,4:2}},paytable:{0:{3:5,4:25,5:100},1:{3:5,4:25,5:100},2:{3:5,4:25,5:100},3:{3:5,4:40,5:150},4:{3:5,4:40,5:150},5:{2:5,3:30,4:100,5:750},6:{2:5,3:30,4:100,5:750},7:{2:5,3:40,4:400,5:2e3},8:{2:10,3:100,4:1e3,5:5e3},9:{3:{onetime_win:2,freespin_count:10},4:{onetime_win:20,freespin_count:10},5:{onetime_win:200,freespin_count:10}}}},start_symbols:{0:{0:{code:2},1:{code:1},2:{code:4}},1:{0:{code:3},1:{code:6},2:{code:1}},2:{0:{code:1},1:{code:4},2:{code:5}},3:{0:{code:8},1:{code:4},2:{code:1}},4:{0:{code:1},1:{code:0},2:{code:5}}},collect:1},spin:{lines:9,bet:"1",type:"spin",symbols:{0:{0:{code:6},1:{code:2},2:{code:0}},1:{0:{code:3},1:{code:1},2:{code:2}},2:{0:{code:2},1:{code:3},2:{code:9}},3:{0:{code:7},1:{code:1},2:{code:3}},4:{0:{code:5},1:{code:2},2:{code:1}}},wins:{line_wins:{0:{idx:5,code:2,pos:{0:{0:0,1:1},1:{0:1,1:2},2:{0:2,1:2}},multiplier:1,amount:"5",extra:{}}},total:"5"},multiplier:1}},spin:{balance:{before:31061.5,after:31061.5},denomination:1,spin:{lines:9,bet:"1",type:"spin",symbols:{0:{0:{code:4},1:{code:0},2:{code:8}},1:{0:{code:2},1:{code:6},2:{code:1}},2:{0:{code:4},1:{code:7},2:{code:1}},3:{0:{code:4},1:{code:2},2:{code:7}},4:{0:{code:1},1:{code:4},2:{code:5}}},wins:{total:"0"},multiplier:1}}}}return(0,a.default)(e,[{key:"getData",value:function(e){return this._data[JSON.parse(e).action]}}]),e}());n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],180:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass"));n.default=function(){function e(){(0,i.default)(this,e),this.gameId=null,this.userId=null,this.token=null,this.reconnectTimeout=null,this.reconnectAttempts=null,this.nextRequestId=0,this.currentRequest=null,this.requestUrl=null,this.apiUrl=null,this.pingUrl=null,this.gameVersion=null,this._denomination=0,this._bet=0,this._lines=0,this.responseData=null,this.responseError=null,this.simpleEventData=null,Object.seal(this)}return(0,a.default)(e,[{key:"nextAction",get:function(){return this.responseData&&Array.from(this.responseData.availableActions).first}},{key:"denomination",get:function(){return this._denomination},set:function(e){this._denomination=e}},{key:"bet",get:function(){return this._bet},set:function(e){this._bet=e}},{key:"lines",get:function(){return this._lines},set:function(e){this._lines=e}}]),e}()},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],181:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("./data/BalanceData.js")),o=l(e("./data/BetData.js")),s=l(e("./data/ReelData.js")),u=l(e("./data/SymbolData.js")),c=l(e("./data/PositionData.js")),h=l(e("./data/WalkData.js")),f=l(e("./data/FreespinsData.js")),d=l(e("./data/FreezeNodeData.js")),p=l(e("./data/FreezeData.js")),y=l(e("./data/FreezePositionData.js")),b=l(e("./generator/ResponseGenerator.js")),l=function(){function e(){(0,i.default)(this,e)}return(0,a.default)(e,[{key:"parseNextDrop",value:function(e){return!!Array.isArray(e)&&e.some(function(e){return"drop"===e||"freedrop"===e})}},{key:"parseNumber",value:function(e){return Number.isNumeric(e)?Number(e):0}},{key:"parseBoolean",value:function(e){return"string"==typeof e||e instanceof String?"true"===e:!!e}},{key:"parseBalance",value:function(e){return new r.default(Number(e.before),Number(e.after))}},{key:"parseBet",value:function(e){return new o.default(e)}},{key:"parseReelsetData",value:function(e){var t,n=[];for(t in e)n.push(this.parseReelData(+t,e[t]));return n}},{key:"parseReelData",value:function(e,t){var n,l=new s.default;for(n in t){var i=t[n];if(void 0===i.code||!Number.isNumeric(i.code))throw new Error("BaseDataParser: symbol [".concat(JSON.stringify(i),"] is not valid!"));var a=new u.default({id:parseInt(n),reelId:e,type:parseInt(i.code)});i.extra&&(void 0!==i.extra.replace?a.replace=parseInt(i.extra.replace):null!=i.extra.expanded?b.default.generateExpandedWild(l,t):(console.error("Add parser for symbol extra data!!!! ".concat(i.extra)),a.extra=i.extra)),l.symbols.push(a)}return l.id=e,t.extra&&(console.error("Add parser for reel extra data!!!! ".concat(l.extra)),l.extra=t.extra),l}},{key:"parsePositions",value:function(e){var t,n=[];for(t in e)Number.isNumeric(t)&&n.push(this.parsePosition(e[t]));return n.sort(function(e,t){return e.reelId===t.reelId?e.symId-t.symId:e.reelId-t.reelId}),n}},{key:"parsePosition",value:function(e){if(void 0===e[0]||void 0===e[1])throw Error("BaseDataParser: pos [".concat(e[key],"] not valid!"));return new c.default(parseInt(e[0]),parseInt(e[1]))}},{key:"parseWalks",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return Object.keys(t).map(function(e){return new h.default(e,t[e])})}},{key:"parseFreespin",value:function(e){var t=new f.default(parseInt(e.left),parseInt(e.done),parseInt(e.add));return e.wins&&(t.totalWins=Number(e.wins.total),t.winsBefore=Number(e.wins.win_before_chain)),e.type&&(t.type=e.type),e.extra&&(t.extra=e.extra),e.isGift&&(t.isGift=e.isGift),t}},{key:"parseFreeze",value:function(e){var t=e.next?this.parseFreezeNode(e.next):null,n=e.current?this.parseFreezeNode(e.current):null,e=e.current?b.default.generateFrozen(t,n):null;return new p.default(t,n,e)}},{key:"parseFreezeNode",value:function(e){var t,n=[];for(t in e.pos_freeze){var l=e.pos_freeze[t];n.push(new y.default(this.parsePosition(l.pos),parseInt(l.code)))}n.sort(function(e,t){return e.reelId===t.reelId?e.symId-t.symId:e.reelId-t.reelId});var i,a=[];for(i in e.reel_freeze){var r=e.reel_freeze[i].idx;a.push(this.parseReelData(r,e.reel_freeze[i].symbols))}return new d.default(n,a)}}]),e}();n.default=l},{"./data/BalanceData.js":191,"./data/BetData.js":192,"./data/FreespinsData.js":198,"./data/FreezeData.js":199,"./data/FreezeNodeData.js":200,"./data/FreezePositionData.js":201,"./data/PositionData.js":210,"./data/ReelData.js":211,"./data/SymbolData.js":216,"./data/WalkData.js":218,"./generator/ResponseGenerator.js":221,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],182:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./BaseParser.js")),c=l(e("./data/BonusGameData.js")),h=l(e("./data/BonusStepData.js"));function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=f(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"parse",value:function(e){var t=new c.default({name:e.bonus_name,totalWins:Number(e.bonus_win),winsBefore:Number(e.win_before_bonus),status:e.status,currentStep:parseInt(e.current_step),livesCount:parseInt(e.lives_count)});if(void 0!==e.items_count&&(t.itemsCount=parseInt(e.items_count)),e.items_map&&(t.itemsMap=e.items_map),e.extra&&(t.extra=e.extra),e.steps)for(var n in e.steps)t.steps.push(this.parseBonusStep(e.steps[n]));return t}},{key:"parseBonusStep",value:function(e){var t=new h.default({idx:parseInt(e.idx),choice:parseInt(e.choice),status:e.status,value:e.value,winsBefore:Number(e.wins.before),winsAfter:Number(e.wins.after)});return e.extra&&(t.extra=e.extra),t}}]),n}(u.default);n.default=l},{"./BaseParser.js":181,"./data/BonusGameData.js":194,"./data/BonusStepData.js":195,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],183:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=u(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"parse",value:function(e){var t,n={games:[],currentName:null};for(t in e){var l=e[t];n.games.push({name:l.name,win:l.win||0,status:l.status,extra:l.extra}),"START"===l.status&&(n.currentName=l.name)}return n}}]),n}(l(e("./BaseParser.js")).default);n.default=l},{"./BaseParser.js":181,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],184:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./BaseParser.js")),c=l(e("./data/GiftSpinsData.js"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=h(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"parse",value:function(e){var t=new c.default;return t.left=parseInt(e.left||0),t.done=parseInt(e.done||0),t.add=parseInt(e.add||0),t.lines=parseInt(e.lines||0),t.bet=Number(e.bet||0),t.denomination=Number(e.denomination||0),t}}]),n}(u.default);n.default=l},{"./BaseParser.js":181,"./data/GiftSpinsData.js":202,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],185:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./BaseParser.js")),c=l(e("./data/HistoryGameData.js"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=h(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"parse",value:function(e){return new c.default(e)}}]),n}(u.default);n.default=l},{"./BaseParser.js":181,"./data/HistoryGameData.js":204,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],186:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./BaseParser.js")),c=l(e("./data/InitBonusGameData.js"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=h(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"parse",value:function(e){var t=new c.default({name:e.bonus_name,livesCount:parseInt(e.lives_count),status:e.status,wins:e.wins});return void 0!==e.items_count&&(t.itemsCount=parseInt(e.items_count)),e.items_map&&(t.itemsMap=e.items_map),e.extra&&(t.extra=e.extra),t}}]),n}(u.default);n.default=l},{"./BaseParser.js":181,"./data/InitBonusGameData.js":205,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],187:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./BaseParser.js")),c=l(e("./data/InitFreespinData.js"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=h(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"parse",value:function(e){var t=new c.default,n=e.start_symbols||e.symbols;return n&&(t.reels=this.parseReelsetData(n)),e.freespins&&(t.freespins=this.parseFreespin(e.freespins)),e.multiplier&&(t.multiplier=e.multiplier),e.freeze&&(t.freeze=this.parseFreeze(e.freeze)),t.walks=this.parseWalks(e.walks),t.extra=e.extra,t.multiplier=e.multiplier,t.bet=Number(e.bet*(e.fixed_bet||1)),t.fixedBet=e.fixed_bet,t}}]),n}(u.default);n.default=l},{"./BaseParser.js":181,"./data/InitFreespinData.js":207,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],188:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/typeof"))),s=l(e("@babel/runtime/helpers/toConsumableArray")),i=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/inherits")),u=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf")),h=l(e("./BaseParser.js")),f=l(e("./data/BetRangesData.js")),d=l(e("./data/InitData.js")),p=l(e("./data/LineConfigData.js")),y=l(e("./data/SymbolConfigData.js")),b=l(e("./data/WinCoefficientData.js")),m=l(e("./data/PositionData.js"));function g(e,t){var n,l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return l&&(e=l),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,r=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return a=e.done,e},e:function(e){r=!0,i=e},f:function(){try{a||null==l.return||l.return()}finally{if(r)throw i}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function _(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=_(n);function n(){var e;return(0,i.default)(this,n),(e=t.apply(this,arguments)).linesConfigRawData=null,e}return(0,r.default)(n,[{key:"parse",value:function(e){var t=new d.default({bet:Number(e.bet*(e.fixed_bet||1)),lines:parseInt(e.lines),multiplier:Number(e.multiplier),currency:e.currency,nextRequestId:parseInt(e.next_request_id),fixedBet:e.fixed_bet}),n=e.start_symbols||e.symbols;if(n&&(t.defaultReels=this.parseReelsetData(n)),e.ranges&&(t.betRanges=this.parseBetRangesData(e.ranges)),e.directory&&(e.directory.rtp?t.rtp=e.directory.rtp:console.warn("!!! Server did not send rtp parameter !!!"),e.directory.lines&&(this.linesConfigRawData=e.directory.lines,t.linesConfig=this.parseLinesConfigData(e.directory.lines)),e.directory.paytable)){t.symbolsConfig=this.parseSymbolsConfigData(e.directory.paytable);var l,i=g(t.symbolsConfig);try{for(i.s();!(l=i.n()).done;){var a=l.value;if(a.isScatter){t.scatterId=parseInt(a.id);break}}}catch(e){i.e(e)}finally{i.f()}}return e.restorestate&&(t.restoreState=this.parseBoolean(e.restorestate)),e.extra&&(t.extra=e.extra),t}},{key:"getLinesConfigByType",value:function(e){return this.parseLinesConfigData(this.linesConfigRawData[e])}},{key:"parseBetRangesData",value:function(e){var t,n=[];for(t in e.denomination){var l,i=e.denomination[t],a=e.bet[i],r=[];for(l in a)r.push(a[l]);n.push(new f.default(i,r))}return n}},{key:"parseLinesConfigData",value:function(e){var t,n=[],l=Math.max.apply(Math,(0,s.default)(Array.from(e).reduce(function(e,t){return e.concat(Array.from(t))},[])))+1,i=Array.from(e[0]).length;for(t in e){var a,r=[];for(a in e[t]){var o=e[t][a];r.push(new m.default(parseInt(a),parseInt(o)))}n.push(new p.default(parseInt(t),r,l,i))}return n}},{key:"parseSymbolsConfigData",value:function(e){var t,n=[];for(t in e){var l=new y.default(t,this.parseCombinations(e[t]),this.isSymbolScatter(e[t]));n.push(l)}return n}},{key:"parseCombinations",value:function(e){var t,n=[];for(t in e){var l=e[t],i="object"==(0,a.default)(l)?l.freespin_count:null,l="object"==(0,a.default)(l)?l.onetime_win:l;n.push(new b.default(parseInt(t),l,i))}return n}},{key:"isSymbolScatter",value:function(e){for(var t in e)if("object"===(0,a.default)(e[t])&&(e[t].freespin_count||e[t].onetime_win||e[t].bonus_win))return!0;return!1}},{key:"imports",get:function(){return{BaseDataParser:h.default,BetRangesData:f.default,InitData:d.default,LineConfigData:p.default,SymbolConfigData:y.default,WinCoefficientData:b.default,PositionData:m.default}}}]),n}(h.default);n.default=l},{"./BaseParser.js":181,"./data/BetRangesData.js":193,"./data/InitData.js":206,"./data/LineConfigData.js":208,"./data/PositionData.js":210,"./data/SymbolConfigData.js":215,"./data/WinCoefficientData.js":219,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/toConsumableArray":25,"@babel/runtime/helpers/typeof":26}],189:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./data/ResponseData.js")),c=l(e("./logger/DataLogger.js")),h=l(e("./BaseParser.js")),f=l(e("./GiftSpinsParser.js")),d=l(e("./generator/ResponseGenerator.js"));function p(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=p(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"parseSimpleData",value:function(e){if(e&&e.settings&&e.settings.action&&"history"==e.settings.action)return(new game.src.Network.HistoryParser).parse(e)}},{key:"parse",value:function(e){var t=new u.default,n=new game.src.Network.SpinParser,l=new game.src.Network.InitParser,i=new game.src.Network.InitFreespinParser,a=new game.src.Network.InitBonusGameParser,r=new game.src.Network.BonusGameParser,o=new game.src.Network.BonusGamesParser,s=new f.default;return e.balance&&(t.balance=this.parseBalance(e.balance)),t.bet=this.parseBet(e),e.denomination&&(t.denomination=this.parseNumber(e.denomination)),e.init&&(t.initData=l.parse(e.init),d.default.setInitData(t.initData)),e.initfreespin&&(e.initfreespin.freespins&&(e.initfreespin.freespins.isGift=!(!e.extrabonus||!e.extrabonus.freespins)),t.initFreespinData=i.parse(e.initfreespin),t.walks=t.initFreespinData.walks),e.extrabonus&&e.extrabonus.spins&&(t.giftSpinsData=s.parse(e.extrabonus.spins)),(e.spin||e.initspin)&&(l=e.spin||e.initspin,i=Object.assign(l,{dropReady:!!e.available_actions&&Array.from(e.available_actions)}),t.spinData=n.parse(i),t.walks=t.spinData.walks,e.init&&e.init.restorestate&&t.spinData.freespins&&(t.spinData.freespins.addCount=0)),e.initbonus&&(t.initBonusGameData=a.parse(e.initbonus)),e.bonus&&(t.bonusGameData=r.parse(e.bonus)),e.bonus_games&&(t.bonusGamesData=o.parse(e.bonus_games)),e.next_action&&(t.availableActions=[e.next_action]),e.available_actions&&(t.availableActions=Array.from(e.available_actions)),e.max_win_in_total_bets&&(t.maxWinInTotalBets=Number(e.max_win_in_total_bets)),t.grandTotalWin=e.macro_round&&Number(e.macro_round.wins.total)||0,c2d.env.DEBUG&&(c.default.logObject("Response data",e),c.default.log(t)),t}}]),n}(h.default);n.default=l},{"./BaseParser.js":181,"./GiftSpinsParser.js":184,"./data/ResponseData.js":213,"./generator/ResponseGenerator.js":221,"./logger/DataLogger.js":222,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],190:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./BaseParser.js")),c=l(e("./data/SpinData.js")),h=l(e("./data/LineWinData.js")),f=l(e("./data/SymbolsWinData.js")),d=l(e("./data/DropData.js")),p=l(e("./data/ChainData.js")),y=l(e("./data/ReplaceData.js"));l(e("./generator/ResponseGenerator.js"));function b(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=b(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"parse",value:function(t){var n=new c.default({bet:Number(t.bet*(t.fixed_bet||1)),lines:parseInt(t.lines),multiplier:Number(t.multiplier),nextMultiplier:Number(t.next_multiplier),type:t.type,fixedBet:t.fixed_bet});return t.respin_chain&&(n.respinChain=this.parseChain(t.respin_chain)),t.symbols&&(n.reels=this.parseReelsetData(t.symbols),n.replace=this.parseReplace(n.reels)),t.restore_symbols&&(n.restoreReels=this.parseReelsetData(t.restore_symbols)),t.wins&&(t.wins.line_wins&&(n.lineWins=this.parseLineWinsData(t.wins.line_wins,"basic")),t.wins.pos_wins&&(n.scatterWins=[].concat(this.parsePosWins(t.wins.pos_wins,"bonus")),n.scatterWins=n.scatterWins.concat(this.parsePosWins(t.wins.pos_wins,"scatter")),n.wayWins=[].concat(this.parsePosWins(t.wins.pos_wins,"way")),n.groupWins=this.parsePosWins(t.wins.pos_wins,"group"),n.collectibleWins=this.parsePosWins(t.wins.pos_wins,"collectible")),n.lineWins.length&&n.wayWins.length&&(n.lineWins=n.lineWins.concat(n.wayWins),n.wayWins=[]),t.wins.total&&(n.totalWin=this.parseNumber(t.wins.total))),t.freespins&&(n.freespins=this.parseFreespin(t.freespins)),n.dropReady=this.parseBoolean(t.drop_ready)||this.parseNextDrop(t.dropReady),t.drop&&(n.drop=this.parseDrop(t.drop)),t.drop_chain&&(n.dropChain=this.parseChain(t.drop_chain)),t.freeze&&(n.freeze=this.parseFreeze(t.freeze)),t.reels_data&&(n.reelsData=t.reels_data,Object.keys(t.reels_data).forEach(function(e){t.reels_data[e].offset&&(n.reels[e].lift=t.reels_data[e].offset)})),n.walks=this.parseWalks(t.walks),t.extra&&(n.extra=t.extra),n}},{key:"parseReplace",value:function(e){return new y.default(e)}},{key:"parseDrop",value:function(e){var t=this.parsePositions(e.pos),e=this.parseReelsetData(e.symbols);return new d.default(t,e)}},{key:"parseChain",value:function(e){var t=new p.default(parseInt(e.add),parseInt(e.count),parseInt(e.total));return t.totalWin=e.wins&&Number((e.wins.total+e.wins.win_before_chain).toFixed(10)),t}},{key:"parseLineWinsData",value:function(e,t){var n,l=[];for(n in e){var i=e[n],a=new h.default(Number(i.amount),parseInt(i.multiplier),this.parsePositions(i.pos),t);a.idx=parseInt(i.idx),a.code=parseInt(i.code),a.extra=i.extra,l.push(a)}return this._sortWins(l)}},{key:"parsePosWins",value:function(e,t){var n,l,i,a=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=[];for(n in e)n in e&&Number.isNumeric(n)&&((l=e[n]).type!==t||a&&!l.amount||((i=new f.default(Number(l.amount),parseInt(l.multiplier),this.parsePositions(l.pos),l.type,l.code)).extra=l.extra,r.push(i)));return this._sortWins(r)}},{key:"_sortWins",value:function(e){return e.sort(function(e,t){return e.amount===t.amount?e.idx-t.idx:e.amount-t.amount})}}]),n}(u.default);n.default=l},{"./BaseParser.js":181,"./data/ChainData.js":196,"./data/DropData.js":197,"./data/LineWinData.js":209,"./data/ReplaceData.js":212,"./data/SpinData.js":214,"./data/SymbolsWinData.js":217,"./generator/ResponseGenerator.js":221,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],191:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck"));n.default=(0,i.default)(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;(0,a.default)(this,e),this.before=t,this.after=n,Object.seal(this)})},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],192:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck")),l=(0,i.default)(function e(n){var t,l=this;(0,a.default)(this,e),this.bet=0,this.fixedBet=0,this.betRanges=null,this.balance=n.balance?n.balance.after:this.balance,n.init&&(t=n.init,this.betRanges=Array.from(t.ranges.bet[1]),this.bet=t.bet||this.bet,this.fixedBet=t.fixed_bet||this.fixedBet,this.currency=t.currency||this.currency),Object.keys(n).forEach(function(e){var t=n[e];"extrabonus"===e&&(t=t[Object.keys(t)[0]]),"init"!==e&&(l.bet=(t.bet&&t.bet!==l.bet?t:l).bet,l.fixedBet=t.fixed_bet&&t.fixed_bet!==l.fixedBet?t.fixed_bet:l.fixedBet)})});n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],193:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck"));n.default=(0,i.default)(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];(0,a.default)(this,e),this.denomination=t,this.bets=n,Object.seal(this)})},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],194:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),s=l(e("@babel/runtime/helpers/classCallCheck"));n.default=(0,i.default)(function e(t){var n=t.name,n=void 0===n?"":n,l=t.totalWins,l=void 0===l?0:l,i=t.winsBefore,i=void 0===i?0:i,a=t.status,a=void 0===a?"":a,r=t.currentStep,r=void 0===r?0:r,o=t.livesCount,o=void 0===o?1:o,t=t.itemsCount,t=void 0===t?0:t;(0,s.default)(this,e),this.name=n,this.totalWins=l,this.winsBefore=i,this.status=a,this.currentStep=r,this.livesCount=o,this.itemsCount=t,this.itemsMap=null,this.steps=[],this.extra=null,Object.seal(this)})},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],195:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),s=l(e("@babel/runtime/helpers/classCallCheck"));n.default=(0,i.default)(function e(t){var n=t.idx,l=t.choice,l=void 0===l?-1:l,i=t.status,i=void 0===i?"":i,a=t.value,a=void 0===a?"":a,r=t.winsBefore,r=void 0===r?0:r,o=t.winsAfter,o=void 0===o?0:o,t=t.extra,t=void 0===t?null:t;(0,s.default)(this,e),this.idx=n,this.choice=l,this.status=i,this.value=a,this.winsBefore=r,this.winsAfter=o,this.extra=t,Object.seal(this)})},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],196:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck"));n.default=(0,i.default)(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;(0,a.default)(this,e),this.add=t,this.count=n,this.total=l,this.totalWin=0,Object.seal(this)})},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],197:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck"));n.default=(0,i.default)(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];(0,a.default)(this,e),this.positions=t,this.reels=n,Object.seal(this)})},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],198:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),r=l(e("@babel/runtime/helpers/classCallCheck"));n.default=(0,i.default)(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0;(0,r.default)(this,e),this.leftCount=t,this.doneCount=n,this.addCount=l,this.totalWins=i,this.winsBefore=a,this.type=null,this.extra=null,this.isGift=!1,Object.seal(this)})},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],199:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck"));n.default=(0,i.default)(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;(0,a.default)(this,e),this.freeze=t,this.unfreeze=n,this.frozen=l,Object.seal(this)})},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],200:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck"));n.default=(0,i.default)(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];(0,a.default)(this,e),this.positions=t,this.reels=n,Object.seal(this)})},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],201:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),r=l(e("@babel/runtime/helpers/classCallCheck")),o=l(e("@babel/runtime/helpers/assertThisInitialized")),s=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,s.default)(i,e);var l=c(i);function i(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1;return(0,r.default)(this,i),(t=l.call(this,e.reelId,e.symId)).type=n,t.id=e.symId,t.face=null,Object.seal((0,o.default)(t)),t}return(0,a.default)(i)}(l(e("./PositionData.js")).default);n.default=l},{"./PositionData.js":210,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],202:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck"));n.default=(0,i.default)(function e(){(0,a.default)(this,e),this.left=0,this.done=0,this.add=0,this.lines=0,this.bet=0,this.denomination=0,Object.seal(this)})},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],203:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck"));n.default=(0,i.default)(function e(t){(0,a.default)(this,e),this.action=t.action,this.bet=t.bet,this.currency=t.currency,this.datetime=t.datetime,this.game=t.game,this.win=t.win,this.response=t.response,this.actionId=t.action_id})},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],204:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("./HistoryEventData.js")),l=(0,i.default)(function e(t){(0,a.default)(this,e),this.settings=t.settings,this.currentPage=t.data.navigation.current_page,this.pages=t.data.navigation.total_pages_count,this.events=Array.from(t.data.events).map(function(e){return new r.default(e[0])}),Object.seal(this)});n.default=l},{"./HistoryEventData.js":203,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],205:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck"));n.default=(0,i.default)(function e(t){var n=t.name,n=void 0===n?"":n,l=t.livesCount,l=void 0===l?1:l,i=t.status,i=void 0===i?"":i,t=t.wins,t=void 0===t?{}:t;(0,a.default)(this,e),this.name=n,this.livesCount=l,this.status=i,this.wins=t,this.itemsCount=0,this.itemsMap=null,this.extra=null,Object.seal(this)})},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],206:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),s=l(e("@babel/runtime/helpers/classCallCheck"));n.default=(0,i.default)(function e(t){var n=t.bet,l=t.lines,i=t.multiplier,a=t.currency,r=t.nextRequestId,o=t.type,t=t.fixedBet;(0,s.default)(this,e),this.bet=n,this.lines=l,this.multiplier=i,this.currency=a,this.nextRequestId=r,this.type=o,this.fixedBet=t,this.defaultReels=[],this.betRanges=[],this.linesConfig=[],this.symbolsConfig=[],this.restoreState=!1,this.scatterId=-1,this.extra=null,this.rtp=null})},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],207:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck"));n.default=(0,i.default)(function e(){(0,a.default)(this,e),this.reels=null,this.walks=null,this.freespins=null,this.freeze=null,this.extra=null,this.multiplier=null,this.bet=null,this.fixedBet=null,this.isGift=!1,Object.seal(this)})},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],208:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck"));n.default=(0,i.default)(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],l=2<arguments.length?arguments[2]:void 0,i=3<arguments.length?arguments[3]:void 0;(0,a.default)(this,e),this.idx=t,this.positions=n,this.columns=l,this.rows=i})},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],209:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/assertThisInitialized")),u=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),a=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(n);return e=l?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,u.default)(a,e);var i=c(a);function a(e,t,n,l){return(0,r.default)(this,a),(e=i.call(this,e,t,n,l)).idx=null,e.code=null,e.extra=null,Object.seal((0,s.default)(e)),e}return(0,o.default)(a,[{key:"holes",get:function(){return this.positions.map(function(e){return e.reelId})}},{key:"winDirection",get:function(){var e=this.holes;return 0==e.first?"left":e.last==this.positions.last.reelId?"right":"middle"}}]),a}(l(e("./WinData.js")).default);n.default=l},{"./WinData.js":220,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],210:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck"));n.default=(0,i.default)(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1;(0,a.default)(this,e),this.reelId=Number(t),this.symId=Number(n)})},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],211:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass"));n.default=function(){function e(){(0,i.default)(this,e),this.id=null,this.symbols=[],this.extra=null,this.intrigued=null,this.intrigueType=null,this.lift=null,this.simpleSpin=!0,Object.seal(this)}return(0,a.default)(e,[{key:"hasLift",get:function(){return null!==this.lift}},{key:"expanded",get:function(){return this.extra&&this.extra.expandedSymbol}}]),e}()},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],212:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),s=l(e("@babel/runtime/helpers/classCallCheck"));function u(e,t){var n,l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return l&&(e=l),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,r=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return a=e.done,e},e:function(e){r=!0,i=e},f:function(){try{a||null==l.return||l.return()}finally{if(r)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}n.default=(0,i.default)(function e(t){(0,s.default)(this,e),this.symbols=[];var n,l=u(t);try{for(l.s();!(n=l.n()).done;){var i,a=n.value,r=u(a.symbols);try{for(r.s();!(i=r.n()).done;){var o=i.value;null!=o.replace&&this.symbols.push({reelId:a.id,id:o.id,type:o.type,replace:o.replace})}}catch(e){r.e(e)}finally{r.f()}}}catch(e){l.e(e)}finally{l.f()}Object.seal(this)})},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],213:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck"));n.default=(0,i.default)(function e(){(0,a.default)(this,e),this.balance=null,this.bet=null,this.denomination=null,this.initData=null,this.initFreespinData=null,this.giftSpinsData=null,this.spinData=null,this.bonusGamesData=null})},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],214:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),o=l(e("@babel/runtime/helpers/classCallCheck"));n.default=(0,i.default)(function e(t){var n=t.bet,l=t.lines,i=t.multiplier,a=t.nextMultiplier,r=t.type,t=t.fixedBet;(0,o.default)(this,e),this.bet=n,this.lines=l,this.multiplier=i,this.nextMultiplier=a,this.type=r,this.fixedBet=t,this.totalWin=0,this.reels=[],this.restoreReels=null,this.lineWins=[],this.scatterWins=[],this.wayWins=[],this.collectibleWins=[],this.groupWins=[],this.freespins=null,this.extra=null,this.drop=null,this.dropChain=null,this.dropReady=!1,this.freeze=null,this.replace=null,this.walks=null,this.respinChain=null,this.reelsData=null,Object.seal(this)})},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],215:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck"));n.default=(0,i.default)(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],l=2<arguments.length&&void 0!==arguments[2]&&arguments[2];(0,a.default)(this,e),this.id=t,this.combinations=n,this.isScatter=l,Object.seal(this)})},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],216:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass"));n.default=function(){function e(){(0,i.default)(this,e),this.init.apply(this,arguments),Object.seal(this)}return(0,a.default)(e,[{key:"init",value:function(e){var t=e.id,n=e.type,l=e.reelId,e=e.extra,e=void 0===e?null:e;this.id=t,this.reelId=l,this.type=n,this.replace=void 0,this.extra=e,this.face=null}}]),e}()},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],217:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),o=l(e("@babel/runtime/helpers/classCallCheck")),s=l(e("@babel/runtime/helpers/assertThisInitialized")),u=l(e("@babel/runtime/helpers/inherits")),a=l(e("@babel/runtime/helpers/possibleConstructorReturn")),r=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,r.default)(n);return e=l?(e=(0,r.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}l=function(e){(0,u.default)(r,e);var a=c(r);function r(e,t,n,l,i){return(0,o.default)(this,r),(e=a.call(this,e,t,n,l)).code=i,Object.seal((0,s.default)(e)),e}return(0,i.default)(r)}(l(e("./WinData.js")).default);n.default=l},{"./WinData.js":220,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],218:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),i=l(e("@babel/runtime/helpers/createClass")),o=l(e("./PositionData.js")),l=function(){function a(e,t){var n=t.position,l=t.from,i=t.symbol,t=t.hold;(0,r.default)(this,a),this.id=e,this.hold=t,this.symbol=+i,this.position=n?new o.default(n[0],n[1]):null,this.from=l?new o.default(l[0],l[1]):null,Object.seal(this)}return(0,i.default)(a,[{key:"hasMoved",get:function(){return this.from&&(this.from.reelId!=this.position.reelId||this.from.symId!=this.position.symId)}}]),a}();n.default=l},{"./PositionData.js":210,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],219:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck"));n.default=(0,i.default)(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;(0,a.default)(this,e),this.symbolsCount=t,this.coefficient=n,null!==l&&(this.freespin_count=l),Object.seal(this)})},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],220:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),r=l(e("@babel/runtime/helpers/createClass"));n.default=function(){function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"basic";(0,a.default)(this,i),this.amount=e,this.multiplier=t,this.positions=n,this.type=l,this._duration=null,this.extra=null,this._withoutLineImpulse=!1}return(0,r.default)(i,[{key:"count",get:function(){return this.positions.length}},{key:"withoutLineImpulse",get:function(){return this._withoutLineImpulse},set:function(e){this._withoutLineImpulse=e}},{key:"winLevel",get:function(){return this.amount<100?0:this.amount<1e3?1:2}},{key:"duration",get:function(){return null===this._duration?[1e3,4e3,4500][this.winLevel]:this._duration},set:function(e){this._duration=e}}]),i}()},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],221:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("./../data/LineWinData.js")),D=l(e("./../data/PositionData.js")),A=l(e("./../data/FreezeNodeData.js")),U=l(e("./../data/FreezePositionData.js"));function L(e,t){var n,l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return l&&(e=l),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,r=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return a=e.done,e},e:function(e){r=!0,i=e},f:function(){try{a||null==l.return||l.return()}finally{if(r)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}l=function(){function t(){(0,i.default)(this,t)}return(0,a.default)(t,null,[{key:"setInitData",value:function(e){t.initData=e,t.COLS=e.defaultReels.length,t.ROWS=e.defaultReels.first.symbols.length}},{key:"generateExpandedWild",value:function(e,t){for(var n in t)if(t[n].extra&&null!=t[n].extra.expanded)return e.extra=e.extra||{},void(e.extra.expandedSymbol={expanded:t[n].extra.expanded,symId:n})}},{key:"generateFrozen",value:function(e,t){var n=[],l=[];if(t){var i,a=L(t.positions);try{for(a.s();!(i=a.n()).done;){var r=i.value;n.push(new U.default(new D.default(r.reelId,r.symId),r.type))}}catch(e){a.e(e)}finally{a.f()}l=t.reels.slice()}if(e&&t){var o,s=[],u=L(e.positions);try{for(u.s();!(o=u.n()).done;){var c,h=o.value,f=L(t.positions);try{for(f.s();!(c=f.n()).done;){var d=c.value;h.reelId===d.reelId&&h.symId===d.symId&&s.push(h)}}catch(e){f.e(e)}finally{f.f()}}}catch(e){u.e(e)}finally{u.f()}for(var p=0,y=s;p<y.length;p++){for(var b=y[p],m=e.positions.length-1;0<=m;m--){var g=e.positions[m];b.reelId===g.reelId&&b.symId===g.symId&&e.positions.splice(m,1)}for(var v=t.positions.length-1;0<=v;v--){var _=t.positions[v];b.reelId===_.reelId&&b.symId===_.symId&&t.positions.splice(v,1)}}var S,s=[],C=L(e.reels);try{for(C.s();!(S=C.n()).done;){var I,w=S.value,R=L(t.reels);try{for(R.s();!(I=R.n()).done;){var k=I.value;w.id===k.id&&s.push(w)}}catch(e){R.e(e)}finally{R.f()}}}catch(e){C.e(e)}finally{C.f()}for(var x=0,P=s;x<P.length;x++){for(var T=P[x],E=e.reels.length-1;0<=E;E--){var O=e.reels[E];T.id===O.id&&e.reels.splice(E,1)}for(var B=t.reels.length-1;0<=B;B--){var W=t.reels[B];T.id===W.id&&t.reels.splice(B,1)}}}return n||l?new A.default(n,l):null}}]),t}();(n.default=l).COLS=5,l.ROWS=3,l.initData=null,l.LineWinData=r.default,l.PositionData=D.default},{"./../data/FreezeNodeData.js":200,"./../data/FreezePositionData.js":201,"./../data/LineWinData.js":209,"./../data/PositionData.js":210,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],222:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/typeof"))),a=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("@babel/runtime/helpers/createClass"));function p(e,t){var n,l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return l&&(e=l),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,r=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return a=e.done,e},e:function(e){r=!0,i=e},f:function(){try{a||null==l.return||l.return()}finally{if(r)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}l=function(){function d(){(0,a.default)(this,d)}return(0,r.default)(d,null,[{key:"log",value:function(e){var t;e.spinData&&e.spinData.reels.length?t=e.spinData.reels:e.initFreespinData&&e.initFreespinData.reels.length?t=e.initFreespinData.reels:e.initData&&e.initData.defaultReels.length&&(t=e.initData.defaultReels),t&&(t=[t.length,t.first.symbols.length],d.COLS=t[0],d.ROWS=t[1]),console.groupCollapsed("Main data: ↴"),e.balance&&(console.log(" -- balanceBefore:  ".concat(e.balance.before)),console.log(" -- balanceAfter:   ".concat(e.balance.after))),e.denomination&&console.log(" -- denomination:   ".concat(e.denomination)),console.groupEnd(),e.initData&&(console.group("Init data: ↴"),console.log("Restore state: ".concat(e.initData.restoreState?"YES":"NO")),e.initData.restoreState||d.logReels("Init reelset symbols",e.initData.defaultReels),console.groupEnd()),e.initFreespinData&&(console.group("Init freespin data: ↴"),d.logReels("Init freespin symbols",e.initFreespinData.reels),e.initFreespinData.freeze&&(e.initFreespinData.freeze.freeze&&d.logFreeze("Freeze",e.initFreespinData.freeze.freeze),e.initFreespinData.freeze.frozen&&d.logFreeze("Frozen",e.initFreespinData.freeze.frozen),e.initFreespinData.freeze.unfreeze&&d.logFreeze("Unfreeze",e.initFreespinData.freeze.unfreeze)),console.groupEnd()),d.logBonus(e.bonusData,e.bonusName,e.bonusReady),e.spinData&&(console.group("Spin data: ↴"),e.spinData.respinChain&&d.logChain("Respin",e.spinData.respinChain),d.logReels("Reelset symbols",e.spinData.reels),e.spinData.restoreReels&&d.logReels("Restore symbols",e.spinData.restoreReels),d.logLineWins(e.spinData.lineWins,"basic"),d.logSymbolWins(e.spinData.scatterWins),d.logFreespins(e.spinData.freespins),e.spinData.drop&&d.logDrop(e.spinData.drop,e.spinData.dropChain,e.spinData.dropReady),e.spinData.freeze&&(e.spinData.freeze.freeze&&d.logFreeze("Freeze",e.spinData.freeze.freeze),e.spinData.freeze.frozen&&d.logFreeze("Frozen",e.spinData.freeze.frozen),e.spinData.freeze.unfreeze&&d.logFreeze("Unfreeze",e.spinData.freeze.unfreeze)),console.groupEnd())}},{key:"logObject",value:function(e,t){for(var n in console.groupCollapsed(e+": ↴"),t){var l=t[n];"object"===(0,i.default)(l)?d.logObject(n,l):console.log(n+": "+l)}console.groupEnd()}},{key:"logReels",value:function(e,t){for(var n=!1,l=0;l<d.ROWS;l++)for(var i=0;i<d.COLS;i++)if(void 0!==t[i]&&void 0!==t[i].symbols[l]&&10<=t[i].symbols[l].type){n=!0;break}console.group(e+": ↴");for(var a="",r=0;r<t.first.symbols.length;r++){for(var o="",s=0;s<t.length;s++)var u=t[s],u=u?u.symbols[r].type:"0",u=n&&u<10?" "+u:u,o=o.concat("["+u+"]");o+=a+=" ",console.log(o)}console.groupEnd()}},{key:"logFreezeReels",value:function(e,n){console.group(e+": ↴");for(var l="",t=0;t<d.COLS;t++)!function(t){var e=n.find(function(e){return e.id==t})?"F":" ";l=l.concat("["+e+"]")}(t);console.log(l),console.groupEnd()}},{key:"logSymbolWins",value:function(e){if(e.length){var t,n=(n=e.first.type).charAt(0).toUpperCase()+n.slice(1),l=(console.group(n+" wins: ↴"),p(e));try{for(l.s();!(t=l.n()).done;){var i=t.value;d.logPositions(i.positions,"S")}}catch(e){l.e(e)}finally{l.f()}console.groupEnd()}}},{key:"logPositions",value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"X",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"o",l=[],i=0;i<d.ROWS;i++){for(var a=[],r=0;r<d.COLS;r++)a.push("["+n+"]");l.push(a)}var o,s=p(e);try{for(s.s();!(o=s.n()).done;){var u=o.value;l[u.symId][u.reelId]="["+t+"]"}}catch(e){s.e(e)}finally{s.f()}for(var c=0;c<d.ROWS;c++){for(var h="",f=0;f<d.COLS;f++)h+=l[c][f];console.log(h+(c%2?" ":""))}}},{key:"logLineWins",value:function(e,t){if(e&&e.length){console.group("Line "+t+" wins: ↴");for(var n="",l=0;l<d.ROWS;l++){for(var i=0;i<d.COLS;i++){var a,r="[o]",o=p(e);try{for(o.s();!(a=o.n()).done;){var s,u=p(a.value.positions);try{for(u.s();!(s=u.n()).done;){var c=s.value;c.reelId==i&&c.symId==l&&(r="[W]")}}catch(e){u.e(e)}finally{u.f()}}}catch(e){o.e(e)}finally{o.f()}n=n.concat(r)}n=n.concat("\n")}console.log(n),console.groupEnd()}}},{key:"logFreespins",value:function(e){e&&(console.groupCollapsed("Freespins: ↴"),console.log(" -- add:       ".concat(e.addCount)),console.log(" -- done:      ".concat(e.doneCount)),console.log(" -- left:      ".concat(e.leftCount)),console.log(" ------------------"),console.log(" -- winTotal:  ".concat(e.totalWins)),console.log(" -- winBefore: ".concat(e.winsBefore)),console.log(" ------------------"),console.groupEnd())}},{key:"logDrop",value:function(e,t,n){(e.positions.length||e.reels.length)&&(console.group("Drop data: ↴"),console.log(" -- isReady:   ".concat(n?"YES":"NO")),d.logChain("Drop",t),console.group(" Pop symbols: ↴"),d.logPositions(e.positions,"P"),console.groupEnd(),e.reels.length&&d.logReels("Drop reels",e.reels),console.groupEnd())}},{key:"logFreeze",value:function(e,t){(t.positions.length||t.reels.length)&&(console.group(e+" freeze data: ↴"),d.logPositions(t.positions,"F"),t.reels.length&&d.logFreezeReels("Freeze reels",t.reels),console.groupEnd())}},{key:"logChain",value:function(e,t){console.group(e+" chain data: ↴"),console.log(" -- doneCount: ".concat(t.count)),console.log(" -- totalWin:  ".concat(t.totalWin)),console.groupEnd()}},{key:"logBonus",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(e)for(var l in t&&console.log(" StartBonus:        ".concat(t)),console.log(" BonusReady:        ".concat(n?"YES":"NO")),e){var i,a=e[l],r=(console.group("Bonus game data: ↴"),console.log(" -- Name:        ".concat(a.name)),console.log(" -- Status:      ".concat(a.status)),console.log(" -----------------------"),console.log(" -- winTotal:    ".concat(a.totalWins)),console.log(" -- winBefore:   ".concat(a.winsBefore)),console.log(" -----------------------"),console.log(" -- CurrentStep: ".concat(a.currentStep)),console.log(" -- LivesCount:  ".concat(a.livesCount)),console.log(" -- ItemsCount:  ".concat(a.itemsCount)),a.extra&&(console.log(" -----------------------"),d.logObject("Extra data",a.extra,!1)),p(a.steps));try{for(r.s();!(i=r.n()).done;){var o=i.value;console.group("Step ".concat(o.idx," data: ↴")),console.log(" -- Choice:      ".concat(o.choice)),console.log(" -- Value:       ".concat(o.value)),console.log(" -- Status:      ".concat(o.status)),console.log(" -----------------------"),console.log(" -- winBefore:   ".concat(o.winsBefore)),console.log(" -- winAfter:    ".concat(o.winsAfter)),a.extra&&(console.log(" -----------------------"),d.logObject("Extra data",o.extra,!1)),console.groupEnd()}}catch(e){r.e(e)}finally{r.f()}console.groupEnd()}}}]),d}();(n.default=l).COLS=0,l.ROWS=0},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/typeof":26}],223:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={POPUP_FREESPINS_TYPE_CHANGED:"Popup.POPUP_FREESPINS_TYPE_CHANGED",POPUP_WILL_SHOW:"Popup.POPUP_WILL_SHOW",POPUP_DID_SHOW:"Popup.POPUP_DID_SHOW",POPUP_WILL_HIDE:"Popup.POPUP_WILL_HIDE",POPUP_DID_HIDE:"Popup.POPUP_DID_HIDE",POPUP_EVENT:"Popup.POPUP_EVENT",POPUP_BUTTON_PRESSED:"Popup.POPUP_BUTTON_PRESSED",POPUP_WILL_SHOW_COUNTER:"Popup.POPUP_WILL_SHOW_COUNTER",POPUP_DID_SHOW_COUNTER:"Popup.POPUP_DID_SHOW_COUNTER"}},{}],224:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(l,e);var t=c(l);function l(e){return(0,i.default)(this,l),t.call(this,e)}return(0,a.default)(l,[{key:"onInitialize",value:function(){(0,r.default)((0,u.default)(l.prototype),"onInitialize",this).call(this),this.config.properties=this.config.properties||{},this.config.properties.landscape=this.config.properties.landscape||{position:{x:"50%",y:"50%"},scale:"100%"},this.config.properties.portrait=this.config.properties.portrait||{position:{x:"50%",y:"30%"},scale:"60%"};var e=new game.src.Popup.Model,t=this.config.common.view||"BaseView",t=new game.src.Popup[t],n=(t.initialize(this.respack),this.context.view.addChild(t),new game.src.Popup.Controller);n.initialize(e,t),this.controller=n}},{key:"show",value:function(e,t){var n,l=this;return this.config[e]?(Object.assign(t,this.config.common,this.config[e]),t.message=t.message?t.message.ls(t.text):"",n=void 0!==t.animation.autoHideDelay?t.animation.autoHideDelay:2e3,this.controller.show(e,t,t.animation&&t.animation.autoHide?function(){return c2d.Timeout.invoke(function(){return l.hide()},n)}:null)):!!this.config[e]}},{key:"hide",value:function(){this.controller.hide()}}]),l}(game.slots.Component);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],225:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("../api/Events.js"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=h(n);function n(){return(0,i.default)(this,n),t.call(this)}return(0,a.default)(n,[{key:"onInitialize",value:function(){(0,r.default)((0,u.default)(n.prototype),"onInitialize",this).call(this),this._view.subscribe(c.default.POPUP_FREESPINS_TYPE_CHANGED,this.dispatch,this)}},{key:"type",get:function(){return this._model.type}},{key:"show",value:function(e,t,n){var l=this;this._model.type=e,this._model.options=t,this.dispatch(c.default.POPUP_WILL_SHOW,{type:e});return this._view.showWithOptions(e,t,function(){l.dispatch(c.default.POPUP_DID_SHOW,{type:e}),n&&n()})}},{key:"hide",value:function(e){var t=this;this.dispatch(c.default.POPUP_WILL_HIDE,{type:this._model.type});this._view.hideWithOptions(this._model.options,function(){t.dispatch(c.default.POPUP_DID_HIDE,{type:t._model.type}),t._model.type=null,e&&e()})}}]),n}(c2d.ComponentController);n.default=l},{"../api/Events.js":223,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],226:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=l(e("./api/PopupApi.js")),a=l(e("./api/Events.js")),r=l(e("./model/PopupModel.js")),o=l(e("./view/PopupSpineView.js")),l=l(e("./controller/PopupController.js"));i.default.src={Model:r.default,SpineView:o.default,Controller:l.default},i.default.ID="Popup",game.registerComponent(i.default,a.default)},{"./api/Events.js":223,"./api/PopupApi.js":224,"./controller/PopupController.js":225,"./model/PopupModel.js":227,"./view/PopupSpineView.js":228,"@babel/runtime/helpers/interopRequireDefault":12}],227:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this)).type=null,e.options=null,Object.seal((0,r.default)(e)),e}return(0,a.default)(n,[{key:"showHideDuration",get:function(){return this.options.showHideDuration}},{key:"isAutoHide",get:function(){return!(!this.options.animation||!this.options.animation.autoHide)}},{key:"autoHideDelay",get:function(){return this.options.animation&&this.options.animation.autoHideDelay?this.options.animation.autoHideDelay:2e3}}]),n}(c2d.Model);n.default=l},{"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],228:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("../api/Events.js"));function c(e,t){var n,l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return l&&(e=l),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,r=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return a=e.done,e},e:function(e){r=!0,i=e},f:function(){try{a||null==l.return||l.return()}finally{if(r)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=f(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this))._spineContainer=null,e._popupsSequence=[],e._firstDelay=250,e._countTime=1500,e.interactive=!0,e.animateCountTextTween=null,e}return(0,a.default)(n,[{key:"showWithOptions",value:function(e,t,n){var l,i=this;{if(!this._spineContainer)return this.animateCountTextTween=null,!!(l=this.getSpineData(t))&&(this._spineContainer=new c2d.display.Spine(this._respack.getAsset(l)),this.addChild(this._spineContainer),this.setText(t,e),this.setAttach(t),this.setButtons(t),this._playSpineAnimation(t.animation.in,!1,function(){i._playSpineAnimation(t.animation.idle,t.animation.loopIdle),n&&n()},e),!0);this._popupsSequence.push(function(){return i.showWithOptions(e,t,n)})}}},{key:"spineContainer",get:function(){return this._spineContainer}},{key:"setText",value:function(e,t){var n,l,i,a,r;e.text&&(r=(n=c2d.display).TextField,n=n.LabelSprite,l=e.message,i=e.textStyle,a=e.padding,(r=Object.isObject(e.textStyle)?new r(l,i):new n(this._respack,i,a||0)).anchor=c2d.geom.Point.create(.5,.5),this._spineContainer.attach("text",r),this.showText(e.animation.animateCountText,{label:r,options:e,type:t}))}},{key:"showText",value:function(e,t){var n=t.label,l=t.options,t=t.type;e?this.animateCountText(n,l,t):(e=Number(l.message).toFixed(2),n.text=0<l.message%1?e:l.message,this.dispatch(u.default.POPUP_WILL_SHOW_COUNTER,{type:t}),this.dispatch(u.default.POPUP_DID_SHOW_COUNTER,{type:t}))}},{key:"setAttach",value:function(e){var l,i=this;e.attach&&(l={},e.attach.forEach(function(e){var t=e.emitter,n=e.textures;l.emitter=i._respack.getAsset(t),l.textures=n.map(function(e){return i._respack.getAsset(e)}),i._spineContainer.attachEmitter(e.slot,l)}))}},{key:"setButtons",value:function(e){var t=this;if(e.buttons){var n,l=[],i=function(){return t.dispatch(u.default.POPUP_BUTTON_PRESSED)},a=c(e.buttons);try{for(a.s();!(n=a.n()).done;){var r=n.value,o=new c2d.display.SpineButton(this._spineContainer,r,i,r);l.push(o,l)}}catch(e){a.e(e)}finally{a.f()}}}},{key:"animateCountText",value:function(t,n,e){var l=this;this.animateCountTextTween=c2d.Tween.get({}),this.animateCountTextTween.wait(this._firstDelay),this.animateCountTextTween.call(function(){return l.dispatch(u.default.POPUP_WILL_SHOW_COUNTER,{type:e})}),this.animateCountTextTween.to({},this._countTime,c2d.Tween.Ease.sineIn),this.animateCountTextTween.call(function(){l.dispatch(u.default.POPUP_DID_SHOW_COUNTER,{type:e}),l.animateCountTextTween=null}).addEventListener("change",function(e){0<n.message%1?t.text=(e.target.position/e.target.duration*n.message).toFixed(2):t.text=parseInt(e.target.position/e.target.duration*parseInt(n.message))})}},{key:"stopAnimateCountText",value:function(){this.animateCountTextTween&&(this.animateCountTextTween.setPosition(this.animateCountTextTween.duration),this.animateCountTextTween=null)}},{key:"hideWithOptions",value:function(e,t){var n=this;this._spineContainer&&this._spineContainer._prevAnimation!==e.animation.hide&&this._playSpineAnimation(e.animation.hide,!1,function(){n.removeChild(n._spineContainer),n._spineContainer=null,t&&t();var e=n._popupsSequence.shift();e&&e()})}},{key:"_playSpineAnimation",value:function(e,t,n,l){var i=this;this._spineContainer.play(e,t),this._spineContainer.onEvent=function(e,t){t=t.data.name;return i.dispatch(u.default.POPUP_EVENT,{event:e,name:t,type:l})},this._firstDelay&&(this._spineContainer.pause(),c2d.Timeout.invoke(function(){i._spineContainer.resume(),i._firstDelay=0},this._firstDelay)),n&&(this._spineContainer.onComplete=n)}},{key:"getSpineData",value:function(e){var t=e.animation.spine,n=e.winRation;if(Object.isObject(t))for(var l=Object.keys(t),i=l.length-1;0<=i;--i)if(t[l[i]].winRatio<=n){t=l[i];break}return t}}]),n}(l(e("./PopupView.js")).default);n.default=l},{"../api/Events.js":223,"./PopupView.js":229,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],229:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.call(this)}return(0,a.default)(n,[{key:"onInitialize",value:function(){(0,r.default)((0,u.default)(n.prototype),"onInitialize",this).call(this),this.displayGroup=game.displayGroups.UI}},{key:"showWithOptions",value:function(e,t,n){console.warn("override me")}},{key:"hideWithOptions",value:function(e,t,n){console.warn("override me")}}]),n}(c2d.display.View);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],230:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={REELSET_WILL_START_SPIN_ANIMATION:"Reelset.REELSET_WILL_START_SPIN_ANIMATION",REELSET_DID_START_SPIN_ANIMATION:"Reelset.REELSET_DID_START_SPIN_ANIMATION",REELSET_DID_FINISH_SPIN_ANIMATION:"Reelset.REELSET_DID_FINISH_SPIN_ANIMATION",REEL_DID_START_ANIMATION:"Reelset.REEL_DID_START_ANIMATION",REEL_DID_SPINNING:"Reelset.REEL_DID_SPINNING",REEL_WILL_FINISH_ANIMATION:"Reelset.REEL_WILL_FINISH_ANIMATION",REEL_DID_FINISH_ANIMATION:"Reelset.REEL_DID_FINISH_ANIMATION",REELSET_DID_START_POP_ANIMATION:"Reelset.REELSET_DID_START_POP_ANIMATION",REELSET_DID_FINISH_POP_ANIMATION:"Reelset.REELSET_DID_FINISH_POP_ANIMATION",REEL_DID_START_POP_ANIMATION:"Reelset.REEL_DID_START_POP_ANIMATION",REEL_DID_FINISH_POP_ANIMATION:"Reelset.REEL_DID_FINISH_POP_ANIMATION",REELSET_DID_START_DROP_ANIMATION:"Reelset.REELSET_DID_START_DROP_ANIMATION",REELSET_DID_FINISH_DROP_ANIMATION:"Reelset.REELSET_DID_FINISH_DROP_ANIMATION",REEL_DID_START_DROP_ANIMATION:"Reelset.REEL_DID_START_DROP_ANIMATION",REEL_DID_FINISH_DROP_ANIMATION:"Reelset.REEL_DID_FINISH_DROP_ANIMATION",REELSET_DID_START_FREEZE_ANIMATION:"Reelset.REELSET_DID_START_FREEZE_ANIMATION",REELSET_DID_FINISH_FREEZE_ANIMATION:"Reelset.REELSET_DID_FINISH_FREEZE_ANIMATION",REEL_DID_START_FREEZE_ANIMATION:"Reelset.REEL_DID_START_FREEZE_ANIMATION",REEL_DID_FINISH_FREEZE_ANIMATION:"Reelset.REEL_DID_FINISH_FREEZE_ANIMATION",REELSET_DID_START_UNFREEZE_ANIMATION:"Reelset.REELSET_DID_START_UNFREEZE_ANIMATION",REELSET_DID_FINISH_UNFREEZE_ANIMATION:"Reelset.REELSET_DID_FINISH_UNFREEZE_ANIMATION",REEL_DID_START_UNFREEZE_ANIMATION:"Reelset.REEL_DID_START_UNFREEZE_ANIMATION",REEL_DID_FINISH_UNFREEZE_ANIMATION:"Reelset.REEL_DID_FINISH_UNFREEZE_ANIMATION",REELSET_PLAY_STOP_SYMBOL_ANIMATION:"Reelset.REELSET_PLAY_STOP_SYMBOL_ANIMATION",REELSET_DID_SHOW_WIN_LINES:"Reelset.REELSET_DID_SHOW_WIN_LINES",REELSET_WILL_SHOW_FLASH_SYMBOL_WINS:"Reelset.REELSET_WILL_SHOW_FLASH_SYMBOL_WINS",REELSET_DID_SHOW_FLASH_SYMBOL_WINS:"Reelset.REELSET_DID_SHOW_FLASH_SYMBOL_WINS",REELSET_DID_SKIP_ALL_WINS:"Reelset.REELSET_DID_SKIP_ALL_WINS",REELSET_WILL_SHOW_WIN_SCATTERS:"Reelset.REELSET_WILL_SHOW_WIN_SCATTERS",REELSET_DID_SHOW_WIN_SCATTERS:"Reelset.REELSET_DID_SHOW_WIN_SCATTERS",REELSET_WILL_SHOW_REPLACE_SYMBOL:"Reelset.REELSET_WILL_SHOW_REPLACE_SYMBOL",REELSET_WILL_SHOW_REPLACE_SYMBOLS:"Reelset.REELSET_WILL_SHOW_REPLACE_SYMBOLS",REELSET_DID_SHOW_REPLACE_SYMBOLS:"Reelset.REELSET_DID_SHOW_REPLACE_SYMBOLS",REELSET_SHOW_EXPAND:"Reelset.REELSET_SHOW_EXPAND",REELSET_IDLE_EXPAND:"Reelset.REELSET_IDLE_EXPAND",REELSET_HIDE_EXPAND:"Reelset.REELSET_HIDE_EXPAND",REELSET_STOP_SYMBOL_ANIMATION:"Reelset.REELSET_STOP_SYMBOL_ANIMATION",REELSET_SHOW_WIN_SYMBOL:"Reelset.REELSET_SHOW_WIN_SYMBOL",REELSET_WILL_SHOW_SYMBOL_WINS:"Reelset.REELSET_WILL_SHOW_SYMBOL_WINS",REELSET_WILL_SHOW_STUCK_REEL:"Reelset.REELSET_WILL_SHOW_STUCK_REEL",REELSET_DID_SHOW_STUCK_REEL:"Reelset.REELSET_DID_SHOW_STUCK_REEL",REELSET_DID_STOP_ALL_REELS:"Reelset.REELSET_DID_STOP_ALL_REELS",REELSET_DID_STOP_ANIMATION:"Reelset.REELSET_DID_STOP_ANIMATION",WALK_APPEARS:"Reelset.WALK_APPEARS",WALK_MOVE:"Reelset.WALK_MOVE",WALK_RETIRE:"Reelset.WALK_RETIRE",WALK_LEAVE:"Reelset.WALK_LEAVE",WALK_WIN:"Reelset.WALK_WIN",REELSET_SHOW_WIN_WALK_SYMBOL:"Reelset.REELSET_SHOW_WIN_WALK_SYMBOL"}},{}],231:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"onInitialize",value:function(){var e=new game.src.Reelset.Model,t=(game.src.Reelset.SymbolAnimations.initialize(e,this.respack),new game.src.Reelset.View(new game.src.Reelset.ViewConfig(this.config.reelsetViewConfig,this.respack))),n=(t.initialize(this.respack),this.context.view.addChild(t),this.context.view.addChild(t.overlayLayer),new game.src.Reelset.Controller);n.initialize(e,t),this.controller=n,this.exportApi(["setFrozen","startUnfreeze","startFreeze"]),this.exportApi(["startSkipFreeze"]),this.exportApi(["flashSymbolWins","showSymbolWins","showScatterWins","showReplaceSymbols","showExpandedSymbols"]),this.exportApi(["skipReplaceSymbols","skipExpandedSymbols"]),this.exportApi(["startPop","startDrop"]),this.exportApi(["beforeSpin","startSpin","beforeSpinStop","stopSpin"]),this.exportApi(["initReels","showWalks","stopSymbolsAnimations","setTurboMode"]),this.validateConfig(this.config)}},{key:"onResize",value:function(){(0,r.default)((0,u.default)(n.prototype),"onResize",this).call(this),this.controller.onResize()}},{key:"validateConfig",value:function(){if(this.config.reelsetViewConfig.position)throw new Error("reelsetViewConfig.position is deprecated, use properties landscape and portrait instead")}},{key:"visible",get:function(){return this.controller.view.visible},set:function(e){this.controller.view.visible=e}}]),n}(game.slots.Component);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],232:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),h=l(e("./../api/Events.js"));function f(e,t){var n,l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return l&&(e=l),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,r=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return a=e.done,e},e:function(e){r=!0,i=e},f:function(){try{a||null==l.return||l.return()}finally{if(r)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=c(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this)).memberNotWinSymbols=null,e.symbolAnimations=game.src.Reelset.SymbolAnimations,e}return(0,a.default)(n,[{key:"onInitialize",value:function(){}},{key:"onResize",value:function(){this.view.onResize()}},{key:"beforeSpin",value:function(e){e()}},{key:"beforeSpinStop",value:function(e,t){t()}},{key:"onRun",value:function(){var l=this;this.subscribe(h.default.REEL_DID_FINISH_ANIMATION,function(e){var e=e.data.id,n=l.model.reels[e];n.symbols.forEach(function(e){var t=l.symbolAnimations.getAnimation(e,"stop");t&&(l.dispatch(h.default.REELSET_PLAY_STOP_SYMBOL_ANIMATION,{type:e.type}),l.view.setSymbolAnimation(n.id,e.id,t))})})}},{key:"initReels",value:function(e){var t=this,n=e.reels,l=e.scatter,i=e.unfreeze,i=void 0===i?null:i,a=e.frozen,a=void 0===a?null:a,r=e.freeze,r=void 0===r?null:r,o=e.freespins,o=void 0===o?null:o,e=e.walks,e=void 0===e?null:e;this.stopSymbolsAnimations(),this.model.reels=n,this.model.scatterId=l,this.model.freeze={freeze:r,frozen:a,unfreeze:i},this.model.freespins=o,this.symbolAnimations.parseStackedReels(this.model.reels),this.updateSymbolsAnimations(),this.view.clear(),this.view.initFrozen(this.model.getPositionsByFreezeType("frozen")),n.forEach(function(e){return t.view.getReel(e.id).lift=e.lift}),this.showWalks("init",e)}},{key:"updateSymbolsAnimations",value:function(){var t=this;this.memberNotWinSymbols=null,this.model.symbols.forEach(function(e){return t.view.setSymbolAnimation(e.reelId,e.id,t.symbolAnimations.getAnimation(e,"static"))})}},{key:"stopSymbolsAnimations",value:function(){var t=this;this.model.symbols.forEach(function(e){t.view.stopSymbolAnimation(e.reelId,e.id)}),this.dispatch(h.default.REELSET_DID_STOP_ANIMATION)}},{key:"setTurboMode",value:function(e){this.model.turboMode=e}},{key:"startSpin",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.stopSymbolsAnimations(),this.memberNotWinSymbols=null,this.view.startSpinAnimation(this.model.reels,e)}},{key:"stopSpin",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this.model.reels=e,this.symbolAnimations.parseStackedReels(this.model.reels),this.view.stopSpinAnimation(this.model.reels,t)}},{key:"startPop",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],e=(this.model.popSymbols=e,this.model.getAllPopSymbolsArray());this.dispatch(h.default.REELSET_DID_START_POP_ANIMATION),this.view.startPopAnimation(e,t)}},{key:"startDrop",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],e=(this.model.reels=e,this.model.getAllPopSymbolsArray());this.dispatch(h.default.REELSET_DID_START_DROP_ANIMATION),this.view.startDropAnimation(e,t)}},{key:"setFrozen",value:function(e){this.model.freeze={frozen:e}}},{key:"startFreeze",value:function(e){this.model.freeze={freeze:e};e=this.model.getAllPositionsByFreezeType("freeze");this.dispatch(h.default.REELSET_DID_START_FREEZE_ANIMATION),this.view.startFreezeAnimation(e)}},{key:"startSkipFreeze",value:function(e){var t=this.model.getAllPositionsByFreezeType(e);this.view.startSkipFreezeAnimation(t,e)}},{key:"startUnfreeze",value:function(e){var t,n=f(e.positions);try{for(n.s();!(t=n.n()).done;){var l=t.value;this.model.reels[l.reelId].symbols[l.symId].type=l.type}}catch(e){n.e(e)}finally{n.f()}var i,a=f(e.reels);try{for(a.s();!(i=a.n()).done;){var r,o=i.value,s=f(o.symbols);try{for(s.s();!(r=s.n()).done;){var u=r.value;this.model.reels[o.id].symbols[u.id].type=u.type}}catch(e){s.e(e)}finally{s.f()}}}catch(e){a.e(e)}finally{a.f()}this.model.freeze={unfreeze:e};e=this.model.getAllPositionsByFreezeType("unfreeze");this.dispatch(h.default.REELSET_DID_START_UNFREEZE_ANIMATION),this.view.startUnfreezeAnimation(e)}},{key:"showWalks",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){};if(this.model.walks=t)switch(e){case"init":this.view.walks.clear(),this.view.walks.init(t.newWalks.concat(t.oldWalks.exclude(t.outWalks)),n);break;case"move":n=c2d.last(n,2),this.view.walks.move(t.oldWalks.exclude(t.outWalks),n),this.view.walks.out(t.outWalks,n);break;case"finish":n=c2d.last(n,2),this.view.walks.fresh(t.newWalks,n),this.view.walks.retire(t.tiredWalks,this.view.reels,n);break;default:throw new Error("there is no such phase as "+e)}else n()}},{key:"showSymbolWins",value:function(e,t){var n=this,l=(this.dispatch(h.default.REELSET_WILL_SHOW_SYMBOL_WINS,{wins:e}),e.reduce(function(e,t){return e.concat(t.positions)},[]));t=c2d.last(t,l.length),l.forEach(function(e){return n.playWinAnimation(e.reelId,e.symId,t)}),this.showNotWinSymbols(this.model.getNotWinSymbols(e))}},{key:"playWinAnimation",value:function(t,n,e){var l=this,i=this.model.getSymbol(t,n),a=this.view.getSymbol(t,n),r=(this.view.stopSymbolAnimation(t,n),this.model.walks?this.model.walks.oldWalks.find(function(e){return e.position.reelId===t&&e.position.symId===n}):null);if(r)return(u=this.view.walks.getWalkById(r.id)).setAnimation(this.symbolAnimations.getAnimation({type:r.symbol},"walk_win")),u.onComplete=function(){return e()},void this.dispatch(h.default.REELSET_SHOW_WIN_WALK_SYMBOL,{type:r.symbol});var o,s,u=this.model.isUnfreezeSymbol(t,n),r=this.model.isFrozenSymbol(t,n)&&!u,u=this.model.isFreezeSymbol(t,n)&&!u;(r||u)&&this.view.getReel(i.reelId).freezeAnimations[i.id]?(r=this.model.getPositionsByFreezeType(u?"freeze":"frozen",t).symbols.find(function(e){return e.symId===n}),o=this.model.freeze[u?"freeze":"frozen"].positions.find(function(e){return e.reelId===i.reelId&&e.id===i.id}).type,r&&game.src.Reelset.SymbolAnimations.hasAnimationType(r,"freeze_win")&&game.src.Reelset.SymbolAnimations.hasAnimationType(r,"freeze_idle")?((s=this.view.getReel(i.reelId).freezeAnimations[i.id]).setAnimation(game.src.Reelset.SymbolAnimations.getAnimation({type:o},"freeze_win")),s.onComplete=function(){s.setAnimation(game.src.Reelset.SymbolAnimations.getAnimation({type:o},"freeze_idle")),e()}):e()):this.view.setSymbolAnimation(t,n,this.symbolAnimations.getAnimation(i,this.model.turboMode?"win_turbo":"win"),function(){l.view.setSymbolAnimation(t,n,l.symbolAnimations.getAnimation(i,"static")),e()}),this.dispatch(h.default.REELSET_SHOW_WIN_SYMBOL,{type:i.type,position:{reelId:t,symId:n},symbol:a})}},{key:"showNotWinSymbols",value:function(e){var n=this,t=e;(t=this.memberNotWinSymbols?e.filter(function(t){return!n.memberNotWinSymbols.some(function(e){return t.symId===e.symId&&t.reelId===e.reelId})}):t).map(function(e){return n.model.getSymbol(e.reelId,e.symId)}).forEach(function(e){var t=n.symbolAnimations.getAnimation(e,"lose");t&&n.view.setSymbolAnimation(e.reelId,e.id,t)}),this.memberNotWinSymbols=e}},{key:"showScatterWins",value:function(e,t){var n,l=this,i=0,a=f(e);try{for(a.s();!(n=a.n()).done;)i+=n.value.positions.length}catch(e){a.e(e)}finally{a.f()}var r,o=c2d.last(function(){t&&t(),l.dispatch(h.default.REELSET_DID_SHOW_WIN_SCATTERS)},i),s=(this.dispatch(h.default.REELSET_WILL_SHOW_WIN_SCATTERS,{type:e.first.type}),f(e));try{for(s.s();!(r=s.n()).done;){var u,c=f(r.value.positions);try{for(c.s();!(u=c.n()).done;)!function(){var e=u.value,t=l.model.getSymbol(e.reelId,e.symId),n=l.symbolAnimations.getAnimation(t,l.model.turboMode?"win_turbo":"win");l.view.setSymbolAnimation(e.reelId,e.symId,n,function(){l.view.setSymbolAnimation(e.reelId,e.symId,l.symbolAnimations.getAnimation(t,"static")),o()}),l.dispatch(h.default.REELSET_SHOW_WIN_SYMBOL,{position:e,symbol:l.view.getSymbol(e.reelId,e.symId),type:t.type})}()}catch(e){c.e(e)}finally{c.f()}}}catch(e){s.e(e)}finally{s.f()}this.showNotWinSymbols(this.model.getNotWinSymbols(e))}},{key:"flashSymbolWins",value:function(e,t){var n=this,l=(this.dispatch(h.default.REELSET_WILL_SHOW_FLASH_SYMBOL_WINS,e),function(){n.dispatch(h.default.REELSET_DID_SHOW_FLASH_SYMBOL_WINS,e),t()});e.map(function(e){return e.positions}).reduce(function(e,t){return e.concat(t)}).sort(function(e,t){return 10*e.reelId-10*t.reelId-(e.symId-t.symId)}).filter(function(e,t,n){return!t||n[t-1].reelId!==e.reelId||n[t-1].symId!==e.symId}).call(function(e){return l=c2d.last(l,e.length)}).forEach(function(e){return n.playWinAnimation(e.reelId,e.symId,l)}),this.showNotWinSymbols(this.model.getNotWinSymbols(e))}},{key:"skipAllWins",value:function(){this.dispatch(h.default.REELSET_DID_SKIP_ALL_WINS),this.updateSymbolsAnimations()}},{key:"showCollectibleWins",value:function(e,t){console.error("Reelset: showCollectibleWins: please override me!"),t()}},{key:"skipShowCollectibleWins",value:function(e){console.error("Reelset: skipShowCollectibleWins: please override me!")}},{key:"showReplaceSymbols",value:function(e,t){console.error("Reelset: showReplaceSymbols: please override me!"),this.dispatch(h.default.REELSET_DID_SHOW_REPLACE_SYMBOLS)}},{key:"skipReplaceSymbols",value:function(e,t){console.warn("Reelset.skipReplaceSymbols. Need implementation"),this.showReplaceSymbols.apply(this,arguments)}},{key:"showExpandedSymbols",value:function(e,t){console.error("Reelset: showExpandedSymbols: please override me!")}},{key:"skipExpandedSymbols",value:function(e,t){console.warn("Reelset.skipExpandedSymbols. Need implementation"),this.showExpandedSymbols.apply(this,arguments)}}]),n}(c2d.ComponentController);n.default=l},{"./../api/Events.js":230,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],233:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=l(e("./api/ReelsetApi.js")),a=l(e("./api/Events.js")),r=l(e("./view/reel/Reel.js")),o=l(e("./view/reel/ReelStone.js")),s=l(e("./view/reel/ReelWave.js")),u=l(e("./view/reel/ReelFrame.js")),c=l(e("./view/reel/ReelNya.js")),h=l(e("./view/reel/ReelCircular.js")),f=l(e("./view/reel/ReelSnake.js")),d=l(e("./view/reel/TrackSymbolContainer.js")),p=l(e("./model/ReelsetModel.js")),y=l(e("./model/SymbolAnimations.js")),b=l(e("./view/ReelsetView.js")),m=l(e("./view/ReelsetViewConfig.js")),g=l(e("./view/WalksView.js")),l=l(e("./controller/ReelsetController.js"));i.default.src={Model:p.default,View:b.default,ViewConfig:m.default,WalksView:g.default,Reel:r.default,ReelStone:o.default,ReelWave:s.default,ReelFrame:u.default,ReelNya:c.default,ReelSnake:f.default,ReelCircular:h.default,Controller:l.default,SymbolAnimations:y.default,TrackSymbolContainer:d.default},i.default.ID="Reelset",game.registerComponent(i.default,a.default)},{"./api/Events.js":230,"./api/ReelsetApi.js":231,"./controller/ReelsetController.js":232,"./model/ReelsetModel.js":234,"./model/SymbolAnimations.js":235,"./view/ReelsetView.js":236,"./view/ReelsetViewConfig.js":237,"./view/WalksView.js":238,"./view/reel/Reel.js":239,"./view/reel/ReelCircular.js":240,"./view/reel/ReelFrame.js":241,"./view/reel/ReelNya.js":242,"./view/reel/ReelSnake.js":243,"./view/reel/ReelStone.js":244,"./view/reel/ReelWave.js":245,"./view/reel/TrackSymbolContainer.js":247,"@babel/runtime/helpers/interopRequireDefault":12}],234:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(e,t){var n,l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return l&&(e=l),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,r=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return a=e.done,e},e:function(e){r=!0,i=e},f:function(){try{a||null==l.return||l.return()}finally{if(r)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=h(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this))._reels=[],e.popSymbols=[],e._freeze={freeze:null,frozen:null,unfreeze:null},Object.seal(e._freeze),e.walks=null,e._freespins=null,e.tapes=[],e.scatterId=-1,e.symbolTypesCount=0,e.symbolAnimationFrameRate=100,e.symbolsAnimations={},e.showSymbolsAnimationsDelay=0,e.intrigueSymbol=null,e.intriguedSymbolsCount=3,e.turboMode=!1,e}return(0,a.default)(n,[{key:"reels",get:function(){return this._reels},set:function(e){var t=this;e.reduce(function(e,t){return e.concat(t.symbols)},[]).filter(function(e){return e.type>=t.symbolTypesCount}).forEach(function(e){console.error("Seems, wrong cookie!!!. Got symbol with ID "+e.type+". Max ID is "+(t.symbolTypesCount-1)),e.type=t.symbolTypesCount-1}),this._reels=e,null!==this.intrigueSymbol&&this.generateIntrigue(this.intrigueSymbol,this.intriguedSymbolsCount)}},{key:"symbols",get:function(){return this.reels.reduce(function(e,t){return e.concat(t.symbols)},[])}},{key:"getReel",value:function(e){var t=this._reels[e];if(t)return t;throw new RangeError("ModelReelset: there is no reel with id [".concat(e,"] yet!"))}},{key:"getSymbol",value:function(e,t){return this.getReel(e).symbols[t]}},{key:"getSymbolType",value:function(e,t){var n=this.getReel(e).symbols[t];if(void 0===n)throw new RangeError("ModelReelset: there is no symbol with id [".concat(t,"] in reel with id [").concat(e,"] yet!"));return console.warn("deprecated. Use getSymbol(reelId, symId).type"),n.type}},{key:"getReplaceSymbolType",value:function(e,t){var n=this.getReel(e).symbols[t];if(void 0===n)throw new RangeError("ModelReelset: there is no symbol with id [".concat(t,"] in reel with id [").concat(e,"] yet!"));return console.warn("deprecated. Use getSymbol(reelId, symId).replace"),n.replace}},{key:"columnsCount",value:function(){return this.reels.length}},{key:"rowsCount",value:function(e){return this.getReel(e).symbols.length}},{key:"generateIntrigue",value:function(t,e){var n,l=0,i=!1,a=u(this.reels);try{for(a.s();!(n=a.n()).done;){var r=n.value,o=(l+=r.symbols.filter(function(e){return t==e.type}).length,this.reels.length-r.id-1),s=e-l;r.intrigued=i,s<=1&&1<=o&&(i=!0)}}catch(e){a.e(e)}finally{a.f()}}},{key:"getNotWinSymbols",value:function(e){var t,n=[],l=u(this.reels);try{for(l.s();!(t=l.n()).done;){var i,a=t.value,r=u(a.symbols);try{for(r.s();!(i=r.n()).done;){var o=i.value;!function(t,n){return e.reduce(function(e,t){return e.concat(t.positions)},[]).some(function(e){return t==e.reelId&&n==e.symId})}(a.id,o.id)&&n.push({reelId:a.id,symId:o.id})}}catch(e){r.e(e)}finally{r.f()}}}catch(e){l.e(e)}finally{l.f()}return n}},{key:"getPopSymbols",value:function(t){return this.popSymbols.filter(function(e){return e.reelId===t}).map(function(e){return e.symId})}},{key:"getAllPopSymbolsArray",value:function(){var t=this;return this.reels.map(function(e){return t.getPopSymbols(e.id)})}},{key:"freeze",get:function(){return this._freeze},set:function(e){for(var t in e){var n=e[t];this._freeze[t]=n}}},{key:"getPositionsByFreezeType",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(void 0===this.freeze[e])throw new Error('Wrong freeze status "'+e+'" . Supported statuses:[freeze, frozen, unfreeze]');var n=this.freeze[e]?this.freeze[e].positions:[],e=this.freeze[e]?this.freeze[e].reels:[];return null!=t?{symbols:n=n.filter(function(e){return e.reelId==t}),reel:e.find(function(e){return e.id==t})}:{symbols:n,reels:e}}},{key:"getAllPositionsByFreezeType",value:function(t){var n=this;return this.reels.map(function(e){return n.getPositionsByFreezeType(t,e.id)})}},{key:"isFreezeSymbol",value:function(e,t){return this.getPositionsByFreezeType("freeze",e).symbols.some(function(e){return e.symId==t})}},{key:"isUnfreezeSymbol",value:function(e,t){return this.getPositionsByFreezeType("unfreeze",e).symbols.some(function(e){return e.symId==t})}},{key:"isFrozenSymbol",value:function(e,t){return this.getPositionsByFreezeType("frozen",e).symbols.some(function(e){return e.symId==t})}},{key:"freespins",get:function(){return this._freespins},set:function(e){this._freespins=e}}]),n}(c2d.Model);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],235:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),b=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/typeof"))),a=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("@babel/runtime/helpers/createClass"));function m(e,t){var n,l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return l&&(e=l),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,r=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return a=e.done,e},e:function(e){r=!0,i=e},f:function(){try{a||null==l.return||l.return()}finally{if(r)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}l=function(){function i(){(0,a.default)(this,i)}return(0,r.default)(i,null,[{key:"initialize",value:function(e,t){var n=t.getAsset("config").model,l=t.getAsset("config").reelsetViewConfig;i._symbols={},i._reelsetModel=e,i._symbolAnimationModifierHandler=null,i._modeTypes=["basegame","freespins"],i._animationMaps={static:["static"],move:["move","static"],replace:["replace"],win:["short","static"],hint:["hint","static"],win_turbo:["short_turbo","static"],lose:["lose","static"],loseOut:["lose_out","static"],stop:["stop"],appear:["appear"],disappear:["disappear"],leave:["leave"],freeze_in:["freeze_in","freeze_idle","static"],freeze_idle:["freeze_idle","static"],freeze_out:["freeze_out","freeze_idle","static"],freeze_win:["freeze_win","freeze_idle","static"],walk_in:["walk_in","walk","static"],walk_idle:["walk_idle","walk","static"],walk_move:["walk_move","walk","static"],walk_move_left:["walk_move_left","walk","static"],walk_move_right:["walk_move_right","walk","static"],walk_out:["walk_out","walk","static"],walk_win:["walk_win","walk","short","static"],paytable_win:["paytable_win","short","static"],paytable_idle:["paytable_idle","static"],history_idle:["history_idle","paytable_idle","static"]};n.symbolsAnimations=n.symbolsAnimations||{},n.symbolsAnimations.symbols||(n.symbolsAnimations={symbols:n.symbolsAnimations}),i._parseFrameAtlas(t,n),i._parseConfig(t,n,{static:{displayGroup:null,loop:!0},move:{displayGroup:null,loop:!0},replace:{zOrder:50,displayGroup:"OVERLAY",loop:!0},short:{zOrder:50,displayGroup:"OVERLAY",loop:!0},short_turbo:{zOrder:5,displayGroup:"OVERLAY",loop:!1},lose:{zOrder:0,displayGroup:"OVERLAY",loop:!1},stop:{zOrder:0,displayGroup:"OVERLAY",loop:!1},appear:{zOrder:0,displayGroup:"OVERLAY",loop:!1},disappear:{zOrder:0,displayGroup:"OVERLAY",loop:!1},leave:{zOrder:0,displayGroup:"OVERLAY",loop:!1},hint:{zOrder:70,displayGroup:"FOREGROUND",loop:!1},paytable_win:{zOrder:70,displayGroup:"FOREGROUND",loop:!1},paytable_idle:{zOrder:70,displayGroup:"FOREGROUND",loop:!0},history_idle:{zOrder:70,displayGroup:"FOREGROUND",loop:!0},freeze_in:{zOrder:100,displayGroup:"OVERLAY",loop:!1},freeze_idle:{zOrder:100,displayGroup:"OVERLAY",loop:!0},freeze_out:{zOrder:100,displayGroup:"OVERLAY",loop:!1},freeze_win:{zOrder:100,displayGroup:"OVERLAY",loop:!1},walk:{zOrder:100,displayGroup:"OVERLAY",loop:!0},walk_in:{zOrder:100,displayGroup:"OVERLAY",loop:!1},walk_idle:{zOrder:100,displayGroup:"OVERLAY",loop:!0},walk_out:{zOrder:100,displayGroup:"OVERLAY",loop:!1},walk_win:{zOrder:100,displayGroup:"OVERLAY",loop:!1}}),i.symbolsCount=n.symbolTypesCount,i.stackedSymbols=n.stackedSymbols,i.randomSymbols={basegame:i._parseRandomSymbols("basegame",n,l),freespins:i._parseRandomSymbols("freespins",n,l)},i.prevSymbolOnReel={},i.reelsetViewConfig=l}},{key:"_parseRandomSymbols",value:function(e,t,n){for(var l,i={all:{},notStacked:{}},a=0;a<t.symbolTypesCount;++a){var r={},o=new Array(n.columnsCount).fill(1).map(function(e,t){return t});if(t.randomSymbols&&t.randomSymbols[e]&&void 0!==t.randomSymbols[e][a]?"object"===(0,b.default)(t.randomSymbols[e][a])?(r={type:a,chance:t.randomSymbols[e][a].chance},o=t.randomSymbols[e][a].reels):r={type:a,chance:t.randomSymbols[e][a]}:r={type:a,chance:1},0!==r.chance){var s,u=m(o);try{for(u.s();!(s=u.n()).done;){var c=s.value;i.all[c]=i.all[c]||[],i.notStacked[c]=i.notStacked[c]||[],i.all[c].push(r),this.symbolTypeIsStacked(r.type)||i.notStacked[c].push(Object.assign({},r))}}catch(e){u.e(e)}finally{u.f()}}}for(l in i)for(var h in i[l]){var f=i[l][h],d=f.length,p=f.reduce(function(e,t){return e+t.chance},0);f[0].norm=f[0].chance/p;for(var y=1;y<d;++y)f[y].norm=f[y-1].norm+f[y].chance/p;f[d-1].norm=1}return i}},{key:"_parseFrameAtlas",value:function(e,t){var n,l=t.symbolTypesCount;for(n in t.symbolsAnimations)for(var i=0;i<l;i++)for(var a in t.symbolsAnimations[n][i]=t.symbolsAnimations[n][i]||{},this._animationMaps){var r="reelset/"+n+"/"+(a=this._animationMaps[a][0])+"/"+i+"_";e.getAssetsByPrefix(r).length&&(t.symbolsAnimations[n][i][a]=Object.assign({frames:r,speed:t.symbolAnimationFrameRate},t.symbolsAnimations[n][i][a]))}}},{key:"_parseConfig",value:function(e,t,n){for(var l in t.symbolsAnimations){this._symbols[l]={};var i,a=t.symbolsAnimations[l];for(i in a){for(var r in this._symbols[l][i]={},a[i]){var o,s=c2d.animationConfig.create(a[i][r],e);if(!s)throw new Error('can not create animation "'+r+'" for symbol '+i);for(o in n[r])s.hasOwnProperty(o)||(s[o]=n[r][o]);this._symbols[l][i][r]=s,a[i][r].state&&(this._symbols[l][i][r].state=a[i][r].state)}!this._symbols[l][i].short_turbo&&this._symbols[l][i].short&&(this._symbols[l][i].short_turbo=Object.assign({},this._symbols[l][i].short),this._symbols[l][i].short_turbo.speed=2)}}}},{key:"getAnimationForSymbol",value:function(e,t,n){var l,i,a=this._reelsetModel.reels[e].symbols.last,r=this.parseFace(a.face).face,o=t-(this._reelsetModel.reels[e].symbols.length-1);if(o<=0)l=this._reelsetModel.reels[e].symbols[t].type,i=this._reelsetModel.reels[e].symbols[t].face;else{if(!(this.symbolTypeIsStacked(a.type)&&r+o<this.stackedSymbols[a.type]))return this.getRandomAnimation(e,n,!1);l=a.type,i=a.type+"_"+(r+o)}return i?this.prevSymbolOnReel[e]=this.parseFace(i):this.symbolTypeIsStacked(l)?this.prevSymbolOnReel[e]={type:l,face:this.stackedSymbols[l]-1}:this.prevSymbolOnReel[e]={type:l},this.getAnimation({type:l,face:i},n)}},{key:"getRandomAnimation",value:function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],l={type:this.getRandomSymbolType(e,this._reelsetModel.freespins.isActiveStatus?"freespins":"basegame"),face:null},i=this.prevSymbolOnReel[e];return i&&null!==i.face&&0<i.face?(l.type=i.type,l.face=i.face-1):this.symbolTypeIsStacked(l.type)&&(n?l.face=this.stackedSymbols[l.type]-1:this.getNotStackedTypes().length&&(l.type=this.getRandomNotStackedType(e,this._reelsetModel.freespins.isActiveStatus?"freespins":"basegame"),l.face=null)),null!==(this.prevSymbolOnReel[e]=l).face?this.getAnimation({type:l.type,face:l.type+"_"+l.face},t):this.getAnimation({type:l.type},t)}},{key:"getAnimation",value:function(e,t){0===e.id&&e.face&&(this.prevSymbolOnReel[e.reelId]=this.parseFace(e.face));var n,l="symbols";if(this._symbolAnimationModifierHandler&&(l=this._symbolAnimationModifierHandler(e)||"symbols"),!this._animationMaps[t])throw new Error('animation "'+t+'" for symbol "'+e.type+'" not found');var i,a=m(this._animationMaps[t]);try{for(a.s();!(i=a.n()).done;){var r=i.value;if(this._symbols[l]&&!this._symbols[l][e.type])throw new Error('animation "'+t+'" for symbol "'+e.type+'" not found');if(n=this._symbols.symbols[e.face||e.type][r],n=this._symbols[l]?this._symbols[l][e.face||e.type][r]||n:n)return n}}catch(e){a.e(e)}finally{a.f()}return null}},{key:"hasAnimationType",value:function(e,t){var n="symbols",n=(this._symbolAnimationModifierHandler&&(n=this._symbolAnimationModifierHandler(e)||"symbols"),this._symbols[n][e.face||e.type][t]);return Boolean(n)}},{key:"symbolAnimationModifierHandler",set:function(e){this._symbolAnimationModifierHandler=e}},{key:"parseStackedReels",value:function(e){var l,i=this;e&&this.stackedSymbols&&(l=[],e.reduce(function(e,t){return e.concat(t.symbols)},[]).reduce(function(e,t,n){return 1===n&&l.push([e]),0===t.id||t.type!==e.type||t.reelId!==e.reelId||l.last.length===i.stackedSymbols[t.type]?l.push([t]):l.last.push(t),t}),l.filter(function(e){return i.symbolTypeIsStacked(e.first.type)}).forEach(function(n){n.forEach(function(e,t){t+=0===n.first.id&&n.length<i.stackedSymbols[e.type]?i.stackedSymbols[e.type]-n.length:0;e.face=e.type+"_"+t})}))}},{key:"parseFace",value:function(e){return e?{type:parseInt(e.split("_")[0]),face:parseInt(e.split("_")[1])}:{}}},{key:"symbolTypeIsStacked",value:function(e){return this.stackedSymbols&&void 0!==this.stackedSymbols[e]}},{key:"getNotStackedTypes",value:function(){for(var e=[],t=0;t<this.symbolsCount;++t)this.symbolTypeIsStacked(t)||e.push(t);return e}},{key:"getRandomSymbolType",value:function(e,t){var t=i.randomSymbols[t].all[e],n=Math.random();return t.find(function(e){return e.norm>n}).type}},{key:"getRandomNotStackedType",value:function(e,t){var t=i.randomSymbols[t].notStacked[e],n=Math.random();return t.find(function(e){return e.norm>n}).type}},{key:"maxStackedLength",get:function(){if(void 0===this._maxLen)for(var e in this._maxLen=0,this.stackedSymbols)this._maxLen=Math.max(this._maxLen,this.stackedSymbols[e]);return this._maxLen}}]),i}();n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/typeof":26}],236:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/toConsumableArray"))),a=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("./../api/Events.js"));function h(e,t){var n,l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return l&&(e=l),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,r=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return a=e.done,e},e:function(e){r=!0,i=e},f:function(){try{a||null==l.return||l.return()}finally{if(r)throw i}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function d(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(l,e);var n=d(l);function l(e){var t;return(0,a.default)(this,l),(t=n.call(this)).settings=e,t.walks=null,t._reels=[],t._speedStopMultiplier=3,t._speedStopDelay=100,t.onReelStopped=null,t}return(0,r.default)(l,[{key:"onInitialize",value:function(){this.createOverlay(),this.createReels(),this.createWalks(),this.createMask()}},{key:"onResize",value:function(){this.overlayLayer.position=this.position,this.overlayLayer.scale=this.scale}},{key:"createEvents",value:function(){var t=this;this._reels.forEach(function(e){return e.subscribe(c.default.REEL_DID_FINISH_ANIMATION,function(){return c2d.call(t.onReelStopped)})})}},{key:"onReelsetStopped",value:function(){this.dispatch(c.default.REELSET_DID_FINISH_SPIN_ANIMATION),this.onAllReelsStop()}},{key:"createOverlay",value:function(){this._overlayLayer=new c2d.display.Container,this._overlayLayer.displayGroup=game.displayGroups.OVERLAY}},{key:"createReels",value:function(){this._reels.forEach(function(e){return e.removeFromParent()}),this._reels=[];for(var e=0;e<this.settings.columnsCount;e++){var t=this.settings.createReel(e,this._respack);t.overlayLayer=this._overlayLayer,this._reels.push(t),this.addChild(t)}this.createEvents()}},{key:"createMask",value:function(){var e;this.settings.mask&&((e=new PIXI.Graphics).beginFill(16711680),e.drawRect(this.settings.mask.x,this.settings.mask.y,this.settings.mask.width,this.settings.mask.height),e.endFill(),this.addChild(e),this.mask=e)}},{key:"createWalks",value:function(){this.walks=new game.src.Reelset.WalksView(this.settings),this.overlayLayer.addChild(this.walks)}},{key:"clear",value:function(){}},{key:"initFrozen",value:function(e){var t,n,l=this,i=e.reels,e=e.symbols,a=(this._reels.forEach(function(e){return e.clearFrozen()}),{}),r=h(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;a[o.reelId]||(a[o.reelId]=[]),a[o.reelId].push(o)}}catch(e){r.e(e)}finally{r.f()}for(n in a)this.getReel(n).freezeSymbols(a[n]);i.forEach(function(e){return l.getReel(e.id).freezeReel(e)})}},{key:"startSpinAnimation",value:function(e,t){var n,l=this,i=e.filter(function(e){return e.simpleSpin}).map(function(e){return l.getReel(e.id)}),a=e.filter(function(e){return e.lift}).length,r=(e.forEach(function(e){return l.getReel(e.id).lift=e.lift}),this.onReelStopped=c2d.last(function(){return l.onReelsetStopped()},i.length),this._speedStop=!1,this._allReelsStartedSpin=!1,this.dispatch(c.default.REELSET_WILL_START_SPIN_ANIMATION),c2d.Tween.get(this));i.call(function(e){return n=c2d.last(function(){return l.onAllReelsStart()},e.length-a)}).forEach(function(e){r.wait(!t&&l.settings.delays.reelsStart).call(function(){e.lift?e.needLift=!0:(e.needLift=!1,e.once(c.default.REEL_DID_SPINNING,n),e.startSpinAnimation())})})}},{key:"stopSpinAnimation",value:function(e,t){var n=arguments,l=this;if(!this._allReelsStartedSpin)return c2d.call(function(){return l.stopSpinAnimation.apply(l,(0,i.default)(n))},100);this._speedStop=t;this.stopSpinTween||(this.stopSpinTween=c2d.Tween.get(this),e.forEach(function(e){(t=e).intrigued&&!l._speedStop&&l.stopSpinTween.call(function(){return!l._speedStop&&l.dispatch(c.default.REELSET_WILL_SHOW_STUCK_REEL,{id:t.id})}).wait(l.settings.delays.intrigue).call(function(){return!l._speedStop&&l.dispatch(c.default.REELSET_DID_SHOW_STUCK_REEL,{id:t.id})});var t,n=l.getReel(e.id);n.simpleSpin&&l.stopReel(e),n.lift&&n.needLift&&(l.dispatch(c.default.REEL_DID_START_ANIMATION,{id:e.id}),n.liftReel())}),this.stopSpinTween.call(function(){l.stopSpinTween=null})),this._speedStop&&(this.fastStopTimer=c2d.Timeout.invoke(function(){l.fastStopTimer=null,l.stopSpinTween&&(l.stopSpinTween.setPosition(l.stopSpinTween.duration),l.stopSpinTween=null)},this._speedStopDelay))}},{key:"stopReel",value:function(e){var t=this;this.stopSpinTween.wait(this._speedStop?this.settings.delays.reelsStop/this._speedStopMultiplier:this.settings.delays.reelsStop).call(function(){t.getReel(e.id).stopSpinAnimation(),t._speedStop&&t.getReel(e.id).speedStop()})}},{key:"onAllReelsStart",value:function(){this._allReelsStartedSpin=!0,this.dispatch(c.default.REELSET_DID_START_SPIN_ANIMATION)}},{key:"onAllReelsStop",value:function(){this.dispatch(c.default.REELSET_DID_STOP_ALL_REELS)}},{key:"startPopAnimation",value:function(t,n){var l=this,e=this._reels.filter(function(e){return t[e.id].length}),i=c2d.last(function(){return l.dispatch(c.default.REELSET_DID_FINISH_POP_ANIMATION)},e.length),a=c2d.Tween.get(this);e.forEach(function(e){a.wait(!n&&l.settings.reelsPop).call(function(){return e.startPopAnimation(t[e.id])}),e.once(c.default.REEL_DID_FINISH_POP_ANIMATION,i)})}},{key:"startDropAnimation",value:function(t,n){var l=this,e=this._reels.filter(function(e){return t[e.id].length}),i=c2d.last(function(){return l.dispatch(c.default.REELSET_DID_FINISH_DROP_ANIMATION)},e.length),a=c2d.Tween.get(this);e.forEach(function(e){a.wait(!n&&l.settings.reelsDrop).call(function(){return e.startDropAnimation()}),e.once(c.default.REEL_DID_FINISH_DROP_ANIMATION,i)})}},{key:"startFreezeAnimation",value:function(e){function t(){++i===l._reels.length&&l.dispatch(c.default.REELSET_DID_FINISH_FREEZE_ANIMATION)}var n,l=this,i=0,a=h(this._reels);try{for(a.s();!(n=a.n()).done;){var r=n.value;r.once(c.default.REEL_DID_FINISH_FREEZE_ANIMATION,t),r.startFreezeAnimation(e[r.id])}}catch(e){a.e(e)}finally{a.f()}}},{key:"startSkipFreezeAnimation",value:function(t,e){this._reels.forEach(function(e){e.startSkipFreezeAnimation(t[e.id])}),"freeze"===e?this.dispatch(c.default.REELSET_DID_FINISH_FREEZE_ANIMATION):this.dispatch(c.default.REELSET_DID_FINISH_UNFREEZE_ANIMATION)}},{key:"startUnfreezeAnimation",value:function(e){function t(){++i===l._reels.length&&l.dispatch(c.default.REELSET_DID_FINISH_UNFREEZE_ANIMATION)}var n,l=this,i=0,a=h(this._reels);try{for(a.s();!(n=a.n()).done;){var r=n.value;r.once(c.default.REEL_DID_FINISH_UNFREEZE_ANIMATION,t),r.startUnfreezeAnimation(e[r.id])}}catch(e){a.e(e)}finally{a.f()}}},{key:"getReel",value:function(e){if(e<0||e>=this.reels.length)throw new RangeError("Reel: wrong reel index [".concat(e,"]"));return this.reels[e]}},{key:"getSymbol",value:function(e,t){return this.getReel(e).getSymbol(t)}},{key:"reels",get:function(){return this._reels}},{key:"overlayLayer",get:function(){return this._overlayLayer}},{key:"symbolAnimationHandler",set:function(n){var e,l=this;for(e in this._reels)!function(t){l._reels[t].symbolAnimationHandler=function(e){return n(+t,e)}}(e)}},{key:"setSymbolAnimation",value:function(e,t,n,l){this._reels[e].setSymbolAnimation(t,n,l)}},{key:"stopSymbolAnimation",value:function(e,t){this._reels[e].stopSymbolAnimation(t),this.dispatch(c.default.REELSET_STOP_SYMBOL_ANIMATION,{symbol:this.getSymbol(e,t)})}},{key:"onEventSymbolAnimation",value:function(e,t,n){this._reels[e].onEventSymbolAnimation(t,n)}}]),l}(c2d.display.View);n.default=l},{"./../api/Events.js":230,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/toConsumableArray":25}],237:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass"));n.default=function(){function l(e,t){for(var n in(0,i.default)(this,l),this.extraAnimations={},this.mask=e.mask,this.pointsOfSymbols=e.pointsOfSymbols,this.startPosition=e.startPosition,this.columnsCount=e.columnsCount,this.columnsWidth=e.columnsWidth,this.columnsIndent=e.columnsIndent,this.rowsCount=e.reelViewConfig.rowsCount,this.rowsHeight=e.reelViewConfig.rowsHeight,this.rowsIndent=e.reelViewConfig.rowsIndent,this.reelType=e.reelViewConfig.type||"Circular",this.delays={reelsStart:e.reelsStartDelay,reelsStop:e.reelsStopDelay,reelsPop:e.reelsPopDelay,reelsDrop:e.reelsDropDelay,minSpin:e.reelsetMinSpinDuration,reelStart:e.reelViewConfig.startDuration,reelSpinning:e.reelViewConfig.spinningDuration,reelStop:e.reelViewConfig.stopDuration,intrigue:2e3,pop:e.reelViewConfig.popDuration,drop:e.reelViewConfig.dropDuration},e.reelViewConfig.extraAnimations)this.extraAnimations[n]=c2d.animationConfig.create(e.reelViewConfig.extraAnimations[n],t)}return(0,a.default)(l,[{key:"createReel",value:function(e,t){t={Nya:function(e){return new game.src.Reelset.ReelNya(e)},Circular:function(){return new game.src.Reelset.ReelCircular},Stone:function(){return new game.src.Reelset.ReelStone},FrameAnim:function(){return new game.src.Reelset.ReelFrame},Wave:function(){return new game.src.Reelset.ReelWave},Snake:function(){return new game.src.Reelset.ReelSnake}}[this.reelType](t);return t.initialize(e,this),t}},{key:"getPositionForReel",value:function(e){return new c2d.geom.Point((this.columnsWidth+this.columnsIndent)*e,0)}},{key:"getPositionForSymbol",value:function(e){return new c2d.geom.Point(0,(this.rowsHeight+this.rowsIndent)*e)}},{key:"reelHeight",get:function(){return this.rowsCount*(this.rowsHeight+this.rowsIndent)-this.rowsIndent}}]),l}()},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],238:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./../api/Events.js")),c=l(e("./reel/SymbolContainer.js"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(l,e);var n=h(l);function l(e){var t;return(0,i.default)(this,l),(t=n.call(this)).settings=e,t._walks={},t.visible=!0,t}return(0,a.default)(l,[{key:"clear",value:function(){var t=this;Object.keys(this._walks).forEach(function(e){return t.removeWalkById(e)}),this._walks={}}},{key:"init",value:function(e){var n=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};e.forEach(function(e){var e=[n._retrieveWalkAnimation(e,"walk_idle"),n._getGridPositionForSymbol(e.position)],t=e[0],e=e[1];t.x=e.x+e.halfWidth,t.y=e.y+e.halfHeight}),t()}},{key:"move",value:function(e){var a=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};e.length?(r=c2d.last(r,e.length),e.forEach(function(e){var t=game.src.Reelset.SymbolAnimations.getAnimation({type:e.symbol},"walk_move")?"walk_move":"walk_idle",n=[a._retrieveWalkAnimation(e,t),a._getGridPositionForSymbol(e.position),a._getGridPositionForSymbol(e.from)],l=n[0],i=n[1],n=n[2];l.x=n.x+n.halfWidth,l.y=n.y+n.halfHeight,c2d.Tween.get(l).to({x:i.x+i.halfWidth,y:i.y+i.halfHeight},1e3,c2d.Tween.Ease.elasticInOut).call(r),"walk_move"==t&&(l.onComplete=function(){l.setAnimation(game.src.Reelset.SymbolAnimations.getAnimation({type:e.symbol},"walk_idle"))}),a.dispatch(u.default.WALK_MOVE,{symbol:e.symbol,animation:l})})):r()}},{key:"out",value:function(e){var l=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};e.length?(i=c2d.last(i,e.length),e.forEach(function(e){var t=[l._retrieveWalkAnimation(e,"walk_out"),l._getGridPositionForSymbol(e.position),l._getGridPositionForSymbol(e.from)],n=t[0],t=t[1];c2d.Tween.get(n).to({x:t.x+t.halfWidth,y:t.y+t.halfHeight},1e3).call(i),n.onComplete=function(){n.parent.removeChild(n),delete l._walks[e.id],i()},l.dispatch(u.default.WALK_LEAVE,{symbol:e.symbol,animation:n})})):i()}},{key:"fresh",value:function(e){var l=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};e.length?(i=c2d.last(i,e.length),e.forEach(function(e){var t=[l._retrieveWalkAnimation(e,"walk_in"),l._getGridPositionForSymbol(e.position)],n=t[0],t=t[1];n.x=t.x+t.halfWidth,n.y=t.y+t.halfHeight,n.onComplete=function(){n.setAnimation(game.src.Reelset.SymbolAnimations.getAnimation({type:e.symbol},"walk_idle")),i()},l.dispatch(u.default.WALK_APPEARS,{symbol:e.symbol,animation:n})})):i()}},{key:"retire",value:function(e,n){var l=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){};e.length?(i=c2d.last(i,e.length),e.forEach(function(e){var t=[l._retrieveWalkAnimation(e,"walk_out")][0];t.parent.removeChild(t),n[e.position.reelId].setSymbolAnimation(e.position.symId,game.src.Reelset.SymbolAnimations.getAnimation({type:e.symbol},"static")),i(),l.dispatch(u.default.WALK_RETIRE,{symbol:e.symbol,animation:t})})):i()}},{key:"removeWalkById",value:function(e){this.getWalkById(e)&&(this._walks[e].removeFromParent(),c2d.Tween.removeTweens(this._walks[e]),delete this._walks[e])}},{key:"getWalkById",value:function(e){return this._walks[e]}},{key:"_getGridPositionForSymbol",value:function(e){var t=e.reelId,e=e.symId;return{x:(this.settings.columnsWidth+this.settings.columnsIndent)*t,y:(this.settings.rowsHeight+this.settings.rowsIndent)*e,halfWidth:.5*this.settings.columnsWidth,halfHeight:.5*this.settings.rowsHeight}}},{key:"_retrieveWalkAnimation",value:function(e,t){var n=this._walks[e.id]||new c.default;return n.setAnimation(game.src.Reelset.SymbolAnimations.getAnimation({type:e.symbol},t)),this.addChild(n),this._walks[e.id]=n}}]),l}(c2d.display.Container);n.default=l},{"./../api/Events.js":230,"./reel/SymbolContainer.js":246,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],239:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./../../api/Events.js"));function c(e,t){var n,l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return l&&(e=l),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,r=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return a=e.done,e},e:function(e){r=!0,i=e},f:function(){try{a||null==l.return||l.return()}finally{if(r)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=f(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this))._id=-1,e._symbols=[],e._state=null,e._frozenSymbols={},e._frozenAnimation=null,e._startFrozenAnimation=null,e._endFrozenAnimation=null,e._symbolsOverlayAnimations={},e._extraAnimations={},e._overlayLayer=null,e}return(0,a.default)(n,[{key:"initialize",value:function(e,t){this._id=e,this.settings=t,this._extraAnimations=this.settings.extraAnimations||{},this._startFrozenAnimation=this._extraAnimations.startFrozenAnimation||null,this._frozenAnimation=this._extraAnimations.frozenSymbolAnimation||null,this._endFrozenAnimation=this._extraAnimations.endFrozenAnimation||null,this.position=this.settings.getPositionForReel(e)}},{key:"overlayLayer",set:function(e){this._overlayLayer=e}},{key:"id",get:function(){return this._id}},{key:"startSpinAnimation",value:function(){this.state="spinning"}},{key:"stopSpinAnimation",value:function(){var e;this.isStopped||this.isStopping||this.isBeforeStop||(this.state="beforeStop",this._nextSymId=this._rowsCount-1,e=this._nextSymId*this.SPINNING_DURATION+this.STOP_DURATION,this.dispatch(u.default.REEL_WILL_FINISH_ANIMATION,{id:this.id,time:e}))}},{key:"startPopAnimation",value:function(e,t){this.dispatch(u.default.REEL_DID_START_POP_ANIMATION,this.id)}},{key:"startDropAnimation",value:function(e,t){this.dispatch(u.default.REEL_DID_START_DROP_ANIMATION,this.id)}},{key:"startFreezeAnimation",value:function(e){var t=this;this.freeze(e,function(){return t.onReelDidFinishFreezeAnimation()}),this.dispatch(u.default.REEL_DID_START_FREEZE_ANIMATION,this.id)}},{key:"startUnfreezeAnimation",value:function(e){var t=this;this.dispatch(u.default.REEL_DID_START_UNFREEZE_ANIMATION,this.id),this.unfreeze(e,function(){return t.onReelDidFinishUnfreezeAnimation()})}},{key:"speedStop",value:function(){}},{key:"onReelStarted",value:function(){this.dispatch(u.default.REEL_DID_START_ANIMATION,this.id),this.dispatch(u.default.REEL_DID_SPINNING,this.id)}},{key:"onReelStopped",value:function(){this._stopReelCb&&(this._stopReelCb(),this._stopReelCb=null),this.dispatch(u.default.REEL_DID_FINISH_ANIMATION,{id:this.id})}},{key:"onReelDidFinishPopAnimation",value:function(){this.dispatch(u.default.REEL_DID_FINISH_POP_ANIMATION,this.id)}},{key:"onReelDidFinishDropAnimation",value:function(){this.dispatch(u.default.REEL_DID_FINISH_DROP_ANIMATION,this.id)}},{key:"onReelDidFinishFreezeAnimation",value:function(){this.dispatch(u.default.REEL_DID_FINISH_FREEZE_ANIMATION,this.id)}},{key:"onReelDidFinishUnfreezeAnimation",value:function(){this.dispatch(u.default.REEL_DID_FINISH_UNFREEZE_ANIMATION,this.id)}},{key:"getSymbol",value:function(e){if(e<0||e>=this._symbols.length)throw new RangeError("Reel: wrong symbol index [".concat(e,"]"));return this._symbols[e]}},{key:"setSymbolAnimation",value:function(e,t,n){if(!this.frozen){if(!t)throw new Error("animation for symId "+e+" is undefined");var l=this.getSymbol(e),i=null;t.spine&&this._overlayLayer?(this._symbolsOverlayAnimations[e]&&(this._overlayLayer.removeChild(this._symbolsOverlayAnimations[e]),delete this._symbolsOverlayAnimations[e]),i=new c2d.display.Spine(t.spine),t.skin&&(i.skin=t.skin),i.play(t.animation,t.loop),this._symbolsOverlayAnimations[e]=i,l.visible=!1,i.position={x:this.settings.columnsWidth/2-l.anchor.x*this.settings.columnsWidth,y:this.settings.rowsHeight/2-l.anchor.y*this.settings.rowsHeight},t.position&&(i.position.x+=t.position.x,i.position.y+=t.position.y),i.position.x+=this.x+l.x,i.position.y+=this.y+l.y,i.zOrder=void 0!==t.zOrder?t.zOrder:1+e,t.displayGroup?i.displayGroup=game.displayGroups[t.displayGroup]:i.displayGroup=game.displayGroups.OVERLAY,this._overlayLayer.addChild(i)):(l.visible=!0,Array.isArray(t)?l.setSequence(t):(l.setSequence(null),l.setAnimation(t)),l.play(n))}}},{key:"playSymbolAnimation",value:function(e,t){this._symbolsOverlayAnimations[e]&&t?this._symbolsOverlayAnimations[e].onComplete=t:(this.getSymbol(e).displayGroup=game.displayGroups.OVERLAY,this.getSymbol(e).play(t))}},{key:"stopSymbolAnimation",value:function(e){var t=this.getSymbol(e);t.displayGroup=null,t.gotoAndStop(t.currentFrame),this._symbolsOverlayAnimations[e]&&(t.visible=!0,this._overlayLayer.removeChild(this._symbolsOverlayAnimations[e]),delete this._symbolsOverlayAnimations[e])}},{key:"onEventSymbolAnimation",value:function(e,t){this.getSymbol(e).animation.onEvent=t}},{key:"_fallDownSymbol",value:function(e,t,n,l){var i=Math.random()*(2*e.anchor.x-1)*.1,t=this.settings.rowsHeight*e.anchor.y+(this.settings.rowsHeight+this.settings.rowsIndent)*t,e=c2d.Tween.get(e,{override:!0});e.to({y:t,scaleX:1,scaleY:1},Math.max(0,n-375),c2d.Tween.Ease.circIn),l&&e.call(l),e.to({y:t-7,rotation:i},37.5),e.to({y:t,rotation:0},337.5,c2d.Tween.Ease.bounceOut)}},{key:"clearFrozen",value:function(){for(var e in this._frozenSymbols){e=this._frozenSymbols[e];this._overlayLayer.removeChild(e)}this._frozenSymbols={}}},{key:"startSkipFreezeAnimation",value:function(e){console.warn("override me")}},{key:"freeze",value:function(e,t,n){throw new Error("freezes are broken in Reel.js. Grab them from ReelNya way")}},{key:"unfreeze",value:function(e,l){var i=this,t=e.symbols,e=e.reel;if(t.length||e){var a,n=c(t=e?[{symId:1}]:t);try{for(n.s();!(a=n.n()).done;)!function(){var e,t=a.value,n=i._frozenSymbols[t.symId];n||(console.error("Reel: unfreezeSymbol: symbol [".concat(t.symId,"] not found in frozen symbols!")),l()),delete i._frozenSymbols[t.symId],n.loop=!1,i._endFrozenAnimation?(n.setAnimation(i._endFrozenAnimation),n.play()):(e=n.currentFrame,n.stop(),n.gotoAndPlay(e)),n.onComplete=function(){i._overlayLayer.removeChild(n),i.setSymbolAnimation(t.symId,i.symbolAnimationHandler(t.symId)),l()}}()}catch(e){n.e(e)}finally{n.f()}}else l()}},{key:"simpleSpin",get:function(){return null==this.lift&&!0!==this.locked}},{key:"isSpinning",get:function(){return"spinning"===this.state}},{key:"isBeforeStop",get:function(){return"beforeStop"===this.state}},{key:"isStopping",get:function(){return"stopping"===this.state}},{key:"isStopped",get:function(){return"stopped"===this.state}},{key:"isFrozen",get:function(){return"frozen"===this.state}},{key:"state",get:function(){return this._state},set:function(e){this._state=e}}]),n}(c2d.display.Container);n.default=l},{"./../../api/Events.js":230,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],240:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/get")),s=l(e("@babel/runtime/helpers/inherits")),a=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(e,t){var n,l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return l&&(e=l),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,r=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return a=e.done,e},e:function(e){r=!0,i=e},f:function(){try{a||null==l.return||l.return()}finally{if(r)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}l=function(e){(0,s.default)(a,e);var t=f(a);function a(){var e;return(0,i.default)(this,a),(e=t.call(this))._symbolsContainer=null,e._stopReel=!1,e._stopReelCb=null,e.extraSymbolsCount=1,e}return(0,r.default)(a,[{key:"initialize",value:function(e,t){(0,o.default)((0,u.default)(a.prototype),"initialize",this).call(this,e,t),this._symbolsContainer=new c2d.display.Container,this.addChild(this._symbolsContainer);for(var n=this.extraSymbolsCount,l=-n;l<this.settings.rowsCount+n;++l){var i=new c2d.display.AnimatedSprite;i.anchor=c2d.geom.Point.create(.5,.5),i.position=c2d.geom.Point.create(this.settings.columnsWidth*i.anchor.x,this.settings.rowsHeight*i.anchor.y+(this.settings.rowsHeight+this.settings.rowsIndent)*l),this._symbolsContainer.addChild(i),this._symbols.push(i)}}},{key:"onWaitState",value:function(){for(var e=(this._symbols.length-this.settings.rowsCount)/2,t=0;t<e;++t)this._symbols[t].visible=!1,this._symbols[this._symbols.length-t-1].visible=!1}},{key:"onStartState",value:function(e){for(var t=this,n=(this._symbols.length-this.settings.rowsCount)/2,l=0;l<n;++l)this._symbols[l].visible=!0,this._symbols[this._symbols.length-l-1].visible=!0;this._makeOneRotation(this.settings.delays.reelStart,c2d.Tween.Ease.quadIn,!1,-1,function(){e(),t._makeOneRotation(t.settings.delays.reelSpinning,c2d.Tween.Ease.linear,!0,-1,function(){})})}},{key:"onStopState",value:function(e){this._stopReelCb=e,this._stopReel=!0}},{key:"getSymbol",value:function(e){return(0,o.default)((0,u.default)(a.prototype),"getSymbol",this).call(this,e+this.extraSymbolsCount)}},{key:"_makeOneRotation",value:function(e,t,n,l,i){var a=this;c2d.Tween.get(this._symbolsContainer,{override:!0,loop:n}).call(this._requestNextSymbol,[l],this).to({y:this.settings.rowsHeight+this.settings.rowsIndent},e,t).to({y:0}).call(this._repositionSymbols,[],this).call(function(){i(),a._stopReel&&(a._stopReel=!1,a._stopReelFunc(a._symbols.length-1))})}},{key:"_stopReelFunc",value:function(e){var t,n,l=this;0<=e?(t=0<e?c2d.Tween.Ease.linear:c2d.Tween.Ease.backOut,n=0<e?this.settings.delays.reelSpinning:this.settings.delays.reelStop,this._makeOneRotation(n,t,!1,e,function(){return l._stopReelFunc(--e)})):this._stopReelCb&&(this._stopReelCb(),this._stopReelCb=null)}},{key:"_requestNextSymbol",value:function(e){this.symbolAnimationHandler&&this.setSymbolAnimation(-this.extraSymbolsCount,this.symbolAnimationHandler(e))}},{key:"_repositionSymbols",value:function(){var e,t=this._symbols.pop(),n=(t.y=-(this.settings.rowsHeight/2+this.settings.rowsIndent),c(this._symbols));try{for(n.s();!(e=n.n()).done;)e.value.y+=this.settings.rowsHeight+this.settings.rowsIndent}catch(e){n.e(e)}finally{n.f()}this._symbols.unshift(t)}}]),a}(l(e("./Reel.js")).default);n.default=l},{"./Reel.js":239,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],241:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/get")),s=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("./Reel.js")),h=l(e("./SymbolContainer.js")),f=l(e("../../../../../../../core/display/animation/Animation.js")),d=l(e("./../../api/Events.js"));function p(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,s.default)(i,e);var t=p(i);function i(){var e;return(0,a.default)(this,i),(e=t.call(this))._minAnimationSpeed=200,e._maxAnimationSpeed=200,e.freezeAnimations={},e}return(0,r.default)(i,[{key:"initialize",value:function(e,t){(0,o.default)((0,u.default)(i.prototype),"initialize",this).call(this,e,t);for(var n=0;n<this.settings.rowsCount;++n){var l=new h.default;l.anchor=c2d.geom.Point.create(.5,.5),l.position=c2d.geom.Point.create(this.settings.columnsWidth*l.anchor.x,this.settings.rowsHeight*l.anchor.y+(this.settings.rowsHeight+this.settings.rowsIndent)*n),this._symbols.push(l),this.addChild(l)}this._minAnimationSpeed=t.minAnimationSpeed||this._minAnimationSpeed,this._maxAnimationSpeed=t.maxAnimationSpeed||this._maxAnimationSpeed;e=t.extraAnimations.reelSpin;this._spinAnimation=new f.default(e),this._spinAnimation.visible=!1,this._spinAnimation.position.x=this._symbols[1].position.x+this._symbols[1].width/2,this._spinAnimation.position.y=this._symbols[1].position.y+this._symbols[1].height/2,this.addChild(this._spinAnimation)}},{key:"clearFrozen",value:function(){for(var e in this.freezeAnimations){e=this.freezeAnimations[e];e.parent.removeChild(e)}this.freezeAnimations={}}},{key:"setSymbolAnimation",value:function(e,t,n){e=this.getSymbol(e);e.setAnimation(t),n&&(e.onComplete=n)}},{key:"stopSymbolAnimation",value:function(e){this.getSymbol(e).stop()}},{key:"startSpinAnimation",value:function(){var n=this;(0,o.default)((0,u.default)(i.prototype),"startSpinAnimation",this).call(this),this._symbols.forEach(function(e,t){t=n.settings.rowsHeight*e.anchor.y+(n.settings.rowsHeight+n.settings.rowsIndent)*t;c2d.Tween.get(e,{override:!0,loop:!1}).to({y:t-10},n.settings.delays.reelStart/2,c2d.Tween.Ease.circOut).to({y:10+t},n.settings.delays.reelStart/2,c2d.Tween.Ease.circIn).set({visible:!1})}),c2d.Tween.get(this,{override:!0}).wait(this.settings.delays.reelStart).call(function(){n._spinAnimation.visible=!0,n._spinAnimation.animation.play(),n._spinAnimation.loop=!0,n._spinAnimation.animationSpeed=(n._minAnimationSpeed+(n._maxAnimationSpeed-n._minAnimationSpeed)*Math.random())/1e3,n._spinAnimation.currentTime=Math.random()*n._spinAnimation.totalTime,n.onReelStarted()}),this._speedStop=!1}},{key:"speedStop",value:function(){this._speedStop=!0,this.waitStopTween&&this.waitStopTween.setPosition(this.waitStopTween.duration),this._symbols.filter(function(e){return e.stopSpinTween}).forEach(function(e){e.stopSpinTween.setPosition(e.stopSpinTween.duration)})}},{key:"stopSpinAnimation",value:function(){var l=this;this.isStopping||this.isBeforeStop||this.isStopped||(this.dispatch(d.default.REEL_WILL_FINISH_ANIMATION,{id:this.id,time:this.settings.delays.reelStop}),this.waitStopTween&&(c2d.Tween.removeTweens(this),this.waitStopTween=null),this.waitStopTween=c2d.Tween.get(this),this.waitStopTween.wait(this.settings.delays.reelStop).call(function(){l.state="beforeStop",l._spinAnimation.visible=!1,l._spinAnimation.animation.stop();var n=c2d.last(function(){l.state="stopped",l.onReelStopped()},l._symbols.length);l._symbols.forEach(function(e,t){e.setAnimation(game.src.Reelset.SymbolAnimations.getAnimationForSymbol(l._id,t,"static"));t=l.settings.rowsHeight*e.anchor.y+(l.settings.rowsHeight+l.settings.rowsIndent)*t;e.visible=!0,e.y=20+t,e.stopSpinTween=c2d.Tween.get(e,{override:!0,loop:!1}).to({y:t},l.settings.delays.reelStop,c2d.Tween.Ease.backOut).call(function(){e.stopSpinTween=null,n()})})}))}},{key:"freeze",value:function(e,t){t=c2d.once(t);var n=e.symbols||[],l=e.reel&&e.reel.symbols||[];n.length&&this.freezeSymbols(n,t),l.length&&this.freezeReel(e.reel,t),n.length||l.length||t()}},{key:"unfreeze",value:function(e,t){t=c2d.once(t);var n=e.symbols||[],l=e.reel&&e.reel.symbols||[];n.length&&this.unfreezeSymbols(n,t),l.length&&this.unfreezeReel(e.reel,t),n.length||l.length||t()}},{key:"freezeReel",value:function(e,t){var n=this;this.freezeSymbols(e.symbols,function(){n._symbols.forEach(function(e){return e.hide()}),t&&t()})}},{key:"freezeSymbols",value:function(e,n){var l=this;n=c2d.last(n,e.length),e.forEach(function(e){var t=l.getSymbol(e.id).freeze(e,n);if(l.addChild(t),l.freezeAnimations[e.id])throw new Error("symbol with id "+e.id+" in reel "+l.id+" already frozen");l.freezeAnimations[e.id]=t})}},{key:"startSkipFreezeAnimation",value:function(e){var t=this;(e.symbols||[]).filter(function(e){return t.freezeAnimations[e.id]}).forEach(function(e){e=t.freezeAnimations[e.id].animation;e.currentTime=e.totalTime})}},{key:"unfreezeReel",value:function(e,t){var n=this;this.unfreezeSymbols(e.symbols,function(){e.symbols.forEach(function(e){return n.getSymbol(e.id).show()}),t&&t()})}},{key:"unfreezeSymbols",value:function(e,t){var n=this;t=c2d.last(t,e.length),e.forEach(function(e){n.getSymbol(e.id).unfreeze(n.freezeAnimations[e.id],e,t),delete n.freezeAnimations[e.id]})}}]),i}(c.default);n.default=l},{"../../../../../../../core/display/animation/Animation.js":29,"./../../api/Events.js":230,"./Reel.js":239,"./SymbolContainer.js":246,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],242:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/get")),s=l(e("@babel/runtime/helpers/inherits")),a=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("./Reel.js")),h=l(e("./SymbolContainer.js"));function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}l=function(e){(0,s.default)(a,e);var n=f(a);function a(e){var t;return(0,i.default)(this,a),(t=n.call(this)).respack=e,t.freezeAnimations={},t._speedStop=!1,t.needLift=!1,t.extraSymbolsCount=1,t}return(0,r.default)(a,[{key:"freeze",value:function(e,t){t=c2d.once(t);var n=e.symbols||[],l=e.reel&&e.reel.symbols||[];n.length&&this.freezeSymbols(n,t),l.length&&this.freezeReel(e.reel,t),n.length||l.length||t()}},{key:"unfreeze",value:function(e,t){t=c2d.once(t);var n=e.symbols||[],l=e.reel&&e.reel.symbols||[];n.length&&this.unfreezeSymbols(n,t),l.length&&this.unfreezeReel(e.reel,t),n.length||l.length||t()}},{key:"initialize",value:function(e,t){(0,o.default)((0,u.default)(a.prototype),"initialize",this).call(this,e,t),this._symbolsContainer=new c2d.display.Container,this._symbolsContainer.virtualY=0,this.addChild(this._symbolsContainer),this.grid={startY:.5*this.settings.rowsHeight+(this.settings.rowsHeight+this.settings.rowsIndent)*-this.extraSymbolsCount,stepY:this.settings.rowsHeight+this.settings.rowsIndent,lastY:.5*this.settings.rowsHeight+(this.settings.rowsHeight+this.settings.rowsIndent)*(this.settings.rowsCount+this.extraSymbolsCount),trackY:(this.settings.rowsHeight+this.settings.rowsIndent)*(this.settings.rowsCount+2)};for(var n=this.extraSymbolsCount,l=-n;l<this.settings.rowsCount+n;++l){var i=new h.default;i.position=c2d.geom.Point.create(this.settings.columnsWidth*i.anchor.x,this.grid.startY+this.grid.stepY*(l+n)),this._symbolsContainer.addChild(i),this._symbols.push(i)}0!==this.extraSymbolsCount&&(this._symbols.first.visible=!1,this._symbols.last.visible=!1)}},{key:"setSymbolAnimation",value:function(e,t,n){e=this.getSymbol(e);e.setAnimation(t),n&&(e.onComplete=n)}},{key:"playSymbolAnimation",value:function(e,t){this.getSymbol(e).onComplete=t,console.warn("Deprecated. Use callback in method setSymbolAnimation")}},{key:"stopSymbolAnimation",value:function(e){this.getSymbol(e).stop()}},{key:"freezeReel",value:function(e,t){var n=this;this.freezeSymbols(e.symbols,function(){n._symbols.forEach(function(e){return e.hide()}),t&&t()})}},{key:"freezeSymbols",value:function(e,n){var l=this;n=c2d.last(n,e.length),e.forEach(function(e){var t=l.getSymbol(e.id).freeze(e,n);if(l.addChild(t),l.freezeAnimations[e.id])throw new Error("symbol with id "+e.id+" in reel "+l.id+" already frozen");l.freezeAnimations[e.id]=t})}},{key:"startSkipFreezeAnimation",value:function(e){var t=this,n=e.symbols||[],e=e.reel&&e.reel.symbols||[];n.length&&this.unfreezeSymbolsImmediately(n),e.length&&(this.unfreezeSymbolsImmediately(e),e.forEach(function(e){return t.getSymbol(e.id).show()}))}},{key:"unfreezeSymbolsImmediately",value:function(e){var t=this;e.filter(function(e){return t.freezeAnimations[e.id]}).forEach(function(e){e=t.freezeAnimations[e.id].animation;e.currentTime=e.totalTime})}},{key:"unfreezeReel",value:function(e,t){var n=this;this.unfreezeSymbols(e.symbols,function(){e.symbols.forEach(function(e){return n.getSymbol(e.id).show()}),t&&t()})}},{key:"unfreezeSymbols",value:function(e,t){var n=this;t=c2d.last(t,e.length),e.forEach(function(e){n.getSymbol(e.id).unfreeze(n.freezeAnimations[e.id],e,t),delete n.freezeAnimations[e.id]})}},{key:"clearFrozen",value:function(){for(var e in this.freezeAnimations){e=this.freezeAnimations[e];e.parent.removeChild(e)}this.freezeAnimations={}}},{key:"startSpinAnimation",value:function(){var e=this;(0,o.default)((0,u.default)(a.prototype),"startSpinAnimation",this).call(this),this._speedStop=!1,this._symbols.forEach(function(e){e.visible=!0,e.show(),e.displayGroup=null}),this._makeOneRotation(this.settings.delays.reelStart,c2d.Tween.Ease.quadIn,!1,-1,function(){e.onReelStarted(),e._makeOneRotation(e.settings.delays.reelSpinning,c2d.Tween.Ease.linear,!0,-1,function(){})})}},{key:"liftReel",value:function(){this.needLift=!1,this._symbols.forEach(function(e){e.visible=!0,e.show(),e.displayGroup=null}),this._makeLiftRotation(this.settings.delays.reelsStop,c2d.Tween.Ease.quadIn,!1,0)}},{key:"_makeLiftRotation",value:function(e,t,n,l){var i=this,n=c2d.Tween.get(this._symbolsContainer,{override:!0,loop:n}).call(function(){i.getSymbol(-1).setAnimation(game.src.Reelset.SymbolAnimations.getAnimationForSymbol(i._id,l,"static")),i.getSymbol(-1).animationType="static"}).to({virtualY:this.settings.rowsHeight+this.settings.rowsIndent},e,t).to({virtualY:0}).call(this._repositionSymbols,[],this).call(function(){c2d.call(function(){i.onReelStopped()},400)});n.on("change",function(){i._symbols.forEach(function(e,t){e.y=i.grid.startY+i._symbolsContainer.virtualY+i.grid.stepY*t})}),this.spinningTween=n}},{key:"_makeOneRotation",value:function(e,t,n,l,i){var a=this;this._requestNextSymbol(l),c2d.Tween.get(this._symbolsContainer,{override:!0,loop:n}).to({virtualY:this.settings.rowsHeight+this.settings.rowsIndent},e,t).to({virtualY:0}).call(this._repositionSymbols,[],this).call(function(){i(),a.isBeforeStop?(a.state="stopping",a._stopReelFunc(a.settings.rowsCount-1+game.src.Reelset.SymbolAnimations.maxStackedLength)):n&&a._requestNextSymbol(l)}).on("change",function(e){a._symbols.forEach(function(e,t){e.y=a.grid.startY+a._symbolsContainer.virtualY+a.grid.stepY*t})})}},{key:"_stopReelFunc",value:function(e){var t,n,l=this;0<=e?(t=0<e?c2d.Tween.Ease.linear:c2d.Tween.Ease.backOut,n=0<e?this.settings.delays.reelSpinning:this.settings.delays.reelStop,this._speedStop&&(n/=3),this._makeOneRotation(n,t,!1,e,function(){return l._stopReelFunc(--e)})):(this._symbols.first.visible=!1,this.state="stopped",this.onReelStopped())}},{key:"speedStop",value:function(){this._speedStop=!0}},{key:"_requestNextSymbol",value:function(e){var t=this.getSymbol(-this.extraSymbolsCount);0<=e?t.setAnimation(game.src.Reelset.SymbolAnimations.getAnimationForSymbol(this._id,e,"static")):t.setAnimation(game.src.Reelset.SymbolAnimations.getRandomAnimation(this._id,"move"))}},{key:"_repositionSymbols",value:function(){var n=this;this._symbols.unshift(this._symbols.pop()),this._symbols.forEach(function(e,t){e.y=n.grid.startY+n._symbolsContainer.virtualY+n.grid.stepY*t,e.index=t+n.extraSymbolsCount}),this._symbols.first.visible=!0,this._symbols.first.clear(),0!==this.extraSymbolsCount&&(this._symbols.last.visible=!1)}},{key:"getSymbol",value:function(e){return(0,o.default)((0,u.default)(a.prototype),"getSymbol",this).call(this,e+this.extraSymbolsCount)}},{key:"visibleSymbols",get:function(){return this._symbols.filter(function(e){return e.visible})}}]),a}(c.default);n.default=l},{"./Reel.js":239,"./SymbolContainer.js":246,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],243:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),u=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/regenerator"))),a=l(e("@babel/runtime/helpers/asyncToGenerator")),c=l(e("@babel/runtime/helpers/slicedToArray")),r=l(e("@babel/runtime/helpers/classCallCheck")),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/get")),h=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),f=l(e("@babel/runtime/helpers/getPrototypeOf")),d=l(e("./TrackSymbolContainer.js")),p=l(e("./Reel.js")),y=l(e("../../api/Events.js"));function b(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,f.default)(n);return e=l?(e=(0,f.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,h.default)(i,e);var n,l=b(i);function i(){var t;return(0,r.default)(this,i),(t=l.call(this)).stopSpinWait=80,t.stopSpinSymbol=300,t.startSpinWait=0,t.reelSpeed=500,t.isSpinNow=!1,t._multiplier=0,t._speedStopMultiplier=3,t._shiftMultiplier=2,t._symbolsContainer=new c2d.display.Container,t.addChild(t._symbolsContainer),t.dropCordsWithSymbol=null,t.rejects=[],t.lastPromises=[],t._state="",t.delayRejects=[],t.events=["STOP_SHORT_MOVE","STOP_LONG_MOVE"],t.onSkipWinPress=function(){return t.onSkipWinPressed()},t.skipWinBySpace=function(e){return!c2d.env.storage.getItem("spinBySpace",!0)||32!==e.key&&32!==e.keyCode?null:t.onSkipWinPressed()},t}return(0,o.default)(i,[{key:"initialize",value:function(e,t){var l=this;(0,s.default)((0,f.default)(i.prototype),"initialize",this).call(this,e,t),this._symbols=this.settings.pointsOfSymbols.map(function(e){var e=(0,c.default)(e,2),t=e[0],e=e[1],n=new d.default;return n.position.set(t,e),l._symbolsContainer.addChild(n),n}),this.createEvents()}},{key:"createEvents",value:function(){c2d.env.device.desktop()?(document.addEventListener("mouseup",this.onSkipWinPress),document.addEventListener("keyup",this.skipWinBySpace)):(document.addEventListener("mousedown",this.onSkipWinPress),document.addEventListener("touchend",this.onSkipWinPress))}},{key:"onSkipWinPressed",value:function(){"drop"===this._state&&(this.delayRejects.forEach(function(e){return e()}),this.delayRejects.length=0)}},{key:"startSpinAnimation",value:function(l){var i=this,a=(this._skipFallDown=!1,this._multiplier=0,this.isSpinNow=!0,this.onReelStarted(),c2d.Tween.getBezierEasing(.61,-.97,.52,1)),r=c2d.last(function(){return i.isSpinNow=!1},this._symbols.length);this._symbols.forEach(function(e,t){var n=l?i.reelSpeed/i._speedStopMultiplier:i.reelSpeed;c2d.Tween.get(e.scale).wait(i.startSpinWait*t).to({x:0,y:0},n,a).call(r)})}},{key:"stopSpinAnimation",value:function(t,o){var s=this,u=c2d.Tween.getBezierEasing(.53,.01,.28,1.78);if(this.lastPromises.length)return this.rejects.forEach(function(e){var t=e.reject;e.tween.setPaused(!0),t()}),void this.onReelStopped(200);this.lastPromises=this._symbols.map(function(l,i){var e=t[i],a=e.id,r=e.reelId;return new Promise(function(e,t){l.setAnimation(game.src.Reelset.SymbolAnimations.getAnimationForSymbol(r,a,"static"));var n=o?s.stopSpinSymbol/s._speedStopMultiplier:s.stopSpinSymbol,n=c2d.Tween.get(l.scale).wait(o?s.stopSpinWait/s._speedStopMultiplier:s.stopSpinWait*i).to({x:1,y:1},n,u).call(e);s.rejects.push({reject:t,tween:n})})}),Promise.all(this.lastPromises).then(function(){return s.onReelStopped()}).catch(function(){})}},{key:"onReelStopped",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.lastPromises.length=0,this._symbols.forEach(function(e){return e.scale.set(1)}),c2d.Timeout.invoke(function(){e.dispatch(y.default.REEL_WILL_FINISH_ANIMATION),(0,s.default)((0,f.default)(i.prototype),"onReelStopped",e).call(e)},t)}},{key:"startPopAnimation",value:function(e,l){var i=this,t=this._symbols.reduceRight(function(e,t,n){return i.calculatePosAndShiftSymbols(e,t,n,l)},[[],[],[],[]]),t=(0,c.default)(t,3),n=(t[0],t[1]),t=t[2];this.dropCordsWithSymbol=[n,t],this.onReelDidFinishPopAnimation()}},{key:"startDropAnimation",value:function(r,o){var s=this,u=(this._state="drop",1),e=(0,c.default)(this.dropCordsWithSymbol,2),t=e[0],e=e[1],l=this.settings.startPosition,t=t.map(function(e){var t=c2d.env.device.mobile()&&c2d.env.device.portrait()?l.portrait:l.landscape,n=t.x,t=t.y;return e.state="idle",e.position.set(n,t),e.hide(),e.scale.set(1),e}).reduceRight(function(e,t,n){var e=(0,c.default)(e,2),l=e[0],e=e[1],i=r[n],a=i.id,i=i.reelId,n=s.createLocalPoint(s.settings.pointsOfSymbols,n),i=(t.setAnimation(game.src.Reelset.SymbolAnimations.getAnimationForSymbol(i,a,"static")),s.shiftSymbol(n,t,100*u++,o));return e.push(i),l.unshift(t),[l,e]},[[],[]]),t=(0,c.default)(t,2),n=t[0],t=t[1];this._symbols=n.concat(e),Promise.all(t).then(function(){s.onReelDidFinishDropAnimation(),s._state=""})}},{key:"calculatePosAndShiftSymbols",value:function(e,t,n,l){var e=(0,c.default)(e,3),i=e[0],a=e[1],e=e[2];return("empty"===t.state?a:e).unshift(t),"empty"!==t.state&&!i.length||i.unshift(t),("empty"!==t.state&&i.length||"knights"===t.state&&0===n)&&(this.shiftSymbol(i.slice(),t,0,l),i.pop()),[i,a,e]}},{key:"shiftSymbol",value:(n=(0,a.default)(u.default.mark(function e(t,a){var n,r,o,s=this,l=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=2<l.length&&void 0!==l[2]?l[2]:0,3<l.length&&void 0!==l[3]&&l[3])return e.abrupt("return",this.setForceSymbol(a,t.last));e.next=4;break;case 4:return r=t.map(function(e){var t=e.position,e=e.parent;return a.parent.toLocal(t,e)}),o=r.reduce(function(e,t){var n=e.x,l=e.y,e=e.result,i=t.x,a=t.y,e=e||0,t=["min","max"].map(function(e){return Math[e](n,i)}),t=(0,c.default)(t,2),r=t[0],t=t[1],o=["min","max"].map(function(e){return Math[e](l,a)}),o=(0,c.default)(o,2),s=o[0];return{result:t-r+(o[1]-s)+e,x:i,y:a}}).result,e.next=8,this.delay(this._skipFallDown?50:n).catch(function(){s._skipFallDown=!0});case 8:return e.abrupt("return",new Promise(function(n){var l=new BSpline(r,!0,0),i=c2d.Tween.get({time:0}).call(function(){return a.show()}).to({time:1},o/2,c2d.Tween.getBezierEasing(.54,.38,.72,1.55)).call(n),e=(i.on("change",function(e){var e=e.target.target,t=e.time,t=l.calcAt(t);a.position.set(t.x,t.y),s._skipFallDown&&(s.stopSounds(),i.setPaused(!0),c2d.Tween.removeTweens(e),t=l.calcAt(1),a.position.set(t.x,t.y),n())}),t.length<=5?"short":"long");c2d.eventManager.dispatch("SYMBOL_MOVE",{path:e})}));case 9:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"setForceSymbol",value:function(e,t){var n=t.position,t=t.parent;return this._skipFallDown=!0,e.parent.toLocal(n,t,e.position),e.alpha=1,this.stopSounds(),Promise.resolve()}},{key:"delay",value:function(n){var l=this;return new Promise(function(e,t){c2d.call(e,n),l.delayRejects.push(t)})}},{key:"createLocalPoint",value:function(e,n){var t=this,l=this.settings.startPosition,l=c2d.env.device.mobile()&&c2d.env.device.portrait()?l.portrait:l.landscape,i=l.x,l=l.y;return e.filter(function(e,t){return t<=n}).reduce(function(e,t){return e.concat([t])},[[i,l]]).map(function(e){e=(0,c.default)(e,2);return{position:{x:e[0],y:e[1]},parent:t._symbolsContainer}})}},{key:"stopSymbolAnimation",value:function(e){this.getSymbol(e).stop()}},{key:"setSymbolAnimation",value:function(e,t,n){e=this.getSymbol(e);e.setAnimation(t),n&&(e.onComplete=n)}},{key:"onReelDidFinishDropAnimation",value:function(){this._skipFallDown=!1,(this._multiplier=0,s.default)((0,f.default)(i.prototype),"onReelDidFinishDropAnimation",this).call(this)}},{key:"symbols",get:function(){return this._symbols}}]),i}(p.default);n.default=l},{"../../api/Events.js":230,"./Reel.js":239,"./TrackSymbolContainer.js":247,"@babel/runtime/helpers/asyncToGenerator":5,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/slicedToArray":23,"@babel/runtime/regenerator":28}],244:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/get")),s=l(e("@babel/runtime/helpers/inherits")),r=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("./Reel.js")),h=l(e("./SymbolContainer.js"));function f(e,t){var n,l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return l&&(e=l),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,r=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return a=e.done,e},e:function(e){r=!0,i=e},f:function(){try{a||null==l.return||l.return()}finally{if(r)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function p(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,e)}}l=function(e){(0,s.default)(r,e);var t=p(r);function r(){var e;return(0,i.default)(this,r),(e=t.call(this))._scaledFallIn=1,e._shakeStateAnimation=null,e._popStateAnimation=null,e._poppedSymbols=[],e._enableShake=!0,e._enableBlow=!0,e}return(0,a.default)(r,[{key:"initialize",value:function(e,t){(0,o.default)((0,u.default)(r.prototype),"initialize",this).call(this,e,t),this._scaledFallIn=t.scaledFallIn||1,this._shakeStateAnimation=this._extraAnimations.shakeStateAnimation,this._popStateAnimation=this._extraAnimations.popStateAnimation,this._blowDuration=.5*this.settings.delays.pop;for(var n=0;n<this.settings.rowsCount;++n){var l=new h.default;l.index=n,t.anchor&&(l.anchor=t.anchor),l.position=c2d.geom.Point.create(this.settings.columnsWidth*l.anchor.x,this.settings.rowsHeight*l.anchor.y+(this.settings.rowsHeight+this.settings.rowsIndent)*n),this._symbols.push(l),this.addChild(l)}}},{key:"setSymbolAnimation",value:function(e,t,n){e=this.getSymbol(e);e.setAnimation(t),n&&(e.onComplete=n)}},{key:"playSymbolAnimation",value:function(e,t){this.getSymbol(e).onComplete=t}},{key:"stopSymbolAnimation",value:function(e){this.getSymbol(e).stop()}},{key:"startSpinAnimation",value:function(){(0,o.default)((0,u.default)(r.prototype),"startSpinAnimation",this).call(this);for(var e=.4*this.settings.delays.reelStart,t=(this.settings.delays.reelStart-e)/this.settings.rowsCount,n=(this.settings.rowsHeight+this.settings.rowsIndent)*(this._symbols.length+2),l=0,i=this._symbols.length-1;0<=i;--i){var a=this._symbols[i];c2d.Tween.get(a,{override:!0,loop:!1}).wait(l).to({y:n},e,c2d.Tween.Ease.circIn),l+=t}c2d.Tween.get(this,{override:!0}).wait(this.settings.delays.reelStart).call(this.onReelStarted),this._speedStop=!1}},{key:"speedStop",value:function(){this._speedStop=!0;for(var e=this._symbols.length-1;0<=e;--e){var t=this._symbols[e];t.stopSpinTween&&t.stopSpinTween.setPosition(t.stopSpinTween.duration)}}},{key:"stopSpinAnimation",value:function(){for(var n=this,l=(this.state="beforeStop",.55*this.settings.delays.reelStop),i=(this.settings.delays.reelStop-l)/this.settings.rowsCount,a=-2*this.settings.rowsHeight,r=0,o=c2d.last(function(){return n.onReelStopped()},this._symbols.length),e=this._symbols.length-1;0<=e;--e)!function(e){var t=n._symbols[e];t.position.y=a,t.scaleX=t.scaleY=n._scaledFallIn,t.setAnimation(game.src.Reelset.SymbolAnimations.getAnimationForSymbol(n._id,e,"static")),t.stopSpinTween=c2d.Tween.get(t,{override:!0}).wait(r).call(function(){t.stopSpinTween=null,n._fallDownSymbol(t,e,n._speedStop?.75*l:l,function(){o()})}),r+=i}(e)}},{key:"startPopAnimation",value:function(e){var l=this;if(e.length){var t,i=.5*this.settings.delays.pop,a=[],n=f(this._symbols);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.contains(r.index)){this._poppedSymbols.push(r);for(var o=r.index-1;0<=o;--o){var s=this._symbols[o];this._poppedSymbols.contains(s)||(s.index++,a.push(s))}}}}catch(e){n.e(e)}finally{n.f()}if(this._blowDuration){var u,c=f(this._poppedSymbols);try{for(c.s();!(u=c.n()).done;)!function(){var e,t=u.value;l._shakeStateAnimation&&((e=new c2d.display.AnimatedSprite).anchor={x:.5,y:.5},e.position.x=l.x+t.position.x-(t.anchor.x-.5)*t.width,e.position.y=l.y+t.position.y-t.height/2,l._overlayLayer.addChild(e),e.setAnimation(l._shakeStateAnimation),e.onComplete=function(){return l._overlayLayer.removeChild(e)},e.play()),l._shakeSymbol(t,l._blowDuration,function(){var e;t.index=-1,c2d.Tween.get(t,{override:!0}).to({alpha:0},200),l._enableBlow&&l._popStateAnimation&&((e=new c2d.display.Animation(l._popStateAnimation)).animation.anchor={x:.5,y:.5},e.position=l._overlayLayer.toLocal({x:0,y:0},t),l._overlayLayer.addChild(e),e.onComplete=function(){return e.removeFromParent()})})}()}catch(e){c.e(e)}finally{c.f()}}a.length&&c2d.call(function(){var e,t=f(a);try{for(t.s();!(e=t.n()).done;){var n=e.value;l._fallDownSymbol(n,n.index,i)}}catch(e){t.e(e)}finally{t.f()}},this._blowDuration);var h=a.length?this.settings.delays.pop:this._blowDuration;c2d.call(function(){return l.onReelDidFinishPopAnimation()},h)}else this.onReelDidFinishPopAnimation()}},{key:"startDropAnimation",value:function(){for(var e=this,t=this._poppedSymbols.length,n=.55*this.settings.delays.drop,l=.45*this.settings.delays.drop/t,i=-1.5*this.settings.rowsHeight,a=0,r=t-1;0<=r;--r){var o=this._poppedSymbols[r];o.index=r,o.position.y=i,o.alpha=1,o.scaleX=o.scaleY=this._scaledFallIn,o.setAnimation(game.src.Reelset.SymbolAnimations.getAnimationForSymbol(this._id,r,"static")),c2d.Tween.get(o,{override:!0}).wait(a).call(this._fallDownSymbol,[o,r,n],this),this._symbols.remove(o),this._symbols.unshift(o),a+=l}this._poppedSymbols=[],c2d.Tween.get(this,{override:!0}).wait(this.settings.delays.drop).call(function(){return e.onReelDidFinishDropAnimation()})}},{key:"_shakeSymbol",value:function(e,t,n){var l,i,a;this._enableShake?(l=e.x,i=e.y,a=e.rotation,c2d.Tween.get(e,{override:!0,loop:!0}).wait(30).call(function(){e.x=l+Math.randomRange(-2,2),e.y=i+Math.randomRange(-2,2),e.rotation=a+Math.randomRange(-.01,.01)}),c2d.Tween.get(e,{override:!1}).wait(t).call(function(){c2d.Tween.removeTweens(e),e.x=l,e.y=i,e.rotation=a,n&&n()})):n&&n()}}]),r}(c.default);n.default=l},{"./Reel.js":239,"./SymbolContainer.js":246,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],245:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),r=l(e("@babel/runtime/helpers/createClass")),o=l(e("@babel/runtime/helpers/get")),s=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("./Reel.js")),h=l(e("./SymbolContainer.js"));function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,s.default)(i,e);var n=f(i);function i(e){var t;return(0,a.default)(this,i),(t=n.call(this)).respack=e,t.freezeAnimations={},t}return(0,r.default)(i,[{key:"onFreezeState",value:function(e){e=c2d.once(e);var t=this.freezePositionsHandler("freeze"),n=t.symbols||[],l=t.reel&&t.reel.symbols||[];n.length&&this.freezeSymbols(n,e),l.length&&this.freezeReel(t.reel,e),n.length||l.length||e()}},{key:"onUnfreezeState",value:function(e){e=c2d.once(e);var t=this.freezePositionsHandler("unfreeze"),n=t.symbols||[],l=t.reel&&t.reel.symbols||[];n.length&&this.unfreezeSymbols(n,e),l.length&&this.unfreezeReel(t.reel,e),n.length||l.length||e()}},{key:"onWaitState",value:function(){}},{key:"initialize",value:function(e,t){(0,o.default)((0,u.default)(i.prototype),"initialize",this).call(this,e,t),this._symbolsContainer=new c2d.display.Container,this._symbolsContainer.virtualY=0,this.addChild(this._symbolsContainer),this.grid={startY:.5*-this.settings.rowsHeight+(this.settings.rowsHeight+this.settings.rowsIndent),stepY:this.settings.rowsHeight+this.settings.rowsIndent,lastY:.5*this.settings.rowsHeight+(this.settings.rowsHeight+this.settings.rowsIndent)*this.settings.rowsCount,trackY:(this.settings.rowsHeight+this.settings.rowsIndent)*(this.settings.rowsCount+2)};for(var n=0;n<this.settings.rowsCount;++n){var l=new h.default;l.position=c2d.geom.Point.create(this.settings.columnsWidth*l.anchor.x,this.grid.startY+this.grid.stepY*n),this._symbolsContainer.addChild(l),this._symbols.push(l)}}},{key:"setSymbolAnimation",value:function(e,t,n){e=this.getSymbol(e);e.setAnimation(t),n&&(e.onComplete=n)}},{key:"playSymbolAnimation",value:function(e,t){this.getSymbol(e).onComplete=t}},{key:"stopSymbolAnimation",value:function(e){this.getSymbol(e).stop()}},{key:"freezeReel",value:function(e,t){var n=this;this.freezeSymbols(e.symbols,function(){n._symbols.forEach(function(e){return e.hide()}),t&&t()})}},{key:"freezeSymbols",value:function(e,n){var l=this;n=c2d.last(n,e.length),e.forEach(function(e){var t=l.getSymbol(e.id).freeze(e,n);l.addChild(t),l.freezeAnimations[e.id]=t})}},{key:"unfreezeReel",value:function(e,t){var n=this;this.unfreezeSymbols(e.symbols,function(){e.symbols.forEach(function(e){return n.getSymbol(e.id).show()}),t&&t()})}},{key:"unfreezeSymbols",value:function(e,t){var n=this;t=c2d.last(t,e.length),e.forEach(function(e){n.getSymbol(e.id).unfreeze(n.freezeAnimations[e.id],e,t),delete n.freezeAnimations[e.id]})}},{key:"clearFrozen",value:function(){for(var e in this.freezeAnimations){e=this.freezeAnimations[e];e.parent.removeChild(e)}this.freezeAnimations={}}},{key:"onStartState",value:function(n){var l=this;n=c2d.once(n),this._symbols.forEach(function(e,t){e.visible=!0,e.show(),e.displayGroup=null,e.setAnimation(game.src.Reelset.SymbolAnimations.getAnimationForSymbol(l._id,t,"static"))}),this._symbols.forEach(function(e,t){c2d.Tween.get(e,{override:!0}).to({y:e.y+50,alpha:0,scaleX:1.2,scaleY:1.2},700,c2d.Tween.Ease.backOut).call(n)})}},{key:"onStopState",value:function(n){var l=this;n=c2d.once(n),this._symbols.forEach(function(e,t){e.position=c2d.geom.Point.create(l.settings.columnsWidth*e.anchor.x+(2-l._id)*l.settings.columnsWidth*.5,300),e.alpha=.7,e.scaleX=.5,e.scaleY=.5,c2d.Tween.get(e,{override:!0}).to({alpha:1,x:l.settings.columnsWidth*e.anchor.x,y:l.grid.startY+l.grid.stepY*t,scaleX:1,scaleY:1},700,c2d.Tween.Ease.sineOut).call(n),e.setAnimation(game.src.Reelset.SymbolAnimations.getAnimationForSymbol(l._id,t,"static"))})}},{key:"_stopReelFunc",value:function(){this._stopReelCb(),this._stopReelCb=null}}]),i}(c.default);n.default=l},{"./Reel.js":239,"./SymbolContainer.js":246,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],246:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(e){return(0,i.default)(this,n),(e=t.call(this,e)).anchor=new c2d.geom.Point(.5,.5),e}return(0,a.default)(n,[{key:"setAnimation",value:function(e){(0,r.default)((0,u.default)(n.prototype),"setAnimation",this).call(this,e),this.animation.anchor=new c2d.geom.Point(.5,.5)}},{key:"freeze",value:function(e,t){var n=new c2d.display.Animation(game.src.Reelset.SymbolAnimations.getAnimation(e,"freeze_in"));return n.anchor=new c2d.geom.Point(.5,.5),n.x=this.x,n.y=this.y,n.onComplete=function(){n.setAnimation(game.src.Reelset.SymbolAnimations.getAnimation(e,"freeze_idle")),t&&t()},n}},{key:"unfreeze",value:function(e,t,n){e.setAnimation(game.src.Reelset.SymbolAnimations.getAnimation(t,"freeze_out")),e.onComplete=function(){e.parent.removeChild(e),n&&n()}}},{key:"stop",value:function(){this.animation.stop()}},{key:"hide",value:function(){this.alpha=0}},{key:"show",value:function(){this.alpha=1}}]),n}(c2d.display.Animation);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],247:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"setAnimation",value:function(e){(0,r.default)((0,u.default)(n.prototype),"setAnimation",this).call(this,e)}},{key:"state",get:function(){return this._state},set:function(e){this.state!==this.fixedState&&(this._state=e)}},{key:"freeze",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,l=new c2d.display.Animation(game.src.Reelset.SymbolAnimations.getAnimation(e,"static")),e=(l.anchor=new c2d.geom.Point(.5,.5),l.x=this.x,l.y=this.y,l.animation.state.setAnimation(n,"sticky_in"),l.animation.state.getCurrent(n));return e.listener={},e.listener.complete=function(){l.animation.state.clearTrack(n),l.animation.state.setAnimation(n,"sticky_idle"),t&&t()},l}},{key:"unfreeze",value:function(e,t,n){var l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,i=(e.animation.state.setAnimation(l,"sticky_out"),e.animation.state.getCurrent(l));i.listener={},i.listener.complete=function(){n&&n(),e.animation.state.clearTrack(l)}}},{key:"hide",value:function(){this.alpha=0}},{key:"show",value:function(){this.alpha=1}},{key:"paintSymbol",value:function(e,t){var n=new PIXI.filters.ColorMatrixFilter;n.hue(t),e.filters=[n]}}]),n}(c2d.display.Animation);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],248:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(e,t){var n,l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return l&&(e=l),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,r=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return a=e.done,e},e:function(e){r=!0,i=e},f:function(){try{a||null==l.return||l.return()}finally{if(r)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=f(n);function n(e){return(0,i.default)(this,n),t.call(this,e)}return(0,a.default)(n,[{key:"onInitialize",value:function(){(0,r.default)((0,u.default)(n.prototype),"onInitialize",this).call(this),this.config.properties=this.config.properties||{},this.config.properties.landscape=this.config.properties.landscape||{position:{x:"50%",y:"50%"},scale:"100%"},this.config.properties.portrait=this.config.properties.portrait||{position:{x:"50%",y:"30%"},scale:"60%"},this.displayGroup=this.config.displayGroup?game.displayGroups[this.config.displayGroup]:game.displayGroups.FOREGROUND,this.zOrder=this.config.zOrder||5e3,this.rewardAmount=null}},{key:"onActivate",value:function(){var e,t=this,n=(this.listenerEventRouter.subscribe(game.events.Reelset.REELSET_WILL_START_SPIN_ANIMATION,function(e){t.reset()}),this.listenerEventRouter.subscribe(game.events.Reelset.REELSET_DID_SKIP_ALL_WINS,function(e){t.reset()}),this.listenerEventRouter.subscribe(game.events.Reelset.REELSET_WILL_SHOW_FLASH_SYMBOL_WINS,function(e){e=e.data.reduce(function(e,t){return e+t.amount},0);0===(e=0<e%1?Number(e.toFixed(2)):parseInt(e))||t.isBigWin&&t.config.disableTotalWinsShow||(t.reset(),t.rewardAmount=new c2d.display.LabelSprite(t._respack,t.config.fontPrefix||"font_winLines/",t.config.padding),t.rewardAmount.text=e,t._content.addChild(t.rewardAmount),t.rewardAmount.alpha=0,c2d.Tween.get(t.rewardAmount).to({alpha:1},500,c2d.Tween.Ease.cubicInOut).wait(500).to({y:10,alpha:.4},50).call(function(){t.rewardAmount.parent.removeChild(t.rewardAmount),t.rewardAmount=null}),c2d.Tween.get(t.rewardAmount.scale).to({x:1.2,y:1.2},500).to({x:1,y:1},100))}),[game.events.Lines.LINE_DID_SHOWN]),l=(this.config.event&&(n=[].concat(this.config.event)),{alphaUp:500,waitAfterAlpha:500,alphaDown:50,scaleUp:500,scaleDown:100}),i=(this.config.durations&&(l=Object.assign(l,this.config.durations)),c(n));try{for(i.s();!(e=i.n()).done;){var a=e.value;this.listenerEventRouter.subscribe(a,function(e){t.slotsModel.autoplayMode&&e.name===game.events.Lines.LINES_DID_SHOWN&&0<e.data||0!==(e=t.config.useTotalWin?t.slotsModel.totalWin:e.data?e.data.amount:0)&&(t.reset(),t.rewardAmount=new c2d.display.LabelSprite(t._respack,t.config.fontPrefix||"font_winLines/",t.config.padding),t.rewardAmount.text=e,t._content.addChild(t.rewardAmount),t.rewardAmount.alpha=0,c2d.Tween.get(t.rewardAmount).to({alpha:1},l.alphaUp,c2d.Tween.Ease.cubicInOut).wait(l.waitAfterAlpha).to({y:10,alpha:.4},l.alphaDown).call(function(){t.rewardAmount.parent.removeChild(t.rewardAmount),t.rewardAmount=null}),c2d.Tween.get(t.rewardAmount.scale).to({x:1.2,y:1.2},l.scaleUp).to({x:1,y:1},l.scaleDown))})}}catch(e){i.e(e)}finally{i.f()}}},{key:"reset",value:function(){this.rewardAmount&&(this.rewardAmount.parent.removeChild(this.rewardAmount),c2d.Tween.removeTweens(this.rewardAmount),c2d.Tween.removeTweens(this.rewardAmount.scale),this.rewardAmount=null)}},{key:"isBigWin",get:function(){return this.slotsModel.totalWin>=14*this.slotsModel.totalBetCredit}}]),n}(game.components.sprite);(n.default=l).ID="Reward",game.registerComponent(l,[])},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],249:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.Mobile=n.Desktop=void 0,l(e("@babel/runtime/helpers/defineProperty")));function a(t,e){var n,l=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,n)),l}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach(function(e){(0,i.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var l={normal:{color:986895,alpha:.7},pressed:{color:0,alpha:.1},hover:{color:986895,alpha:.6},disabled:{color:0,alpha:.1}},e=r(r({},l),{},{hover:{color:1907997,alpha:1}}),o={BigCup:"icon_trn_big_cup",Cup:"icon_trn_cup",TimeClock:"icon_trn_time_clock",TimeGroupBlue:"icon_trn_time_group_blue",TimeGroup:"icon_trn_time_group",PaginatorContinue:"icon_trn_pagin_continue",LeaderboardShadow:"icon_trn_shadow"},s={Close:{textures:{normal:"btn_trn_close_normal",hover:"btn_trn_close_hover",pressed:"btn_trn_close_pressed",disabled:"btn_trn_close_pressed"}},Back:{textures:{normal:"btn_trn_back_normal",hover:"btn_trn_back_hover",pressed:"btn_trn_back_pressed",disabled:"btn_trn_back_pressed"}},Rules:{textures:{normal:"btn_trn_rules_normal",hover:"btn_trn_rules_hover",pressed:"btn_trn_rules_pressed",disabled:"btn_trn_rules_pressed"}},PinClose:{textures:{normal:"btn_trn_pin_close_normal",hover:"btn_trn_pin_close_hover",pressed:"btn_trn_pin_close_pressed",disabled:"btn_trn_pin_close_pressed"}},PinInfo:{textures:{normal:"btn_trn_pin_info_normal",hover:"btn_trn_pin_info_hover",pressed:"btn_trn_pin_info_pressed",disabled:"btn_trn_pin_info_pressed"}},PinRules:{textures:{normal:"btn_trn_pin_rules_normal",hover:"btn_trn_pin_rules_hover",pressed:"btn_trn_pin_rules_pressed",disabled:"btn_trn_pin_rules_pressed"}},PaginatorActive:{textures:{normal:"btn_trn_pagin_active_normal",hover:"btn_trn_pagin_active_hover",pressed:"btn_trn_pagin_active_pressed",disabled:"btn_trn_pagin_active_pressed"}},PaginatorInactive:{textures:{normal:"btn_trn_pagin_inactive_normal",hover:"btn_trn_pagin_inactive_hover",pressed:"btn_trn_pagin_inactive_pressed",disabled:"btn_trn_pagin_inactive_pressed"}},Leaderboard:{live:{textures:{normal:"btn_trn_leaderboard_normal_live",hover:"btn_trn_leaderboard_hover_live",pressed:"btn_trn_leaderboard_pressed_live",disabled:"btn_trn_leaderboard_pressed_live"}},finished:{textures:{normal:"btn_trn_leaderboard_normal_finished",hover:"btn_trn_leaderboard_hover_finished",pressed:"btn_trn_leaderboard_pressed_finished",disabled:"btn_trn_leaderboard_pressed_finished"}},pending:{textures:{normal:"btn_trn_leaderboard_normal_pending",hover:"btn_trn_leaderboard_hover_pending",pressed:"btn_trn_leaderboard_pressed_pending",disabled:"btn_trn_leaderboard_pressed_pending"}}},Popup:{textures:{normal:"btn_trn_leaderboard_normal_pending",hover:"btn_trn_leaderboard_hover_pending",pressed:"btn_trn_leaderboard_pressed_pending",disabled:"btn_trn_leaderboard_pressed_pending"}}},u={live:{icon:"icon_trn_indication_green",fill:"0x15DC4C"},finished:{icon:"icon_trn_indication_grey",fill:"0x666A7A"},pending:{icon:"icon_trn_indication_blue",fill:"0x0099FA"}},c={Black:{color:0,alpha:1},Blue:{color:39418,alpha:1},Red:{color:16711680,alpha:1},Gray:{color:1907997,alpha:1},DarkGray:{color:986895,alpha:1},LeaderboardGray:{color:986895,alpha:1},LeaderboardBlue:{color:39418,alpha:.2},ScreenBackground:{color:0,alpha:.6}},h={Gray:8026746,White:16777215,LightGray:12895428,Blue:39418},l=(n.Mobile={TournamentMobileMainButtonStyle:{normal:{color:986895,alpha:.7},pressed:{color:44269,alpha:.2},hover:{color:986895,alpha:.7},disabled:{color:0,alpha:.4}},TournamentPinMiniButtonStyle:e,IndicationStyle:u,IconStyle:o,IconButtonsStyle:s,PanelColor:c,TextColor:h,TextField:{RegularFont:{fontWeight:"400",fontSize:"32px",padding:10,fill:"0xFFFFFF"},BoldFont:{fontWeight:"700",fontSize:"32px",padding:10,fill:"0xFFFFFF"}}},{TournamentMainButtonStyle:l,TournamentPinMiniButtonStyle:e,IndicationStyle:u,IconStyle:o,IconButtonsStyle:s,PanelColor:c,TextColor:h,TextField:{RegularFont:{fontWeight:"400",fontSize:"36px",padding:10,fill:"0xFFFFFF"},BoldFont:{fontWeight:"700",fontSize:"36px",padding:10,fill:"0xFFFFFF"}}});n.Desktop=l},{"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/interopRequireDefault":12}],250:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=u(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"onInitialize",value:function(){var t,n,l=this;window.jsvars.tournament&&(t=new game.src.Tournament.Model,(n=new game.src.Tournament.View).initialize(this.respack),this.view=n,c2d.eventManager.subscribeOnce(game.events.Slots.ON_SET_DATA,function(e){e=e.data,t.currency=c2d.env.hideCurrency?"":e.bet.currency,t.betRanges=e.bet.betRanges,e=new game.src.Tournament.Controller(l.config);e.initialize(t,n),l.controller=e}))}},{key:"onActivate",value:function(){var t=this;window.jsvars.tournament&&(this.checkStateHandler=function(e){return t.onCheckState(e.data)},this.listenerEventRouter.subscribe(c2d.fsm.FSM.Events.STATE_DID_CHANGE,this.checkStateHandler),this.listenerEventRouter.subscribe(c2d.fsm.FSM.Events.STATE_DID_CHANGE,function(e){e.data.prevState===game.slots.constants.SlotsFSM.IDLE_STATE&&t.controller.lockButton(),e.data.newState===game.slots.constants.SlotsFSM.IDLE_STATE&&t.controller.unlockButton(),e.data.newState===game.slots.constants.SlotsFSM.BG_CHECK_STATE&&t.controller.updateInfo()}))}},{key:"onCheckState",value:function(e){e.newState===game.slots.constants.SlotsFSM.CHECK_STATE&&(this.context.view.addChild(this.view),this.listenerEventRouter.unsubscribe(c2d.fsm.FSM.Events.STATE_DID_CHANGE,this.checkStateHandler))}}]),n}(game.slots.Component);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],251:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={TOURNAMENT_SHOW_PAGE:"Tournament.TOURNAMENT_SHOW_PAGE",TOURNAMENT_SHOW_LEADERBOARD:"Tournament.TOURNAMENT_SHOW_LEADERBOARD",TOURNAMENT_HIDE_LEADERBOARD:"Tournament.TOURNAMENT_HIDE_LEADERBOARD",TOURNAMENT_SHOW_MAIN_SCREEN:"Tournament.TOURNAMENT_MAIN_SRCEEN_PRESSED",TOURNAMENT_CLOSE_MAIN_SCREEN:"Tournament.TOURNAMENT_MAIN_SRCEEN_CLOSED",TOURNAMENT_DATA_UPDATED:"Tournament.TOURNAMENT_DATA_UPDATED",TOURNAMENT_STATUS_CHANGED:"Tournament.TOURNAMENT_STATUS_CHANGED",TOURNAMENT_USER_POSITION_UPDATED:"Tournament.TOURNAMENT_USER_POSITION_UPDATED"}},{}],252:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),o=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/regenerator"))),s=l(e("@babel/runtime/helpers/asyncToGenerator")),u=l(e("@babel/runtime/helpers/classCallCheck")),c=l(e("@babel/runtime/helpers/createClass")),h=l(e("@babel/runtime/helpers/get")),f=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),d=l(e("@babel/runtime/helpers/getPrototypeOf")),p=l(e("../network/Network.js"));function y(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(n);return e=l?(e=(0,d.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,f.default)(r,e);var t,n,l,i,a=y(r);function r(e){var t;return(0,u.default)(this,r),(t=a.call(this))._config=e,t.mainButtonLocked=!1,t.leaderBoardLoads=!1,t.needUnlock=!1,t}return(0,c.default)(r,[{key:"onInitialize",value:(i=(0,s.default)(o.default.mark(function e(){var t,n,l;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=game.src.FlatUI.components.UIComponent.prototype.getTexture,n=this.view._respack,game.src.FlatUI.components.UIComponent.prototype.getTexture=function(e){return n.hasAsset(e)?n.getAsset(e):t.call(this,e)},(0,h.default)((0,d.default)(r.prototype),"onInitialize",this).call(this),this.model.config=this._config,l=new p.default(this.model),this.network=l,this.network.socketConnect(),e.next=10,this.setInitData();case 10:this.view.mainButton.user=this.model.userPosition.data,this.intervalUpdate=null,this.handleOrientationChanges(),this.updateInfo(),this.needUnlock&&(this.needUnlock=!1,this.unlockButton());case 15:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"handleOrientationChanges",value:function(){function t(e){e.paddingLeft,e.paddingTop,n.view.position.x=-c2d.engine._gameViewport.x,n.view.position.y=-c2d.engine._gameViewport.y,n.view.scale.x=1/c2d.engine._gameViewport.scale.x,n.view.scale.y=n.view.scale.x}var n=this;c2d.eventManager.subscribe(c2d.documentEvents.SCREEN_WAS_RESIZED,function(e){return t(e.data)}),t(c2d.screenParams)}},{key:"initEvents",value:function(){var l=this,t=game.events.Tournament,n={};n[t.TOURNAMENT_SHOW_LEADERBOARD]=function(){"live"===l.model.status&&(l.intervalUpdate=setInterval(function(){l.setTournamentData()},2e4))},n[t.TOURNAMENT_SHOW_MAIN_SCREEN]=function(){l.view.showTournamentMainScreen(l.model)},n[t.TOURNAMENT_HIDE_LEADERBOARD]=function(){clearInterval(l.intervalUpdate)},n[t.TOURNAMENT_SHOW_PAGE]=function(){var t=(0,s.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l.leaderBoardLoads)return e.abrupt("return");e.next=2;break;case 2:return l.leaderBoardLoads=!0,l.setTournamentName(t.data.name),l.setTournamentID(t.data.id),e.next=7,l.setTournamentData();case 7:l.leaderBoardLoads=!1,l.view.showPage(t.data.page);case 9:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),n[t.TOURNAMENT_USER_POSITION_UPDATED]=function(){var t=(0,s.default)(o.default.mark(function e(t){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.data,l.view.mainButton.user=n,!l.model.isCurrentTournamentImmediatelyUpdates&&l.mainButtonLocked||l.updateInfo();case 3:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),n[t.TOURNAMENT_CLOSE_MAIN_SCREEN]=function(){var t=(0,s.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l.view.mainScreen=null;case 1:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),n[t.TOURNAMENT_STATUS_CHANGED]=function(){var t=(0,s.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.model.status=t.data.current,e.next=3,l.network.request("TournamentsData");case 3:if(l.model.data=e.sent,l.model.data.list.forEach(function(t){return t.convertedMinBet=l.model.betRanges.find(function(e){return e>=Number(t.minimalBetAmount)})+" "+l.model.currency}),t.data.current!==t.data.previous&&l.model.data.list.first)return l.setTournamentID(l.model.data.list.first.id),e.next=9,l.network.request("UserPosition");e.next=12;break;case 9:l.model.userPosition=e.sent,l.view.mainButton.user=l.model.userPosition.data,!l.model.isCurrentTournamentImmediatelyUpdates&&l.mainButtonLocked||l.updateInfo();case 12:l.view.mainButton.reLayout(),l.view.mainScreen&&l.view.mainScreen.reLayout();case 14:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),Object.keys(t).map(function(e){return t[e]}).forEach(function(e){n[e]&&c2d.eventManager.subscribe(e,n[e])})}},{key:"setTournamentName",value:function(e){this.model.name=e}},{key:"setTournamentID",value:function(e){this.model.id=e}},{key:"setInitData",value:(l=(0,s.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setData();case 2:this.view.buildLayout(this.model),this.needUnlock||this.lockButton(),this.initEvents();case 5:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"setData",value:(n=(0,s.default)(o.default.mark(function e(){var n=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.network.request("TournamentsData");case 2:return this.model.data=e.sent,this.model.data.list.forEach(function(t){return t.convertedMinBet=n.model.betRanges.find(function(e){return e>=Number(t.minimalBetAmount)})+" "+n.model.currency}),this.setTournamentID(this.model.data.list.first.id),e.next=7,this.setTournamentData();case 7:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"setTournamentData",value:(t=(0,s.default)(o.default.mark(function e(){var t=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.model.index=this.model.data.list.findIndex(function(e){return e.id==t.model.id}),this.model.rules=this.model.data.list[this.model.index].texts.rules,this.model.status=this.model.data.list[this.model.index].status,e.next=5,this.network.request("TournamentResultTable");case 5:return this.model.table=e.sent,e.next=8,this.network.request("UserPosition");case 8:this.model.userPosition=e.sent,c2d.eventManager.dispatch(game.events.Tournament.TOURNAMENT_DATA_UPDATED);case 10:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"unlockButton",value:function(){this.mainButtonLocked=!1,this.view.mainButton?(this.needUnlock=!1,this.view.mainButton.enable(!0)):this.needUnlock=!0}},{key:"lockButton",value:function(){this.needUnlock=!1,this.mainButtonLocked=!0,this.view.mainButton&&this.view.mainButton.enable(!1)}},{key:"updateInfo",value:function(){console.log("UPDATE INFO"),this.view.mainButton&&this.view.mainButton.updateText()}},{key:"getTournamentTexture",value:function(e){return this.view._respack.getAsset(e)}}]),r}(c2d.ComponentController);n.default=l},{"../network/Network.js":255,"@babel/runtime/helpers/asyncToGenerator":5,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/regenerator":28}],253:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=l(e("./api/TournamentApi.js")),a=l(e("./api/TournamentEvents.js")),r=l(e("./controller/TournamentController.js")),o=l(e("./view/TournamentView.js")),l=l(e("./model/TournamentModel.js"));i.default.src={Controller:r.default,View:o.default,Model:l.default},i.default.ID="Tournament",game.registerComponent(i.default,a.default)},{"./api/TournamentApi.js":250,"./api/TournamentEvents.js":251,"./controller/TournamentController.js":252,"./model/TournamentModel.js":254,"./view/TournamentView.js":256,"@babel/runtime/helpers/interopRequireDefault":12}],254:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass"));n.default=function(){function e(){(0,i.default)(this,e),this.config=null,this.data=null,this.currency=null,this.betRanges=null,this.minimalBet=null,this.id=null,this.index=null,this.rules=null,this.table=null,this.result=null,this.userPosition=null}return(0,a.default)(e,[{key:"data",get:function(){return this._data},set:function(e){this._data=e}},{key:"currency",get:function(){return this._currency},set:function(e){this._currency=e}},{key:"betRanges",get:function(){return this._betRanges},set:function(e){this._betRanges=e}},{key:"id",get:function(){return this._id},set:function(e){this._id=e}},{key:"index",get:function(){return this._index},set:function(e){this._index=e}},{key:"rules",get:function(){return this._rules},set:function(e){this._rules=e}},{key:"table",get:function(){return this._table},set:function(e){this._table=e}},{key:"result",get:function(){return this._result},set:function(e){this._result=e}},{key:"userPosition",get:function(){return this._userPosition},set:function(e){this._userPosition=e}},{key:"currentTournament",get:function(){var t=this;return this.data.list.find(function(e){return e.id==t.id})}},{key:"isCurrentTournamentImmediatelyUpdates",get:function(){return["money_total_bets","total_spins"].contains(this.currentTournament.rankingType)}}]),e}()},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],255:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/regenerator"))),i=l(e("@babel/runtime/helpers/asyncToGenerator")),r=l(e("@babel/runtime/helpers/classCallCheck")),o=l(e("@babel/runtime/helpers/createClass")),l=function(){function t(e){(0,r.default)(this,t),this.model=e,this.tsb="tsb/api/v1",this.host=window.jsvars.tournament.api.host,this.currency=window.jsvars.tournament.user.currency,this.language=window.jsvars.tournament.user.language,this.userTokenID=window.jsvars.tournament.api.token,this.socketConfig=window.jsvars.wss}var n;return(0,o.default)(t,[{key:"getURL",value:function(e){return{UserPosition:"".concat(this.host).concat(this.tsb,"/tournament/").concat(this.model.id,"/position?token=").concat(this.userTokenID,"&currency=").concat(this.currency),TournamentsData:"".concat(this.host).concat(this.tsb,"/tournament?token=").concat(this.userTokenID,"&lang=").concat(this.language,"&currency=").concat(this.currency),TournamentResultTable:"".concat(this.host).concat(this.tsb,"/tournament/").concat(this.model.id,"/result?currency=").concat(this.currency)}[e]}},{key:"socketConnect",value:function(){var e=this.socketConfig,t=e.host,n=e.options,l=e.encrypted,i=window.io(t,n);i.on("connect",function(){console.warn("Socket connect: "+i.connected),setTimeout(function(){i.emit("auth",{encrypted:l},function(e){console.log(e)})},10)}),i.on("notification",function(e,t){var n=JSON.parse(e);switch(n.payload.name){case"tournamentStatusChanged":return c2d.eventManager.dispatch(game.events.Tournament.TOURNAMENT_STATUS_CHANGED,n.payload),void t();case"positionUpdate":return c2d.eventManager.dispatch(game.events.Tournament.TOURNAMENT_USER_POSITION_UPDATED,n.payload),void t();default:return console.log(n.sentAt),void t()}})}},{key:"request",value:(n=(0,i.default)(a.default.mark(function e(t){var n,l,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(this.getURL(t));case 3:if((n=e.sent).ok){e.next=13;break}return l={errors:""},e.next=8,n.json();case 8:if(e.sent)return e.next=11,n.json();e.next=12;break;case 11:l=e.sent;case 12:throw new Error("\nRequest Type: "+t+"\nRequest Status: "+n.status+" "+n.statusText+"\nResponse Errors: "+l.errors);case 13:return e.next=15,n.json();case 15:return i=e.sent,e.abrupt("return",i);case 19:e.prev=19,e.t0=e.catch(0);case 21:case"end":return e.stop()}},e,this,[[0,19]])})),function(e){return n.apply(this,arguments)})}]),t}();n.default=l},{"@babel/runtime/helpers/asyncToGenerator":5,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/regenerator":28}],256:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("./common/MainButton.js")),h=l(e("./common/MainScreen.js")),f=l(e("./common/Popup.js"));function d(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=d(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"onInitialize",value:function(){(0,r.default)((0,u.default)(n.prototype),"onInitialize",this).call(this),this.config=this._respack.getAsset("config"),this.displayGroup=game.displayGroups.UI,this.zOrder=0}},{key:"buildLayout",value:function(e){var t=this;this.mainButton=new c.default(e),this.addChild(this.mainButton),this.popup||"finished"==e.data.list.first.status||(this.popup=new f.default(e),this.addChild(this.popup)),c2d.eventManager.subscribe(c2d.documentEvents.SCREEN_WAS_RESIZED,function(e){c2d.env.device.tablet()&&t.children.forEach(function(e){return t.scaleChild(e)})})}},{key:"setData",value:function(e){this.mainButton.model=e}},{key:"showTournamentMainScreen",value:function(e){this.mainScreen=new h.default(e),this.addChild(this.mainScreen)}},{key:"showPage",value:function(e){this.mainScreen.showPage(e)}},{key:"addChild",value:function(e){(0,r.default)((0,u.default)(n.prototype),"addChild",this).apply(this,arguments),c2d.env.device.tablet()&&this.scaleChild(e)}},{key:"scaleChild",value:function(e){var t=c2d.env.device.portrait()?.5:.75;e.scale.x=t,e.scale.y=t}}]),n}(c2d.display.View);n.default=l},{"./common/MainButton.js":257,"./common/MainScreen.js":258,"./common/Popup.js":259,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],257:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=e("@babel/runtime/helpers/typeof"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/defineProperty"))),a=l(e("@babel/runtime/helpers/classCallCheck")),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/inherits")),u=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf")),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};t=d(t);if(t&&t.has(e))return t.get(e);var n,l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(l,n,a):l[n]=e[n])}l.default=e,t&&t.set(e,l);return l}(e("../../StylesTournament.js")),f=l(e("../components/Timer.js"));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(t,e){var n,l=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,n)),l}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach(function(e){(0,i.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function b(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}l=function(e){(0,s.default)(l,e);var n=b(l);function l(e){var t;return(0,a.default)(this,l),(t=n.call(this,{align:"middle",layoutHeight:"100vh",layoutWidth:"100vw"},null,e)).model=e,t.zOrder=1,t.displayGroup=game.displayGroups.UI,t.updateText(),t.userPosition="",t.userResult="",t.setIconTexture(e.data.list.first.icon),t.layout(),t.resizeHandler=function(e){return t.onResize(e.data)},c2d.eventManager.subscribe(c2d.documentEvents.SCREEN_WAS_RESIZED,t.resizeHandler),t}return(0,o.default)(l,[{key:"setIconTexture",value:function(e){var t=this;this.iconTexture=PIXI.Texture.from(e),this.iconTexture.baseTexture.hasLoaded?this.setIcon(this.iconTexture):this.iconTexture.baseTexture.on("loaded",function(){return t.setIcon(t.iconTexture)})}},{key:"setIcon",value:function(e){var t=this.findChildById("Icon"),e=(t.icon.texture=e,Math.min(90/t.icon.width,90/t.icon.height));t.icon.scale.set(e)}},{key:"inflateMobileLandscapeLayout",value:function(e,t,n){return this.status=n.data.list.first.status,[new flatUI.layout.HorizontalLayout({align:"bottom",layoutHeight:"100%",layoutWidth:"100%"},[new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"70%",layoutWidth:"170"},[new flatUI.layout.Spacer({layoutWeight:.5}),new flatUI.layout.FrameLayout({align:"center",layoutHeight:"210",layoutWidth:"100%"},[new flatUI.buttons.FlatButton(function(){return c2d.eventManager.dispatch(game.events.Tournament.TOURNAMENT_SHOW_MAIN_SCREEN)},{layoutHeight:"100%",layoutWidth:"100%",style:h.Desktop.TournamentMainButtonStyle,id:"Button"}),new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"100%",layoutWidth:"100%",id:"Info"},[new flatUI.layout.FrameLayout({align:"center",layoutHeight:"30",layoutWidth:"100%"},["finished"==this.status?new flatUI.text.TextField("tournament_finished".ls(),{align:"center",layoutHeight:"50",layoutWidth:"90%",fitInLayout:!0,style:y(y({},h.Mobile.TextField.BoldFont),{},{fill:h.Mobile.TextColor.LightGray,align:"center",fontSize:18})}):new f.default({align:"none",layoutHeight:"100%",layoutWidth:"100%"},[],n.data.list.first,{numberSize:16,textSize:16,shortText:!0,type:"ShortText"})]),new flatUI.layout.HorizontalLayout({align:"center",layoutHeight:"100",layoutWidth:"100%"},[new flatUI.graphics.Icon("",{align:"center",layoutHeight:"100%",layoutWidth:"100%",id:"Icon"})]),new flatUI.text.TextField("#----",{align:"center",layoutHeight:"30",layoutWidth:"50%",fitInLayout:!0,style:y(y({},h.Mobile.TextField.BoldFont),{},{fill:1432652,fontSize:"20px"}),id:"playerPositionText"}),new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"25",layoutWidth:"98%",style:{color:0,alpha:.2}},[new flatUI.text.TextField("---- PT",{align:"center",layoutHeight:"100%",layoutWidth:"50%",fitInLayout:!0,style:y(y({},h.Mobile.TextField.BoldFont),{},{fill:h.Mobile.TextColor.Blue,fontSize:"16px",wordWrap:!1}),id:"playerResultText"})])]).setParams({interactiveChildren:!1})]),new flatUI.layout.Spacer({layoutWeight:1})]),new flatUI.layout.Spacer])]}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){return this.status=n.data.list.first.status,[new flatUI.layout.HorizontalLayout({align:"center",layoutHeight:"100%",layoutWidth:"100%"},[new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"100%",layoutWidth:"110"},[new flatUI.layout.Spacer({layoutWeight:4.8}),new flatUI.layout.FrameLayout({align:"center",layoutHeight:"210",layoutWidth:"100%"},[new flatUI.buttons.FlatButton(function(){return c2d.eventManager.dispatch(game.events.Tournament.TOURNAMENT_SHOW_MAIN_SCREEN)},{layoutHeight:"100%",layoutWidth:"100%",style:h.Desktop.TournamentMainButtonStyle,id:"Button"}),new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"100%",layoutWidth:"100%",id:"Info"},[new flatUI.layout.FrameLayout({align:"center",layoutHeight:"30",layoutWidth:"100%"},["finished"==this.status?new flatUI.text.TextField("tournament_finished".ls(),{align:"center",layoutHeight:"50",layoutWidth:"90%",fitInLayout:!0,style:y(y({},h.Mobile.TextField.BoldFont),{},{fill:h.Mobile.TextColor.LightGray,align:"center",fontSize:18})}):new f.default({align:"none",layoutHeight:"100%",layoutWidth:"100%"},[],n.data.list.first,{numberSize:16,textSize:16,shortText:!0,type:"ShortText"})]),new flatUI.layout.HorizontalLayout({align:"center",layoutHeight:"100",layoutWidth:"100%"},[new flatUI.graphics.Icon("",{align:"center",layoutHeight:"100%",layoutWidth:"100%",id:"Icon"})]),new flatUI.text.TextField("#----",{align:"center",layoutHeight:"30",layoutWidth:"90%",fitInLayout:!0,style:y(y({},h.Mobile.TextField.BoldFont),{},{fill:1432652,fontSize:"22px"}),id:"playerPositionText"}),new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"25",layoutWidth:"98%",style:{color:0,alpha:.2}},[new flatUI.text.TextField("---- PT",{align:"center",layoutHeight:"100%",layoutWidth:"90%",fitInLayout:!0,style:y(y({},h.Mobile.TextField.BoldFont),{},{fill:h.Mobile.TextColor.Blue,fontSize:"16px",wordWrap:!1}),id:"playerResultText"})])]).setParams({interactiveChildren:!1})]),new flatUI.layout.Spacer({layoutWeight:1})]),new flatUI.layout.Spacer])]}},{key:"inflateDesktopLayout",value:function(e,t,n){return this.status=n.data.list.first.status,[new flatUI.layout.HorizontalLayout({align:"center",layoutHeight:"100%",layoutWidth:"100%"},[new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"100%",layoutWidth:"120"},[new flatUI.layout.Spacer({layoutWeight:.14}),new flatUI.layout.FrameLayout({align:"center",layoutHeight:"210",layoutWidth:"100%"},[new flatUI.buttons.FlatButton(function(){return c2d.eventManager.dispatch(game.events.Tournament.TOURNAMENT_SHOW_MAIN_SCREEN)},{layoutHeight:"100%",layoutWidth:"100%",style:h.Desktop.TournamentMainButtonStyle,id:"Button"}),new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"210",layoutWidth:"100%",id:"Info"},[new flatUI.layout.FrameLayout({align:"center",layoutHeight:"30",layoutWidth:"100%"},["finished"==this.status?new flatUI.text.TextField("tournament_finished".ls(),{align:"center",layoutHeight:"50",layoutWidth:"90%",fitInLayout:!0,style:y(y({},h.Mobile.TextField.BoldFont),{},{fill:h.Mobile.TextColor.LightGray,align:"center",fontSize:18})}):new f.default({align:"none",layoutHeight:"100%",layoutWidth:"100%"},[],n.data.list.first,{numberSize:18,shortText:!0,type:"ShortText"})]),new flatUI.layout.HorizontalLayout({align:"center",layoutHeight:"100",layoutWidth:"100%"},[new flatUI.graphics.Icon("",{align:"center",layoutHeight:"100%",layoutWidth:"100%",id:"Icon"})]),new flatUI.text.TextField("#----",{align:"center",layoutHeight:"30",layoutWidth:"90%",fitInLayout:!0,style:y(y({},h.Desktop.TextField.BoldFont),{},{fill:1432652,fontSize:"26px"}),id:"playerPositionText"}),new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"25",layoutWidth:"98%",style:{color:0,alpha:.2}},[new flatUI.text.TextField("---- PT",{align:"center",layoutHeight:"100%",layoutWidth:"90%",fitInLayout:!0,style:y(y({},h.Desktop.TextField.BoldFont),{},{fill:h.Desktop.TextColor.Blue,fontSize:"18px",wordWrap:!1}),id:"playerResultText"})])]).setParams({interactiveChildren:!1})]),new flatUI.layout.Spacer]),new flatUI.layout.Spacer])]}},{key:"user",set:function(e){var t=e.position,e=e.score;this.userPosition=t,this.userResult=e}},{key:"enable",value:function(e){this.findChildById("Button").enabled=e}},{key:"updateText",value:function(){this.playerPositionLayout=this.findChildById("playerPositionText"),this.playerResultLayout=this.findChildById("playerResultText"),this.playerPositionLayout.text="#".concat(null==this.userPosition?"----":this.userPosition),this.playerResultLayout.text="".concat(null==this.userResult?"----":this.userResult,"PT")}},{key:"reLayout",value:function(){this.reInflateLayout(),this.updateText(),this.setIconTexture(this.model.data.list.first.icon),this.layout()}},{key:"onResize",value:function(e){e.isOrientationChange&&(this.reInflateLayout(),this.updateText(),this.setIcon(this.iconTexture)),this.layout()}},{key:"status",get:function(){return this._status},set:function(e){this._status=e}}]),l}(flatUI.layout.VerticalLayout);n.default=l},{"../../StylesTournament.js":249,"../components/Timer.js":261,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/typeof":26}],258:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=e("@babel/runtime/helpers/typeof"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/defineProperty"))),a=l(e("@babel/runtime/helpers/classCallCheck")),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/inherits")),u=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf")),h=l(e("../components/pins/PinScreen.js")),f=l(e("../components/leaderboard/LeaderboardScreen.js")),d=l(e("../components/rules/RulesScreen.js")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};t=y(t);if(t&&t.has(e))return t.get(e);var n,l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(l,n,a):l[n]=e[n])}l.default=e,t&&t.set(e,l);return l}(e("../../StylesTournament.js"));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b(t,e){var n,l=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,n)),l}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach(function(e){(0,i.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function g(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}var l=flatUI.layout,v=l.Spacer,_=l.VerticalLayout,S=(l.GridLayout,l.HorizontalLayout),C=l.FrameLayout,I=flatUI.text.TextField,w=flatUI.panel.Panel,e=function(e){(0,s.default)(l,e);var n=g(l);function l(e){var t;return(0,a.default)(this,l),(t=n.call(this,{align:"middle",layoutHeight:"100vh",layoutWidth:"100vw"},null,e)).pageContainer=t.findChildById("Page#FillingContainer"),t.model=e,t.zOrder=9999,t.displayGroup=game.displayGroups.UI,t.pageName=null,t.pageNameTextField=t.findChildById("Page#Name"),t.buttonBack=t.findChildById("Button#Back"),t.buttonRules=t.findChildById("Button#Rules"),t.findChildById("Background").background.interactive=!0,t.blockKeyPress=function(e){return e.stopImmediatePropagation()},t.showPage("Tournaments"),t.resizeHandler=function(e){return t.onResize(e.data)},c2d.eventManager.subscribe(c2d.documentEvents.SCREEN_WAS_RESIZED,t.resizeHandler),document.addEventListener("keyup",t.blockKeyPress,!0),document.getElementById("slotCanvas").addEventListener("touchstart",t.onTouchstart,{passive:!0,capture:!0}),document.getElementById("slotCanvas").addEventListener("touchend",t.onTouchend,{passive:!0,capture:!0}),c2d.eventManager.dispatch(game.events.FlatUI.LOCK_SWIPE_MODE),t.layout(),t}return(0,o.default)(l,[{key:"inflateMobileLandscapeLayout",value:function(e,t,n){var l=this;return[new _({align:"middle",layoutHeight:"100%",layoutWidth:"100%",style:p.Mobile.PanelColor.ScreenBackground,id:"Background"},[new _({align:"middle",layoutHeight:"100%",layoutWidth:"100%",style:p.Mobile.PanelColor.Black},[new S({align:"center",layoutHeight:"14%",layoutWidth:"100%",style:p.Mobile.PanelColor.Gray,id:"Header"},[new S({align:"center",layoutHeight:"100%",layoutWidth:"90%"},[new flatUI.graphics.Icon(p.Mobile.IconStyle.Cup,{align:"center",layoutWidth:"native",layoutHeight:"native"}),new w({align:"center",layoutHeight:"100%",layoutWidth:"24",style:{alpha:0}}),new I("tournament_pins_screen_header".ls(),{align:"left",layoutHeight:"100%",style:m(m({},p.Mobile.TextField.BoldFont),{},{fill:p.Mobile.TextColor.Blue,fontSize:"24px"}),id:"Page#Name"}),new v,new flatUI.buttons.IconButton(function(){return l.showPage("Rules")},{align:"center",layoutHeight:"native",layoutWidth:"native",style:p.Mobile.IconButtonsStyle.Rules,id:"Button#Rules"}),new w({align:"center",layoutHeight:"100%",layoutWidth:"24",style:{alpha:0}}),new flatUI.buttons.IconButton(function(){return l.showPage("Tournaments")},{align:"center",layoutHeight:"native",layoutWidth:"native",style:p.Mobile.IconButtonsStyle.Back,id:"Button#Back"}),new w({align:"center",layoutHeight:"100%",layoutWidth:"24",style:{alpha:0}}),new flatUI.buttons.IconButton(function(){return l.close()},{align:"center",layoutHeight:"native",layoutWidth:"native",style:p.Mobile.IconButtonsStyle.Close})])]),new w({layoutHeight:"1%",layoutWidth:"100%",style:{alpha:0}}),new _({align:"middle",layoutHeight:"85%",layoutWidth:"100%",id:"Page#FillingContainer"},[],n)])])]}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){var l=this;return[new _({align:"middle",layoutHeight:"100%",layoutWidth:"100%",style:p.Mobile.PanelColor.ScreenBackground,id:"Background"},[new _({align:"middle",layoutHeight:"100%",layoutWidth:"100%",style:p.Mobile.PanelColor.Black},[new S({align:"center",layoutHeight:"10%",layoutWidth:"100%",style:p.Mobile.PanelColor.Gray,id:"Header"},[new S({align:"center",layoutHeight:"100%",layoutWidth:"90%"},[new flatUI.graphics.Icon(p.Mobile.IconStyle.Cup,{align:"center",layoutWidth:"native",layoutHeight:"native"}),new w({align:"center",layoutHeight:"100%",layoutWidth:"24",style:{alpha:0}}),new I("tournament_pins_screen_header".ls(),{align:"left",layoutHeight:"100%",style:m(m({},p.Mobile.TextField.BoldFont),{},{fill:p.Mobile.TextColor.Blue,fontSize:"24px"}),id:"Page#Name"}),new v,new flatUI.buttons.IconButton(function(){return l.showPage("Rules")},{align:"center",layoutHeight:"40",layoutWidth:"40",style:p.Mobile.IconButtonsStyle.Rules,id:"Button#Rules"}),new w({align:"center",layoutHeight:"100%",layoutWidth:"24",style:{alpha:0}}),new flatUI.buttons.IconButton(function(){return l.showPage("Tournaments")},{align:"center",layoutHeight:"40",layoutWidth:"40",style:p.Mobile.IconButtonsStyle.Back,id:"Button#Back"}),new w({align:"center",layoutHeight:"100%",layoutWidth:"24",style:{alpha:0}}),new flatUI.buttons.IconButton(function(){return l.close()},{align:"center",layoutHeight:"40",layoutWidth:"40",style:p.Mobile.IconButtonsStyle.Close})])]),new w({layoutHeight:"1%",layoutWidth:"100%",style:{alpha:0}}),new _({align:"middle",layoutHeight:"89%",layoutWidth:"100%",id:"Page#FillingContainer"},[],n)])])]}},{key:"inflateDesktopLayout",value:function(e,t,n){var l=this;return[new _({align:"middle",layoutHeight:"100%",layoutWidth:"100%",style:p.Desktop.PanelColor.ScreenBackground,id:"Background"},[new w({layoutHeight:"164",layoutWidth:"100%",style:{alpha:0}}),new _({align:"middle",layoutHeight:"800",layoutWidth:"1400",style:p.Desktop.PanelColor.Black},[new S({align:"center",layoutHeight:"14%",layoutWidth:"100%",style:p.Desktop.PanelColor.Gray,id:"Header"},[new S({align:"center",layoutHeight:"100%",layoutWidth:"96%"},[new flatUI.graphics.Icon(p.Desktop.IconStyle.Cup,{align:"center",layoutWidth:"native",layoutHeight:"native"}),new w({align:"center",layoutHeight:"100%",layoutWidth:"24",style:{alpha:0}}),new I("tournament_pins_screen_header".ls(),{align:"left",layoutHeight:"100%",style:m(m({},p.Desktop.TextField.BoldFont),{},{fill:p.Desktop.TextColor.Blue,fontSize:"24px"}),id:"Page#Name"}),new v,new flatUI.buttons.IconButton(function(){return l.showPage("Rules")},{align:"center",layoutHeight:"native",layoutWidth:"native",style:p.Desktop.IconButtonsStyle.Rules,id:"Button#Rules"}),new w({align:"center",layoutHeight:"100%",layoutWidth:"24",style:{alpha:0}}),new flatUI.buttons.IconButton(function(){return l.showPage("Tournaments")},{align:"center",layoutHeight:"native",layoutWidth:"native",style:p.Desktop.IconButtonsStyle.Back,id:"Button#Back"}),new w({align:"center",layoutHeight:"100%",layoutWidth:"24",style:{alpha:0}}),new flatUI.buttons.IconButton(function(){return l.close()},{align:"center",layoutHeight:"native",layoutWidth:"native",style:p.Desktop.IconButtonsStyle.Close})])]),new w({layoutHeight:"1%",layoutWidth:"100%",style:{alpha:0}}),new C({align:"none",layoutHeight:"85%",layoutWidth:"100%",id:"Page#FillingContainer"},[],n)]),new v])]}},{key:"reLayout",value:function(){"Tournaments"==this.pageName&&(this.showPage(this.pageName),this.layout())}},{key:"onResize",value:function(e){e.isOrientationChange&&this.showPage(this.pageName),this.layout()}},{key:"showPage",value:function(e){var t=this,e=(c2d.eventManager.dispatch(game.events.FlatUI.LOCK_SWIPE_MODE),this.pageName=e,this.setPageOptions(e),{Rules:function(){return new d.default(t.model)},Leaderboards:function(){return new f.default(t.model)},Tournaments:function(){return new h.default(t.model)}});this.pageContainer.removeComponents({children:!0}),this.pageContainer.addChild(e[this.pageName]()),this.pageContainer.layout()}},{key:"setPageOptions",value:function(e){switch(e){case"Leaderboards":return this.buttonBack.visible=!0,this.buttonRules.visible=!0,void(this.pageNameTextField.text="tournament_leaderboard_header".ls()+": "+this.model.name);case"Rules":return this.buttonBack.visible=!0,this.buttonRules.visible=!1,void(this.pageNameTextField.text="tournament_rules_header".ls()+": "+this.model.name);default:return this.buttonBack.visible=!1,this.buttonRules.visible=!1,void(this.pageNameTextField.text="tournament_pins_screen_header".ls())}}},{key:"close",value:function(){c2d.eventManager.dispatch(game.events.FlatUI.UNLOCK_SWIPE_MODE),c2d.eventManager.dispatch(game.events.Tournament.TOURNAMENT_CLOSE_MAIN_SCREEN),c2d.eventManager.unsubscribe(c2d.documentEvents.SCREEN_WAS_RESIZED,this.resizeHandler),document.removeEventListener("keyup",this.blockKeyPress,!0),document.getElementById("slotCanvas").removeEventListener("touchstart",this.onTouchstart),document.getElementById("slotCanvas").removeEventListener("touchend",this.onTouchend),this.destroy({children:!0}),this.removeComponents(),this.removeFromParent(),this.removeChildren()}},{key:"dispose",value:function(e){var t=this;e.forEach(function(e){e.children&&t.dispose(e.children),e.destroy()})}}]),l}(_);n.default=e},{"../../StylesTournament.js":249,"../components/leaderboard/LeaderboardScreen.js":263,"../components/pins/PinScreen.js":265,"../components/rules/RulesScreen.js":266,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/typeof":26}],259:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=e("@babel/runtime/helpers/typeof"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/regenerator"))),a=l(e("@babel/runtime/helpers/defineProperty")),o=l(e("@babel/runtime/helpers/asyncToGenerator")),s=l(e("@babel/runtime/helpers/classCallCheck")),u=l(e("@babel/runtime/helpers/createClass")),c=l(e("@babel/runtime/helpers/inherits")),h=l(e("@babel/runtime/helpers/possibleConstructorReturn")),f=l(e("@babel/runtime/helpers/getPrototypeOf")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};t=y(t);if(t&&t.has(e))return t.get(e);var n,l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(l,n,a):l[n]=e[n])}l.default=e,t&&t.set(e,l);return l}(e("../../StylesTournament.js")),p=l(e("../components/Timer.js"));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b(t,e){var n,l=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,n)),l}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach(function(e){(0,a.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function g(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,f.default)(n);return e=l?(e=(0,f.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,e)}}var l=flatUI.layout,v=l.Spacer,_=l.VerticalLayout,S=(l.GridLayout,l.HorizontalLayout),C=l.FrameLayout,e=flatUI.text,I=e.TextField,w=e.MultiStyleTextField,R=flatUI.panel.Panel,l=function(e){(0,c.default)(l,e);var t,n=g(l);function l(e){var t;return(0,s.default)(this,l),(t=n.call(this,{align:"middle",layoutHeight:"100vh",layoutWidth:"100vw"},null,e)).model=e,t.zOrder=10001,t.displayGroup=game.displayGroups.UI,t.findChildById("PopupBackground").background.interactive=!0,t.logoTexture=PIXI.Texture.from(t.model.data.list.first.logo),t.logoTexture.baseTexture.hasLoaded?t.setLogo(t.logoTexture):t.logoTexture.baseTexture.on("loaded",function(){return t.setLogo(t.logoTexture)}),t.layout(),t.resizeHandler=function(e){return t.onResize(e.data)},c2d.eventManager.subscribe(c2d.documentEvents.SCREEN_WAS_RESIZED,t.resizeHandler),c2d.eventManager.dispatch(game.events.FlatUI.LOCK_SWIPE_MODE),t}return(0,u.default)(l,[{key:"setLogo",value:(t=(0,o.default)(i.default.mark(function e(t){var n,l;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(n=this.findChildById("Logo")).icon.texture=t,l=Math.min(this.iconFrame.x/n.icon.width,this.iconFrame.y/n.icon.height),n.icon.scale.set(l);case 4:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"inflateMobileLandscapeLayout",value:function(e,t,n){var l=this,n=n.data.list.first,i=d.Mobile;return this.iconFrame={x:300,y:160},[new _({align:"middle",layoutHeight:"100%",layoutWidth:"100%",style:i.PanelColor.Black,id:"PopupBackground"},[new C({align:"center",layoutHeight:"90",layoutWidth:"100%",style:i.PanelColor.Gray},[new I("tournament_popup_header".ls(),{align:"center",layoutHeight:"100%",layoutWidth:"100%",style:m(m({},i.TextField.BoldFont),{},{fill:i.TextColor.Blue,fontSize:"24px"})}),new S({align:"center",layoutHeight:"100%",layoutWidth:"100%"},[new v,new flatUI.buttons.IconButton(function(){return l.close()},{align:"center",layoutHeight:"native",layoutWidth:"native",style:i.IconButtonsStyle.Close}),new R({layoutHeight:"100%",layoutWidth:"24",style:{alpha:0}})])]),new I(n.texts.title,{align:"center",layoutHeight:"50px",layoutWidth:"100%",style:m(m({},i.TextField.FontRegular),{},{fill:d.Desktop.TextColor.LightGray,fontSize:"26px"})}),new S({align:"center",layoutHeight:"280",layoutWidth:"100%"},[new _({align:"left",layoutHeight:"100%",layoutWidth:"35%"},[new C({align:"center",layoutHeight:"170px",layoutWidth:"100%"},[new flatUI.graphics.Icon("",{align:"center",layoutHeight:"150",layoutWidth:"300",id:"Logo"})]),new v,new _({align:"middle",layoutHeight:"100px",layoutWidth:"100%",style:{color:986895,alpha:.7}},[new I(("live"==n.status?"tournament_popup_time_left":"tournament_popup_time_pending").ls(),{align:"center",layoutHeight:"20%",layoutWidth:"100%",style:m(m({},i.TextField.RegularFont),{},{fill:d.Desktop.TextColor.LightGray,fontSize:"18px"})}),new p.default({align:"none",layoutHeight:"70%",layoutWidth:"80%"},[],n,{numberSize:36,textSize:18,shortText:!1,type:"BlueText"})])]),new _({align:"middle",layoutHeight:"100%",layoutWidth:"60%",style:{color:986895,alpha:.7}},[new _({align:"middle",layoutHeight:"90%",layoutWidth:"90%",style:{color:16711680,alpha:.001}},[new I("tournament_popup_trn_info".ls(),{align:"center",layoutHeight:"20%",layoutWidth:"100%",style:m(m({},i.TextField.FontBold),{},{fill:i.TextColor.Blue,align:"center",fontSize:"26px"})}),new R({layoutHeight:"1%",layoutWidth:"100%",style:{alpha:0}}),new w("tournament_ranking_type".ls()+": <lightGray>"+n.texts.ranking+"</lightGray>",{align:"left",layoutHeight:"native",layoutWidth:"100%",fitInLayout:!0,style:{default:m(m({},d.Desktop.TextField.RegularFont),{},{fill:d.Desktop.TextColor.Gray,align:"left",fontSize:"24px"}),lightGray:{fill:d.Desktop.TextColor.LightGray}}}),"0"!=n.prizeFund&&new w("tournament_prize_pool".ls()+": <lightGray>"+n.prizeFund+(c2d.env.hideCurrency?"":" "+n.prizeCurrency)+"</lightGray>",{align:"left",layoutHeight:"native",layoutWidth:"100%",fitInLayout:!0,style:{default:m(m({},d.Desktop.TextField.RegularFont),{},{fill:d.Desktop.TextColor.Gray,align:"left",fontSize:"24px"}),lightGray:{fill:d.Desktop.TextColor.LightGray}}}),new w("tournament_prize_line_number".ls()+": <lightGray>"+n.prizeLineNumber+"</lightGray>",{align:"left",layoutHeight:"native",layoutWidth:"100%",fitInLayout:!0,style:{default:m(m({},d.Desktop.TextField.RegularFont),{},{fill:d.Desktop.TextColor.Gray,align:"left",fontSize:"24px"}),lightGray:{fill:d.Desktop.TextColor.LightGray}}}),new w("tournament_bet_for_participation".ls()+": <lightGray>"+n.convertedMinBet+"</lightGray>",{align:"left",layoutHeight:"native",layoutWidth:"100%",fitInLayout:!0,style:{default:m(m({},d.Desktop.TextField.RegularFont),{},{fill:d.Desktop.TextColor.Gray,align:"left",fontSize:"24px"}),lightGray:{fill:d.Desktop.TextColor.LightGray}}}),new v]),new v])]),new v,new flatUI.layout.FrameLayout({align:"center",layoutHeight:"126",layoutWidth:"100%"},[new flatUI.buttons.IconButton(function(){return l.close()},{align:"center",layoutHeight:"native",layoutWidth:"native",style:i.IconButtonsStyle.Popup}),new I("OK",{align:"center",layoutHeight:"100%",layoutWidth:"100%",style:m(m({},i.TextField.FontBold),{},{fill:i.TextColor.White,align:"center",fontSize:30})})]),new v])]}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){var l=this,n=n.data.list.first;return this.iconFrame={x:300,y:160},[new _({align:"middle",layoutHeight:"100%",layoutWidth:"100%",style:d.Mobile.PanelColor.Black,id:"PopupBackground"},[new C({align:"center",layoutHeight:"8%",layoutWidth:"100%",style:d.Mobile.PanelColor.Gray},[new I("tournament_popup_header".ls(),{align:"center",layoutHeight:"100%",layoutWidth:"100%",style:m(m({},d.Mobile.TextField.BoldFont),{},{fill:d.Mobile.TextColor.Blue,fontSize:"24px"})}),new S({align:"center",layoutHeight:"100%",layoutWidth:"100%"},[new v,new flatUI.buttons.IconButton(function(){return l.close()},{align:"center",layoutHeight:"native",layoutWidth:"native",style:d.Mobile.IconButtonsStyle.Close}),new R({layoutHeight:"100%",layoutWidth:"8%",style:{alpha:0}})])]),new I(n.texts.title,{align:"center",layoutHeight:"40px",layoutWidth:"100%",style:m(m({},d.Mobile.TextField.FontRegular),{},{fill:d.Mobile.TextColor.LightGray,fontSize:"28px"})}),new S({align:"center",layoutHeight:"24%",layoutWidth:"100%"},[new flatUI.graphics.Icon("",{align:"center",layoutHeight:"native",layoutWidth:"native",id:"Logo"})]),new R({layoutHeight:"2%",layoutWidth:"100%",style:{alpha:0}}),new I(("live"==n.status?"tournament_popup_time_left":"tournament_popup_time_pending").ls(),{align:"center",layoutHeight:"30px",layoutWidth:"100%",style:m(m({},d.Mobile.TextField.BoldFont),{},{fill:d.Mobile.TextColor.LightGray,fontSize:"18px",align:"center"})}),new S({align:"center",layoutHeight:"10%",layoutWidth:"100%"},[new p.default({align:"none",layoutHeight:"70",layoutWidth:"240"},[],n,{numberSize:44,textSize:14,shortText:!1,type:"BlueText"})]),new R({layoutHeight:"2%",layoutWidth:"100%",style:{alpha:0}}),new _({align:"middle",layoutHeight:"240",layoutWidth:"90%",style:d.Mobile.PanelColor.DarkGray},[new v,new I("tournament_popup_trn_info".ls(),{align:"center",layoutHeight:"44",layoutWidth:"100%",fitInLayout:!0,style:m(m({},d.Mobile.TextField.FontBold),{},{fill:d.Mobile.TextColor.Blue,align:"center",fontSize:"18px"})}),new v,new w("tournament_ranking_type".ls()+":  <lightGray>"+n.texts.ranking+"</lightGray>",{align:"left",layoutHeight:"34",layoutWidth:"80%",fitInLayout:!0,style:{default:m(m({},d.Mobile.TextField.RegularFont),{},{fill:d.Mobile.TextColor.Gray,align:"left",fontSize:"18px"}),lightGray:{fill:d.Mobile.TextColor.LightGray}}}),"0"!=n.prizeFund?new w("tournament_prize_pool".ls()+":  <lightGray>"+n.prizeFund+(c2d.env.hideCurrency?"":" "+n.prizeCurrency)+"</lightGray>",{align:"left",layoutHeight:"34",layoutWidth:"80%",fitInLayout:!0,style:{default:m(m({},d.Mobile.TextField.RegularFont),{},{fill:d.Mobile.TextColor.Gray,align:"left",fontSize:"18px"}),lightGray:{fill:d.Mobile.TextColor.LightGray}}}):null,new w("tournament_prize_line_number".ls()+":  <lightGray>"+n.prizeLineNumber+"</lightGray>",{align:"left",layoutHeight:"34",layoutWidth:"80%",fitInLayout:!0,style:{default:m(m({},d.Mobile.TextField.RegularFont),{},{fill:d.Mobile.TextColor.Gray,align:"left",fontSize:"18px"}),lightGray:{fill:d.Mobile.TextColor.LightGray}}}),new w("tournament_bet_for_participation".ls()+":  <lightGray>"+n.convertedMinBet+"</lightGray>",{align:"left",layoutHeight:"34",layoutWidth:"80%",fitInLayout:!0,style:{default:m(m({},d.Mobile.TextField.RegularFont),{},{fill:d.Mobile.TextColor.Gray,align:"left",fontSize:"18px"}),lightGray:{fill:d.Mobile.TextColor.LightGray}}}),new v]),new R({layoutHeight:"2%",layoutWidth:"100%",style:{alpha:0}}),new v,new flatUI.layout.FrameLayout({align:"center",layoutHeight:"16%",layoutWidth:"100%"},[new flatUI.buttons.IconButton(function(){return l.close()},{align:"center",layoutHeight:"native",layoutWidth:"native",style:d.Mobile.IconButtonsStyle.Popup}),new I("Ok",{align:"center",layoutHeight:"100%",layoutWidth:"100%",style:m(m({},d.Mobile.TextField.RegularFont),{},{fill:d.Mobile.TextColor.White,align:"center",fontSize:18})})])])]}},{key:"inflateDesktopLayout",value:function(e,t,n){var l=this,n=n.data.list.first,i=d.Desktop;return this.iconFrame={x:300,y:160},[new C({align:"center",layoutHeight:"100%",layoutWidth:"100%",style:i.PanelColor.ScreenBackground,id:"PopupBackground"},[new _({align:"middle",layoutHeight:"700px",layoutWidth:"960px",style:i.PanelColor.Black},[new C({align:"center",layoutHeight:"90",layoutWidth:"100%",style:i.PanelColor.Gray},[new I("tournament_popup_header".ls(),{align:"center",layoutHeight:"100%",layoutWidth:"100%",style:m(m({},i.TextField.BoldFont),{},{fill:i.TextColor.Blue,fontSize:"24px"})}),new S({align:"center",layoutHeight:"100%",layoutWidth:"100%"},[new v,new flatUI.buttons.IconButton(function(){return l.close()},{align:"center",layoutHeight:"native",layoutWidth:"native",style:i.IconButtonsStyle.Close}),new R({layoutHeight:"100%",layoutWidth:"24",style:{alpha:0}})])]),new I(n.texts.title,{align:"center",layoutHeight:"80px",layoutWidth:"100%",style:m(m({},i.TextField.FontRegular),{},{fill:d.Desktop.TextColor.LightGray,fontSize:"32px"})}),new S({align:"center",layoutHeight:"380",layoutWidth:"900"},[new _({align:"left",layoutHeight:"100%",layoutWidth:"35%"},[new C({align:"center",layoutHeight:"60%",layoutWidth:"100%"},[new flatUI.graphics.Icon("",{align:"center",layoutHeight:"150",layoutWidth:"300",id:"Logo"})]),new v,new _({align:"middle",layoutHeight:"40%",layoutWidth:"100%",style:{color:986895,alpha:.7}},[new I(("live"==n.status?"tournament_popup_time_left":"tournament_popup_time_pending").ls(),{align:"center",layoutHeight:"20%",layoutWidth:"100%",style:m(m({},i.TextField.RegularFont),{},{fill:d.Desktop.TextColor.LightGray,fontSize:"24px"})}),new p.default({align:"none",layoutHeight:"70%",layoutWidth:"80%"},[],n,{numberSize:46,textSize:18,shortText:!1,type:"BlueText"})])]),new _({align:"middle",layoutHeight:"100%",layoutWidth:"55%",style:{color:986895,alpha:.7}},[new _({align:"middle",layoutHeight:"360",layoutWidth:"100%"},[new _({align:"middle",layoutHeight:"90%",layoutWidth:"90%",style:{color:16711680,alpha:.001}},[new I("tournament_popup_trn_info".ls(),{align:"center",layoutHeight:"100",layoutWidth:"100%",style:m(m({},i.TextField.FontBold),{},{fill:i.TextColor.Blue,align:"center",fontSize:"26px"})}),new R({layoutHeight:"10",layoutWidth:"100%",style:{alpha:0}}),new w("tournament_ranking_type".ls()+": <lightGray>"+n.texts.ranking+"</lightGray>",{align:"left",layoutHeight:"50",layoutWidth:"100%",fitInLayout:!0,style:{default:m(m({},d.Desktop.TextField.RegularFont),{},{fill:d.Desktop.TextColor.Gray,align:"left",fontSize:"24px"}),lightGray:{fill:d.Desktop.TextColor.LightGray}}}),"0"!=n.prizeFund&&new w("tournament_prize_pool".ls()+": <lightGray>"+n.prizeFund+(c2d.env.hideCurrency?"":" "+n.prizeCurrency)+"</lightGray>",{align:"left",layoutHeight:"50",layoutWidth:"100%",fitInLayout:!0,style:{default:m(m({},d.Desktop.TextField.RegularFont),{},{fill:d.Desktop.TextColor.Gray,align:"left",fontSize:"24px"}),lightGray:{fill:d.Desktop.TextColor.LightGray}}}),new w("tournament_prize_line_number".ls()+": <lightGray>"+n.prizeLineNumber+"</lightGray>",{align:"left",layoutHeight:"50",layoutWidth:"100%",fitInLayout:!0,style:{default:m(m({},d.Desktop.TextField.RegularFont),{},{fill:d.Desktop.TextColor.Gray,align:"left",fontSize:"24px"}),lightGray:{fill:d.Desktop.TextColor.LightGray}}}),new w("tournament_bet_for_participation".ls()+": <lightGray>"+n.convertedMinBet+"</lightGray>",{align:"left",layoutHeight:"50",layoutWidth:"100%",fitInLayout:!0,style:{default:m(m({},d.Desktop.TextField.RegularFont),{},{fill:d.Desktop.TextColor.Gray,align:"left",fontSize:"24px"}),lightGray:{fill:d.Desktop.TextColor.LightGray}}}),new v])]),new v])]),new v,new flatUI.layout.FrameLayout({align:"center",layoutHeight:"126",layoutWidth:"100%"},[new flatUI.buttons.IconButton(function(){return l.close()},{align:"center",layoutHeight:"native",layoutWidth:"native",style:i.IconButtonsStyle.Popup}),new I("OK",{align:"center",layoutHeight:"100%",layoutWidth:"100%",style:m(m({},i.TextField.FontBold),{},{fill:i.TextColor.White,align:"center",fontSize:30})})]),new v])])]}},{key:"onResize",value:function(e){e.isOrientationChange&&this.reInflateLayout(),this.setLogo(this.logoTexture),this.layout()}},{key:"close",value:function(){c2d.eventManager.dispatch(game.events.FlatUI.UNLOCK_SWIPE_MODE),c2d.eventManager.unsubscribe(c2d.documentEvents.SCREEN_WAS_RESIZED,this.resizeHandler),this.removeComponents(),this.removeFromParent(),this.displayChildren&&this.dispose(this.displayChildren),this.destroy({children:!0})}},{key:"dispose",value:function(e){var t=this;e.forEach(function(e){e instanceof c2d.display.TextField&&e.texture&&e.destroy(!0),e.children&&t.dispose(e.children)})}}]),l}(flatUI.layout.VerticalLayout);n.default=l},{"../../StylesTournament.js":249,"../components/Timer.js":261,"@babel/runtime/helpers/asyncToGenerator":5,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/typeof":26,"@babel/runtime/regenerator":28}],260:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=e("@babel/runtime/helpers/typeof"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/defineProperty"))),o=l(e("@babel/runtime/helpers/classCallCheck")),s=l(e("@babel/runtime/helpers/createClass")),u=l(e("@babel/runtime/helpers/inherits")),a=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf")),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};t=f(t);if(t&&t.has(e))return t.get(e);var n,l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(l,n,a):l[n]=e[n])}l.default=e,t&&t.set(e,l);return l}(e("../../StylesTournament.js"));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(t,e){var n,l=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,n)),l}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach(function(e){(0,i.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function y(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}l=function(e){(0,u.default)(r,e);var a=y(r);function r(e,t){var n,l=t.pages,i=t.maxButtons,t=t.page;return(0,o.default)(this,r),(n=a.call(this,{align:"center",columnCount:10,padding:0},[])).callback=e,n.pages=l,n.maxButtons=i,n.page=t,n}return(0,s.default)(r,[{key:"page",get:function(){return this._page},set:function(e){this._page=e,this.removeComponents();var t=[],n=(this.maxButtons=Math.min(this.maxButtons,this.pages),Math.max(Math.floor(e-this.maxButtons/2),0));n>this.pages-this.maxButtons?n=this.pages-this.maxButtons:--n;for(var l=n=n<0?0:n;l<n+this.maxButtons;l++){var i=e==l+1?h.Desktop.IconButtonsStyle.PaginatorActive:h.Desktop.IconButtonsStyle.PaginatorInactive,a=e==l+1?h.Desktop.TextColor.White:h.Desktop.TextColor.Gray,i=this.getButtonLayout(l,i,a);t.push(i)}this.addChildren(t),this.layout()}},{key:"getButtonLayout",value:function(e,t,n){var l=this;return new flatUI.layout.FrameLayout({align:"center",layoutHeight:"60",layoutWidth:"60"},[new flatUI.buttons.IconButton(function(){return l.callback(e+1)},{align:"center",layoutHeight:"native",layoutWidth:"native",style:t}),new flatUI.text.TextField(e+1,{align:"center",layoutHeight:"100%",layoutWidth:"100%",style:p(p({},h.Desktop.TextField.RegularFont),{},{fill:n,align:"center",fontSize:22})})])}}]),r}(flatUI.layout.GridLayout);n.default=l},{"../../StylesTournament.js":249,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/typeof":26}],261:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=e("@babel/runtime/helpers/typeof"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/defineProperty"))),o=l(e("@babel/runtime/helpers/classCallCheck")),s=l(e("@babel/runtime/helpers/createClass")),u=l(e("@babel/runtime/helpers/get")),c=l(e("@babel/runtime/helpers/inherits")),a=l(e("@babel/runtime/helpers/possibleConstructorReturn")),h=l(e("@babel/runtime/helpers/getPrototypeOf")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};t=d(t);if(t&&t.has(e))return t.get(e);var n,l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(l,n,a):l[n]=e[n])}l.default=e,t&&t.set(e,l);return l}(e("../../StylesTournament.js"));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(t,e){var n,l=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,n)),l}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach(function(e){(0,i.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function b(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(n);return e=l?(e=(0,h.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,e)}}l=function(e){(0,c.default)(a,e);var i=b(a);function a(e,t,n,l){return(0,o.default)(this,a),(e=i.call(this,e,null,n,l)).timeStamp=null,l.shortText?(e.description=["tournament_time_D".ls(),"tournament_time_H".ls(),"tournament_time_M".ls(),"tournament_time_S".ls()],e.shortText=e.findChildById("shortText")):(e.description=["tournament_time_days".ls(),"tournament_time_hours".ls(),"tournament_time_minutes".ls(),"tournament_time_seconds".ls()],e.numbers=[e.number_0=e.findChildById("Number_0"),e.number_1=e.findChildById("Number_1"),e.number_2=e.findChildById("Number_2")],e.texts=[e.text_0=e.findChildById("Text_0"),e.text_1=e.findChildById("Text_1"),e.text_2=e.findChildById("Text_2")]),"live"==n.status?e.timeStamp=1e3*n.finishDateTime:"pending"==n.status&&(e.timeStamp=1e3*n.startDateTime),e.tickInterval=null,e.getElapsedTime(e.timeStamp,l.shortText),e.layout(),e}return(0,s.default)(a,[{key:"getElapsedTime",value:function(e,t){var n=this,l=0,e=new Date(e-Date.now()),i=[Math.floor(e/864e5),Math.floor(e/36e5%24),Math.floor(e/6e4%60),Math.floor(e/1e3%60)];if(!(i[0]<0)){if(0==i[0]&&(l=1),t){var e=i[0+l].toString().padStart(2,"0"),a=i[1+l].toString().padStart(2,"0"),r=i[2+l].toString().padStart(2,"0");this.shortText.text=e+this.description[0+l]+":"+a+this.description[1+l]+":"+r+this.description[2+l]}else for(var o=0;o<3;o++)this.texts[o].text=this.description[o+l],this.numbers[o].text=i[o+l].toString().padStart(2,"0");this.tickInterval=c2d.call(function(){return n.getElapsedTime(n.timeStamp,t)},1e3)}}},{key:"inflateMobileLandscapeLayout",value:function(){return this.inflateDesktopLayout.apply(this,arguments)}},{key:"inflateMobilePortraitLayout",value:function(){return this.inflateDesktopLayout.apply(this,arguments)}},{key:"getTimeNumbersLayout",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"White";return[new flatUI.text.TextField("",{align:"center",layoutHeight:"100%",layoutWidth:"30%",style:y(y({},f.Desktop.TextField.FontBold),{},{fill:f.Desktop.TextColor[t],align:"center",fontSize:e}),id:"Number_0"}),new flatUI.text.TextField(":",{align:"center",layoutHeight:"100%",layoutWidth:"5%",style:y(y({},f.Desktop.TextField.FontBold),{},{fill:f.Desktop.TextColor[t],align:"center",fontSize:e})}),new flatUI.text.TextField("",{align:"center",layoutHeight:"100%",layoutWidth:"30%",style:y(y({},f.Desktop.TextField.FontBold),{},{fill:f.Desktop.TextColor[t],align:"center",fontSize:e}),id:"Number_1"}),new flatUI.text.TextField(":",{align:"center",layoutHeight:"100%",layoutWidth:"5%",style:y(y({},f.Desktop.TextField.FontBold),{},{fill:f.Desktop.TextColor[t],align:"center",fontSize:e})}),new flatUI.text.TextField("",{align:"center",layoutHeight:"100%",layoutWidth:"30%",style:y(y({},f.Desktop.TextField.FontBold),{},{fill:f.Desktop.TextColor[t],align:"center",fontSize:e}),id:"Number_2"})]}},{key:"getTimeTextsLayout",value:function(e){return[new flatUI.text.TextField("",{align:"center",layoutHeight:"native",layoutWidth:"30%",style:y(y({},f.Desktop.TextField.RegularFont),{},{fill:f.Desktop.TextColor.Gray,align:"center",fontSize:e}),id:"Text_0"}),new flatUI.layout.Spacer,new flatUI.text.TextField("",{align:"center",layoutHeight:"native",layoutWidth:"30%",style:y(y({},f.Desktop.TextField.RegularFont),{},{fill:f.Desktop.TextColor.Gray,align:"center",fontSize:e}),id:"Text_1"}),new flatUI.layout.Spacer,new flatUI.text.TextField("",{align:"center",layoutHeight:"native",layoutWidth:"30%",style:y(y({},f.Desktop.TextField.RegularFont),{},{fill:f.Desktop.TextColor.Gray,align:"center",fontSize:e}),id:"Text_2"})]}},{key:"getShortTimeTextLayout",value:function(e){return[new flatUI.text.TextField("",{align:"center",layoutHeight:"20",layoutWidth:"100%",fitInLayout:!0,style:y(y({},f.Desktop.TextField.RegularFont),{},{fill:f.Desktop.TextColor.White,align:"center",fontSize:e}),id:"shortText"})]}},{key:"inflateDesktopLayout",value:function(e,t,n,l){var i=l.numberSize,a=void 0===i?28:i,i=l.textSize,r=void 0===i?18:i;switch(l.type){case"ShortText":return[new flatUI.layout.HorizontalLayout({align:"center",layoutHeight:"100%",layoutWidth:"100%"},[new flatUI.layout.HorizontalLayout({align:"center",layoutHeight:"20%",layoutWidth:"95%"},this.getShortTimeTextLayout(r))])];case"BlueText":return[new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"100%",layoutWidth:"100%"},[new flatUI.layout.HorizontalLayout({align:"center",layoutHeight:"60%",layoutWidth:"100%"},this.getTimeNumbersLayout(a,"Blue")),new flatUI.layout.HorizontalLayout({align:"center",layoutHeight:"10%",layoutWidth:"100%"},this.getTimeTextsLayout(r))])];default:return[new flatUI.layout.HorizontalLayout({align:"center",layoutHeight:"100%",layoutWidth:"100%"},[new flatUI.panel.Panel({layoutHeight:"100%",layoutWidth:"20",style:{alpha:0}}),new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"100%",layoutWidth:"80%"},[new flatUI.layout.HorizontalLayout({align:"center",layoutHeight:"80%",layoutWidth:"100%"},this.getTimeNumbersLayout(a)),new flatUI.layout.HorizontalLayout({align:"center",layoutHeight:"20%",layoutWidth:"100%"},this.getTimeTextsLayout(r))])])]}}},{key:"destroy",value:function(){return c2d.Timeout.clear(this.tickInterval),(0,u.default)((0,h.default)(a.prototype),"destroy",this).apply(this,arguments)}}]),a}(flatUI.layout.FrameLayout);n.default=l},{"../../StylesTournament.js":249,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/typeof":26}],262:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=e("@babel/runtime/helpers/typeof"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/defineProperty"))),a=l(e("@babel/runtime/helpers/classCallCheck")),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/inherits")),u=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf")),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};t=f(t);if(t&&t.has(e))return t.get(e);var n,l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(l,n,a):l[n]=e[n])}l.default=e,t&&t.set(e,l);return l}(e("../../../StylesTournament.js"));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(t,e){var n,l=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,n)),l}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach(function(e){(0,i.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function y(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}l=function(e){(0,s.default)(l,e);var n=y(l);function l(e,t){return(0,a.default)(this,l),n.call(this,{align:"none",layoutHeight:"42",layoutWidth:"100%"},null,{data:e,userID:t})}return(0,o.default)(l,[{key:"inflateMobilePortraitLayout",value:function(e,t,n){var l=n.data,n=n.userID,i="LeaderboardGray";return l.name===n&&(i="LeaderboardBlue"),[new flatUI.layout.HorizontalLayout({align:"center",layoutHeight:"94%",layoutWidth:"100%",style:h.Desktop.PanelColor[i],id:l.name},[new flatUI.text.TextField(l.position,{align:"center",layoutHeight:"100%",layoutWidth:"25%",fitInLayout:!0,style:p(p({},h.Desktop.TextField.RegularFont),{},{fill:h.Desktop.TextColor.Blue,fontSize:"18px",align:"center"})}),new flatUI.text.TextField(l.name,{align:"center",layoutHeight:"100%",layoutWidth:"25%",fitInLayout:!0,style:p(p({},h.Desktop.TextField.RegularFont),{},{fill:h.Desktop.TextColor.LightGray,fontSize:"18px",align:"center"})}),new flatUI.text.TextField(l.score,{align:"center",layoutHeight:"100%",layoutWidth:"25%",fitInLayout:!0,style:p(p({},h.Desktop.TextField.RegularFont),{},{fill:h.Desktop.TextColor.LightGray,fontSize:"18px",align:"center"})}),new flatUI.text.TextField(l.result,{align:"center",layoutHeight:"100%",layoutWidth:"25%",fitInLayout:!0,style:p(p({},h.Desktop.TextField.RegularFont),{},{fill:h.Desktop.TextColor.Blue,fontSize:"18px",align:"center"})})])]}},{key:"inflateMobileLandscapeLayout",value:function(e,t,n){return this.inflateMobilePortraitLayout.apply(this,arguments)}},{key:"inflateDesktopLayout",value:function(e,t,n){var l=n.data,n=n.userID,i="LeaderboardGray";return l.name===n&&(i="LeaderboardBlue"),[new flatUI.layout.HorizontalLayout({align:"center",layoutHeight:"94%",layoutWidth:"100%",style:h.Desktop.PanelColor[i],id:l.name},[new flatUI.text.TextField(l.position,{align:"center",layoutHeight:"100%",layoutWidth:"25%",fitInLayout:!0,style:p(p({},h.Desktop.TextField.RegularFont),{},{fill:h.Desktop.TextColor.Blue,fontSize:"22px",align:"center"})}),new flatUI.text.TextField(l.name,{align:"center",layoutHeight:"100%",layoutWidth:"25%",fitInLayout:!0,style:p(p({},h.Desktop.TextField.RegularFont),{},{fill:h.Desktop.TextColor.LightGray,fontSize:"22px",align:"center"})}),new flatUI.text.TextField(l.score,{align:"center",layoutHeight:"100%",layoutWidth:"25%",fitInLayout:!0,style:p(p({},h.Desktop.TextField.RegularFont),{},{fill:h.Desktop.TextColor.LightGray,fontSize:"22px",align:"center"})}),new flatUI.text.TextField(l.result,{align:"center",layoutHeight:"100%",layoutWidth:"25%",fitInLayout:!0,style:p(p({},h.Desktop.TextField.RegularFont),{},{fill:h.Desktop.TextColor.Blue,fontSize:"22px",align:"center"})})])]}}]),l}(flatUI.layout.FrameLayout);n.default=l},{"../../../StylesTournament.js":249,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/typeof":26}],263:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=e("@babel/runtime/helpers/typeof"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/defineProperty"))),a=l(e("@babel/runtime/helpers/classCallCheck")),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/get")),u=l(e("@babel/runtime/helpers/inherits")),c=l(e("@babel/runtime/helpers/possibleConstructorReturn")),h=l(e("@babel/runtime/helpers/getPrototypeOf")),f=l(e("../Paginator.js")),d=l(e("../../../../flatUI/view/common/optionsScreen/ScrollableLayout.js")),p=l(e("./LeaderboardItem.js")),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};t=b(t);if(t&&t.has(e))return t.get(e);var n,l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(l,n,a):l[n]=e[n])}l.default=e,t&&t.set(e,l);return l}(e("../../../StylesTournament.js"));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function m(t,e){var n,l=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,n)),l}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach(function(e){(0,i.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function v(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(n);return e=l?(e=(0,h.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}var l=flatUI.layout,_=l.Spacer,S=l.VerticalLayout,C=l.GridLayout,I=l.HorizontalLayout,w=(l.FrameLayout,flatUI.text.TextField),e=function(e){(0,u.default)(l,e);var n=v(l);function l(e){var t;return(0,a.default)(this,l),(t=n.call(this,{align:"center",layoutHeight:"100%",layoutWidth:"100%"},null)).ratingScrollableContainer=t.findChildById("ScrollableContainer"),t.ratingContainer=t.findChildById("Scrollable"),t.model=e,t.zOrder=1e4,t.displayGroup=game.displayGroups.UI,t.userPosition=t.findChildById("UserPosition"),t.userId=t.findChildById("UserId"),t.userScore=t.findChildById("UserScore"),t.userResult=t.findChildById("UserResult"),t.maxRecords=50,t.updateTournamentData(),t.layout(),t.resizeHandler=function(e){return t.onResize(e.data)},c2d.eventManager.subscribe(c2d.documentEvents.SCREEN_WAS_RESIZED,t.resizeHandler),t}return(0,o.default)(l,[{key:"onResize",value:function(e){e.isOrientationChange&&this.updateTournamentData(),this.layout()}},{key:"onInitialize",value:function(){(0,s.default)((0,h.default)(l.prototype),"onInitialize",this).call(this),this.updateTournamentData=this.updateTournamentData.bind(this),c2d.eventManager.subscribe(game.events.Tournament.TOURNAMENT_DATA_UPDATED,this.updateTournamentData),c2d.eventManager.dispatch(game.events.Tournament.TOURNAMENT_SHOW_LEADERBOARD)}},{key:"onLayout",value:function(){this.ratingScrollableContainer.scrollValue=0}},{key:"updateTournamentData",value:function(){var e=this.findChildById("Paginator");this.model.userPosition?(this.userPosition.text=this.model.userPosition.data.position,this.userId.text=this.model.userPosition.data.name,this.userScore.text=this.model.userPosition.data.score,this.userResult.text=this.model.userPosition.data.result,this.setPage(e.page||1,this.model.userPosition.data.name)):this.setPage(e.page||1)}},{key:"inflateMobileLandscapeLayout",value:function(){var t=this;return[new S({align:"middle",layoutHeight:"100%",layoutWidth:"99%"},[new I({align:"center",layoutHeight:"10%",layoutWidth:"100%",style:y.Mobile.PanelColor.Gray},this.titles),new flatUI.panel.Panel({layoutHeight:"3",layoutWidth:"100%",style:y.Mobile.PanelColor.Black}),new I({align:"center",layoutHeight:"40",layoutWidth:"100%",style:y.Mobile.PanelColor.LeaderboardBlue},[new w("----",{align:"center",layoutHeight:"94%",layoutWidth:"25%",style:g(g({},y.Mobile.TextField.RegularFont),{},{fill:y.Mobile.TextColor.Blue,fontSize:"18px"}),id:"UserPosition"}),new w("----",{align:"center",layoutHeight:"94%",layoutWidth:"25%",style:g(g({},y.Mobile.TextField.RegularFont),{},{fill:y.Mobile.TextColor.Blue,fontSize:"18px"}),id:"UserId"}),new w("----",{align:"center",layoutHeight:"94%",layoutWidth:"25%",style:g(g({},y.Mobile.TextField.RegularFont),{},{fill:y.Mobile.TextColor.Blue,fontSize:"18px"}),id:"UserScore"}),new w("----",{align:"center",layoutHeight:"94%",layoutWidth:"25%",style:g(g({},y.Mobile.TextField.RegularFont),{},{fill:y.Mobile.TextColor.Blue,fontSize:"18px"}),id:"UserResult"})]),new flatUI.panel.Panel({layoutHeight:"3",layoutWidth:"100%",style:y.Mobile.PanelColor.Black}),new d.default({align:"center",layoutHeight:"58%",layoutWidth:"100%",id:"ScrollableContainer"},[new C({layoutHeight:"100%",layoutWidth:"100%",columnCount:1,padding:0,id:"Scrollable"},[])]),new f.default(function(e){return t.setPage(e)},{pages:0,maxButtons:8,page:0}).setParams({id:"Paginator"}),new _]),new S({align:"middle",layoutHeight:"100%",layoutWidth:"100%"},[new _,new I({align:"center",layoutHeight:"40",layoutWidth:"100%",style:y.Mobile.PanelColor.DarkGray},[new w("tournament_time_to_update".ls(),{align:"center",layoutWidth:"100%",style:g(g({},y.Mobile.TextField.RegularFont),{},{fill:y.Mobile.TextColor.Gray,align:"center",fontSize:14})})])])]}},{key:"inflateMobilePortraitLayout",value:function(){var t=this;return[new S({align:"middle",layoutHeight:"100%",layoutWidth:"100%"},[new I({align:"center",layoutHeight:"10%",layoutWidth:"100%",style:y.Mobile.PanelColor.Gray},this.titles),new flatUI.panel.Panel({layoutHeight:"3",layoutWidth:"100%",style:y.Mobile.PanelColor.Black}),new I({align:"center",layoutHeight:"40",layoutWidth:"99%",style:y.Mobile.PanelColor.LeaderboardBlue},[new w("----",{align:"center",layoutHeight:"94%",layoutWidth:"25%",style:g(g({},y.Mobile.TextField.RegularFont),{},{fill:y.Mobile.TextColor.Blue,fontSize:"18px"}),id:"UserPosition"}),new w("----",{align:"center",layoutHeight:"94%",layoutWidth:"25%",style:g(g({},y.Mobile.TextField.RegularFont),{},{fill:y.Mobile.TextColor.Blue,fontSize:"18px"}),id:"UserId"}),new w("----",{align:"center",layoutHeight:"94%",layoutWidth:"25%",style:g(g({},y.Mobile.TextField.RegularFont),{},{fill:y.Mobile.TextColor.Blue,fontSize:"18px"}),id:"UserScore"}),new w("----",{align:"center",layoutHeight:"94%",layoutWidth:"25%",style:g(g({},y.Mobile.TextField.RegularFont),{},{fill:y.Mobile.TextColor.Blue,fontSize:"18px"}),id:"UserResult"})]),new flatUI.panel.Panel({layoutHeight:"3",layoutWidth:"100%",style:y.Mobile.PanelColor.Black}),new d.default({align:"none",layoutHeight:"72%",layoutWidth:"99%",id:"ScrollableContainer"},[new C({align:"middle",layoutWidth:"100%",columnCount:1,padding:0,id:"Scrollable"},[])]),new f.default(function(e){return t.setPage(e)},{pages:0,maxButtons:8,page:0}).setParams({id:"Paginator"}),new _]),new S({align:"middle",layoutHeight:"100%",layoutWidth:"100%"},[new _,new I({align:"center",layoutHeight:"40",layoutWidth:"100%",style:y.Mobile.PanelColor.DarkGray},[new w("tournament_time_to_update".ls(),{align:"center",layoutWidth:"100%",style:g(g({},y.Mobile.TextField.RegularFont),{},{fill:y.Mobile.TextColor.Gray,align:"center",fontSize:14})})])])]}},{key:"inflateDesktopLayout",value:function(){var t=this;return[new S({align:"middle",layoutHeight:"100%",layoutWidth:"99%"},[new I({align:"center",layoutHeight:"10%",layoutWidth:"100%",style:y.Desktop.PanelColor.Gray},this.titlesDesktop),new flatUI.panel.Panel({layoutHeight:"3",layoutWidth:"100%",style:y.Desktop.PanelColor.Black}),new I({align:"center",layoutHeight:"40",layoutWidth:"100%",style:y.Desktop.PanelColor.LeaderboardBlue},[new w("----",{align:"center",layoutHeight:"94%",layoutWidth:"25%",style:g(g({},y.Desktop.TextField.RegularFont),{},{fill:y.Desktop.TextColor.Blue,fontSize:"24px"}),id:"UserPosition"}),new w("----",{align:"center",layoutHeight:"94%",layoutWidth:"25%",style:g(g({},y.Desktop.TextField.RegularFont),{},{fill:y.Desktop.TextColor.Blue,fontSize:"24px"}),id:"UserId"}),new w("----",{align:"center",layoutHeight:"94%",layoutWidth:"25%",style:g(g({},y.Desktop.TextField.RegularFont),{},{fill:y.Desktop.TextColor.Blue,fontSize:"24px"}),id:"UserScore"}),new w("----",{align:"center",layoutHeight:"94%",layoutWidth:"25%",style:g(g({},y.Desktop.TextField.RegularFont),{},{fill:y.Desktop.TextColor.Blue,fontSize:"24px"}),id:"UserResult"})]),new flatUI.panel.Panel({layoutHeight:"3",layoutWidth:"100%",style:y.Desktop.PanelColor.Black}),new d.default({align:"center",layoutHeight:"68%",layoutWidth:"100%",id:"ScrollableContainer"},[new C({layoutHeight:"100%",layoutWidth:"100%",columnCount:1,padding:0,id:"Scrollable"},[])]),new f.default(function(e){return t.setPage(e)},{pages:0,maxButtons:8,page:0}).setParams({id:"Paginator"}),new _]),new S({align:"middle",layoutHeight:"100%",layoutWidth:"100%"},[new _,new I({align:"center",layoutHeight:"40",layoutWidth:"100%",style:y.Desktop.PanelColor.DarkGray},[new w("tournament_time_to_update".ls(),{align:"center",layoutWidth:"100%",style:g(g({},y.Desktop.TextField.RegularFont),{},{fill:y.Desktop.TextColor.Gray,align:"center",fontSize:18})})])])]}},{key:"titles",get:function(){var e={align:"center",layoutHeight:"100%",layoutWidth:"25%",style:g(g({},y.Desktop.TextField.RegularFont),{},{fill:y.Desktop.TextColor.Blue,fontSize:"18px",wordWrap:!1,align:"center"})};return[new w("tournament_leaderboard_position".ls(),e),new w("tournament_leaderboard_player_id".ls(),e),new w("tournament_leaderboard_score".ls(),e),new w("tournament_leaderboard_result".ls(),e)]}},{key:"titlesDesktop",get:function(){var e={align:"center",layoutHeight:"100%",layoutWidth:"25%",style:g(g({},y.Desktop.TextField.RegularFont),{},{fill:y.Desktop.TextColor.Blue,fontSize:"28px",wordWrap:!1,align:"center"})};return[new w("tournament_leaderboard_position".ls(),e),new w("tournament_leaderboard_player_id".ls(),e),new w("tournament_leaderboard_score".ls(),e),new w("tournament_leaderboard_result".ls(),e)]}},{key:"setPage",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=this.findChildById("Paginator"),l=this.model.data.list[this.model.index],i=[],a=l.prizes,r=l.prizeLineNumber,o=this.model.table.data.result;a.forEach(function(e){for(var t=0;t<r+1;t++)t>=e.top&&t<=e.bottom&&i.push(e.text)});for(var s,u=0;u<r;u++)o[u]?o[u].prize=i[u]:(s={position:u+1,name:"",score:"",result:i[u]},o.push(s));l=o.slice((e-1)*this.maxRecords,(e-1)*this.maxRecords+this.maxRecords).map(function(e){return new p.default(e,t)}),n.pages=Math.ceil(o.length/this.maxRecords),a=c2d.env.device.portrait()?5:8;1==n.pages&&(a=0),n.maxButtons=a,n.page=e,this.ratingContainer&&(this.ratingContainer.removeComponents({children:!0}),this.ratingContainer.addChildren(l),this.ratingContainer.layout()),this.ratingScrollableContainer.layout(),this.ratingContainer.y=0,this.ratingContainer.x=0}},{key:"destroy",value:function(){return c2d.eventManager.unsubscribe(game.events.Tournament.TOURNAMENT_DATA_UPDATED,this.updateTournamentData),c2d.eventManager.unsubscribe(c2d.documentEvents.SCREEN_WAS_RESIZED,this.resizeHandler),c2d.eventManager.dispatch(game.events.Tournament.TOURNAMENT_HIDE_LEADERBOARD),(0,s.default)((0,h.default)(l.prototype),"destroy",this).call(this,{children:!0})}}]),l}(flatUI.layout.FrameLayout);n.default=e},{"../../../../flatUI/view/common/optionsScreen/ScrollableLayout.js":64,"../../../StylesTournament.js":249,"../Paginator.js":260,"./LeaderboardItem.js":262,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/typeof":26}],264:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=e("@babel/runtime/helpers/typeof"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/regenerator"))),i=l(e("@babel/runtime/helpers/defineProperty")),o=l(e("@babel/runtime/helpers/asyncToGenerator")),s=l(e("@babel/runtime/helpers/classCallCheck")),u=l(e("@babel/runtime/helpers/createClass")),c=l(e("@babel/runtime/helpers/inherits")),h=l(e("@babel/runtime/helpers/possibleConstructorReturn")),f=l(e("@babel/runtime/helpers/getPrototypeOf")),d=l(e("../Timer.js")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};t=y(t);if(t&&t.has(e))return t.get(e);var n,l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(l,n,a):l[n]=e[n])}l.default=e,t&&t.set(e,l);return l}(e("../../../StylesTournament.js"));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b(t,e){var n,l=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,n)),l}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach(function(e){(0,i.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function g(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,f.default)(n);return e=l?(e=(0,f.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,e)}}var l=flatUI.layout,v=l.Spacer,_=l.VerticalLayout,S=(l.GridLayout,l.HorizontalLayout),C=l.FrameLayout,e=flatUI.text,I=e.TextField,w=e.MultiStyleTextField,R=flatUI.panel.Panel,l=function(e){(0,c.default)(i,e);var t,l=g(i);function i(e){(0,s.default)(this,i),(t=l.call(this,{align:"center",layoutHeight:"100%",layoutWidth:"440"},null,e)).tournamentInfo=t.findChildById("TournamentInfo"),t.tournamentInfo.background.interactive=!0,t.tournamentInfo.visible=!1,t.data=e;var t,n=PIXI.Texture.from(t.data.logo);return n.baseTexture.hasLoaded?t.setLogo(n):n.baseTexture.on("loaded",function(){return t.setLogo(n)}),t.indication=t.findChildById("Indication"),"live"==e.status&&c2d.Tween.get(t.indication.icon,{loop:!0,bounce:!1}).to({alpha:.1},600).to({alpha:1},600),t.layout(),t}return(0,u.default)(i,[{key:"setLogo",value:(t=(0,o.default)(a.default.mark(function e(t){var n,l;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(n=this.findChildById("Logo")).icon.texture=t,l=Math.min(this.iconFrame.x/n.icon.width,this.iconFrame.y/n.icon.height),n.icon.scale.set(l);case 4:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"inflateMobileLandscapeLayout",value:function(e,t,n){var l=this;return this.iconFrame={y:110,x:250},[new C({align:"none",layoutHeight:"380",layoutWidth:"400"},[new _({align:"middle",layoutHeight:"100%",layoutWidth:"100%",style:p.Mobile.PanelColor.DarkGray},[new R({layoutHeight:"8%",layoutWidth:"100%",style:{alpha:0}}),new _({align:"middle",layoutHeight:"40%",layoutWidth:"100%",style:p.Mobile.PanelColor.Gray},[new I(n.texts.title,{align:"center",layoutHeight:"40",layoutWidth:"100%",style:m(m({},p.Mobile.TextField.BoldFont),{},{fill:p.Mobile.TextColor.LightGray,align:"center",fontSize:18})}),new flatUI.layout.HorizontalLayout({align:"center",layoutHeight:"110",layoutWidth:"250"},[new flatUI.graphics.Icon("",{align:"center",layoutHeight:"100%",layoutWidth:"100%",id:"Logo"})]),new R({layoutHeight:"8%",layoutWidth:"100%",style:{alpha:0}})]),new v,"0"!=n.prizeFund?new I("tournament_prize_pool".ls()+": "+n.prizeFund+(c2d.env.hideCurrency?"":" "+n.prizeCurrency),{align:"center",layoutHeight:"20",layoutWidth:"100%",style:m(m({},p.Mobile.TextField.BoldFont),{},{fill:p.Mobile.TextColor.Blue,align:"center",fontSize:20})}):null,"0"!=n.prizeFund?new v:null,"finished"==n.status?new flatUI.text.TextField("tournament_finished".ls(),{align:"center",layoutHeight:"50",layoutWidth:"native",style:m(m({},p.Mobile.TextField.BoldFont),{},{fill:p.Mobile.TextColor.LightGray,align:"center",fontSize:18})}):new d.default({align:"none",layoutHeight:"50",layoutWidth:"260"},[],n,{textSize:16}),new v,new flatUI.layout.FrameLayout({align:"center",layoutHeight:"40",layoutWidth:"100%"},[new flatUI.buttons.IconButton(function(){return c2d.eventManager.dispatch(game.events.Tournament.TOURNAMENT_SHOW_PAGE,{id:n.id,page:"Leaderboards",name:n.texts.title})},{align:"center",layoutHeight:"native",layoutWidth:"native",style:p.Mobile.IconButtonsStyle.Leaderboard[n.status]}),new I("tournament_leaderboard_button".ls(),{align:"center",layoutHeight:"100%",layoutWidth:"100%",style:m(m({},p.Mobile.TextField.RegularFont),{},{fill:p.Mobile.TextColor.White,align:"center",fontSize:18})})]),new S({align:"center",layoutHeight:"60",layoutWidth:"90%"},[new flatUI.layout.FrameLayout({align:"center",layoutHeight:"60%",layoutWidth:"40%"},[new flatUI.buttons.FlatButton(function(){return c2d.eventManager.dispatch(game.events.Tournament.TOURNAMENT_SHOW_PAGE,{id:n.id,page:"Rules",name:n.texts.title})},{layoutHeight:"100%",layoutWidth:"100%",style:p.Mobile.TournamentPinMiniButtonStyle}),new S({align:"center",layoutHeight:"100%",layoutWidth:"100%"},[new flatUI.graphics.Icon(p.Mobile.IconButtonsStyle.PinRules.textures.normal,{align:"center",layoutHeight:"16",layoutWidth:"40"}),new I("tournament_rules_button".ls(),{align:"left",layoutWidth:"70",style:m(m({},p.Mobile.TextField.RegularFont),{},{fill:p.Mobile.TextColor.Blue,align:"center",fontSize:16})}),new v])]),new v,new flatUI.layout.FrameLayout({align:"center",layoutHeight:"60%",layoutWidth:"40%"},[new flatUI.buttons.FlatButton(function(){return l.tournamentInfo.visible=!0},{layoutHeight:"100%",layoutWidth:"100%",style:p.Mobile.TournamentPinMiniButtonStyle}),new S({align:"center",layoutHeight:"100%",layoutWidth:"100%"},[new v,new I("tournament_info_button".ls(),{align:"right",layoutWidth:"70",style:m(m({},p.Mobile.TextField.RegularFont),{},{fill:p.Mobile.TextColor.Blue,align:"center",fontSize:16})}),new flatUI.graphics.Icon(p.Mobile.IconButtonsStyle.PinInfo.textures.normal,{align:"center",layoutHeight:"16",layoutWidth:"40"})])])])]),new _({align:"middle",layoutHeight:"100%",layoutWidth:"100%",id:"TournamentInfo",style:m(m({},p.Mobile.PanelColor.VeryDarkGray),{},{alpha:1})},[new R({layoutHeight:"8%",layoutWidth:"100%",style:{alpha:0}}),new S({align:"center",layoutHeight:"52",layoutWidth:"94%"},[new I("tournament_pin_information".ls(),{align:"left",style:m(m({},p.Mobile.TextField.BoldFont),{},{fill:p.Mobile.TextColor.Blue,align:"center",fontSize:18})}),new v,new flatUI.buttons.IconButton(function(){return l.tournamentInfo.visible=!1},{align:"center",layoutHeight:"46",layoutWidth:"46",style:p.Mobile.IconButtonsStyle.PinClose})]),new _({align:"middle",layoutHeight:"80%",layoutWidth:"100%",style:p.Mobile.PanelColor.DarkGray},[new v({layoutWeight:.1}),new w("tournament_pin_trn_name".ls()+":\n<lightGray>"+n.texts.title+"</lightGray>",{align:"left",layoutHeight:"native",layoutWidth:"90%",style:{default:m(m({},p.Mobile.TextField.RegularFont),{},{fill:p.Mobile.TextColor.Gray,align:"left",fontSize:"20px"}),lightGray:{fill:p.Mobile.TextColor.LightGray}}}),new w("tournament_ranking_type".ls()+":\n<lightGray>"+n.texts.ranking+"</lightGray>",{align:"left",layoutHeight:"native",layoutWidth:"90%",style:{default:m(m({},p.Mobile.TextField.RegularFont),{},{fill:p.Mobile.TextColor.Gray,align:"left",fontSize:"20px"}),lightGray:{fill:p.Mobile.TextColor.LightGray}}}),"0"!=n.prizeFund&&new w("tournament_prize_pool".ls()+":\n<lightGray>"+n.prizeFund+(c2d.env.hideCurrency?"":" "+n.prizeCurrency)+"</lightGray>",{align:"left",layoutHeight:"native",layoutWidth:"90%",style:{default:m(m({},p.Mobile.TextField.RegularFont),{},{fill:p.Mobile.TextColor.Gray,align:"left",fontSize:"20px"}),lightGray:{fill:p.Mobile.TextColor.LightGray}}}),new w("tournament_prize_line_number".ls()+":\n<lightGray>"+n.prizeLineNumber+"</lightGray>",{align:"left",layoutHeight:"native",layoutWidth:"90%",style:{default:m(m({},p.Mobile.TextField.RegularFont),{},{fill:p.Mobile.TextColor.Gray,align:"left",fontSize:"20px"}),lightGray:{fill:p.Mobile.TextColor.LightGray}}}),new w("tournament_bet_for_participation".ls()+":\n<lightGray>"+n.convertedMinBet+"</lightGray>",{align:"left",layoutHeight:"native",layoutWidth:"90%",style:{default:m(m({},p.Mobile.TextField.RegularFont),{},{fill:p.Mobile.TextColor.Gray,align:"left",fontSize:"20px"}),lightGray:{fill:p.Mobile.TextColor.LightGray}}}),new v])]),new _({align:"middle",layoutHeight:"100%",layoutWidth:"100%"},[new S({align:"center",layoutHeight:"8%",layoutWidth:"100%",style:p.Mobile.PanelColor.DarkGray},[new v({layoutWeight:.5}),new I(n.texts.type,{align:"left",layoutHeight:"native",layoutWidth:"40%",style:m(m({},p.Mobile.TextField.RegularFont),{},{fill:p.Mobile.TextColor.LightGray,align:"center",fontSize:"16px"})}),new v,new I(("tournament_"+n.status).ls(),{align:"right",layoutHeight:"native",layoutWidth:"40%",style:m(m({},p.Mobile.TextField.RegularFont),{},{fill:p.Mobile.IndicationStyle[n.status].fill,align:"center",fontSize:"16px"})}),new v({layoutWeight:.5}),new flatUI.graphics.Icon(p.Mobile.IndicationStyle[n.status].icon,{align:"center",layoutHeight:"native",layoutWidth:"native",id:"Indication"}),new v({layoutWeight:.5})]),new v])])]}},{key:"inflateMobilePortraitLayout",value:function(e,t,n){var l=this;return this.iconFrame={x:300,y:160},[new C({align:"none",layoutHeight:"100%",layoutWidth:"500"},[new _({align:"middle",layoutHeight:"100%",layoutWidth:"100%",style:p.Mobile.PanelColor.DarkGray},[new R({layoutHeight:"8%",layoutWidth:"100%",style:{alpha:0}}),new _({align:"middle",layoutHeight:"46%",layoutWidth:"100%",style:p.Mobile.PanelColor.Gray},[new v,new I(n.texts.title,{align:"center",layoutHeight:"40",layoutWidth:"100%",style:m(m({},p.Mobile.TextField.BoldFont),{},{fill:p.Mobile.TextColor.LightGray,align:"center",fontSize:18})}),new v,new flatUI.layout.HorizontalLayout({align:"center",layoutHeight:"160",layoutWidth:"300",style:{color:255,alpha:0}},[new flatUI.graphics.Icon("",{align:"center",layoutHeight:"100%",layoutWidth:"100%",id:"Logo"})]),new v]),new v,"0"!=n.prizeFund?new I("tournament_prize_pool".ls()+": "+n.prizeFund+(c2d.env.hideCurrency?"":" "+n.prizeCurrency),{align:"center",layoutWidth:"100%",style:m(m({},p.Mobile.TextField.BoldFont),{},{fill:p.Mobile.TextColor.Blue,align:"center",fontSize:20})}):null,"0"!=n.prizeFund?new v:null,"finished"==n.status?new flatUI.text.TextField("tournament_finished".ls(),{align:"center",layoutHeight:"50",layoutWidth:"native",style:m(m({},p.Mobile.TextField.BoldFont),{},{fill:p.Mobile.TextColor.LightGray,align:"center",fontSize:18})}):new d.default({align:"none",layoutHeight:"90",layoutWidth:"260"},[],n,{numberSize:44,textSize:14}),new v,new flatUI.layout.FrameLayout({align:"center",layoutHeight:"40",layoutWidth:"100%"},[new flatUI.buttons.IconButton(function(){return c2d.eventManager.dispatch(game.events.Tournament.TOURNAMENT_SHOW_PAGE,{id:n.id,page:"Leaderboards",name:n.texts.title})},{align:"center",layoutHeight:"native",layoutWidth:"native",style:p.Mobile.IconButtonsStyle.Leaderboard[n.status]}),new I("tournament_leaderboard_button".ls(),{align:"center",layoutHeight:"100%",layoutWidth:"100%",style:m(m({},p.Mobile.TextField.RegularFont),{},{fill:p.Mobile.TextColor.White,align:"center",fontSize:18})})]),new v,new S({align:"center",layoutHeight:"60",layoutWidth:"90%"},[new flatUI.layout.FrameLayout({align:"center",layoutHeight:"60%",layoutWidth:"40%"},[new flatUI.buttons.FlatButton(function(){return c2d.eventManager.dispatch(game.events.Tournament.TOURNAMENT_SHOW_PAGE,{id:n.id,page:"Rules",name:n.texts.title})},{layoutHeight:"100%",layoutWidth:"100%",style:p.Mobile.TournamentPinMiniButtonStyle}),new S({align:"center",layoutHeight:"100%",layoutWidth:"100%"},[new flatUI.graphics.Icon(p.Mobile.IconButtonsStyle.PinRules.textures.normal,{align:"center",layoutHeight:"16",layoutWidth:"40"}),new I("tournament_rules_button".ls(),{align:"left",layoutWidth:"70",style:m(m({},p.Mobile.TextField.RegularFont),{},{fill:p.Mobile.TextColor.Blue,align:"center",fontSize:16})}),new v])]),new v,new flatUI.layout.FrameLayout({align:"center",layoutHeight:"60%",layoutWidth:"40%"},[new flatUI.buttons.FlatButton(function(){return l.tournamentInfo.visible=!0},{layoutHeight:"100%",layoutWidth:"100%",style:p.Mobile.TournamentPinMiniButtonStyle}),new S({align:"center",layoutHeight:"100%",layoutWidth:"100%"},[new v,new I("tournament_info_button".ls(),{align:"right",layoutWidth:"70",style:m(m({},p.Mobile.TextField.RegularFont),{},{fill:p.Mobile.TextColor.Blue,align:"center",fontSize:16})}),new flatUI.graphics.Icon(p.Mobile.IconButtonsStyle.PinInfo.textures.normal,{align:"center",layoutHeight:"16",layoutWidth:"40"})])])])]),new _({align:"middle",layoutHeight:"100%",layoutWidth:"100%",id:"TournamentInfo",style:m(m({},p.Mobile.PanelColor.VeryDarkGray),{},{alpha:1})},[new R({layoutHeight:"8%",layoutWidth:"100%",style:{alpha:0}}),new S({align:"center",layoutHeight:"52",layoutWidth:"94%"},[new I("tournament_pin_information".ls(),{align:"left",style:m(m({},p.Mobile.TextField.BoldFont),{},{fill:p.Mobile.TextColor.Blue,align:"center",fontSize:18})}),new v,new flatUI.buttons.IconButton(function(){return l.tournamentInfo.visible=!1},{align:"center",layoutHeight:"52",layoutWidth:"52",style:p.Mobile.IconButtonsStyle.PinClose})]),new _({align:"middle",layoutHeight:"80%",layoutWidth:"100%",style:p.Mobile.PanelColor.DarkGray},[new v({layoutWeight:.1}),new w("tournament_pin_trn_name".ls()+":\n<lightGray>"+n.texts.title+"</lightGray>",{align:"left",layoutHeight:"native",layoutWidth:"90%",style:{default:m(m({},p.Mobile.TextField.RegularFont),{},{fill:p.Mobile.TextColor.Gray,align:"left",fontSize:"24px"}),lightGray:{fill:p.Mobile.TextColor.LightGray}}}),new w("tournament_ranking_type".ls()+":\n<lightGray>"+n.texts.ranking+"</lightGray>",{align:"left",layoutHeight:"native",layoutWidth:"90%",style:{default:m(m({},p.Mobile.TextField.RegularFont),{},{fill:p.Mobile.TextColor.Gray,align:"left",fontSize:"24px"}),lightGray:{fill:p.Mobile.TextColor.LightGray}}}),"0"!=n.prizeFund&&new w("tournament_prize_pool".ls()+":\n<lightGray>"+n.prizeFund+(c2d.env.hideCurrency?"":" "+n.prizeCurrency)+"</lightGray>",{align:"left",layoutHeight:"native",layoutWidth:"90%",style:{default:m(m({},p.Mobile.TextField.RegularFont),{},{fill:p.Mobile.TextColor.Gray,align:"left",fontSize:"24px"}),lightGray:{fill:p.Mobile.TextColor.LightGray}}}),new w("tournament_prize_line_number".ls()+":\n<lightGray>"+n.prizeLineNumber+"</lightGray>",{align:"left",layoutHeight:"native",layoutWidth:"90%",style:{default:m(m({},p.Mobile.TextField.RegularFont),{},{fill:p.Mobile.TextColor.Gray,align:"left",fontSize:"24px"}),lightGray:{fill:p.Mobile.TextColor.LightGray}}}),new w("tournament_bet_for_participation".ls()+":\n<lightGray>"+n.convertedMinBet+"</lightGray>",{align:"left",layoutHeight:"native",layoutWidth:"90%",style:{default:m(m({},p.Mobile.TextField.RegularFont),{},{fill:p.Mobile.TextColor.Gray,align:"left",fontSize:"24px"}),lightGray:{fill:p.Mobile.TextColor.LightGray}}}),new v])]),new _({align:"middle",layoutHeight:"100%",layoutWidth:"100%"},[new S({align:"center",layoutHeight:"8%",layoutWidth:"100%",style:p.Mobile.PanelColor.DarkGray},[new v({layoutWeight:.5}),new I(n.texts.type,{align:"left",layoutHeight:"native",layoutWidth:"40%",style:m(m({},p.Mobile.TextField.RegularFont),{},{fill:p.Mobile.TextColor.LightGray,align:"center",fontSize:"16px"})}),new v,new I(("tournament_"+n.status).ls(),{align:"right",layoutHeight:"native",layoutWidth:"40%",style:m(m({},p.Mobile.TextField.RegularFont),{},{fill:p.Mobile.IndicationStyle[n.status].fill,align:"center",fontSize:"16px"})}),new v({layoutWeight:.5}),new flatUI.graphics.Icon(p.Mobile.IndicationStyle[n.status].icon,{align:"center",layoutHeight:"native",layoutWidth:"native",id:"Indication"}),new v({layoutWeight:.5})]),new v])])]}},{key:"inflateDesktopLayout",value:function(e,t,n){var l=this;return this.iconFrame={x:300,y:160},[new _({align:"middle",layoutHeight:"100%",layoutWidth:"100%",style:p.Desktop.PanelColor.DarkGray},[new R({layoutHeight:"8%",layoutWidth:"100%",style:{alpha:0}}),new _({align:"middle",layoutHeight:"46%",layoutWidth:"100%",style:p.Desktop.PanelColor.Gray},[new I(n.texts.title,{align:"center",layoutWidth:"100%",style:m(m({},p.Desktop.TextField.BoldFont),{},{fill:p.Desktop.TextColor.LightGray,align:"center",fontSize:22})}),new flatUI.layout.HorizontalLayout({align:"center",layoutHeight:"160",layoutWidth:"300",style:{color:16711680,alpha:0}},[new flatUI.graphics.Icon("",{align:"center",layoutHeight:"100%",layoutWidth:"100%",id:"Logo"})])]),new v,"0"!=n.prizeFund&&new I("tournament_prize_pool".ls()+": "+n.prizeFund+(c2d.env.hideCurrency?"":" "+n.prizeCurrency),{align:"center",layoutWidth:"100%",style:m(m({},p.Desktop.TextField.BoldFont),{},{fill:p.Desktop.TextColor.Blue,align:"center",fontSize:20})}),"0"!=n.prizeFund&&new v,"finished"==n.status?new flatUI.text.TextField("tournament_finished".ls(),{align:"center",layoutHeight:"50",layoutWidth:"native",style:m(m({},p.Desktop.TextField.BoldFont),{},{fill:p.Desktop.TextColor.LightGray,align:"center",fontSize:22})}):new d.default({align:"none",layoutHeight:"60",layoutWidth:"300"},[],n,{textSize:18,numberSize:30}),new v,new flatUI.layout.FrameLayout({align:"center",layoutHeight:"40",layoutWidth:"100%"},[new flatUI.buttons.IconButton(function(){return c2d.eventManager.dispatch(game.events.Tournament.TOURNAMENT_SHOW_PAGE,{id:n.id,page:"Leaderboards",name:n.texts.title})},{align:"center",layoutHeight:"native",layoutWidth:"native",style:p.Desktop.IconButtonsStyle.Leaderboard[n.status]}),new I("tournament_leaderboard_button".ls(),{align:"center",layoutHeight:"100%",layoutWidth:"100%",style:m(m({},p.Desktop.TextField.RegularFont),{},{fill:p.Desktop.TextColor.White,align:"center",fontSize:22})})]),new S({align:"center",layoutHeight:"60",layoutWidth:"420"},[new flatUI.layout.FrameLayout({align:"center",layoutHeight:"60%",layoutWidth:"40%"},[new flatUI.buttons.FlatButton(function(){return c2d.eventManager.dispatch(game.events.Tournament.TOURNAMENT_SHOW_PAGE,{id:n.id,page:"Rules",name:n.texts.title})},{layoutHeight:"100%",layoutWidth:"100%",style:p.Desktop.TournamentPinMiniButtonStyle}),new S({align:"center",layoutHeight:"100%",layoutWidth:"100%"},[new flatUI.graphics.Icon(p.Desktop.IconButtonsStyle.PinRules.textures.normal,{align:"center",layoutHeight:"16",layoutWidth:"40"}),new I("tournament_rules_button".ls(),{align:"left",layoutWidth:"90",style:m(m({},p.Desktop.TextField.RegularFont),{},{fill:p.Desktop.TextColor.Blue,align:"center",fontSize:24})}),new v])]),new v,new flatUI.layout.FrameLayout({align:"center",layoutHeight:"60%",layoutWidth:"40%"},[new flatUI.buttons.FlatButton(function(){return l.tournamentInfo.visible=!0},{layoutHeight:"100%",layoutWidth:"100%",style:p.Desktop.TournamentPinMiniButtonStyle}),new S({align:"center",layoutHeight:"100%",layoutWidth:"100%"},[new v,new I("tournament_info_button".ls(),{align:"right",layoutWidth:"90",style:m(m({},p.Desktop.TextField.RegularFont),{},{fill:p.Desktop.TextColor.Blue,align:"center",fontSize:24})}),new flatUI.graphics.Icon(p.Desktop.IconButtonsStyle.PinInfo.textures.normal,{align:"center",layoutHeight:"16",layoutWidth:"40"})])])])]),new _({align:"middle",layoutHeight:"100%",layoutWidth:"440",id:"TournamentInfo",style:m(m({},p.Desktop.PanelColor.VeryDarkGray),{},{alpha:1})},[new R({layoutHeight:"8%",layoutWidth:"100%",style:{alpha:0}}),new S({align:"center",layoutHeight:"12%",layoutWidth:"100%",style:p.Desktop.PanelColor.Gray},[new v({layoutWeight:.1}),new I("tournament_pin_information".ls(),{align:"left",layoutWidth:"50%",style:m(m({},p.Desktop.TextField.BoldFont),{},{fill:p.Desktop.TextColor.Blue,align:"center",fontSize:24})}),new v,new flatUI.buttons.IconButton(function(){return l.tournamentInfo.visible=!1},{align:"center",layoutHeight:"native",layoutWidth:"native",style:p.Desktop.IconButtonsStyle.PinClose}),new v({layoutWeight:.1})]),new _({align:"middle",layoutHeight:"80%",layoutWidth:"100%",style:p.Desktop.PanelColor.DarkGray},[new v({layoutWeight:.1}),new w("tournament_pin_trn_name".ls()+": \n<lightGray>"+n.texts.title+"</lightGray>",{align:"left",layoutHeight:"68",layoutWidth:"90%",style:{default:m(m({},p.Desktop.TextField.RegularFont),{},{fill:p.Desktop.TextColor.Gray,align:"left",fontSize:"22px"}),lightGray:{fill:p.Desktop.TextColor.LightGray}}}),new w("tournament_ranking_type".ls()+": \n<lightGray>"+n.texts.ranking+"</lightGray>",{align:"left",layoutHeight:"68",layoutWidth:"90%",style:{default:m(m({},p.Desktop.TextField.RegularFont),{},{fill:p.Desktop.TextColor.Gray,align:"left",fontSize:"22px"}),lightGray:{fill:p.Desktop.TextColor.LightGray}}}),"0"!=n.prizeFund&&new w("tournament_prize_pool".ls()+": \n<lightGray>"+n.prizeFund+(c2d.env.hideCurrency?"":" "+n.prizeCurrency)+"</lightGray>",{align:"left",layoutHeight:"68",layoutWidth:"90%",style:{default:m(m({},p.Desktop.TextField.RegularFont),{},{fill:p.Desktop.TextColor.Gray,align:"left",fontSize:"22px"}),lightGray:{fill:p.Desktop.TextColor.LightGray}}}),new w("tournament_prize_line_number".ls()+": \n<lightGray>"+n.prizeLineNumber+"</lightGray>",{align:"left",layoutHeight:"68",layoutWidth:"90%",style:{default:m(m({},p.Desktop.TextField.RegularFont),{},{fill:p.Desktop.TextColor.Gray,align:"left",fontSize:"22px"}),lightGray:{fill:p.Desktop.TextColor.LightGray}}}),new w("tournament_bet_for_participation".ls()+": \n<lightGray>"+n.convertedMinBet+"</lightGray>",{align:"left",layoutHeight:"68",layoutWidth:"90%",style:{default:m(m({},p.Desktop.TextField.RegularFont),{},{fill:p.Desktop.TextColor.Gray,align:"left",fontSize:"22px"}),lightGray:{fill:p.Desktop.TextColor.LightGray}}}),new v])]),new _({align:"middle",layoutHeight:"100%",layoutWidth:"440"},[new S({align:"center",layoutHeight:"8%",layoutWidth:"100%",style:p.Desktop.PanelColor.DarkGray},[new v({layoutWeight:.5}),new I(n.texts.type,{align:"left",layoutHeight:"native",layoutWidth:"45%",style:m(m({},p.Desktop.TextField.RegularFont),{},{fill:p.Desktop.TextColor.LightGray,align:"center",fontSize:"22px"})}),new v,new I(("tournament_"+n.status).ls(),{align:"right",layoutHeight:"native",layoutWidth:"45%",style:m(m({},p.Desktop.TextField.RegularFont),{},{fill:p.Desktop.IndicationStyle[n.status].fill,align:"center",fontSize:"22px"})}),new v({layoutWeight:.5}),new flatUI.graphics.Icon(p.Desktop.IndicationStyle[n.status].icon,{align:"center",layoutHeight:"native",layoutWidth:"native",id:"Indication"}),new v({layoutWeight:.5})]),new v])]}}]),i}(flatUI.layout.FrameLayout);n.default=l},{"../../../StylesTournament.js":249,"../Timer.js":261,"@babel/runtime/helpers/asyncToGenerator":5,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/typeof":26,"@babel/runtime/regenerator":28}],265:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./Pin.js")),c=l(e("../Paginator.js"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}var l=flatUI.layout,f=l.Spacer,d=l.VerticalLayout,p=l.GridLayout,e=(l.HorizontalLayout,function(e){(0,r.default)(l,e);var n=h(l);function l(e){var t;return(0,i.default)(this,l),(t=n.call(this,{align:"center",layoutHeight:"100%",layoutWidth:"100%"},null)).data=e.data,t.pinsContainer=t.findChildById("PinsContainer"),t.pinsCount=null,c2d.env.device.desktop()?t.pinsCount=3:c2d.env.device.landscape()?t.pinsCount=2:c2d.env.device.portrait()&&(t.pinsCount=1),t.setPage(1),t}return(0,a.default)(l,[{key:"inflateMobileLandscapeLayout",value:function(){var t=this;return[new d({align:"middle",layoutHeight:"100%",layoutWidth:"100%"},[new p({align:"center",layoutHeight:"85%",columnCount:2,padding:10,id:"PinsContainer"},[]),new p({align:"center",columnCount:1,padding:10},[new c.default(function(e){return t.setPage(e)},{pages:0,maxButtons:8,page:0}).setParams({id:"Paginator"})])])]}},{key:"inflateMobilePortraitLayout",value:function(){var t=this;return[new d({align:"middle",layoutHeight:"100%",layoutWidth:"100%"},[new f({layoutWeight:.2}),new p({align:"center",layoutHeight:"75%",layoutWidth:"100%",columnCount:1,padding:10,id:"PinsContainer"},[]),new f({layoutWeight:.4}),new p({align:"center",columnCount:1,padding:10},[new c.default(function(e){return t.setPage(e)},{pages:0,maxButtons:8,page:0}).setParams({id:"Paginator"})]),new f])]}},{key:"inflateDesktopLayout",value:function(){var t=this;return[new d({align:"middle",layoutHeight:"100%",layoutWidth:"100%"},[new p({align:"center",layoutHeight:"85%",columnCount:3,padding:10,id:"PinsContainer"},[]),new p({align:"center",columnCount:1,padding:10},[new c.default(function(e){return t.setPage(e)},{pages:0,maxButtons:8,page:0}).setParams({id:"Paginator"})])])]}},{key:"setPage",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=this.findChildById("Paginator"),n=(t.pages=Math.ceil(this.data.list.length/this.pinsCount),c2d.env.device.portrait()?5:8),n=(1==t.pages&&(n=0),t.maxButtons=n,t.page=e,this.data.list.slice((e-1)*this.pinsCount,(e-1)*this.pinsCount+this.pinsCount).map(function(e,t){return new u.default(e,{id:"TournamentPin#"+e.id,index:t})}));this.pinsContainer.removeComponents(),this.pinsContainer.addChildren(n),this.pinsContainer.layout(),this.layout()}}]),l}(flatUI.layout.FrameLayout));n.default=e},{"../Paginator.js":260,"./Pin.js":264,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],266:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),r=e("@babel/runtime/helpers/typeof"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/defineProperty"))),a=l(e("@babel/runtime/helpers/classCallCheck")),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/get")),u=l(e("@babel/runtime/helpers/inherits")),c=l(e("@babel/runtime/helpers/possibleConstructorReturn")),h=l(e("@babel/runtime/helpers/getPrototypeOf")),f=l(e("../../../../flatUI/view/common/optionsScreen/ScrollableLayout.js")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};t=p(t);if(t&&t.has(e))return t.get(e);var n,l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(l,n,a):l[n]=e[n])}l.default=e,t&&t.set(e,l);return l}(e("../../../StylesTournament.js"));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function y(t,e){var n,l=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,n)),l}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach(function(e){(0,i.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function m(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(n);return e=l?(e=(0,h.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}l=function(e){(0,u.default)(l,e);var n=m(l);function l(e){var t;return(0,a.default)(this,l),(t=n.call(this,{align:"none",layoutHeight:"100%",layoutWidth:"100%"})).model=e,t.rulesContainer=t.findChildById("RulesContainer"),t.model.rules&&t.rulesContainer.addChildren(t.inflateRulesText(t.model.rules)),t.resizeHandler=function(e){return t.onResize(e.data)},c2d.eventManager.subscribe(c2d.documentEvents.SCREEN_WAS_RESIZED,t.resizeHandler),t}return(0,o.default)(l,[{key:"onResize",value:function(e){e.isOrientationChange&&this.dispose(this.rulesContainer.children),this.layout()}},{key:"inflateRulesText",value:function(e){return e.split("\n\r").filter(function(e){return""!=e}).map(function(e,t){e=new flatUI.text.TextField(e,{layoutWidth:"100%",style:b(b({},d.Desktop.TextField.RegularFont),{},{fill:d.Desktop.TextColor.LightGray,fontSize:"24px"}),align:"left"});return 1e4<e.height&&console.error("The text is too long so its texture is over 10000px. Please check spaces."),e}).concat(new flatUI.panel.Panel({layoutWidth:"100%",layoutHeight:"20px",style:{alpha:0}}))}},{key:"inflateMobileLandscapeLayout",value:function(){return[new f.default({align:"center",layoutHeight:"100%",layoutWidth:"98%"},[new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"100%",layoutWidth:"90%",id:"Scrollable"},[new flatUI.panel.Panel({layoutHeight:"20",layoutWidth:"100%",style:{alpha:0}}),new flatUI.layout.GridLayout({layoutWidth:"100%",columnCount:1,padding:1,id:"RulesContainer"},[]),new flatUI.layout.Spacer])])]}},{key:"inflateMobilePortraitLayout",value:function(){return[new f.default({align:"center",layoutHeight:"100%",layoutWidth:"96%"},[new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"100%",layoutWidth:"92%",id:"Scrollable"},[new flatUI.panel.Panel({layoutHeight:"20",layoutWidth:"100%",style:{alpha:0}}),new flatUI.layout.GridLayout({layoutWidth:"100%",columnCount:1,padding:1,id:"RulesContainer"},[]),new flatUI.layout.Spacer])])]}},{key:"inflateDesktopLayout",value:function(){return[new f.default({align:"center",layoutHeight:"100%",layoutWidth:"98%"},[new flatUI.layout.VerticalLayout({align:"middle",layoutHeight:"100%",layoutWidth:"94%",id:"Scrollable"},[new flatUI.panel.Panel({layoutHeight:"20",layoutWidth:"100%",style:{alpha:0}}),new flatUI.layout.GridLayout({layoutWidth:"100%",columnCount:1,padding:1,id:"RulesContainer"},[]),new flatUI.layout.Spacer])])]}},{key:"dispose",value:function(e){var t=this;e.forEach(function(e){e.children&&t.dispose(e.children),e.destroy({texture:!0,baseTexture:!0})})}},{key:"destroy",value:function(){return c2d.eventManager.unsubscribe(game.events.Tournament.TOURNAMENT_DATA_UPDATED,this.updateTournamentData),(0,s.default)((0,h.default)(l.prototype),"destroy",this).call(this,{children:!0})}}]),l}(flatUI.layout.FrameLayout);n.default=l},{"../../../../flatUI/view/common/optionsScreen/ScrollableLayout.js":64,"../../../StylesTournament.js":249,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/helpers/typeof":26}],267:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/defineProperty"))),r=l(e("@babel/runtime/helpers/classCallCheck")),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/get")),u=l(e("@babel/runtime/helpers/inherits")),i=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf")),h=l(e("./Socket.js"));function f(t,e){var n,l=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,n)),l}function d(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,e)}}l=function(e){(0,u.default)(i,e);var t=d(i);function i(){var e;return(0,r.default)(this,i),(e=t.call(this))._fsm=null,e._behavior=null,e._currentBehavior=null,e._winPresentation={isToggling:!1,currentLine:null},e.network=null,e.reelset=null,e.lines=null,e.ui=null,e.popup=null,e.audio=null,e}return(0,o.default)(i,[{key:"dispatch",value:function(){for(var e,t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];(e=(0,s.default)((0,c.default)(i.prototype),"dispatch",this)).call.apply(e,[this].concat(n)),c2d.env.DEBUG_HHS&&c2d.env.DEBUG_EVENTS&&("string"==typeof n.first?console.log("Event: ",n.first," data: ",n[1]||{}):console.log("Event: ",n.first.name," data: ",n.first.data))}},{key:"onInitialize",value:function(){this._fsm=new game.src.SlotsFSM.baseClass,this._fsm.initialize(this)}},{key:"onComponentAttached",value:function(e){var t=this;(0,s.default)((0,c.default)(i.prototype),"onComponentAttached",this).call(this,e),e.slotsModel=this.model,e.setBehavior=function(e){return t.setBehavior(e)}}},{key:"onRun",value:function(){function e(){return l._fsm.start()}function n(){c2d.call(function(){var e=c2d.env.realityCheckInterval/60/1e3/60,t=Math.floor(e),e=Math.round(60*(e-t));l.ui.showPopup({message:"reality_check_message".ls({HOURS_VALUE:t,HOURS_KEY:"hours_one_letter".ls(),MINUTES_VALUE:e,MINUTES_KEY:"minutes_one_letter".ls()}),confirm:{label:"continue",handler:n},dismiss:{label:"back_to_lobby",handler:function(){return c2d.env.goToLobby()}}})},c2d.env.realityCheckInterval)}var l=this,t=(console.log("%cSlots:%c Logic Started!!!","background: #FFFFEE; color: #333333; font-weight: bold","background: #00FFFF; color: #9a03a4; font-weight: bold"),this.network.subscribe(game.events.Network.ERROR_RECEIVED,function(e){l.onNetworkError(e)}),this.network.subscribe(game.events.Network.COMPLETE,function(e){e.data.maxWinInTotalBets&&(c2d.env.maxWinInTotalBets=e.data.maxWinInTotalBets)}),this.socket=new h.default({onBalanceUpdate:function(e){l.model.balanceAfter=e,l.model.balanceBefore=e,"IDLE_STATE"==l.model.currentState&&(game.api.balance=e)},onCloseSession:function(){game.api.sessionClosed=!0,"IDLE_STATE"==l.model.currentState&&game.api.showPopup({message:"\n"+"session_close".ls()+"\n",confirm:{label:"back_to_lobby".ls(),handler:function(){return c2d.env.goToLobby()}}})}}),this.socket.initialize(jsvars.wss),c2d.eventManager.subscribe(game.events.FlatUI.AUDIO_PRESSED,function(e){e=e.data;l.audioEnabled!=e&&(l.audioEnabled=e,c2d.env.storage.setItem("audioEnabled",l.audioEnabled),c2d.eventManager.dispatch(game.events.FlatUI.ON_AUDIO_MODE_CHANGED,l.audioEnabled))}),c2d.eventManager.subscribe(game.events.FlatUI.MASTER_VOLUME_CHANGED,function(e){l.masterVolume=e.data}),c2d.eventManager.subscribe(game.events.FlatUI.SFX_VOLUME_CHANGED,function(e){l.sfxVolume=e.data}),c2d.eventManager.subscribe(game.events.FlatUI.MUSIC_VOLUME_CHANGED,function(e){l.musicVolume=e.data}),c2d.eventManager.subscribeOnce(game.events.Audio.AUDIO_FINISH_PRELOAD,function(){return l.audioLoaded=!0}),c2d.eventManager.subscribe(game.events.FlatUI.QUICK_STOP_PRESSED,function(){return l.model.quickStop=!0}),c2d.eventManager.subscribe(game.events.FlatUI.HISTORY_CURRENT_PAGE_PRESSED,function(e){l.network.sendHistory(e._data.toString()).onComplete(function(e){return l.setHistoryData(e)})}),this._fsm.subscribe(c2d.fsm.FSM.Events.STATE_DID_CHANGE,function(e){l.dispatch(e.name,{prevState:e.data.prevState,newState:e.data.newState,prevMode:l.model.previousMode,newMode:l.model.currentMode})}),this._fsm.subscribe(c2d.fsm.FSM.Events.STATE_PHASE_DID_CHANGE,this.dispatch,this),c2d.cookie.getAllCookies());t.init_bonus_spins?this.registerBonusSpins(e,t):t.init_bonuses?this.registerBonusFreespins(e,t):this.network.registerUser(function(){return l.network.sendInit(e)});c2d.env.realityCheckInterval&&n()}},{key:"registerBonusSpins",value:function(e,t){var n=this;this.network.registerUser(function(){return n.network.registerBonus({type:"bonus_spins",params:"bet_in_money=&spins_count=".concat(parseInt(t.bonus_spins_count),"&lines_count=&bet=&denomination=1")},function(){return n.network.sendInit(e)})})}},{key:"registerBonusFreespins",value:function(e,t){var n=this;this.network.registerUser(function(){return n.network.registerBonus({type:"freespins_on_start",params:"freespins_count=".concat(parseInt(t.freespins_on_start_count),"&bet_in_money=1&lines_count=&bet=1&denomination=1")},function(){return n.network.sendInit(e)})})}},{key:"onNetworkError",value:function(e){var t=this;c2d.AudioManager.mute=!0,e.data.reconnectAvailable?(e.data.silentMode||this.ui.showPopup({image:"popup_smile",message:"trying_to_reconnect"}),this.network.once(game.events.Network.RECONNECT_RECEIVED,function(e){c2d.AudioManager.mute=!t.model.audioEnabled,t.ui.hidePopup(),e.data.success||t.ui.showPopup({image:"popup_smile",message:"reconnect_error_message".ls(),confirm:{label:"reconnect_reload".ls(),handler:function(){return c2d.env.reload()}}})})):(this.ui.showPopup({image:"popup_smile",message:e.data.message,confirm:{label:"back_to_lobby",handler:function(){return c2d.env.goToLobby()}}}),c2d.env.DEBUG&&(c2d.env.storage.erase(),c2d.cookie.erase()))}},{key:"setHistoryData",value:function(e){this.model.setHistoryData(e),c2d.eventManager.dispatch(game.events.FlatUI.ON_GET_HISTORY,this.model.historyModel)}},{key:"setData",value:function(e){this.model.setData(e),c2d.eventManager.dispatch(game.events.Slots.ON_SET_DATA,e)}},{key:"initBehavior",value:function(e){this._behavior=e}},{key:"setBehavior",value:function(e){var n,l=this;console.log("%c Behavior: "+e+" ","background: #fef1d9; color: #222222;font-weight: bold"),this._behavior&&this._behavior[e]&&this._currentBehavior!==e&&(this._currentBehavior=e,n=this._behavior[e],Object.keys(n).forEach(function(e){var t=l.components[e];t?t.fillProperties(n[e]):console.error('can not find component: "'+e+'" in components.json')})),this.dispatch(game.events.Slots.ON_BEHAVIOR_CHANGED,e)}},{key:"winStage",get:function(){if(!c2d.env.showWinsLowerThanBet&&this.winLowerThanBet)return 0;var n=this.model.totalWin/this.model.totalBetCredit;return[3,7,10,14].reduceRight(function(e,t){return n<t?t:e})}},{key:"winLowerThanBet",get:function(){var e=this.model;return e.totalWin<e.totalBetCredit}},{key:"showLineWins",value:function(e){var t=this,n=this.reelset,l=this.lines,i=this.model.lineWins;if(0===i.length&&e)return e();this.dispatch(game.events.Slots.WIN_PRESENTATION_STAGE,this.winStage),this.dispatch(game.events.Slots.WIN_PRESENTATION_STARTED,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach(function(e){(0,a.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({amount:this.model.totalWin},this.fsStatus)),l.show(i,!1),l.dispatch(game.events.Lines.LINES_DID_SHOWN,i),!c2d.env.showWinsLowerThanBet&&this.winLowerThanBet?(this.dispatch(game.events.Reelset.REELSET_WILL_SHOW_FLASH_SYMBOL_WINS,i),c2d.Timeout.invokeOnce("show_line_wins",function(){l.hide(),t.dispatch(game.events.Slots.WIN_PRESENTATION_COMPLETED,t.fsStatus),e&&e()},1e3)):(i.forEach(function(e){e.withoutLineImpulse=!0}),n.controller.flashSymbolWins(i,function(){l.hide(),t.dispatch(game.events.Slots.WIN_PRESENTATION_COMPLETED,t.fsStatus),e&&e()}))}},{key:"cancelShowLineWins",value:function(){c2d.Timeout.resetInvoke("show_line_wins"),this.lines.hide(),this.dispatch(game.events.Slots.WIN_PRESENTATION_COMPLETED,this.fsStatus)}},{key:"showWayWins",value:function(e){this.dispatch(game.events.Slots.WIN_PRESENTATION_STAGE,this.winStage),this.reelset.flashSymbolWins(this.model.wayWins,e)}},{key:"showGroupWins",value:function(e){this.dispatch(game.events.Slots.WIN_PRESENTATION_STAGE,this.winStage),this.reelset.flashSymbolWins(this.model.groupWins,e)}},{key:"showScatterWins",value:function(e){this.lines.hide(),this.dispatch(game.events.Slots.WIN_PRESENTATION_COMPLETED,this.fsStatus),this.reelset.controller.showScatterWins(this.model.scatterWins,e)}},{key:"showCollectibleWins",value:function(e){this.lines.hide(),this.reelset.controller.showCollectibleWins(this.model.collectibleWins,e)}},{key:"showSingleLine",value:function(){var e,t,n,l,i,a=this;this.isToggling&&(e=this.reelset,t=this.lines,n=this.model,i=(l=n.hasWinLines?n.lineWins:n.hasWinWays?n.wayWins:n.groupWins)[this.currentLine],n.hasWinLines&&t.show([i],!0),t.dispatch(game.events.Lines.LINE_DID_SHOWN,i),!c2d.env.showWinsLowerThanBet&&this.winLowerThanBet?c2d.Timeout.invokeOnce("show_single_line",function(){a.currentLine=(a.currentLine+1)%l.length,a.showSingleLine()},1e3):e.showSymbolWins([i],c2d.once(function(){a.currentLine=(a.currentLine+1)%l.length,a.showSingleLine()})))}},{key:"playIntrigue",value:function(e,t){this.store.isFreespins||(0,s.default)((0,c.default)(i.prototype),"playIntrigue",this).call(this,e,t)}},{key:"startTogglingWinLines",value:function(){!this.model.hasWinLines&&!this.model.hasWinWays&&!this.model.hasWinGroups||this.model.autoplayMode||this.model.freespins.isActiveStatus||this.isSkipToggle||(this.lines.dispatch(game.events.Slots.WIN_LINES_TOGGLING_STARTED),this.currentLine=0,this.isToggling=!0,this.showSingleLine())}},{key:"startTogglingWinLineForShowResult",value:function(n){var l=this.reelset,i=this.lines,a=this.model,r=a.hasWinLines?a.lineWins:a.hasWinWays?a.wayWins:a.groupWins,o=0,s=!c2d.env.showWinsLowerThanBet&&this.winLowerThanBet;(function e(){var t=r[o];s?c2d.Timeout.invokeOnce("single_line_showresult",function(){(++o==r.length?n:e)()},1e3):l.showSymbolWins([t],function(){(++o==r.length?n:e)()}),a.hasWinLines&&i.show([t],!0),i.dispatch(game.events.Lines.LINE_DID_SHOWN,t)})()}},{key:"stopTogglingWinLines",value:function(){c2d.Timeout.resetInvoke("show_single_line"),c2d.Timeout.resetInvoke("single_line_showresult"),this.isToggling=!1,this.lines.hide(),this.reelset.controller.updateSymbolsAnimations()}},{key:"musicVolume",get:function(){return c2d.AudioManager.getGroupVolume("music")},set:function(e){c2d.AudioManager.setGroupVolume("music",e)}},{key:"sfxVolume",get:function(){return c2d.AudioManager.getGroupVolume("sfx")},set:function(e){c2d.AudioManager.setGroupVolume("sfx",e)}},{key:"masterVolume",get:function(){return c2d.AudioManager.getMasterVolume()},set:function(e){c2d.AudioManager.setMasterVolume(e)}},{key:"audioEnabled",get:function(){return this.model.audioEnabled},set:function(e){this.model.audioEnabled=e,this.audio&&(e&&!this.audio.active?this.audio.activate():!e&&this.audio.active?c2d.AudioManager.mute=!0:e&&this.audio.active&&(c2d.AudioManager.mute=!1))}},{key:"audioLoaded",get:function(){return this.model.audioLoaded},set:function(e){this.model.audioLoaded=e,this.dispatch(game.events.Slots.ON_MODEL_CHANGED,this.model)}},{key:"isToggling",get:function(){return this._winPresentation.isToggling},set:function(e){this._winPresentation.isToggling=e}},{key:"currentLine",get:function(){return this._winPresentation.currentLine},set:function(e){this._winPresentation.currentLine=e}},{key:"bonusGame",get:function(){var e=this._model.bonusGames.isReady?this._model.bonusGames.currentName:this._model.bonusGame.name;return e?this["bonusGame_"+e]:(0,s.default)((0,c.default)(i.prototype),"bonusGame",this)}},{key:"fsStatus",get:function(){return{FSStart:this.model.freespins.isStartStatus,FSPlay:this.model.freespins.isPlayStatus,FSEnd:this.model.freespins.isFinishStatus}}}]),i}(c2d.ComponentController);n.default=l},{"./Socket.js":268,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],268:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),l=function(){function n(e){var t=e.onBalanceUpdate,e=e.onCloseSession;(0,i.default)(this,n),this.onBalanceUpdate=t,this.onCloseSession=e}return(0,a.default)(n,[{key:"initialize",value:function(e){var t,n,l,i,a=this;null!=e&&(t=e.host,n=e.options,l=e.encrypted,(i=window.io(t,n)).on("connect",function(){console.log("Socket connect: "+i.connected),setTimeout(function(){i.emit("auth",{encrypted:l},function(e){console.log(e)})},10)}),i.on("notification",function(e,t){var e=JSON.parse(e),e=null==e?void 0:e.payload,n=e.balance,l=e.closeSession,e=e.name;null!=n&&a.onBalanceUpdate(n),!l&&"closeSession"!=e||a.onCloseSession(l)}))}}]),n}();n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],269:[function(e,l,t){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(e("@babel/runtime/helpers/classCallCheck"))),a=n(e("@babel/runtime/helpers/createClass")),r=n(e("@babel/runtime/helpers/get")),o=n(e("@babel/runtime/helpers/inherits")),s=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf")),c=n(e("./states/initgame/IGStart.js")),h=n(e("./states/initgame/IGRequest.js")),f=n(e("./states/initgame/IGResponse.js")),d=n(e("./states/initgame/IGEnd.js")),p=n(e("./states/intro/Cinematic.js")),y=n(e("./states/intro/Intro.js")),b=n(e("./states/idle/Idle.js")),m=n(e("./states/check/Check.js")),g=n(e("./states/basegame/BGRestore.js")),v=n(e("./states/basegame/BGStart.js")),_=n(e("./states/basegame/BGSpinStart.js")),L=n(e("./states/basegame/BGSpinRequest.js")),F=n(e("./states/basegame/BGSpinResponse.js")),H=n(e("./states/basegame/BGSpinStop.js")),S=n(e("./states/basegame/BGShowResult.js")),C=n(e("./states/basegame/BGPlayPop.js")),M=n(e("./states/basegame/BGDropRequest.js")),j=n(e("./states/basegame/BGDropResponse.js")),N=n(e("./states/basegame/BGPlayDrop.js")),I=n(e("./states/basegame/BGCheck.js")),G=n(e("./states/basegame/BGBeforeIdle.js")),w=n(e("./states/basegame/BGEnd.js")),R=n(e("./states/freespins/FSRestore.js")),k=n(e("./states/freespins/FSStart.js")),x=n(e("./states/freespins/FSSpinStart.js")),z=n(e("./states/freespins/FSSpinRequest.js")),q=n(e("./states/freespins/FSSpinResponse.js")),V=n(e("./states/freespins/FSSpinStop.js")),P=n(e("./states/freespins/FSShowResult.js")),T=n(e("./states/freespins/FSPlayPop.js")),Y=n(e("./states/freespins/FSDropRequest.js")),K=n(e("./states/freespins/FSDropResponse.js")),Z=n(e("./states/freespins/FSPlayDrop.js")),E=n(e("./states/freespins/FSCheck.js")),O=n(e("./states/freespins/FSEnd.js")),X=n(e("./states/bonus/BNRestore.js")),B=n(e("./states/bonus/BNInit.js")),W=n(e("./states/bonus/BNStart.js")),D=n(e("./states/bonus/BNStep.js")),A=n(e("./states/bonus/BNEnd.js")),U=n(e("./states/giftspins/GSIdle.js")),Q=n(e("./controllers/intro/IntroController.js")),$=n(e("./controllers/intro/CinematicController.js")),J=n(e("./controllers/idle/IdleController.js")),ee=n(e("./controllers/giftspins/GSIdleController.js")),te=n(e("./controllers/check/CheckController.js")),ne=n(e("./controllers/initgame/IGResponseController.js")),le=n(e("./controllers/basegame/BGSpinStartController.js")),ie=n(e("./controllers/basegame/BGSpinRequestController.js")),ae=n(e("./controllers/basegame/BGSpinStopController.js")),re=n(e("./controllers/basegame/BGShowResultController.js")),oe=n(e("./controllers/basegame/BGEndController.js")),se=n(e("./controllers/freespins/FSSpinStartController.js")),ue=n(e("./controllers/freespins/FSSpinRequestController.js")),ce=n(e("./controllers/freespins/FSSpinStopController.js")),he=n(e("./controllers/freespins/FSRestoreController.js")),fe=n(e("./controllers/freespins/FSStartController.js")),de=n(e("./controllers/freespins/FSShowResultController.js")),pe=n(e("./controllers/freespins/FSCheckController.js")),ye=n(e("./controllers/freespins/FSEndController.js")),be=n(e("./controllers/bonus/BNStartController.js")),me=n(e("./controllers/bonus/BNStepController.js")),ge=n(e("./controllers/bonus/BNEndController.js")),ve=n(e("./controllers/bonus/BNInitController.js")),_e=n(e("./controllers/bonus/BNRestoreController.js")),Se=n(e("./SlotsFSMTransition.js"));function Ce(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}n={IntroController:Q.default,CinematicController:$.default,IdleController:J.default,GSIdleController:ee.default,CheckController:te.default,IGResponseController:ne.default,BGSpinStartController:le.default,BGSpinRequestController:ie.default,BGSpinStopController:ae.default,BGShowResultController:re.default,BGEndController:oe.default,FSSpinStartController:se.default,FSSpinRequestController:ue.default,FSSpinStopController:ce.default,FSRestoreController:he.default,FSStartController:fe.default,FSShowResultController:de.default,FSCheckController:pe.default,FSEndController:ye.default,BNStartController:be.default,BNStepController:me.default,BNEndController:ge.default,BNInitController:ve.default,BNRestoreController:_e.default},game.registerSources("SlotsFSM",n),e=function(e){(0,o.default)(l,e);var t=Ce(l);function l(){return(0,i.default)(this,l),t.call(this,"SlotsFSM")}return(0,a.default)(l,[{key:"initialize",value:function(t){var e,n=this;for(e in(0,r.default)((0,u.default)(l.prototype),"initialize",this).call(this,this.getConfiguration(new Se.default)),c2d.env.DEBUG_HHS&&this.subscribe(c2d.fsm.FSM.Events.STATE_WILL_CHANGE,function(e){"NONE"!==e.data.prevState&&n._getStateById(e.data.prevState).mode===n._getStateById(e.data.newState).mode||console.log("%cgame mode%c ".concat(n._getStateById(e.data.newState).mode," "),"background: #ccffa3; border-width: 1px; color: #333333; font-weight: bold; padding:5px 4px; border-radius:5px 0 0 5px;","border-color: #ccffa3; padding:4px 2px; border-width: 1px; border-radius: 0 5px 5px 0; border-style: solid;"),console.log(" %cstate","background: #f0fcab; color: #333333; font-weight: bold; padding:5px 4px; border-radius:5px;"," "+n._getStateById(e.data.newState)._id)}),this.subscribe(c2d.fsm.FSM.Events.STATE_WILL_CHANGE,function(e){t.model.previousState=e.data.prevState,t.model.currentState=e.data.newState}),this.subscribe(c2d.fsm.FSM.Events.STATE_PHASE_DID_CHANGE,function(e){t.model.previousPhase=e.data.prevPhase,t.model.currentPhase=e.data.newPhase}),this._states)this._states[e].slots=t}},{key:"getConfiguration",value:function(e){return e.config.firstStateId="IG_START_STATE",e.get(c.default).to(h.default).to(f.default).to(d.default).to([y.default,p.default,m.default]),e.get(y.default).to(m.default),e.get(p.default).to(m.default),e.get(m.default).to([b.default,g.default,R.default]),e.get(b.default).to([v.default,U.default]),e.get(U.default).to([v.default]),e.get(g.default).to(S.default).to(v.default).to(_.default).to(L.default).to(F.default).to(H.default).to(S.default).to([C.default,I.default]),e.get(I.default).to(G.default).to(w.default),e.get(I.default).to(_.default),e.get(C.default).to(M.default).to(j.default).to(N.default).to(S.default).to(w.default).to([b.default,U.default,_.default,k.default,B.default]),e.get(R.default).to([k.default,P.default,E.default]),e.get(k.default).to(T.default),e.get(k.default).to(P.default),e.get(k.default).to(x.default).to(z.default).to(q.default).to(V.default).to(P.default).to([T.default,E.default]),e.get(E.default).to([x.default,O.default,B.default]),e.get(T.default).to(Y.default).to(K.default).to(Z.default).to(P.default).to(O.default).to([g.default,b.default,U.default]),e.get(m.default).to(X.default).to([B.default,W.default,A.default]),e.get(B.default).to(W.default).to(D.default).to([D.default,A.default]),e.get(A.default).to([m.default,E.default,B.default]),e.config}}]),l}(c2d.fsm.FSM);t.default=e},{"./SlotsFSMTransition.js":270,"./controllers/basegame/BGEndController.js":276,"./controllers/basegame/BGShowResultController.js":277,"./controllers/basegame/BGSpinRequestController.js":278,"./controllers/basegame/BGSpinStartController.js":279,"./controllers/basegame/BGSpinStopController.js":280,"./controllers/bonus/BNEndController.js":281,"./controllers/bonus/BNInitController.js":282,"./controllers/bonus/BNRestoreController.js":283,"./controllers/bonus/BNStartController.js":284,"./controllers/bonus/BNStepController.js":285,"./controllers/check/CheckController.js":286,"./controllers/freespins/FSCheckController.js":287,"./controllers/freespins/FSEndController.js":288,"./controllers/freespins/FSRestoreController.js":289,"./controllers/freespins/FSShowResultController.js":290,"./controllers/freespins/FSSpinRequestController.js":291,"./controllers/freespins/FSSpinStartController.js":292,"./controllers/freespins/FSSpinStopController.js":293,"./controllers/freespins/FSStartController.js":294,"./controllers/giftspins/GSIdleController.js":295,"./controllers/idle/IdleController.js":296,"./controllers/initgame/IGResponseController.js":297,"./controllers/intro/CinematicController.js":298,"./controllers/intro/IntroController.js":299,"./states/basegame/BGBeforeIdle.js":301,"./states/basegame/BGCheck.js":302,"./states/basegame/BGDropRequest.js":303,"./states/basegame/BGDropResponse.js":304,"./states/basegame/BGEnd.js":305,"./states/basegame/BGPlayDrop.js":306,"./states/basegame/BGPlayPop.js":307,"./states/basegame/BGRestore.js":308,"./states/basegame/BGShowResult.js":309,"./states/basegame/BGSpinRequest.js":310,"./states/basegame/BGSpinResponse.js":311,"./states/basegame/BGSpinStart.js":312,"./states/basegame/BGSpinStop.js":313,"./states/basegame/BGStart.js":314,"./states/bonus/BNEnd.js":325,"./states/bonus/BNInit.js":326,"./states/bonus/BNRestore.js":327,"./states/bonus/BNStart.js":328,"./states/bonus/BNStep.js":329,"./states/check/Check.js":330,"./states/freespins/FSCheck.js":331,"./states/freespins/FSDropRequest.js":332,"./states/freespins/FSDropResponse.js":333,"./states/freespins/FSEnd.js":334,"./states/freespins/FSPlayDrop.js":335,"./states/freespins/FSPlayPop.js":336,"./states/freespins/FSRestore.js":337,"./states/freespins/FSShowResult.js":338,"./states/freespins/FSSpinRequest.js":339,"./states/freespins/FSSpinResponse.js":340,"./states/freespins/FSSpinStart.js":341,"./states/freespins/FSSpinStop.js":342,"./states/freespins/FSStart.js":343,"./states/giftspins/GSIdle.js":344,"./states/idle/Idle.js":345,"./states/initgame/IGEnd.js":346,"./states/initgame/IGRequest.js":347,"./states/initgame/IGResponse.js":348,"./states/initgame/IGStart.js":349,"./states/intro/Cinematic.js":350,"./states/intro/Intro.js":351,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],270:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),l=function(){function e(){(0,i.default)(this,e),this.config=new c2d.fsm.Configuration,this.map=new Map}return(0,a.default)(e,[{key:"_getInstance",value:function(e){var t;return this.map.has(e)||(t=new e,this.map.set(e,t),this.config.addState(t)),this.map.get(e)}},{key:"_addTransition",value:function(t,e){var n=this;(e=Array.isArray(e)?e:[e]).forEach(function(e){return n.config.addTransition(new c2d.fsm.StateTransition(n._getInstance(t).id,n._getInstance(e).id))})}},{key:"get",value:function(e){return this.from=e,this}},{key:"to",value:function(e){return this._addTransition(this.from,e),this.from=e,this}},{key:"getState",value:function(e){return this.config._states[e]&&this.config._states[e].constructor}}]),e}();n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12}],271:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),a=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),i=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(l,e);var n=c(l);function l(e){(0,a.default)(this,l),(i=n.call(this,e)).steps={showReplace:{phase:"SHOW_REPLACE",check:function(){return i.hasReplace},show:i.showReplace,skip:i.skipShowReplace},showNudge:{phase:"SHOW_NUDGE",check:function(){return i.hasNudge},show:i.showNudge,skip:i.skipShowNudge},showExpandedSymbols:{phase:"SHOW_EXPANDED_SYMBOLS",check:function(){return i.hasExpandedSymbols},show:i.showExpandedSymbols,skip:i.skipShowExpandedSymbols},showFreeze:{phase:"SHOW_FREEZE",check:function(){return i.hasFreeze},show:i.showFreeze,skip:i.skipShowFreeze},showUnfreeze:{phase:"SHOW_UNFREEZE",check:function(){return i.hasUnfreeze},show:i.showUnfreeze,skip:i.skipShowUnfreeze},setFrozen:{phase:"SET_FROZEN",check:function(){return i.hasFrozen},show:i.setFrozen,skip:i.setFrozen},showLineWins:{phase:"SHOW_LINE_WINS",check:function(){return i.hasLineWins},show:i.showLineWins,skip:i.skipShowLineWins},showToggleLines:{phase:"SHOW_TOGGLE_LINES",check:function(){return i.hasAnyWinsMoreOne},show:i.showToggleLinesWins,skip:i.skipToggleLinesWins},showResult:{phase:"SHOW_RESULT",check:function(){return i.hasResult},show:i.showResult,skip:i.skipShowResult},showWayWins:{phase:"SHOW_WAY_WINS",check:function(){return i.hasWayWins},show:i.showWayWins,skip:i.skipShowWayWins},showGroupWins:{phase:"SHOW_GROUP_WINS",check:function(){return i.hasGroupWins},show:i.showGroupWins,skip:i.skipShowGroupWins},showCollectibleWins:{phase:"SHOW_COLLECTIBLE_WINS",check:function(){return i.hasCollectibleWins},show:i.showCollectibleWins,skip:i.skipShowCollectibleWins},showScatterWins:{phase:"SHOW_SCATTER_WINS",check:function(){return i.hasScatterWins},show:i.showScatterWins,skip:i.skipShowScatterWins},showAfterScatterWins:{phase:"SHOW_AFTER_SCATTER_WINS",check:function(){return i.hasScatterWins},show:i.showAfterScatterWins,skip:i.skipShowAfterScatterWins},showRespin:{phase:"SHOW_RESPIN",check:function(){return i.hasRespin},show:i.showRespin},endRespins:{phase:"END_RESPINS",check:function(){},show:function(){},skip:function(){}},reportFinish:{phase:"REPORT_FINISH",check:function(){return!0},show:i.reportFinish,skip:i.reportFinish}};var i,t={};return Object.keys(i.steps).forEach(function(e){t[i.steps[e].phase]=e}),e.registerPhases(t),i.startSkipIndex=-1,i.onSkipWinPress=function(e){var n,l;i.startSkipIndex!==i.playResultSequenceIndex&&"skip"!==i.playFunction.action&&(l=n=!1,Object.values(i.steps).forEach(function(e,t){e.phase===i.playFunction.phase&&(e=Object.values(i.steps)[t],n=!!e.skip,l=!(!e.skipAction||"skipNextPhases"!==e.skipAction))}),n?(i.startSkipIndex=i.playResultSequenceIndex,e.data.needSpin&&("spin"===i.slots.model.nextAction||"extrabonus_spin"===i.slots.model.nextAction)&&i.slots.ui.controller.model.cashData.isEnoughMoneyToSpin&&(i.state.needSpin=!0),c2d.eventManager.dispatch(game.events.FlatUI.ON_BEFORE_SKIP_WIN_RESULT,{},function(){i.showResultSequence(!0)})):l&&(i.startSkipIndex=i.playResultSequenceIndex,i.setSkipNextPhases()))},i}return(0,i.default)(l,[{key:"skipResultSequence",get:function(){var n=this;return this.order.filter(function(e){return n.steps[e].check()}).map(function(e,t){return n.steps[e].skip?n.steps[e].skipAction&&"skipCurrentPhase"===n.steps[e].skipAction&&n.startSkipIndex!==t?{phase:n.steps[e].phase,action:"show",skipAction:"skipCurrentPhase",functionName:n.steps[e].show}:{phase:n.steps[e].phase,action:"skip",functionName:n.steps[e].skip}:{phase:n.steps[e].phase,action:"show",functionName:n.steps[e].show}})}},{key:"setSkipNextPhases",value:function(){var e=this.skipResultSequence;0<e.length&&e.shift(),this._callbacksSequence=e.slice(this.playResultSequenceIndex)}},{key:"addSkipListeners",value:function(){c2d.eventManager.subscribe(game.events.FlatUI.SKIP_WIN_PRESSED,this.onSkipWinPress)}},{key:"removeSkipListeners",value:function(){c2d.eventManager.unsubscribe(game.events.FlatUI.SKIP_WIN_PRESSED,this.onSkipWinPress)}},{key:"onEnterState",value:function(e){(0,r.default)((0,u.default)(l.prototype),"onEnterState",this).call(this,e),this.state.needSpin=!1,this.addSkipListeners(),this.startSkipIndex=-1,this.playResultSequenceIndex=0,this.playFunction=null,this.baseResultSequence=[],this.showResultSequence(!1)}},{key:"onExitState",value:function(){this.playFunction=null,this.removeSkipListeners(),(0,r.default)((0,u.default)(l.prototype),"onExitState",this).call(this)}},{key:"showResultSequence",value:function(e){throw new Error("override me")}},{key:"playResultSequence",value:function(e,t){var n=this;this._callbacksSequence=e,this._callbacksSequence.length&&(this.playFunction=this._callbacksSequence.shift(),c2d.env.DEBUG_HHS&&console.log(" %c show result phase %c ".concat(this.playFunction.functionName.name," "),"background: #f8ffd6; color: black; font-weight: bold;  border-width: 1px; padding:5px 2px; border-radius:5px 0 0 5px;","border-color: #f8ffd6;padding:4px 2px; border-width: 1px; border-radius: 0 5px 5px 0; border-style: solid;",this.hasSkippedOnCurrentStage),this.playFunction.functionName.call(this,function(){n.playResultSequenceIndex++,n.playResultSequence(n._callbacksSequence,!1)}))}},{key:"showResult",value:function(e){var t=this,n=c2d.once(function(){t.hasSkipped||e()});c2d.eventManager.dispatch(game.events.Slots.ON_RESULT,{},n)}},{key:"skipShowResult",value:function(e){this.hasSkippedOnCurrentStage||c2d.eventManager.dispatch(game.events.Slots.ON_RESULT,{},function(){});var t=c2d.once(function(){return e()});c2d.eventManager.dispatch(game.events.Slots.ON_SKIP_WIN_RESULT,{},t)}},{key:"hasRespin",get:function(){return this.slots.model.respin.hasRespin||this.slots.model.respin.isFinalRespin}},{key:"showRespin",value:function(e){var t=this;this.slots.model.respin.isFinalRespin?this.finalRespinTimeout=c2d.Timeout.invoke(function(){t.finalRespinTimeout=null,t.state.setPhase(t.state.PHASES.END_RESPINS),e()},1e3):(this.state.setPhase(this.state.PHASES.SHOW_RESPIN),this.slots.model.respin.addCount&&this.slots.respinsNotification?this.slots.respinsNotification.show(e):e())}},{key:"hasNudge",get:function(){return!1}},{key:"showNudge",value:function(e){e()}},{key:"skipShowNudge",value:function(e){e()}},{key:"hasReplace",get:function(){return this.slots.model.replace.hasReplace}},{key:"showReplace",value:function(e){var t=this,n=c2d.once(function(){t.hasSkipped||e()});this.state.setPhase(this.state.PHASES.SHOW_REPLACE),this.slots.reelset.showReplaceSymbols(this.slots.model.replace.symbols,n)}},{key:"skipShowReplace",value:function(e){this.hasSkippedOnCurrentStage||this.state.setPhase(this.state.PHASES.SHOW_REPLACE),this.slots.reelset.skipReplaceSymbols(this.slots.model.replace.symbols,e)}},{key:"showExpandedSymbols",value:function(e){var t=this,n=c2d.once(function(){t.hasSkipped||e()});this.state.setPhase(this.state.PHASES.SHOW_EXPANDED_SYMBOLS),this.slots.reelset.showExpandedSymbols(this.slots.model.reels.filter(function(e){e=e.extra;return e&&e.expandedSymbol}),n)}},{key:"skipShowExpandedSymbols",value:function(e){this.hasSkippedOnCurrentStage||this.state.setPhase(this.state.PHASES.SHOW_EXPANDED_SYMBOLS),this.slots.reelset.skipExpandedSymbols(this.slots.model.reels.filter(function(e){e=e.extra;return e&&e.expandedSymbol}),e)}},{key:"hasExpandedSymbols",get:function(){return this.slots.model.reels.some(function(e){e=e.extra;return e&&null!=e.expandedSymbol})}},{key:"hasFrozen",get:function(){return this.slots.model.freeze.hasFrozen}},{key:"setFrozen",value:function(e){this.slots.reelset.setFrozen(this.slots.model.freeze.frozen),e()}},{key:"hasUnfreeze",get:function(){return(!this.slots.model.freespins.isFinishStatus||!this.slots.model.respin.isFinalRespin)&&this.slots.model.freeze.hasUnfreeze}},{key:"hasFreeze",get:function(){return(!this.slots.model.freespins.isFinishStatus||!this.slots.model.respin.isFinalRespin)&&this.slots.model.freeze.hasFreeze}},{key:"showUnfreeze",value:function(e){var t=this,n=c2d.once(function(){t.hasSkipped||e()});this.state.setPhase(this.state.PHASES.SHOW_UNFREEZE),this.slots.reelset.once(game.events.Reelset.REELSET_DID_FINISH_UNFREEZE_ANIMATION,n),this.slots.reelset.startUnfreeze(this.slots.model.freeze.unfreeze)}},{key:"skipShowUnfreeze",value:function(e){this.slots.reelset.once(game.events.Reelset.REELSET_DID_FINISH_UNFREEZE_ANIMATION,e),this.hasSkippedOnCurrentStage||this.state.setPhase(this.state.PHASES.SHOW_UNFREEZE),this.slots.reelset.startSkipFreeze("unfreeze")}},{key:"showFreeze",value:function(e){var t=this,n=c2d.once(function(){t.hasSkipped||e()});this.state.setPhase(this.state.PHASES.SHOW_FREEZE),this.slots.reelset.once(game.events.Reelset.REELSET_DID_FINISH_FREEZE_ANIMATION,n),this.slots.reelset.startFreeze(this.slots.model.freeze.freeze)}},{key:"skipShowFreeze",value:function(e){var t=this;this.hasSkippedOnCurrentStage||(this.state.setPhase(this.state.PHASES.SHOW_FREEZE),this.slots.reelset.startFreeze(this.slots.model.freeze.freeze)),c2d.call(function(){t.slots.reelset.startSkipFreeze("freeze"),e()},1)}},{key:"hasResult",get:function(){return this.slots.model.totalWin>=14*this.slots.model.totalBetCredit}},{key:"hasLineWins",get:function(){return this.slots.model.hasWinLines}},{key:"showLineWins",value:function(e){var t=this,n=c2d.once(function(){t.hasSkipped||e()});this.state.setPhase(this.state.PHASES.SHOW_LINE_WINS),this.slots.showLineWins(n)}},{key:"skipShowLineWins",value:function(e){this.hasSkippedOnCurrentStage||(this.state.setPhase(this.state.PHASES.SHOW_LINE_WINS),this.slots.showLineWins(function(){})),this.skipShowWins(e)}},{key:"hasAnyWinsMoreOne",get:function(){var e=!1,t=this.slots.model;return t.hasWinLines&&1<t.lineWins.length&&(e=!0),t.hasWinGroups&&1<t.groupWins.length&&(e=!0),(e=t.hasWayWins&&1<t.wayWins.length?!0:e)&&"extrabonus_spin"!==t.nextAction&&"spin"!==t.nextAction}},{key:"showToggleLinesWins",value:function(e){this.state.setPhase(this.state.PHASES.SHOW_TOGGLE_LINES),this.slots.startTogglingWinLineForShowResult(e)}},{key:"skipToggleLinesWins",value:function(e){this.slots.stopTogglingWinLines(),e()}},{key:"skipShowWins",value:function(e){var t=this;this.hasSkippedOnCurrentStage?(this.slots.cancelShowLineWins(),this.slots.reelset.controller.skipAllWins(),e()):c2d.call(function(){t.slots.cancelShowLineWins(),t.slots.reelset.controller.skipAllWins(),e()},1e3)}},{key:"hasWayWins",get:function(){return this.slots.model.hasWinWays}},{key:"showWayWins",value:function(e){var t=this,n=c2d.once(function(){t.hasSkipped||e()});this.state.setPhase(this.state.PHASES.SHOW_WAY_WINS),this.slots.showWayWins(n)}},{key:"skipShowWayWins",value:function(e){this.hasSkippedOnCurrentStage||this.state.setPhase(this.state.PHASES.SHOW_WAY_WINS),this.hasSkippedOnCurrentStage||this.slots.showWayWins(function(){}),this.skipShowWins(e)}},{key:"hasGroupWins",get:function(){return this.slots.model.hasWinGroups}},{key:"showGroupWins",value:function(e){var t=this,n=c2d.once(function(){t.hasSkipped||e()});this.state.setPhase(this.state.PHASES.SHOW_GROUP_WINS),this.slots.showGroupWins(n)}},{key:"skipShowGroupWins",value:function(e){this.hasSkippedOnCurrentStage||(this.state.setPhase(this.state.PHASES.SHOW_GROUP_WINS),this.slots.showGroupWins(function(){})),this.skipShowWins(e)}},{key:"hasScatterWins",get:function(){return this.slots.model.hasWinScatters}},{key:"showScatterWins",value:function(e){var t=this,n=c2d.once(function(){t.hasSkipped||e()});this.state.setPhase(this.state.PHASES.SHOW_SCATTER_WINS),this.slots.showScatterWins(n)}},{key:"skipShowScatterWins",value:function(e){this.hasSkippedOnCurrentStage?(this.slots.cancelShowLineWins(),e()):(this.state.setPhase(this.state.PHASES.SHOW_SCATTER_WINS),this.slots.showScatterWins(e))}},{key:"showAfterScatterWins",value:function(e){this.state.setPhase(this.state.PHASES.SHOW_AFTER_SCATTER_WINS),e()}},{key:"skipShowAfterScatterWins",value:function(e){this.hasSkippedOnCurrentStage||this.state.setPhase(this.state.PHASES.SHOW_AFTER_SCATTER_WINS),e()}},{key:"hasCollectibleWins",get:function(){return this.slots.model.hasWinCollectible}},{key:"showCollectibleWins",value:function(e){var t=this,n=c2d.once(function(){t.hasSkipped||e()});this.state.setPhase(this.state.PHASES.SHOW_COLLECTIBLE_WINS),this.slots.showCollectibleWins(n)}},{key:"skipShowCollectibleWins",value:function(e){this.hasSkippedOnCurrentStage||this.state.setPhase(this.state.PHASES.SHOW_COLLECTIBLE_WINS),this.slots.reelset.controller.skipShowCollectibleWins(this.slots.model.collectibleWins),this.skipShowWins(e)}},{key:"hasSkippedOnCurrentStage",get:function(){return this.startSkipIndex===this.playResultSequenceIndex}},{key:"hasSkipped",get:function(){return-1<this.startSkipIndex}},{key:"isWaitCompletion",get:function(){return!0}},{key:"order",get:function(){return[this.state.PHASES.SHOW_NUDGE,this.state.PHASES.SHOW_REPLACE,this.state.PHASES.SET_FROZEN,this.state.PHASES.SHOW_UNFREEZE,this.state.PHASES.SHOW_EXPANDED_SYMBOLS,this.state.PHASES.SHOW_RESULT,this.state.PHASES.SHOW_LINE_WINS,this.state.PHASES.SHOW_WAY_WINS,this.state.PHASES.SHOW_GROUP_WINS,this.state.PHASES.SHOW_TOGGLE_LINES,this.state.PHASES.SHOW_COLLECTIBLE_WINS,this.state.PHASES.SHOW_SCATTER_WINS,this.state.PHASES.SHOW_AFTER_SCATTER_WINS,this.state.PHASES.SHOW_FREEZE,this.state.PHASES.SHOW_RESPIN,this.state.PHASES.REPORT_FINISH]}}]),l}(l(e("./SlotStateController.js")).default);n.default=l},{"./SlotStateController.js":272,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],272:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(l,e);var n=c(l);function l(e){var t;return(0,i.default)(this,l),(t=n.call(this,e))._state=e,t._slots=null,t._onFinishHandler=null,t}return(0,a.default)(l,[{key:"initialize",value:function(e){this.slots=e,(0,r.default)((0,u.default)(l.prototype),"initialize",this).call(this)}},{key:"onInitialize",value:function(){(0,r.default)((0,u.default)(l.prototype),"onInitialize",this).call(this)}},{key:"onRun",value:function(){(0,r.default)((0,u.default)(l.prototype),"onRun",this).call(this)}},{key:"onEnterState",value:function(e){this.onFinishHandler=e}},{key:"onExitState",value:function(){}},{key:"slots",get:function(){return this._slots},set:function(e){this._slots=e}},{key:"reportFinish",value:function(){if(!this.onFinishHandler)throw new Error("onFinishHandler not found! May be you doind something wrong?! Nigga!");this.onFinishHandler(),this.onFinishHandler=null}},{key:"onFinishHandler",get:function(){return this._onFinishHandler},set:function(e){this._onFinishHandler=e}},{key:"state",get:function(){return this._state}}]),l}(c2d.Controller);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],273:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(e){return(0,i.default)(this,n),t.call(this,e)}return(0,a.default)(n,[{key:"onEnterState",value:function(){this.isActionFree?this.isFreespin&&this.slots.model.freespins.leftCount--:this.slots.ui.spinRequestAction(),this.slots.network.setRequestData({bet:this.slots.ui.controller.model.cashData.bet,denomination:1,lines:this.slots.model.playingLinesCount}),this.sendNextAction(),this.isGiftspin&&this.slots.model.giftspins.left--,(0,r.default)((0,u.default)(n.prototype),"onEnterState",this).call(this)}},{key:"sendNextAction",value:function(){var e=this;this.slots.network.sendNextAction(this.data).onComplete(function(){return e.state.gotoResponseState()})}},{key:"isActionFree",get:function(){return"spin"!=this.action}},{key:"isFreespin",get:function(){return"freespin"===this.action}},{key:"isGiftspin",get:function(){return"extrabonus_spin"===this.action}},{key:"action",get:function(){return this.slots.model.nextAction}},{key:"data",get:function(){return null}}]),n}(l(e("./SlotStateController.js")).default);n.default=l},{"./SlotStateController.js":272,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],274:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(e){return(0,i.default)(this,n),t.call(this,e)}return(0,a.default)(n,[{key:"onEnterState",value:function(){(0,r.default)((0,u.default)(n.prototype),"onEnterState",this).call(this),this.slots.lines.hide(),this.slots.model.quickStop=!1,this.finishWalks()}},{key:"finishWalks",value:function(){var e=this;this.slots.reelset.showWalks("finish",this.slots.model.walks,function(){e.slots.reelset.beforeSpin(function(){e.slots.reelset.startSpin(e.slots.model.quickStop||e.slots.model.turboMode),e.state.gotoSpinRequestState()})})}}]),n}(l(e("./SlotStateController.js")).default);n.default=l},{"./SlotStateController.js":272,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],275:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(l,e);var n=c(l);function l(e){var t;return(0,i.default)(this,l),(t=n.call(this,e)).state.registerPhases({MOVE_WALKS:"moveWalks"}),t.quickStopHandler=function(){return t.slots.reelset.stopSpin(t.slots.model.reels,!0)},t}return(0,a.default)(l,[{key:"onEnterState",value:function(e){var t=this;(0,r.default)((0,u.default)(l.prototype),"onEnterState",this).call(this,e),this.slots.reelset.once(game.events.Reelset.REELSET_DID_FINISH_SPIN_ANIMATION,function(){t.startGotoSpinResultState()}),this.slots.lines.hide(),this.playStopSequence()}},{key:"startGotoSpinResultState",value:function(){var e=this;c2d.Timeout.invoke(function(){return e.state.gotoSpinResultState()},10)}},{key:"playStopSequence",value:function(){var e=this;this.moveWalks(function(){e.slots.reelset.beforeSpinStop(e.slots.model.reels,function(){e.stopSpin(function(){})})})}},{key:"stopSpin",value:function(e){this.slots.reelset.stopSpin(this.slots.model.reels,this.slots.model.quickStop||this.slots.model.turboMode),c2d.eventManager.subscribe(game.events.FlatUI.QUICK_STOP_PRESSED,this.quickStopHandler),e()}},{key:"moveWalks",value:function(e){if(!this.slots.model.walks.oldWalks.length)return e();this.state.setPhase(this.state.PHASES.MOVE_WALKS),this.slots.reelset.showWalks("move",this.slots.model.walks,e)}},{key:"onExitState",value:function(){(0,r.default)((0,u.default)(l.prototype),"onExitState",this).call(this),c2d.eventManager.unsubscribe(game.events.FlatUI.QUICK_STOP_PRESSED,this.quickStopHandler)}}]),l}(l(e("./SlotStateController.js")).default);n.default=l},{"./SlotStateController.js":272,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],276:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(e){return(0,i.default)(this,n),t.call(this,e)}return(0,a.default)(n,[{key:"onEnterState",value:function(){(0,r.default)((0,u.default)(n.prototype),"onEnterState",this).call(this),"initfreespin"===this.slots.model.nextAction?this.state.gotoInitFreespinsState():this.slots.model.bonusGames.isReady?this.state.gotoInitBonusGameState():this.slots.model.respinReady?this.state.gotoSpinStartState():this.slots.model.giftspins.hasSpins?this.state.gotoGSIdleState():this.state.gotoIdleState()}}]),n}(l(e("./../base/SlotStateController.js")).default);n.default=l},{"./../base/SlotStateController.js":272,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],277:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=u(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"reportFinish",value:function(){if(!this.onFinishHandler)throw new Error("onFinishHandler not found! May be you doind something wrong?! Nigga!");this.onFinishHandler(),this.onFinishHandler=null}},{key:"showResultSequence",value:function(e){var t=this,n=(this.baseResultSequence=this.order.filter(function(e){return t.steps[e].check()&&t.steps[e].show}).map(function(e){return{phase:t.steps[e].phase,action:"show",functionName:t.steps[e].show}}),this.skipResultSequence),l=[],l=e?n.slice(this.playResultSequenceIndex):this.baseResultSequence.concat();this.playResultSequence(l,e)}},{key:"isWaitCompletion",get:function(){return this.slots.model.hasWinScatters&&this.slots.model.needWaitWhileScattersWillShown&&this.slots.model.freespins.isActiveStatus||this.slots.model.drop.isReady||this.slots.model.respinReady}}]),n}(l(e("./../base/ShowResultController.js")).default);n.default=l},{"./../base/ShowResultController.js":271,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],278:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=u(n);function n(){return(0,a.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n)}(l(e("./../base/SpinRequestController.js")).default);n.default=l},{"./../base/SpinRequestController.js":273,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],279:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=u(n);function n(e){return(0,a.default)(this,n),t.call(this,e)}return(0,i.default)(n)}(l(e("./../base/SpinStartController.js")).default);n.default=l},{"./../base/SpinStartController.js":274,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],280:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=u(n);function n(e){return(0,a.default)(this,n),t.call(this,e)}return(0,i.default)(n)}(l(e("./../base/SpinStopController.js")).default);n.default=l},{"./../base/SpinStopController.js":275,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],281:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(e){return(0,i.default)(this,n),t.call(this,e)}return(0,a.default)(n,[{key:"onEnterState",value:function(){var e=this;(0,r.default)((0,u.default)(n.prototype),"onEnterState",this).call(this),this.slots.bonusGame.end(function(){e.slots.model.totalWins=e.slots.model.bonusGame.winsBefore+e.slots.model.bonusGame.totalWins,e.showFinishPopup()})}},{key:"onExitState",value:function(){this.slots.model.lineWins=null,this.slots.ui.controller.model.checkAutoplayStop(),(0,r.default)((0,u.default)(n.prototype),"onExitState",this).call(this)}},{key:"gotoNextState",value:function(){var t=this;this.slots.model.bonusGames.isReady?this.state.gotoBNInitState():this.slots.network.sendNextAction().onComplete(function(e){t.slots.bonusGame.active&&t.slots.bonusGame.deactivate(),t.slots.setData(e),t.slots.dispatch(game.events.Slots.ON_MODEL_CHANGED,t.slots.model),t.slots.model.freespins.isPlayStatus||t.slots.model.freespins.isFinishStatus?(t.slots.setBehavior("freespins"),t.state.gotoFSCheckState()):(t.slots.setBehavior("base"),t.state.gotoCheckState())})}},{key:"popupOptions",get:function(){return{text:{TOTAL_WIN:this.slots.model.bonusGame.totalWins}}}},{key:"showFinishPopup",value:function(){var e=this;this.slots.popup.once(game.events.Popup.POPUP_EVENT,function(){return e.gotoNextState()}),this.slots.popup.show("bn_result",this.popupOptions)||this.slots.popup.show("bn_result_"+this.slots.model.bonusGame.name,this.popupOptions)||(this.slots.popup.unsubscribe(game.events.Popup.POPUP_EVENT),this.gotoNextState())}}]),n}(l(e("./../base/SlotStateController.js")).default);n.default=l},{"./../base/SlotStateController.js":272,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],282:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(l,e);var n=c(l);function l(e){var t;return(0,i.default)(this,l),t=n.call(this,e),e.registerPhases({BONUS_WILL_INIT:"bonusWillInit",BONUS_DID_INIT:"bonusDidInit",POPUP_WILL_SHOW:"popupWillShowPhase",POPUP_DID_SHOW:"popupDidShowPhase"}),t}return(0,a.default)(l,[{key:"onEnterState",value:function(){(0,r.default)((0,u.default)(l.prototype),"onEnterState",this).call(this),this._waitInit=!1,this._popupIsShowed=!1,this.showBonusPopup(),this.sendInitBonus({bonus_game:this.slots.model.bonusGames.currentBonusGameName})}},{key:"sendInitBonus",value:function(e){var t=this;this._waitInit=!0,this.state.setPhase(this.state.PHASES.BONUS_WILL_INIT),this.slots.network.sendNextAction(e).onComplete(function(e){t.slots.setData(e),t.onInitBonus()})}},{key:"showBonusPopup",value:function(){var e=this;this._waitEvent=!0,this.slots.popup.once(game.events.Popup.POPUP_WILL_SHOW,function(){return e.state.setPhase(e.state.PHASES.POPUP_WILL_SHOW)},this),this.slots.popup.once(game.events.Popup.POPUP_DID_SHOW,function(){return e.onPopupShowed()}),this.slots.popup.show("bn_start",{})||this.slots.popup.show("bn_start_"+this.slots.model.bonusGames.currentBonusGameName,{})||(this._waitEvent=!1,this._popupIsShowed=!0,this.slots.popup.unsubscribe(game.events.Popup.POPUP_WILL_SHOW),this.slots.popup.unsubscribe(game.events.Popup.POPUP_DID_SHOW))}},{key:"onPopupShowed",value:function(){var e=this;this._popupIsShowed=!0,this.state.setPhase(this.state.PHASES.POPUP_DID_SHOW),this.slots.popup.once(game.events.Popup.POPUP_DID_HIDE,function(){return e.onPopupHide()}),this.slots.popup.once(game.events.Popup.POPUP_EVENT,function(){return e.onPopupEvent()}),this._waitInit||c2d.call(function(){return e.slots.popup.hide()},this.slots.popup.controller.model.autoHideDelay)}},{key:"onPopupHide",value:function(){this._waitEvent&&this.onPopupEvent()}},{key:"onPopupEvent",value:function(){this._waitEvent=!1,this.state.gotoStartState()}},{key:"onInitBonus",value:function(){var e=this;this._waitInit=!1,this.state.setPhase(this.state.PHASES.BONUS_DID_INIT),this._popupIsShowed&&this._waitEvent?c2d.call(function(){return e.slots.popup.hide()},this.slots.popup.controller.model.autoHideDelay):this._waitEvent||this.state.gotoStartState()}}]),l}(l(e("./../base/SlotStateController.js")).default);n.default=l},{"./../base/SlotStateController.js":272,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],283:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(e){return(0,i.default)(this,n),t.call(this,e)}return(0,a.default)(n,[{key:"onEnterState",value:function(){(0,r.default)((0,u.default)(n.prototype),"onEnterState",this).call(this),this.slots.dispatch(game.events.Slots.ON_MODEL_CHANGED,this.slots.model),this.slots.model.bonusGame.isReady?this.slots.model.bonusGame.isFinishStatus?this.state.gotoEndState():this.state.gotoStartState():this.state.gotoInitState()}},{key:"onExitState",value:function(){(0,r.default)((0,u.default)(n.prototype),"onExitState",this).call(this)}}]),n}(l(e("./../base/SlotStateController.js")).default);n.default=l},{"./../base/SlotStateController.js":272,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],284:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(e){return(0,i.default)(this,n),t.call(this,e)}return(0,a.default)(n,[{key:"onEnterState",value:function(){(0,r.default)((0,u.default)(n.prototype),"onEnterState",this).call(this),this.slots.lines.hide(),this.slots.reelset.stopSymbolsAnimations(),this.slots.model.bonusGames.nextGame&&this.slots.bonusGame.active&&this.slots.bonusGame.deactivate(),this.gotoNextState()}},{key:"onExitState",value:function(){(0,r.default)((0,u.default)(n.prototype),"onExitState",this).call(this)}},{key:"gotoNextState",value:function(){var e=this;this.slots.bonusGame.setModel(this.slots.model.bonusGame),this.slots.bonusGame.activate(),this.slots.bonusGame.start(function(){return e.state.gotoStepState()},this.slots.model.autoplayMode),this.slots.setBehavior("bonusgame_"+this.slots.model.bonusGame.name),this.slots.dispatch(game.events.Slots.ON_MODEL_CHANGED,this.slots.model)}}]),n}(l(e("./../base/SlotStateController.js")).default);n.default=l},{"./../base/SlotStateController.js":272,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],285:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(e){return(0,i.default)(this,n),t.call(this,e)}return(0,a.default)(n,[{key:"onEnterState",value:function(){var e=this;(0,r.default)((0,u.default)(n.prototype),"onEnterState",this).call(this),this.slots.bonusGame.stepStart(function(){e.slots.network.sendNextAction({bonus_game:e.slots.model.bonusGame.name,choice:e.slots.bonusGame.choice}).onComplete(function(){return e.onStepReceived()})})}},{key:"onStepReceived",value:function(e){var t=this;this.slots.model.setData(this.slots.network.responseData),this.slots.bonusGame.setModel(this.slots.model.bonusGame),this.slots.bonusGame.stepEnd(function(){t.slots.model.bonusGame.isFinishStatus?t.state.gotoEndState():t.state.gotoStepState()})}},{key:"onExitState",value:function(){(0,r.default)((0,u.default)(n.prototype),"onExitState",this).call(this)}}]),n}(l(e("./../base/SlotStateController.js")).default);n.default=l},{"./../base/SlotStateController.js":272,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],286:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(e){return(0,i.default)(this,n),t.call(this,e)}return(0,a.default)(n,[{key:"onEnterState",value:function(){(0,r.default)((0,u.default)(n.prototype),"onEnterState",this).call(this),c2d.env.device.desktop()&&(this.slots.audioEnabled=c2d.env.storage.getItem("audioEnabled",!0)),this.slots.model.restoreState?this.slots.model.bonusGame.isReady||this.slots.model.bonusGames.isReady?this.state.gotoBonusRestoreState():this.slots.model.freespins.isActiveStatus?this.state.gotoFSRestoreState():this.state.gotoBGRestoreState():this.state.gotoBGRestoreState()}}]),n}(l(e("./../base/SlotStateController.js")).default);n.default=l},{"./../base/SlotStateController.js":272,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],287:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(e){return(0,i.default)(this,n),t.call(this,e)}return(0,a.default)(n,[{key:"onEnterState",value:function(){(0,r.default)((0,u.default)(n.prototype),"onEnterState",this).call(this),this.slots.model.bonusGames.isReady?this.state.gotoInitBonusGameState():this.slots.model.freespins.isStartStatus||this.slots.model.freespins.isPlayStatus||"freerespin"===this.slots.model.nextAction||"respin"===this.slots.model.nextAction?this.state.gotoSpinStartState():this.state.gotoEndState()}}]),n}(l(e("./../base/SlotStateController.js")).default);n.default=l},{"./../base/SlotStateController.js":272,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],288:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(l,e);var n=c(l);function l(e){var t;return(0,i.default)(this,l),t=n.call(this,e),e.registerPhases({POPUP_WILL_SHOW:"popupWillShowPhase",POPUP_DID_SHOW:"popupDidShowPhase",BUTTON_PRESSED:"buttonPressedPhase"}),t._waitEvent=!1,t}return(0,a.default)(l,[{key:"onEnterState",value:function(e){var t=this;(0,r.default)((0,u.default)(l.prototype),"onEnterState",this).call(this,e),this.slots.model.autoplayMode=!1,c2d.eventManager.subscribeOnce(game.events.FlatUI.COLLECT_PRESSED,function(){return t.onCollectPressed()}),this.slots.popup.once(game.events.Popup.POPUP_WILL_SHOW,function(){return t.state.setPhase(t.state.PHASES.POPUP_WILL_SHOW)}),this.slots.popup.once(game.events.Popup.POPUP_DID_SHOW,function(){return t.state.setPhase(t.state.PHASES.POPUP_DID_SHOW)}),!this.slots.ui.controller.model.stopAutospinsOnFreespins&&this.slots.ui.controller.model.autospinsActive&&this.slots.popup.subscribe(game.events.Popup.POPUP_DID_SHOW_COUNTER,function(){return t.autoCollect()},this),this.showFinishPopup()}},{key:"onExitState",value:function(){var e=this;this.slots.popup.off(game.events.Popup.POPUP_EVENT,this.onPopupEvent,this),this.slots.popup.off(game.events.Popup.POPUP_DID_SHOW_COUNTER,function(){return e.autoCollect()},this),(0,r.default)((0,u.default)(l.prototype),"onExitState",this).call(this),this.slots.ui.controller.model.checkAutoplayStop(),this.slots.model.previousTotalWin=0,this.slots.model.totalWin=0}},{key:"popupName",get:function(){return"fs_result"}},{key:"showFinishPopup",value:function(){var e=this.slots.model.freespins.totalWins/this.slots.model.totalBetCredit;e/=this.slots.model.freespins.totalCount,this.slots.popup.show(this.popupName,{text:{GAMES_COUNT:this.slots.model.freespins.doneCount,TOTAL_WIN:this.slots.model.freespins.totalWins},winRatio:e})}},{key:"autoCollect",value:function(){var e=this;this.autocollectTimeout=c2d.call(function(){e.autocollectTimeout=null,c2d.eventManager.dispatch(game.events.FlatUI.COLLECT_PRESSED)},4e3)}},{key:"gotoIdleState",value:function(){this.state.changeState(game.slots.FSM_STATES.IDLE_STATE)}},{key:"gotoBasegameRestoreState",value:function(){this.state.changeState(game.slots.FSM_STATES.BG_RESTORE_STATE)}},{key:"onCollectPressed",value:function(){var t=this;this.state.setPhase(this.state.PHASES.BUTTON_PRESSED),this.autocollectTimeout&&(c2d.Timeout.clear(this.autocollectTimeout),this.autocollectTimeout=null),this.slots.network.sendNextAction().onComplete(function(e){t.slots.setData(e),t.slots.dispatch(game.events.Slots.ON_MODEL_CHANGED,t.slots.model),t.closePopup(function(){return t.gotoBasegameRestoreState()})})}},{key:"closePopup",value:function(e){var t=this;this._waitEvent=!0,this.slots.popup.once(game.events.Popup.POPUP_EVENT,this.onPopupEvent,this),this.slots.popup.once(game.events.Popup.POPUP_DID_HIDE,function(){t.onPopupHide(),e()}),this.slots.popup.hide()}},{key:"restoreGame",value:function(){this.slots.lines.hide(),this.slots.reelset.initReels({reels:this.slots.model.reels,scatter:this.slots.model.scatterId,frozen:this.slots.model.freeze.getFrozenWithFreeze(),freespins:this.slots.model.freespins,walks:this.slots.model.walks}),this.slots.model.freeze.reset(),this.slots.model.restoreReels=null,this.slots.lines.hide(),this.slots.model.lineWins=null,this.slots.model.scatterWins=null}},{key:"onPopupHide",value:function(){this._waitEvent&&this.onPopupEvent()}},{key:"onPopupEvent",value:function(){this._waitEvent=!1,this.restoreGame(),this.slots.setBehavior("base")}}]),l}(l(e("./../base/SlotStateController.js")).default);n.default=l},{"./../base/SlotStateController.js":272,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],289:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(e){return(0,i.default)(this,n),t.call(this,e)}return(0,a.default)(n,[{key:"onEnterState",value:function(e){(0,r.default)((0,u.default)(n.prototype),"onEnterState",this).call(this,e),this.slots.network.setRequestData({bet:this.slots.ui.controller.model.cashData.bet,denomination:1,lines:this.slots.model.playingLinesCount}),this.showResultBeforeFS(),this.setFreespinsBehavior(),this.slots.model.freespins.isFinishStatus?this.gotoSpinResultState():(this.showResultsIfTheyNeeded(),this.state.gotoStartState())}},{key:"showResultBeforeFS",value:function(){"initfreespin"===this.slots.model.nextAction&&this.slots.model.needShowAllWinsAfterScatters&&(this.slots.model.hasWinLines&&this.slots.reelset.showSymbolWins(this.slots.model.lineWins),this.slots.model.hasWinScatters&&this.slots.reelset.showScatterWins(this.slots.model.scatterWins),this.slots.model.hasWins&&this.slots.lines.show(this.slots.model.allWins))}},{key:"setFreespinsBehavior",value:function(){this.slots.model.freespins.isActiveStatus&&this.slots.setBehavior(this.freespinsBehavior)}},{key:"gotoSpinResultState",value:function(){this.state.gotoShowResultState()}},{key:"showResultsIfTheyNeeded",value:function(){0<this.state.slots.model.freeze.hasFreeze&&this.state.slots.reelset.startFreeze(this.state.slots.model.freeze.freeze),0<this.state.slots.model.freeze.hasUnfreeze&&this.state.slots.reelset.startUnfreeze(this.state.slots.model.freeze.unfreeze),this.slots.model.replace.hasReplace&&this.state.slots.reelset.showReplaceSymbols(this.slots.model.replace.symbols,function(){})}},{key:"freespinsBehavior",get:function(){return"freespins"}}]),n}(l(e("./../base/SlotStateController.js")).default);n.default=l},{"./../base/SlotStateController.js":272,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],290:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(l,e);var n=c(l);function l(e){var t;return(0,i.default)(this,l),(t=n.call(this,e)).steps.showExtraSpinsPopup={name:"showExtraSpinsPopup",check:function(){return t.hasExtraSpinsPopup},show:t.showExtraSpinsPopup},e.registerPhases({SHOW_EXTRA_SPINS_POPUP:"showExtraSpinsPopup"}),t}return(0,a.default)(l,[{key:"hasExtraSpinsPopup",get:function(){return this.slots.model.freespins.isAddStatus}},{key:"onExitState",value:function(){(0,r.default)((0,u.default)(l.prototype),"onExitState",this).call(this),this.slots.model.freespins.isFinishStatus||this.slots.lines.hide()}},{key:"showResultSequence",value:function(e){var t=this,n=(this.baseResultSequence=[this.reportFinish],this.slots.model.freespins.isStartStatus||(this.baseResultSequence=[],this.order.filter(function(e){return t.steps[e].check()&&t.steps[e].show}).forEach(function(e){t.baseResultSequence.push({phase:t.steps[e].phase,action:"show",functionName:t.steps[e].show})})),this.skipResultSequence),l=[],l=e?n.slice(this.playResultSequenceIndex):this.baseResultSequence.concat();this.playResultSequence(l,e)}},{key:"showExtraSpinsPopup",value:function(e){this.state.setPhase(this.state.PHASES.SHOW_EXTRA_SPINS_POPUP),this.slots.popup.show("fs_more",{text:{GAMES_COUNT:this.slots.model.freespins.addCount}}),this.slots.popup.once(game.events.Popup.POPUP_DID_HIDE,function(){e()})}},{key:"order",get:function(){return[this.state.PHASES.SHOW_NUDGE,this.state.PHASES.SHOW_REPLACE,this.state.PHASES.SET_FROZEN,this.state.PHASES.SHOW_UNFREEZE,this.state.PHASES.SHOW_EXPANDED_SYMBOLS,this.state.PHASES.SHOW_RESULT,this.state.PHASES.SHOW_LINE_WINS,this.state.PHASES.SHOW_WAY_WINS,this.state.PHASES.SHOW_GROUP_WINS,this.state.PHASES.SHOW_TOGGLE_LINES,this.state.PHASES.SHOW_COLLECTIBLE_WINS,this.state.PHASES.SHOW_SCATTER_WINS,this.state.PHASES.SHOW_AFTER_SCATTER_WINS,this.state.PHASES.SHOW_FREEZE,this.state.PHASES.SHOW_EXTRA_SPINS_POPUP,this.state.PHASES.SHOW_RESPIN,this.state.PHASES.REPORT_FINISH]}}]),l}(l(e("./../base/ShowResultController.js")).default);n.default=l},{"./../base/ShowResultController.js":271,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],291:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=u(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"data",get:function(){var e=this.slots.model.freespins.type;return e?{freegame_type:e}:null}}]),n}(l(e("./../base/SpinRequestController.js")).default);n.default=l},{"./../base/SpinRequestController.js":273,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],292:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=u(n);function n(e){return(0,a.default)(this,n),t.call(this,e)}return(0,i.default)(n)}(l(e("./../base/SpinStartController.js")).default);n.default=l},{"./../base/SpinStartController.js":274,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],293:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=u(n);function n(e){return(0,a.default)(this,n),t.call(this,e)}return(0,i.default)(n)}(l(e("./../base/SpinStopController.js")).default);n.default=l},{"./../base/SpinStopController.js":275,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],294:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(l,e);var n=c(l);function l(e){var t;return(0,i.default)(this,l),t=n.call(this,e),e.registerPhases({FREESPINS_WILL_INIT:"freespinsWillInit",FREESPINS_DID_INIT:"freespinsDidInit",POPUP_WILL_SHOW:"popupWillShowPhase",POPUP_DID_SHOW:"popupDidShowPhase",SPIN_PRESSED:"spinPressedPhase"}),t._waitInit=!1,t._waitEvent=!1,t._popupIsShowed=!1,t}return(0,a.default)(l,[{key:"onEnterState",value:function(e){(0,r.default)((0,u.default)(l.prototype),"onEnterState",this).call(this,e),!this.slots.ui.controller.model.stopAutospinsOnFreespins&&this.slots.ui.controller.model.autospinsActive&&this.slots.popup.subscribe(game.events.Popup.POPUP_DID_SHOW,this.autoStartFreespins,this),"initfreespin"===this.slots.model.nextAction?this.sendInitFreespin():(this.showStartPopup(),this.showInitFSReelset())}},{key:"showInitFSReelset",value:function(){this.tryToReinitReelset()}},{key:"sendInitFreespin",value:function(e){var t=this;this._waitInit=!0,this.state.setPhase(this.state.PHASES.FREESPINS_WILL_INIT),this.slots.network.sendNextAction(e).onComplete(function(e){t.slots.setData(e),t.onInitFreespin(),t.showStartPopup()})}},{key:"onSpinPressed",value:function(){this.state.setPhase(this.state.PHASES.SPIN_PRESSED),this.autostartTimeout&&(c2d.Timeout.clear(this.autostartTimeout),this.autostartTimeout=null),this.hidePopupAndGo()}},{key:"hidePopupAndGo",value:function(){var e=this;this._popupIsShowed=!1,this.slots.popup.once(game.events.Popup.POPUP_DID_HIDE,function(){e.goToNewState()},this),this.slots.popup.hide()}},{key:"goToNewState",value:function(){this.slots.model.drop.hasPops?this.state.changeState(game.slots.FSM_STATES.FS_PLAY_POP_STATE):this.state.changeState(game.slots.FSM_STATES.FS_SPIN_START_STATE)}},{key:"tryToReinitReelset",value:function(){this.slots.model.freespins.initReels&&(this.slots.lines.hide(),this.slots.reelset.stopSymbolsAnimations(),this.slots.reelset.initReels({reels:this.slots.model.freespins.initReels,scatter:this.slots.model.scatterId,frozen:this.slots.model.freeze.hasFreeze?this.slots.model.freeze.freeze:null,freespins:this.slots.model.freespins,walks:this.slots.model.walks}),this.slots.model.freespins.initReels=null,this.state.setPhase(this.state.PHASES.FREESPINS_DID_INIT))}},{key:"popupName",get:function(){return this.slots.model.freespins.isPlayStatus&&this.slots.popup.config.fs_restore?"fs_restore":"fs_start"}},{key:"showStartPopup",value:function(){var e=this;c2d.eventManager.subscribeOnce(game.events.FlatUI.FREESPINS_START_PRESSED,function(){return e.onSpinPressed()}),this._waitEvent=!0,this.slots.popup.once(game.events.Popup.POPUP_WILL_SHOW,function(){return e.state.setPhase(e.state.PHASES.POPUP_WILL_SHOW)},this),this.slots.popup.once(game.events.Popup.POPUP_DID_SHOW,function(){return e.onPopupShowed()}),this.slots.popup.once(game.events.Popup.POPUP_DID_HIDE,function(){return e.onPopupHide()}),this.slots.popup.subscribe(game.events.Popup.POPUP_EVENT,this.onPopupEvent,this),this.slots.popup.show(this.popupName,{text:{GAMES_COUNT:this.slots.model.freespins.leftCount,TOTAL_WIN:this.slots.model.freespins.totalWins}})}},{key:"onExitState",value:function(){(0,r.default)((0,u.default)(l.prototype),"onExitState",this).call(this),this.slots.popup.off(game.events.Popup.POPUP_EVENT,this.onPopupEvent,this),this.slots.popup.off(game.events.Popup.POPUP_DID_SHOW,this.autoStartFreespins,this)}},{key:"onPopupShowed",value:function(){this._popupIsShowed=!0,this._waitInit||this.state.setPhase(this.state.PHASES.POPUP_DID_SHOW)}},{key:"onPopupHide",value:function(){this._waitEvent&&this.onPopupEvent()}},{key:"onPopupEvent",value:function(){this._waitEvent=!1,this.tryToReinitReelset(),this.slots.setBehavior(this.freespinsBehavior)}},{key:"onInitFreespin",value:function(){this._waitInit=!1,this._popupIsShowed&&this.state.setPhase(this.state.PHASES.POPUP_DID_SHOW)}},{key:"autoStartFreespins",value:function(){var e=this;this.autostartTimeout=c2d.call(function(){e.autostartTimeout=null,c2d.eventManager.dispatch(game.events.FlatUI.FREESPINS_START_PRESSED)},4e3)}},{key:"freespinsBehavior",get:function(){return"freespins"}}]),l}(l(e("./../base/SlotStateController.js")).default);n.default=l},{"./../base/SlotStateController.js":272,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],295:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(l,e);var n=c(l);function l(e){var t;return(0,i.default)(this,l),t=n.call(this,e),e.registerPhases({POPUP_WILL_SHOW:"popupWillShowPhase",SPIN_ENABLED:"spinEnabledPhase",SPIN_PRESSED:"spinPressedPhase"}),t}return(0,a.default)(l,[{key:"onEnterState",value:function(){(0,r.default)((0,u.default)(l.prototype),"onEnterState",this).call(this),this._popupIsShowed=!1,this.slots.model.giftspins.done?this.state.setPhase(this.state.PHASES.SPIN_ENABLED):(this.state.needChangeModelData()&&(this.slots.model.giftspins.prevModelData={lines:this.slots.model.playingLinesCount,bet:this.slots.model.lineBet,denomination:this.slots.model.denomination}),this.showPopup())}},{key:"onExitState",value:function(){(0,r.default)((0,u.default)(l.prototype),"onExitState",this).call(this)}},{key:"showPopup",value:function(){var e=this;this._popupIsShowed=!0,this.state.setPhase(this.state.PHASES.POPUP_WILL_SHOW),this.slots.popup.once(game.events.Popup.POPUP_DID_SHOW,function(){return e.onPopupShowed()}),this.slots.popup.show("gift_start",{text:{GAMES_COUNT:this.slots.model.giftspins.add}})}},{key:"hidePopup",value:function(e){this.slots.popup.once(game.events.Popup.POPUP_DID_HIDE,e),this.slots.popup.hide()}},{key:"onPopupShowed",value:function(){this.state.setPhase(this.state.PHASES.SPIN_ENABLED)}},{key:"onSpinPressed",value:function(){var e=this;c2d.eventManager.unsubscribe(game.events.FlatUI.DO_SPIN,this.onSpinHandler),this.state.setPhase(this.state.PHASES.SPIN_PRESSED),this._popupIsShowed?this.hidePopup(function(){return e.state.changeState(game.slots.FSM_STATES.BG_START_STATE)}):this.state.changeState(game.slots.FSM_STATES.BG_START_STATE)}}]),l}(l(e("./../idle/IdleController.js")).default);n.default=l},{"./../idle/IdleController.js":296,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],296:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/regenerator"))),a=l(e("@babel/runtime/helpers/asyncToGenerator")),r=l(e("@babel/runtime/helpers/classCallCheck")),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/get")),u=l(e("@babel/runtime/helpers/inherits")),c=l(e("@babel/runtime/helpers/possibleConstructorReturn")),h=l(e("@babel/runtime/helpers/getPrototypeOf"));function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(n);return e=l?(e=(0,h.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}l=function(e){(0,u.default)(l,e);var t,n=f(l);function l(){return(0,r.default)(this,l),n.apply(this,arguments)}return(0,o.default)(l,[{key:"onEnterState",value:(t=(0,a.default)(i.default.mark(function e(){var t=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,s.default)((0,h.default)(l.prototype),"onEnterState",this).call(this),this.onSpinHandler=function(){return t.onSpinPressed()},c2d.eventManager.subscribe(game.events.FlatUI.DO_SPIN,this.onSpinHandler),this.slots.model.updateStatistic(),this.slots.model.autoplayMode||this.slots.model.giftspins.hasSpins&&!this.slots.model.giftspins.done||this.slots.startTogglingWinLines();case 5:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"onExitState",value:function(){(0,s.default)((0,h.default)(l.prototype),"onExitState",this).call(this),c2d.eventManager.unsubscribe(game.events.FlatUI.DO_SPIN,this.onSpinHandler),this.slots.lines.off(game.events.Lines.LINES_DID_SHOWN,this.onAutoSpinHandler,this),c2d.Tween.removeTweens(this.state),!this.slots.model.drop.isReady&&0<this.slots.model.drop.doneCount||this.slots.model.previousState===game.slots.FSM_STATES.IDLE_STATE&&this.slots.model.giftspins.hasSpins||this.slots.stopTogglingWinLines()}},{key:"onAutoSpinHandler",value:function(){var e=this;this.slots.model.hasCreditToSpin?c2d.Tween.get(this,{override:!0}).wait(this.slots.model.hasWinScatters?1e3:0).call(function(){e.slots.model.autoplayMode=!0,e.slots.dispatch(game.events.Slots.ON_MODEL_CHANGED,e.slots.model),e.onSpinPressed()}):this.cancelSpin()}},{key:"onSpinPressed",value:function(){this.state.changeState(game.slots.FSM_STATES.BG_START_STATE)}},{key:"onStopSpinHandler",value:function(){this.slots.model.autoplayMode=!1,this.slots.dispatch(game.events.Slots.ON_MODEL_CHANGED,this.slots.model),c2d.Tween.removeTweens(this),this.slots.lines.off(game.events.Lines.LINES_DID_SHOWN,this.onAutoSpinHandler,this)}},{key:"cancelSpin",value:function(){this.slots.ui.showPopup({message:"not_enough_money",image:"popup_smile",confirm:c2d.env.cashUrl&&{label:"go_to_bank",handler:function(){return c2d.env.goToBank()}},dismiss:{label:"close"}}),this.onStopSpinHandler()}}]),l}(l(e("./../base/SlotStateController.js")).default);n.default=l},{"./../base/SlotStateController.js":272,"@babel/runtime/helpers/asyncToGenerator":5,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/regenerator":28}],297:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(e){return(0,i.default)(this,n),t.call(this,e)}return(0,a.default)(n,[{key:"onEnterState",value:function(e){(0,r.default)((0,u.default)(n.prototype),"onEnterState",this).call(this,e),this.slots.ui.eventRouter=this.slots.eventRouter,this.slots.dispatch(game.events.Slots.ON_MODEL_CHANGED,this.slots.model),this.finalizeFreespins(),this.slots.reelset.initReels(this.initReelsData),this.slots.lines.initLines(this.linesConfig),this.slots.sfxVolume=c2d.env.storage.getItem("sfxVolume",1),this.slots.musicVolume=c2d.env.storage.getItem("musicVolume",1),this.slots.masterVolume=c2d.env.storage.getItem("masterVolume",1),this.reportFinish()}},{key:"initReelsData",get:function(){return{reels:this.slots.model.reels,scatter:this.slots.model.scatterId,unfreeze:this.slots.model.freeze.unfreeze,frozen:this.slots.model.freeze.frozen,freespins:this.slots.model.freespins,walks:this.slots.model.walks}}},{key:"linesConfig",get:function(){return this.slots.model.linesConfig.map(function(e){return{id:e.idx,symbols:e.positions.map(function(e){return e.symId})}})}},{key:"finalizeFreespins",value:function(){this.slots.model.freespins.isFinishStatus&&!this.slots.model.hasRespin&&this.slots.model.freeze.freeze&&this.slots.model.freeze.freeze.positions&&this.slots.model.freeze.freeze.positions.length}}]),n}(l(e("./../base/SlotStateController.js")).default);n.default=l},{"./../base/SlotStateController.js":272,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],298:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("./../base/SlotStateController.js"));l(e("../../../../api/Events.js"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=h(n);function n(e){return(0,i.default)(this,n),t.call(this,e)}return(0,a.default)(n,[{key:"onEnterState",value:function(){(0,r.default)((0,u.default)(n.prototype),"onEnterState",this).call(this),this.changeState()}},{key:"changeState",value:function(){var e=this;this.slots.components.cinematic.start(function(){e.state.changeState(game.slots.FSM_STATES.CHECK_STATE)})}},{key:"onExitState",value:function(){(0,r.default)((0,u.default)(n.prototype),"onExitState",this).call(this)}}]),n}(c.default);n.default=l},{"../../../../api/Events.js":33,"./../base/SlotStateController.js":272,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],299:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("./../base/SlotStateController.js"));l(e("../../../../api/Events.js"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=h(n);function n(e){return(0,i.default)(this,n),t.call(this,e)}return(0,a.default)(n,[{key:"onEnterState",value:function(){(0,r.default)((0,u.default)(n.prototype),"onEnterState",this).call(this),this.changeState()}},{key:"changeState",value:function(){var e=this;this.slots.components.intro.start(function(){e.state.changeState(game.slots.FSM_STATES.CHECK_STATE)})}},{key:"onExitState",value:function(){(0,r.default)((0,u.default)(n.prototype),"onExitState",this).call(this)}}]),n}(c.default);n.default=l},{"../../../../api/Events.js":33,"./../base/SlotStateController.js":272,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],300:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));l(e("../../../api/Events.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(l,e);var n=c(l);function l(e,t){return(0,i.default)(this,l),(e=n.call(this,e,t))._mode=t,e._slots=null,e._controller=null,e}return(0,a.default)(l,[{key:"enter",value:function(){var e=this;(0,r.default)((0,u.default)(l.prototype),"enter",this).call(this),this.slots.model.previousMode=this.slots.model.currentMode,this.slots.model.currentMode!==this.mode&&(this.slots.model.currentMode=this.mode),this.controller?this.controller.onEnterState(function(){return e.onEnterFinished()}):this.onEnterFinished()}},{key:"update",value:function(e){(0,r.default)((0,u.default)(l.prototype),"update",this).call(this,e)}},{key:"exit",value:function(){(0,r.default)((0,u.default)(l.prototype),"exit",this).call(this),this.controller&&this.controller.onExitState(),this.onExitFinished()}},{key:"slots",get:function(){return this._slots},set:function(e){this._slots=e,this.controller&&(this.controller.slots=e)}},{key:"controller",get:function(){return this._controller},set:function(e){this._controller=e}},{key:"mode",get:function(){return this._mode}},{key:"onEnterFinished",value:function(){}},{key:"onExitFinished",value:function(){}}]),l}(c2d.fsm.State);n.default=l},{"../../../api/Events.js":33,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],301:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.call(this,game.slots.FSM_STATES.BG_BEFORE_IDLE_STATE,game.slots.GAME_MODES.BASE_GAME_MODE)}return(0,a.default)(n,[{key:"enter",value:function(){(0,r.default)((0,u.default)(n.prototype),"enter",this).call(this);var e=this.slots.ui.controller.view;c2d.env.minSpinTime&&c2d.env.spinTimeout&&(e.alpha=.8,e.interactiveChildren=!1,c2d.env.spinTimeout.then(function(){e.alpha=1,e.interactiveChildren=!0})),this.gotoIdletate()}},{key:"gotoIdletate",value:function(){this.changeState(game.slots.FSM_STATES.BG_END_STATE)}}]),n}(l(e("../SlotsState.js")).default);n.default=l},{"../SlotsState.js":300,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],302:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/regenerator"))),a=l(e("@babel/runtime/helpers/asyncToGenerator")),r=l(e("@babel/runtime/helpers/classCallCheck")),o=l(e("@babel/runtime/helpers/createClass")),s=l(e("@babel/runtime/helpers/get")),u=l(e("@babel/runtime/helpers/inherits")),c=l(e("@babel/runtime/helpers/possibleConstructorReturn")),h=l(e("@babel/runtime/helpers/getPrototypeOf"));function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(n);return e=l?(e=(0,h.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,e)}}l=function(e){(0,u.default)(l,e);var t,n=f(l);function l(){var e;return(0,r.default)(this,l),(e=n.call(this,game.slots.FSM_STATES.BG_CHECK_STATE,game.slots.GAME_MODES.BASE_GAME_MODE)).registerPhases({PREPARE_AUTOSPIN:"prepareAutospin"}),e}return(0,o.default)(l,[{key:"enter",value:function(){var e,t=this;(0,s.default)((0,h.default)(l.prototype),"enter",this).call(this),this.params&&this.params.needSpin&&!c2d.env.minSpinTime?this.gotoSpinStartState():this.slots.model.respinReady?(this.slots.ui.controller.model.checkAndStopAutoplay(),this.gotoSpinStartState()):this.isNextAutospin&&this.isSpinPossible?(e=this.slots.model.respin.isFinalRespin&&this.isNextAutospin?1e3:200,this.setPhase(this.PHASES.PREPARE_AUTOSPIN),c2d.call(function(){t.isNextAutospin?t.gotoSpinStartState():t.gotoEndState()},e)):(this.isNextAutospin&&!this.isSpinPossible&&this.slots.ui.controller.stopAutospins(!0),this.gotoEndState())}},{key:"gotoSpinStartState",value:(t=(0,a.default)(i.default.mark(function e(){var t;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.slots.ui.controller.view,c2d.env.minSpinTime&&this.slots.spinTimeout&&(t.alpha=.8,t.interactiveChildren=!1,this.slots.spinTimeout.then(function(){t.alpha=1,t.interactiveChildren=!0})),this.changeState(game.slots.FSM_STATES.BG_SPIN_START_STATE);case 3:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"gotoEndState",value:function(){this.changeState(game.slots.FSM_STATES.BG_BEFORE_IDLE_STATE)}},{key:"isNextAutospin",get:function(){return!this.slots.ui.controller.model.shouldAutoplayStop&&"initfreespin"!==this.slots.model.nextAction&&!this.slots.model.bonusGames.isReady}},{key:"isSpinPossible",get:function(){return this.slots.ui.controller.model.cashData.isEnoughMoneyToSpin||"spin"!=this.slots.model.nextAction}}]),l}(l(e("../SlotsState.js")).default);n.default=l},{"../SlotsState.js":300,"@babel/runtime/helpers/asyncToGenerator":5,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19,"@babel/runtime/regenerator":28}],303:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.call(this,game.slots.FSM_STATES.BG_DROP_REQUEST_STATE,game.slots.GAME_MODES.BASE_GAME_MODE)}return(0,a.default)(n,[{key:"enter",value:function(){var e=this;(0,r.default)((0,u.default)(n.prototype),"enter",this).call(this),this.slots.network.sendNextAction().onComplete(function(){return e.gotoResponseState()})}},{key:"gotoResponseState",value:function(){this.changeState(game.slots.FSM_STATES.BG_DROP_RESPONSE_STATE)}}]),n}(l(e("./../basestates/DropRequest.js")).default);n.default=l},{"./../basestates/DropRequest.js":315,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],304:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("./../basestates/DropResponse.js"));l(e("../../../../api/Constants.js"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=h(n);function n(){return(0,i.default)(this,n),t.call(this,game.slots.FSM_STATES.BG_DROP_RESPONSE_STATE,game.slots.GAME_MODES.BASE_GAME_MODE)}return(0,a.default)(n,[{key:"enter",value:function(){(0,r.default)((0,u.default)(n.prototype),"enter",this).call(this)}},{key:"gotoPlayDropState",value:function(){this.changeState(game.slots.FSM_STATES.BG_PLAY_DROP_STATE)}}]),n}(c.default);n.default=l},{"../../../../api/Constants.js":32,"./../basestates/DropResponse.js":316,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],305:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this,game.slots.FSM_STATES.BG_END_STATE,game.slots.GAME_MODES.BASE_GAME_MODE)).controller=new game.src.SlotsFSM.BGEndController((0,r.default)(e)),e}return(0,a.default)(n,[{key:"gotoInitFreespinsState",value:function(){this.changeState(game.slots.FSM_STATES.FS_START_STATE)}},{key:"gotoInitBonusGameState",value:function(){this.changeState(game.slots.FSM_STATES.BN_INIT_STATE)}},{key:"gotoSpinStartState",value:function(){this.changeState(game.slots.FSM_STATES.BG_SPIN_START_STATE)}},{key:"gotoIdleState",value:function(){this.changeState(game.slots.FSM_STATES.IDLE_STATE)}},{key:"gotoGSIdleState",value:function(){this.changeState(game.slots.FSM_STATES.GS_IDLE_STATE)}}]),n}(l(e("../SlotsState.js")).default);n.default=l},{"../SlotsState.js":300,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],306:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.call(this,game.slots.FSM_STATES.BG_PLAY_DROP_STATE,game.slots.GAME_MODES.BASE_GAME_MODE)}return(0,a.default)(n,[{key:"enter",value:function(){(0,r.default)((0,u.default)(n.prototype),"enter",this).call(this)}},{key:"gotoSpinResultState",value:function(){this.changeState(game.slots.FSM_STATES.BG_SHOW_RESULT_STATE)}}]),n}(l(e("../basestates/PlayDrop.js")).default);n.default=l},{"../basestates/PlayDrop.js":317,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],307:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.call(this,game.slots.FSM_STATES.BG_PLAY_POP_STATE,game.slots.GAME_MODES.BASE_GAME_MODE)}return(0,a.default)(n,[{key:"enter",value:function(){(0,r.default)((0,u.default)(n.prototype),"enter",this).call(this)}},{key:"gotoRequestState",value:function(){this.changeState(game.slots.FSM_STATES.BG_DROP_REQUEST_STATE)}}]),n}(l(e("../basestates/PlayPop.js")).default);n.default=l},{"../basestates/PlayPop.js":318,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],308:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.call(this,game.slots.FSM_STATES.BG_RESTORE_STATE,game.slots.GAME_MODES.BASE_GAME_MODE)}return(0,a.default)(n,[{key:"enter",value:function(){(0,r.default)((0,u.default)(n.prototype),"enter",this).call(this),this.gotoSpinResultState()}},{key:"gotoSpinResultState",value:function(){this.changeState(game.slots.FSM_STATES.BG_SHOW_RESULT_STATE)}}]),n}(l(e("./../basestates/Restore.js")).default);n.default=l},{"./../basestates/Restore.js":319,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],309:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("./../basestates/ShowResult.js"));l(e("../../../../api/Constants.js"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=h(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this,game.slots.FSM_STATES.BG_SHOW_RESULT_STATE,game.slots.GAME_MODES.BASE_GAME_MODE)).controller=new game.src.SlotsFSM.BGShowResultController((0,r.default)(e)),e}return(0,a.default)(n,[{key:"gotoCheckState",value:function(){this.changeState(game.slots.FSM_STATES.BG_CHECK_STATE,{needSpin:this.needSpin})}},{key:"gotoPlayPopState",value:function(){this.changeState(game.slots.FSM_STATES.BG_PLAY_POP_STATE)}}]),n}(c.default);n.default=l},{"../../../../api/Constants.js":32,"./../basestates/ShowResult.js":320,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],310:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this,game.slots.FSM_STATES.BG_SPIN_REQUEST_STATE,game.slots.GAME_MODES.BASE_GAME_MODE)).controller=new game.src.SlotsFSM.BGSpinRequestController((0,r.default)(e)),e}return(0,a.default)(n,[{key:"gotoResponseState",value:function(){this.changeState(game.slots.FSM_STATES.BG_SPIN_RESPONSE_STATE)}}]),n}(l(e("./../basestates/SpinRequest.js")).default);n.default=l},{"./../basestates/SpinRequest.js":321,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],311:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("./../basestates/SpinResponse.js"));l(e("../../../../api/Constants.js"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=h(n);function n(){return(0,i.default)(this,n),t.call(this,game.slots.FSM_STATES.BG_SPIN_RESPONSE_STATE,game.slots.GAME_MODES.BASE_GAME_MODE)}return(0,a.default)(n,[{key:"enter",value:function(){(0,r.default)((0,u.default)(n.prototype),"enter",this).call(this)}},{key:"gotoSpinStopState",value:function(){var e=1e3*c2d.env.minSpinTime;e&&(c2d.env.spinTimeout=c2d.wait(e),c2d.env.spinTimeout.then(function(){c2d.env.spinTimeout=null})),this.changeState(game.slots.FSM_STATES.BG_SPIN_STOP_STATE)}}]),n}(c.default);n.default=l},{"../../../../api/Constants.js":32,"./../basestates/SpinResponse.js":322,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],312:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/get")),s=l(e("@babel/runtime/helpers/inherits")),u=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}l=function(e){(0,s.default)(n,e);var t=h(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this,game.slots.FSM_STATES.BG_SPIN_START_STATE,game.slots.GAME_MODES.BASE_GAME_MODE)).controller=new game.src.SlotsFSM.BGSpinStartController((0,r.default)(e)),e}return(0,a.default)(n,[{key:"enter",value:function(){(0,o.default)((0,c.default)(n.prototype),"enter",this).call(this)}},{key:"gotoSpinRequestState",value:function(){this.changeState(game.slots.FSM_STATES.BG_SPIN_REQUEST_STATE)}}]),n}(l(e("../basestates/SpinStart.js")).default);n.default=l},{"../basestates/SpinStart.js":323,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],313:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/get")),s=l(e("@babel/runtime/helpers/inherits")),u=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}l=function(e){(0,s.default)(n,e);var t=h(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this,game.slots.FSM_STATES.BG_SPIN_STOP_STATE,game.slots.GAME_MODES.BASE_GAME_MODE)).controller=new game.src.SlotsFSM.BGSpinStopController((0,r.default)(e)),e}return(0,a.default)(n,[{key:"enter",value:function(){(0,o.default)((0,c.default)(n.prototype),"enter",this).call(this)}},{key:"gotoSpinResultState",value:function(){this.changeState(game.slots.FSM_STATES.BG_SHOW_RESULT_STATE)}}]),n}(l(e("../basestates/SpinStop.js")).default);n.default=l},{"../basestates/SpinStop.js":324,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],314:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.call(this,game.slots.FSM_STATES.BG_START_STATE,game.slots.GAME_MODES.BASE_GAME_MODE)}return(0,a.default)(n,[{key:"enter",value:function(){(0,r.default)((0,u.default)(n.prototype),"enter",this).call(this),this.gotoSpinStartState()}},{key:"gotoSpinStartState",value:function(){this.changeState(game.slots.FSM_STATES.BG_SPIN_START_STATE)}}]),n}(l(e("../SlotsState.js")).default);n.default=l},{"../SlotsState.js":300,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],315:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"enter",value:function(){(0,r.default)((0,u.default)(n.prototype),"enter",this).call(this),this.slots.network.setRequestData({bet:this.slots.ui.controller.model.cashData.bet,denomination:1,lines:this.slots.model.playingLinesCount})}},{key:"gotoResponseState",value:function(){console.warn("override me")}}]),n}(l(e("../SlotsState.js")).default);n.default=l},{"../SlotsState.js":300,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],316:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("../SlotsState.js")),h=l(e("../../../../api/Events.js"));function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=f(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"enter",value:function(){(0,r.default)((0,u.default)(n.prototype),"enter",this).call(this),this.slots.setData(this.slots.network.responseData),this.slots.dispatch(h.default.ON_MODEL_CHANGED,this.slots.model),this.gotoPlayDropState()}},{key:"gotoPlayDropState",value:function(){console.warn("override me")}}]),n}(c.default);n.default=l},{"../../../../api/Events.js":33,"../SlotsState.js":300,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],317:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"enter",value:function(){(0,r.default)((0,u.default)(n.prototype),"enter",this).call(this),this.slots.lines.hide(),this.slots.reelset.controller.updateSymbolsAnimations(),this.slots.reelset.once(game.events.Reelset.REELSET_DID_FINISH_DROP_ANIMATION,this.gotoSpinResultState,this),this.slots.reelset.startDrop(this.slots.model.reels,this.slots.model.quickStop||this.slots.model.turboMode)}},{key:"gotoSpinResultState",value:function(){console.warn("override me")}}]),n}(l(e("../SlotsState.js")).default);n.default=l},{"../SlotsState.js":300,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],318:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"enter",value:function(){(0,r.default)((0,u.default)(n.prototype),"enter",this).call(this),this.slots.lines.hide(),0===this.slots.model.drop.popSymbols.length?this.gotoRequestState():(this.slots.reelset.once(game.events.Reelset.REELSET_DID_FINISH_POP_ANIMATION,this.gotoRequestState,this),this.slots.reelset.startPop(this.slots.model.drop.popSymbols,this.slots.model.quickStop||this.slots.model.turboMode,this.slots.model.extra))}},{key:"gotoRequestState",value:function(){console.warn("override me")}}]),n}(l(e("../SlotsState.js")).default);n.default=l},{"../SlotsState.js":300,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],319:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"enter",value:function(){(0,r.default)((0,u.default)(n.prototype),"enter",this).call(this)}},{key:"gotoSpinResultState",value:function(){console.warn("override me")}}]),n}(l(e("../SlotsState.js")).default);n.default=l},{"../SlotsState.js":300,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],320:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("../SlotsState.js")),h=l(e("../../../../api/Events.js"));function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=f(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"enter",value:function(){(0,r.default)((0,u.default)(n.prototype),"enter",this).call(this);var e=this.slots.model.hasWins?h.default.ON_WIN_RESULT:h.default.ON_LOSE_RESULT;this.slots.dispatch(e,{gameMode:this.slots.model.currentMode})}},{key:"onEnterFinished",value:function(){this.slots.model.drop.isReady?this.gotoPlayPopState():this.gotoCheckState()}},{key:"gotoSpinStartState",value:function(){this.changeState(game.slots.FSM_STATES.BG_SPIN_START_STATE)}},{key:"gotoCheckState",value:function(){console.warn("override me")}},{key:"gotoPlayPopState",value:function(){console.warn("override me")}}]),n}(c.default);n.default=l},{"../../../../api/Events.js":33,"../SlotsState.js":300,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],321:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=u(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"gotoResponseState",value:function(){console.warn("override me")}}]),n}(l(e("../SlotsState.js")).default);n.default=l},{"../SlotsState.js":300,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],322:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"enter",value:function(){(0,r.default)((0,u.default)(n.prototype),"enter",this).call(this),this.slots.setData(this.slots.network.responseData),this.gotoSpinStopState()}},{key:"gotoSpinStopState",value:function(){console.warn("override me")}}]),n}(l(e("../SlotsState.js")).default);n.default=l},{"../SlotsState.js":300,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],323:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=u(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"gotoSpinRequestState",value:function(){console.warn("override me")}}]),n}(l(e("../SlotsState.js")).default);n.default=l},{"../SlotsState.js":300,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],324:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"enter",value:function(){(0,r.default)((0,u.default)(n.prototype),"enter",this).call(this)}},{key:"exit",value:function(){(0,r.default)((0,u.default)(n.prototype),"exit",this).call(this)}},{key:"gotoSpinResultState",value:function(){console.warn("override me")}}]),n}(l(e("../SlotsState.js")).default);n.default=l},{"../SlotsState.js":300,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],325:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/get")),s=l(e("@babel/runtime/helpers/inherits")),u=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}l=function(e){(0,s.default)(n,e);var t=h(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this,game.slots.FSM_STATES.BN_END_STATE,game.slots.constants.GameMode.BONUS_GAME_MODE)).registerPhases({GO_TO_INIT:"goToInit",GO_TO_CHECK:"goToCheck",GO_TO_CHECK_FS:"goToCheckFS"}),e.controller=new game.src.SlotsFSM.BNEndController((0,r.default)(e)),e}return(0,a.default)(n,[{key:"enter",value:function(){(0,o.default)((0,c.default)(n.prototype),"enter",this).call(this)}},{key:"exit",value:function(){(0,o.default)((0,c.default)(n.prototype),"exit",this).call(this)}},{key:"gotoBNInitState",value:function(){this.setPhase(this.PHASES.GO_TO_INIT),this.changeState(game.slots.FSM_STATES.BN_INIT_STATE)}},{key:"gotoFSCheckState",value:function(){this.setPhase(this.PHASES.GO_TO_CHECK_FS),this.changeState(game.slots.FSM_STATES.FS_CHECK_STATE)}},{key:"gotoCheckState",value:function(){this.setPhase(this.PHASES.GO_TO_CHECK),this.changeState(game.slots.FSM_STATES.CHECK_STATE)}}]),n}(l(e("../SlotsState.js")).default);n.default=l},{"../SlotsState.js":300,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],326:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/get")),s=l(e("@babel/runtime/helpers/inherits")),u=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}l=function(e){(0,s.default)(n,e);var t=h(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this,game.slots.FSM_STATES.BN_INIT_STATE,game.slots.constants.GameMode.BONUS_GAME_MODE)).controller=new game.src.SlotsFSM.BNInitController((0,r.default)(e)),e}return(0,a.default)(n,[{key:"enter",value:function(){(0,o.default)((0,c.default)(n.prototype),"enter",this).call(this)}},{key:"gotoStartState",value:function(){this.changeState(game.slots.FSM_STATES.BN_START_STATE)}}]),n}(l(e("../SlotsState.js")).default);n.default=l},{"../SlotsState.js":300,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],327:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/get")),s=l(e("@babel/runtime/helpers/inherits")),u=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}l=function(e){(0,s.default)(n,e);var t=h(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this,game.slots.FSM_STATES.BN_RESTORE_STATE,game.slots.constants.GameMode.BONUS_GAME_MODE)).controller=new game.src.SlotsFSM.BNRestoreController((0,r.default)(e)),e}return(0,a.default)(n,[{key:"enter",value:function(){(0,o.default)((0,c.default)(n.prototype),"enter",this).call(this)}},{key:"gotoInitState",value:function(){this.changeState(game.slots.FSM_STATES.BN_INIT_STATE)}},{key:"gotoStartState",value:function(){this.changeState(game.slots.FSM_STATES.BN_START_STATE)}},{key:"gotoEndState",value:function(){this.changeState(game.slots.FSM_STATES.BN_END_STATE)}}]),n}(l(e("../SlotsState.js")).default);n.default=l},{"../SlotsState.js":300,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],328:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this,game.slots.FSM_STATES.BN_START_STATE,game.slots.constants.GameMode.BONUS_GAME_MODE)).controller=new game.src.SlotsFSM.BNStartController((0,r.default)(e)),e}return(0,a.default)(n,[{key:"gotoStepState",value:function(){this.changeState(game.slots.FSM_STATES.BN_STEP_STATE)}}]),n}(l(e("../SlotsState.js")).default);n.default=l},{"../SlotsState.js":300,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],329:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/get")),s=l(e("@babel/runtime/helpers/inherits")),u=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}l=function(e){(0,s.default)(n,e);var t=h(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this,game.slots.FSM_STATES.BN_STEP_STATE,game.slots.constants.GameMode.BONUS_GAME_MODE)).controller=new game.src.SlotsFSM.BNStepController((0,r.default)(e)),e}return(0,a.default)(n,[{key:"enter",value:function(){(0,o.default)((0,c.default)(n.prototype),"enter",this).call(this)}},{key:"exit",value:function(){(0,o.default)((0,c.default)(n.prototype),"exit",this).call(this)}},{key:"gotoStepState",value:function(){this.changeState(game.slots.FSM_STATES.BN_STEP_STATE)}},{key:"gotoEndState",value:function(){this.changeState(game.slots.FSM_STATES.BN_END_STATE)}}]),n}(l(e("../SlotsState.js")).default);n.default=l},{"../SlotsState.js":300,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],330:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/get")),s=l(e("@babel/runtime/helpers/inherits")),u=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf")),l=l(e("../SlotsState.js"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}e=function(e){(0,s.default)(n,e);var t=h(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this,game.slots.FSM_STATES.CHECK_STATE,game.slots.GAME_MODES.CHECK_GAME_MODE)).controller=new game.src.SlotsFSM.CheckController((0,r.default)(e)),e}return(0,a.default)(n,[{key:"enter",value:function(){var e=this;this.hastToShowRestorePopup()?this.showRestorePopup(function(){return(0,o.default)((0,c.default)(n.prototype),"enter",e).call(e)}):(0,o.default)((0,c.default)(n.prototype),"enter",this).call(this)}},{key:"gotoBonusRestoreState",value:function(){this.changeState(game.slots.FSM_STATES.BN_RESTORE_STATE)}},{key:"gotoFSRestoreState",value:function(){this.changeState(game.slots.FSM_STATES.FS_RESTORE_STATE)}},{key:"gotoBGRestoreState",value:function(){this.changeState(game.slots.FSM_STATES.BG_RESTORE_STATE)}},{key:"gotoIdleState",value:function(){this.changeState(game.slots.FSM_STATES.IDLE_STATE)}},{key:"hastToShowRestorePopup",value:function(){var e=this.slots.network.responseData.availableActions,t=this.slots.model.hasInitData,n=c2d.env.showRestoreSessionPopup;return!e.includes("spin")&&!e.includes("extrabonus_spin")&&t&&n}},{key:"showRestorePopup",value:function(e){var t=this,n=c2d.once(e),l=c2d.call(function(){t.slots.ui.hidePopup(),n()},5e3),e=c2d.once(function(){l&&c2d.Timeout.clear(l),n()});this.slots.ui.showPopup({message:"\r"+"restore_popup".ls()+"\r",confirm:{label:"close".ls(),handler:e},style:{color:"0x000000",alpha:1}})}}]),n}(l.default);n.default=e},{"../SlotsState.js":300,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],331:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this,game.slots.FSM_STATES.FS_CHECK_STATE,game.slots.GAME_MODES.FREESPINS_GAME_MODE)).controller=new game.src.SlotsFSM.FSCheckController((0,r.default)(e)),e}return(0,a.default)(n,[{key:"gotoSpinStartState",value:function(){this.changeState(game.slots.FSM_STATES.FS_SPIN_START_STATE)}},{key:"gotoInitBonusGameState",value:function(){this.changeState(game.slots.FSM_STATES.BN_INIT_STATE)}},{key:"gotoEndState",value:function(){this.changeState(game.slots.FSM_STATES.FS_END_STATE)}}]),n}(l(e("../SlotsState.js")).default);n.default=l},{"../SlotsState.js":300,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],332:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.call(this,game.slots.FSM_STATES.FS_DROP_REQUEST_STATE,game.slots.GAME_MODES.FREESPINS_GAME_MODE)}return(0,a.default)(n,[{key:"enter",value:function(){var e=this;(0,r.default)((0,u.default)(n.prototype),"enter",this).call(this),this.slots.network.sendNextAction(this.data).onComplete(function(){return e.gotoResponseState()})}},{key:"data",get:function(){var e=this.slots.model.freespins.type;return e?{freegame_type:e}:null}},{key:"gotoResponseState",value:function(){this.changeState(game.slots.FSM_STATES.FS_DROP_RESPONSE_STATE)}}]),n}(l(e("./../basestates/DropRequest.js")).default);n.default=l},{"./../basestates/DropRequest.js":315,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],333:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("./../basestates/DropResponse.js"));l(e("../../../../api/Constants.js"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=h(n);function n(){return(0,i.default)(this,n),t.call(this,game.slots.FSM_STATES.FS_DROP_RESPONSE_STATE,game.slots.GAME_MODES.FREESPINS_GAME_MODE)}return(0,a.default)(n,[{key:"enter",value:function(){(0,r.default)((0,u.default)(n.prototype),"enter",this).call(this)}},{key:"gotoPlayDropState",value:function(){this.changeState(game.slots.FSM_STATES.FS_PLAY_DROP_STATE)}}]),n}(c.default);n.default=l},{"../../../../api/Constants.js":32,"./../basestates/DropResponse.js":316,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],334:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){var e;return(0,a.default)(this,n),(e=t.call(this,game.slots.FSM_STATES.FS_END_STATE,game.slots.GAME_MODES.FREESPINS_GAME_MODE)).controller=new game.src.SlotsFSM.FSEndController((0,r.default)(e)),e}return(0,i.default)(n)}(l(e("../SlotsState.js")).default);n.default=l},{"../SlotsState.js":300,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],335:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.call(this,game.slots.FSM_STATES.FS_PLAY_DROP_STATE,game.slots.GAME_MODES.FREESPINS_GAME_MODE)}return(0,a.default)(n,[{key:"enter",value:function(){(0,r.default)((0,u.default)(n.prototype),"enter",this).call(this)}},{key:"gotoSpinResultState",value:function(){this.changeState(game.slots.FSM_STATES.FS_SHOW_RESULT_STATE)}}]),n}(l(e("../basestates/PlayDrop.js")).default);n.default=l},{"../basestates/PlayDrop.js":317,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],336:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.call(this,game.slots.FSM_STATES.FS_PLAY_POP_STATE,game.slots.GAME_MODES.FREESPINS_GAME_MODE)}return(0,a.default)(n,[{key:"enter",value:function(){(0,r.default)((0,u.default)(n.prototype),"enter",this).call(this)}},{key:"gotoRequestState",value:function(){this.changeState(game.slots.FSM_STATES.FS_DROP_REQUEST_STATE)}}]),n}(l(e("../basestates/PlayPop.js")).default);n.default=l},{"../basestates/PlayPop.js":318,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],337:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this,game.slots.FSM_STATES.FS_RESTORE_STATE,game.slots.GAME_MODES.FREESPINS_GAME_MODE)).controller=new game.src.SlotsFSM.FSRestoreController((0,r.default)(e)),e}return(0,a.default)(n,[{key:"gotoInitState",value:function(){this.changeState(game.slots.FSM_STATES.FS_INIT_STATE)}},{key:"gotoStartState",value:function(){this.changeState(game.slots.FSM_STATES.FS_START_STATE)}},{key:"gotoCheckState",value:function(){this.changeState(game.slots.FSM_STATES.FS_CHECK_STATE)}},{key:"gotoShowResultState",value:function(){this.changeState(game.slots.FSM_STATES.FS_SHOW_RESULT_STATE)}},{key:"gotoContinueState",value:function(){this.changeState(game.slots.FSM_STATES.FS_CONTINUE_STATE)}}]),n}(l(e("./../basestates/Restore.js")).default);n.default=l},{"./../basestates/Restore.js":319,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],338:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("./../basestates/ShowResult.js"));l(e("../../../../api/Constants.js"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=h(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this,game.slots.FSM_STATES.FS_SHOW_RESULT_STATE,game.slots.GAME_MODES.FREESPINS_GAME_MODE)).controller=new game.src.SlotsFSM.FSShowResultController((0,r.default)(e)),e}return(0,a.default)(n,[{key:"gotoCheckState",value:function(){this.changeState(game.slots.FSM_STATES.FS_CHECK_STATE)}},{key:"gotoPlayPopState",value:function(){this.changeState(game.slots.FSM_STATES.FS_PLAY_POP_STATE)}},{key:"onEnterFinished",value:function(){!this.slots.model.drop.isReady||"freedrop"!=this.slots.model.nextAction&&"freespin"!=this.slots.model.nextAction?this.gotoCheckState():this.gotoPlayPopState()}}]),n}(c.default);n.default=l},{"../../../../api/Constants.js":32,"./../basestates/ShowResult.js":320,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],339:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this,game.slots.FSM_STATES.FS_SPIN_REQUEST_STATE,game.slots.GAME_MODES.FREESPINS_GAME_MODE)).controller=new game.src.SlotsFSM.FSSpinRequestController((0,r.default)(e)),e}return(0,a.default)(n,[{key:"gotoResponseState",value:function(){this.changeState(game.slots.FSM_STATES.FS_SPIN_RESPONSE_STATE)}}]),n}(l(e("./../basestates/SpinRequest.js")).default);n.default=l},{"./../basestates/SpinRequest.js":321,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],340:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("./../basestates/SpinResponse.js"));l(e("../../../../api/Constants.js"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=h(n);function n(){return(0,i.default)(this,n),t.call(this,game.slots.FSM_STATES.FS_SPIN_RESPONSE_STATE,game.slots.GAME_MODES.FREESPINS_GAME_MODE)}return(0,a.default)(n,[{key:"enter",value:function(){(0,r.default)((0,u.default)(n.prototype),"enter",this).call(this)}},{key:"gotoSpinStopState",value:function(){this.changeState(game.slots.FSM_STATES.FS_SPIN_STOP_STATE)}}]),n}(c.default);n.default=l},{"../../../../api/Constants.js":32,"./../basestates/SpinResponse.js":322,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],341:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/get")),s=l(e("@babel/runtime/helpers/inherits")),u=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}l=function(e){(0,s.default)(n,e);var t=h(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this,game.slots.FSM_STATES.FS_SPIN_START_STATE,game.slots.GAME_MODES.FREESPINS_GAME_MODE)).controller=new game.src.SlotsFSM.FSSpinStartController((0,r.default)(e)),e}return(0,a.default)(n,[{key:"enter",value:function(){(0,o.default)((0,c.default)(n.prototype),"enter",this).call(this),this.slots.lines.hide()}},{key:"gotoSpinRequestState",value:function(){this.changeState(game.slots.FSM_STATES.FS_SPIN_REQUEST_STATE)}}]),n}(l(e("../basestates/SpinStart.js")).default);n.default=l},{"../basestates/SpinStart.js":323,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],342:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/get")),s=l(e("@babel/runtime/helpers/inherits")),u=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}l=function(e){(0,s.default)(n,e);var t=h(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this,game.slots.FSM_STATES.FS_SPIN_STOP_STATE,game.slots.GAME_MODES.FREESPINS_GAME_MODE)).controller=new game.src.SlotsFSM.FSSpinStopController((0,r.default)(e)),e}return(0,a.default)(n,[{key:"enter",value:function(){(0,o.default)((0,c.default)(n.prototype),"enter",this).call(this)}},{key:"gotoSpinResultState",value:function(){this.changeState(game.slots.FSM_STATES.FS_SHOW_RESULT_STATE)}}]),n}(l(e("../basestates/SpinStop.js")).default);n.default=l},{"../basestates/SpinStop.js":324,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],343:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){var e;return(0,a.default)(this,n),(e=t.call(this,game.slots.FSM_STATES.FS_START_STATE,game.slots.GAME_MODES.FREESPINS_GAME_MODE)).controller=new game.src.SlotsFSM.FSStartController((0,r.default)(e)),e}return(0,i.default)(n)}(l(e("../SlotsState.js")).default);n.default=l},{"../SlotsState.js":300,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],344:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/get")),s=l(e("@babel/runtime/helpers/inherits")),u=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}l=function(e){(0,s.default)(n,e);var t=h(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this,game.slots.FSM_STATES.GS_IDLE_STATE)).controller=new game.src.SlotsFSM.GSIdleController((0,r.default)(e)),e}return(0,a.default)(n,[{key:"enter",value:function(){(0,o.default)((0,c.default)(n.prototype),"enter",this).call(this),this.slots.model.autoplayMode&&!this.slots.model.giftspins.done&&(this.slots.model.autoplayMode=!1,this.slots.dispatch(game.events.Slots.ON_MODEL_CHANGED,this.slots.model)),this.needChangeModelData()&&(this.slots.model.setData(this.slots.model.giftspins),this.slots.model.denomination=this.slots.model.giftspins.denomination,this.slots.dispatch(game.events.Slots.ON_MODEL_CHANGED,this.slots.model))}},{key:"exit",value:function(){(0,o.default)((0,c.default)(n.prototype),"exit",this).call(this)}},{key:"needChangeModelData",value:function(){return this.slots.model.denomination!==this.slots.model.giftspins.denomination||this.slots.model.playingLinesCount!==this.slots.model.giftspins.lines||this.slots.model.lineBet!==this.slots.model.giftspins.bet}},{key:"onSpinHandler",value:function(){this.changeState(game.slots.FSM_STATES.BG_START_STATE)}}]),n}(l(e("../idle/Idle.js")).default);n.default=l},{"../idle/Idle.js":345,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],345:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/get")),s=l(e("@babel/runtime/helpers/inherits")),u=l(e("@babel/runtime/helpers/possibleConstructorReturn")),c=l(e("@babel/runtime/helpers/getPrototypeOf"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);return e=l?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,e)}}l=function(e){(0,s.default)(n,e);var t=h(n);function n(e){return(0,i.default)(this,n),(e=t.call(this,e||game.slots.FSM_STATES.IDLE_STATE,game.slots.constants.GameMode.IDLE_GAME_MODE)).controller=new game.src.SlotsFSM.IdleController((0,r.default)(e)),e}return(0,a.default)(n,[{key:"enter",value:function(){(0,o.default)((0,c.default)(n.prototype),"enter",this).call(this)}},{key:"exit",value:function(){(0,o.default)((0,c.default)(n.prototype),"exit",this).call(this)}}]),n}(l(e("../SlotsState.js")).default);n.default=l},{"../SlotsState.js":300,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],346:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("../SlotsState.js")),h=l(e("../../../../api/Events.js"));function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=f(n);function n(){return(0,i.default)(this,n),t.call(this,game.slots.FSM_STATES.IG_END_STATE,game.slots.GAME_MODES.INIT_GAME_MODE)}return(0,a.default)(n,[{key:"enter",value:function(){var e=this,t=((0,r.default)((0,u.default)(n.prototype),"enter",this).call(this),c2d.env.storage.getItem("skipIntro",!1));c2d.eventManager.dispatch(h.default.ON_SLOTS_LOADED,{},function(){c2d.eventManager.dispatch(h.default.ON_SLOTS_STARTED,{},function(){e.slots.intro&&!t?e.changeState(game.slots.FSM_STATES.INTRO_STATE):e.slots.cinematic&&!e.slots.cinematic.isSkipped?e.changeState(game.slots.FSM_STATES.CINEMATIC_STATE):e.changeState(game.slots.FSM_STATES.CHECK_STATE)})})}}]),n}(c.default);n.default=l},{"../../../../api/Events.js":33,"../SlotsState.js":300,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],347:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.call(this,game.slots.FSM_STATES.IG_REQUEST_STATE,game.slots.GAME_MODES.INIT_GAME_MODE)}return(0,a.default)(n,[{key:"enter",value:function(){function e(){t.slots.network.off(game.events.Network.ERROR_RECEIVED,e),c2d.eventManager.dispatch(game.events.Slots.ON_SLOTS_LOADED),t.slots.ui.showPopup({header:t.slots.network.responseError.message,image:"popup_smile",confirm:{label:"reload",handler:function(){return c2d.env.reload()}},style:{color:"0x000000",alpha:1}})}var t=this;(0,r.default)((0,u.default)(n.prototype),"enter",this).call(this),c2d.env.initFullscreen();this.slots.network.responseError?e():this.slots.network.responseData?this.changeState(game.slots.FSM_STATES.IG_RESPONSE_STATE):(this.slots.network.onComplete(function(e){return t.changeState(game.slots.FSM_STATES.IG_RESPONSE_STATE)}),this.slots.network.on(game.events.Network.ERROR_RECEIVED,e))}},{key:"exit",value:function(){this.slots.setData(this.slots.network.responseData),(0,r.default)((0,u.default)(n.prototype),"exit",this).call(this)}},{key:"onTokenHandler",value:function(e){c2d.env.storage.setItem("token",e.data)}},{key:"onInitHandler",value:function(e){}}]),n}(l(e("../SlotsState.js")).default);n.default=l},{"../SlotsState.js":300,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],348:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this,game.slots.FSM_STATES.IG_RESPONSE_STATE,game.slots.GAME_MODES.INIT_GAME_MODE)).controller=new game.src.SlotsFSM.IGResponseController((0,r.default)(e)),e}return(0,a.default)(n,[{key:"onEnterFinished",value:function(){this.changeState(game.slots.FSM_STATES.IG_END_STATE)}}]),n}(l(e("../SlotsState.js")).default);n.default=l},{"../SlotsState.js":300,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],349:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/get")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("../SlotsState.js"));l(e("../../../../api/Events.js"));function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=h(n);function n(){return(0,i.default)(this,n),t.call(this,game.slots.FSM_STATES.IG_START_STATE,game.slots.GAME_MODES.INIT_GAME_MODE)}return(0,a.default)(n,[{key:"enter",value:function(){(0,r.default)((0,u.default)(n.prototype),"enter",this).call(this),this.changeState(game.slots.FSM_STATES.IG_REQUEST_STATE)}},{key:"exit",value:function(){(0,r.default)((0,u.default)(n.prototype),"exit",this).call(this)}}]),n}(c.default);n.default=l},{"../../../../api/Events.js":33,"../SlotsState.js":300,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],350:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(e){return(0,a.default)(this,n),(e=t.call(this,e||game.slots.FSM_STATES.CINEMATIC_STATE,game.slots.constants.GameMode.IDLE_GAME_MODE)).controller=new game.src.SlotsFSM.CinematicController((0,r.default)(e)),e}return(0,i.default)(n)}(l(e("../SlotsState.js")).default);n.default=l},{"../SlotsState.js":300,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],351:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/createClass"))),a=l(e("@babel/runtime/helpers/classCallCheck")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(e){return(0,a.default)(this,n),(e=t.call(this,e||game.slots.FSM_STATES.INTRO_STATE,game.slots.constants.GameMode.IDLE_GAME_MODE)).controller=new game.src.SlotsFSM.IntroController((0,r.default)(e)),e}return(0,i.default)(n)}(l(e("../SlotsState.js")).default);n.default=l},{"../SlotsState.js":300,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],352:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=l(e("./api/SlotsApi.js")),a=l(e("./api/Events.js")),r=l(e("./api/Constants.js")),o=l(e("./controller/fsm/SlotsFSM.js")),s=l(e("./controller/fsm/states/SlotsState.js")),u=l(e("./controller/fsm/controllers/base/SlotStateController.js")),l=l(e("./controller/SlotsController.js"));e("./components/index.js"),i.default.ID="Slots",c2d.registerComponent(i.default),game.registerEvents(i.default.ID,a.default),game.slots.constants=r.default,game.slots.FSM_STATES=r.default.SlotsFSM,game.slots.GAME_MODES=r.default.GameMode,game.src.SlotsFSM.baseClass=o.default,game.src.SlotsFSM.baseState=s.default,game.src.SlotsFSM.baseStateController=u.default,game.src.SlotsFSM.SlotsController=l.default},{"./api/Constants.js":32,"./api/Events.js":33,"./api/SlotsApi.js":34,"./components/index.js":162,"./controller/SlotsController.js":267,"./controller/fsm/SlotsFSM.js":269,"./controller/fsm/controllers/base/SlotStateController.js":272,"./controller/fsm/states/SlotsState.js":300,"@babel/runtime/helpers/interopRequireDefault":12}],353:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=u(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this)).totalWins=0,e.winsBefore=0,e.currentStep=0,e.livesCount=0,e.itemsCount=0,e.steps=[],e}return(0,a.default)(n,[{key:"setInitData",value:function(e){this.name=e.name,this.status=e.status,this.livesCount=e.livesCount,this.itemsCount=e.itemsCount,this.itemsMap=e.itemsMap,this.wins=e.wins,this.steps=[],this.extra=e.extra}},{key:"setData",value:function(e){this.name=(e=e||{}).name,this.status=e.status,this.totalWins=Number(e.totalWins)||0,this.winsBefore=Number(e.winsBefore)||0,this.currentStep=Number(e.currentStep)||0,this.livesCount=Number(e.livesCount)||0,this.itemsCount=Number(e.itemsCount)||0,this.itemsMap=e.itemsMap||this.itemsMap,this.steps=e.steps||[],this.extra=e.extra}},{key:"isReady",get:function(){return this.status}},{key:"isStartStatus",get:function(){return"open"===this.status}},{key:"isWinStatus",get:function(){return"win"===this.status}},{key:"isLoseStatus",get:function(){return"lose"===this.status}},{key:"isPlayStatus",get:function(){return this.isWinStatus||this.isLoseStatus}},{key:"isFinishStatus",get:function(){return"final"===this.status}}]),n}(c2d.Model);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],354:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf"));function u(e,t){var n,l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return l&&(e=l),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,r=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return a=e.done,e},e:function(e){r=!0,i=e},f:function(){try{a||null==l.return||l.return()}finally{if(r)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function h(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=h(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this)).games={},e.currentName=null,e}return(0,a.default)(n,[{key:"setData",value:function(e){if(this.currentName=(e=e||{}).currentName||null,this.games={},e.games){var t,n=u(e.games);try{for(n.s();!(t=n.n()).done;){var l=t.value;this.games[l.name]=l}}catch(e){n.e(e)}finally{n.f()}}}},{key:"isReady",get:function(){return!!this.currentName}},{key:"currentBonusGameName",get:function(){return this.currentName}}]),n}(c2d.Model);n.default=l},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],355:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this)).popSymbols=null,e.dropReels=null,e.doneCount=0,e.totalWin=0,e.isReady=!1,Object.seal((0,r.default)(e)),e}return(0,a.default)(n,[{key:"setData",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];t=t||{},this.popSymbols=(e=e||{}).positions||null,this.dropReels=e.reels||null,this.doneCount=Number(t.count)||0,this.totalWin=Number(t.totalWin)||0,this.isReady=n}},{key:"hasPops",get:function(){return!(!this.popSymbols||!this.popSymbols.length)}}]),n}(c2d.Model);n.default=l},{"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],356:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this)).initReels=null,e.totalCount=0,e.addCount=0,e.leftCount=0,e.doneCount=0,e.totalWins=0,e.winsBefore=0,e.type=null,e.extra=null,e.isGift=!1,e.STATUS={NONE:0,START:1,PLAY:2,ADD:3,FINISH:4},Object.seal((0,r.default)(e)),e}return(0,a.default)(n,[{key:"setInitData",value:function(){this.initReels=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).reels}},{key:"setData",value:function(e){this.addCount=(e=e||{}).addCount,this.leftCount=e.leftCount,this.doneCount=e.doneCount,this.totalCount=e.leftCount+e.doneCount,this.totalWins=e.totalWins,this.winsBefore=e.winsBefore,this.type=e.type,this.extra=e.extra,this.isGift=e.isGift}},{key:"status",get:function(){return 0===this.doneCount&&(0<this.addCount||0<this.leftCount)?this.STATUS.START:0<this.doneCount&&0<this.leftCount?this.STATUS.PLAY:0<this.doneCount&&0===this.leftCount?this.STATUS.FINISH:this.STATUS.NONE}},{key:"isActiveStatus",get:function(){return this.status!==this.STATUS.NONE}},{key:"isStartStatus",get:function(){return this.status===this.STATUS.START}},{key:"isPlayStatus",get:function(){return this.status===this.STATUS.PLAY}},{key:"isFinishStatus",get:function(){return this.status===this.STATUS.FINISH}},{key:"isAddStatus",get:function(){return 0<this.addCount}}]),n}(c2d.Model);n.default=l},{"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],357:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(e,t){var n,l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return l&&(e=l),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,r=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return a=e.done,e},e:function(e){r=!0,i=e},f:function(){try{a||null==l.return||l.return()}finally{if(r)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function f(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=f(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this))._freeze=null,e._unfreeze=null,e._frozen=null,Object.seal((0,r.default)(e)),e}return(0,a.default)(n,[{key:"reset",value:function(){this.freeze=null,this.unfreeze=null,this.frozen=null}},{key:"setData",value:function(e){this.freeze=(e=e||{}).freeze||null,this.unfreeze=e.unfreeze||null,this.frozen=e.frozen||null}},{key:"frozen",get:function(){return this._frozen},set:function(e){this._frozen=e}},{key:"freeze",get:function(){return this._freeze},set:function(e){this._freeze=e}},{key:"unfreeze",get:function(){return this._unfreeze},set:function(e){this._unfreeze=e}},{key:"hasFreeze",get:function(){return Boolean(this._freeze&&(this._freeze.positions.length||this._freeze.reels.length))}},{key:"hasUnfreeze",get:function(){return Boolean(this._unfreeze&&(this._unfreeze.positions.length||this._unfreeze.reels.length))}},{key:"hasFrozen",get:function(){return Boolean(this._frozen&&(this._frozen.positions.length||this._frozen.reels.length))}},{key:"hasAny",get:function(){return this.hasFreeze||this.hasFrozen||this.hasUnfreeze}},{key:"getFrozenWithFreeze",value:function(){var l=this;if(this.hasFreeze||this.hasFrozen){var i=this._freeze?Object.assign({},this._freeze):null;if(this._frozen){var a,t=c(this._frozen.positions);try{for(t.s();!(a=t.n()).done;)!function(){var t=a.value,e=i?i.positions.findIndex(function(e){return e.symId===t.symId&&e.reelId===t.reelId}):-1,n=l._unfreeze?l._unfreeze.positions.findIndex(function(e){return e.symId===t.symId&&e.reelId===t.reelId}):-1;-1===e&&-1===n&&i.positions.push(t)}()}catch(e){t.e(e)}finally{t.f()}}return i}return null}}]),n}(c2d.Model);n.default=l},{"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],358:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this)).enabled=!1,e.left=0,e.done=0,e.add=0,e.lines=0,e.bet=0,e.denomination=0,e._prevModelData=null,Object.seal((0,r.default)(e)),e}return(0,a.default)(n,[{key:"setData",value:function(e){this.left=(e=e||{}).left||0,this.done=e.done||0,this.add=e.add||0,this.lines=e.lines||0,this.bet=e.bet||0,this.denomination=e.denomination||0}},{key:"prevModelData",get:function(){return this._prevModelData},set:function(e){this._prevModelData=e}},{key:"hasSpins",get:function(){return 0<this.left}},{key:"totalCount",get:function(){return this.left+this.done}}]),n}(c2d.Model);n.default=l},{"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],359:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/inherits")),o=l(e("@babel/runtime/helpers/possibleConstructorReturn")),s=l(e("@babel/runtime/helpers/getPrototypeOf")),u=l(e("./SlotsModel.js"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(n);return e=l?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,e)}}l=function(e){(0,r.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"setData",value:function(e){this.data=e,this.data.events.forEach(function(e){e.model=new u.default;var t=new game.src.Network.Parser;e.model.setData(t.parse(e.response))})}},{key:"currentPage",get:function(){return this.data.currentPage}},{key:"pages",get:function(){return this.data.pages}},{key:"records",get:function(){return this.data.events}}]),n}(c2d.Model);n.default=l},{"./SlotsModel.js":362,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],360:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this))._symbols=[],Object.seal((0,r.default)(e)),e}return(0,a.default)(n,[{key:"setData",value:function(e){this._symbols=e.symbols}},{key:"hasReplace",get:function(){return this._symbols&&!!this._symbols.length}},{key:"symbols",get:function(){return this._symbols}}]),n}(c2d.Model);n.default=l},{"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],361:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this)).addCount=0,e.leftCount=0,e.doneCount=0,e.totalCount=0,e.totalWin=0,Object.seal((0,r.default)(e)),e}return(0,a.default)(n,[{key:"setData",value:function(e){e=e||{},this.addCount=Number(e.add)||0,this.totalCount=Number(e.total)||0,this.doneCount=Number(e.count)||0,this.leftCount=this.totalCount-Number(e.count),this.totalWin=Number(e.totalWin)||0}},{key:"hasRespin",get:function(){return 0<this.leftCount}},{key:"isFirstRespin",get:function(){return 0===this.doneCount}},{key:"isFinalRespin",get:function(){return Boolean(this.totalCount&&this.totalCount===this.doneCount)}}]),n}(c2d.Model);n.default=l},{"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],362:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf")),c=l(e("./FreespinsModel.js")),h=l(e("./BonusGameModel.js")),f=l(e("./BonusGamesModel.js")),d=l(e("./DropModel.js")),p=l(e("./FreezeModel.js")),y=l(e("./ReplaceModel.js")),b=l(e("./HistoryModel.js")),m=l(e("./RespinModel.js")),g=l(e("./GiftSpinsModel.js")),v=l(e("./WalksModel.js")),_=l(e("./StatisticModel.js"));function S(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=S(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this)).audioEnabled=!1,e.masterVolume=c2d.env.storage.getItem("masterVolume",1),e.sfxVolume=c2d.env.storage.getItem("sfxVolume",1),e.musicVolume=c2d.env.storage.getItem("musicVolume",1),e.audioLoaded=!1,e.leftHand=!1,e.turboMode=!!c2d.env.showTurboButton&&c2d.env.storage.getItem("turboMode",!1),e.quickStop=!1,e.initSpin=null,e.freespinsAutoplay=!1,e.needShowAllWinsAfterScatters=!1,e.needWaitWhileScattersWillShown=!0,e.autoCollect=!1,e.isPossibilitySkipWin=!1,e.autoplayMode=!1,e.fixedBet=!1,e.balanceBefore=0,e.balanceAfter=0,e.denomination=0,e.multiplier=1,e.nextMultiplier=1,e.currency=null,e.symbolsConfig=null,e.linesConfig=null,e.defaultReels=null,e.betRanges=null,e.restoreState=!1,e.scatterId=-1,e.initExtra=null,e.lineBet=1,e.playingLinesCount=0,e.hasInitData=!1,e.freespins=new c.default,e.drop=new d.default,e.freeze=new p.default,e.replace=new y.default,e.respin=new m.default,e.giftspins=new g.default,e.bonusGame=new h.default,e.bonusGames=new f.default,e.historyModel=new b.default,e.walks=new v.default,e.statistic=new _.default((0,r.default)(e)),e.extra={},e.totalWin=0,e.previousTotalWin=0,e.grandTotalWin=0,e.reels=null,e.restoreReels=null,e.lineWins=null,e.scatterWins=null,e.wayWins=null,e.groupWins=null,e.collectibleWins=null,e.previousState="NONE",e.currentState="NONE",e.previousPhase="NONE",e.currentPhase="NONE",e.previousMode="NONE",e.currentMode="NONE",e.availableActions=[],e.currentSpinType="NONE",e}return(0,a.default)(n,[{key:"setHistoryData",value:function(e){this.historyModel.setData(e)}},{key:"setData",value:function(e){e.initData&&this.setInitData(e.initData),e.initFreespinData&&this.setInitFreespinData(e.initFreespinData),e.initBonusGameData&&this.bonusGame.setInitData(e.initBonusGameData),e.giftSpinsData&&(this.fixedBet&&e.giftSpinsData.bet&&(e.giftSpinsData.bet*=this.fixedBet),this.giftspins.setData(e.giftSpinsData)),e.spinData&&(e.initFreespinData&&e.initFreespinData.fixedBet&&(e.spinData.fixedBet=e.initFreespinData.fixedBet),this.setSpinData(e.spinData)),void 0!==e.lines&&(this.playingLinesCount=e.lines,this.lineBet=e.bet),e.balance&&(this.balanceAfter=e.balance.after,this.balanceBefore=this.autoCollect?this.balanceAfter:e.balance.before,this.grandTotalWin=e.grandTotalWin),e.denomination&&(this.denomination=e.denomination),e.nextAction,e.availableActions&&(this.availableActions=e.availableActions),e.availableActions&&(this.availableActions=e.availableActions),!e.bonusGameData&&e.initBonusGameData||this.bonusGame.setData(e.bonusGameData),this.bonusGames.setData(e.bonusGamesData),this.hasInitData=Boolean(e.initData)}},{key:"setInitData",value:function(e){this.playingLinesCount=e.lines||this.playingLinesCount,this.lineBet=e.bet,this.multiplier=e.multiplier,this.nextMultiplier=e.nextMultiplier,this.game_type=e.game_type,this.restoreState=e.restoreState,this.currency=e.currency,this.symbolsConfig=e.symbolsConfig,this.linesConfig=e.linesConfig,this.defaultReels=e.defaultReels,this.reels=e.defaultReels,this.betRanges=e.betRanges,this.scatterId=e.scatterId,this.initExtra=e.extra,this.rtp=e.rtp,this.nextRequestId=e.nextRequestId,this.fixedBet=e.fixedBet}},{key:"setSpinData",value:function(e){this.playingLinesCount=e.lines||this.playingLinesCount,this.lineBet=e.bet,this.freespins.setData(e.freespins),this.drop.setData(e.drop,e.dropChain,e.dropReady),this.freeze.setData(e.freeze),this.replace.setData(e.replace),this.respin.setData(e.respinChain),this.walks.setData(e.walks,e.reels),this.multiplier=e.multiplier,this.nextMultiplier=e.nextMultiplier,this.reels=e.reels,this.restoreReels=e.restoreReels,this.previousTotalWin=this.grandTotalWin||this.totalWin||this.previousTotalWin,this.totalWin=e.totalWin,this.lineWins=e.lineWins,this.scatterWins=e.scatterWins,this.wayWins=e.wayWins,this.collectibleWins=e.collectibleWins,this.groupWins=e.groupWins,this.fixedBet=this.fixedBet||e.fixedBet,this.reelsData=e.reelsData,this.extra=e.extra,this.currentSpinType=e.type}},{key:"setInitFreespinData",value:function(e){e.multiplier&&(this.multiplier=e.multiplier),this.playingLinesCount=e.lines||this.playingLinesCount,this.lineBet=e.bet,this.freespins.setInitData(e),this.freespins.setData(e.freespins),this.freeze.setData(e.freeze),this.walks.setData(e.walks,e.reels),this.fixedBet=this.fixedBet||e.fixedBet,this.extra=e.extra}},{key:"respinReady",get:function(){return"respin"==this.nextAction}},{key:"nextAction",get:function(){return this.availableActions.first}},{key:"allWins",get:function(){return this.lineWins.concat(this.scatterWins)}},{key:"hasWins",get:function(){return this.hasWinLines||this.hasWinScatters||this.hasWinWays||this.hasWinGroups||this.hasWinCollectible||this.drop.isReady}},{key:"hasWinLines",get:function(){return!!this.lineWins&&!!this.lineWins.length}},{key:"hasWinScatters",get:function(){return!!this.scatterWins&&!!this.scatterWins.length}},{key:"hasWinWays",get:function(){return this.wayWins&&0<this.wayWins.length}},{key:"hasWinGroups",get:function(){return this.groupWins&&0<this.groupWins.length}},{key:"hasWinCollectible",get:function(){return this.collectibleWins&&0<this.collectibleWins.length}},{key:"cashBefore",get:function(){return this.balanceBefore}},{key:"cashAfter",get:function(){return this.balanceAfter}},{key:"cashAfterMinusTotalBet",get:function(){return this.giftspins.hasSpins?this.cashAfter:Math.round(100*(this.cashAfter-this.totalBetCash))/100}},{key:"creditBefore",get:function(){var e=Math.round(this.cashBefore/this.denomination*100)/100;return Math.floor(e)}},{key:"creditAfter",get:function(){var e=Math.round(this.cashAfter/this.denomination*100)/100;return Math.floor(e)}},{key:"creditAfterMinusTotalBet",get:function(){return this.giftspins.hasSpins?this.creditAfter:Math.floor(Math.round(100*(this.creditAfter-this.totalBetCredit))/100)}},{key:"bet",get:function(){return this.lineBet}},{key:"totalBetCash",get:function(){return Math.round(this.totalBetCredit*this.denomination*100)/100}},{key:"totalBetCredit",get:function(){return this.bet*(this.fixedBet?1:this.playingLinesCount)}},{key:"hasCreditToSpin",get:function(){return!!this.giftspins.hasSpins||this.creditAfter>=this.totalBetCredit}},{key:"denominations",get:function(){return this.betRanges?this.betRanges.map(function(e){return e.denomination}):[]}},{key:"getBetsForDenomination",value:function(t){return this.betRanges?this.betRanges.find(function(e){return e.denomination===t}).bets:[]}},{key:"updateStatistic",value:function(){this.statistic.updateStatistic(this.grandTotalWin)}},{key:"betLevel",get:function(){return this.getBetsForDenomination(this.denomination).indexOf(this.lineBet)+1}},{key:"columnsCount",value:function(){return this.reels.length}},{key:"rowsCount",value:function(e){return this.reels[e].symbols.length}}]),n}(c2d.Model);n.default=l},{"./BonusGameModel.js":353,"./BonusGamesModel.js":354,"./DropModel.js":355,"./FreespinsModel.js":356,"./FreezeModel.js":357,"./GiftSpinsModel.js":358,"./HistoryModel.js":359,"./ReplaceModel.js":360,"./RespinModel.js":361,"./StatisticModel.js":363,"./WalksModel.js":364,"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],363:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(l,e);var n=c(l);function l(e){var t;return(0,i.default)(this,l),(t=n.call(this))._localStorageSupported=t._localStorageTest(),t._localStorageVariable={},t.slotsModel=e,t.statistic={rounds:-1,totalWin:0,totalStake:0,netWin:0,_timeEnter:new Date,_updated:!1,_giftSpinsInProgress:!1},t.sessionId=null,t._setupStatistic(),Object.seal((0,r.default)(t)),t}return(0,a.default)(l,[{key:"_localStorageTest",value:function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}}},{key:"_localStorageSet",value:function(e,t){this._localStorageSupported?localStorage.setItem(e,t):this._localStorageVariable[e]=t}},{key:"_localStorageGet",value:function(e){return this._localStorageSupported?localStorage.getItem(e):this._localStorageVariable[e]}},{key:"rounds",get:function(){return this.statistic.rounds}},{key:"totalWin",get:function(){return c2d.env.toCurrency(this.slotsModel.currency,this.statistic.totalWin)}},{key:"totalStake",get:function(){return c2d.env.toCurrency(this.slotsModel.currency,this.statistic.totalStake)}},{key:"netWin",get:function(){return c2d.env.toCurrency(this.slotsModel.currency,this.statistic.netWin)}},{key:"timeEnter",get:function(){return this.statistic._timeEnter}},{key:"updated",get:function(){return this.statistic._updated},set:function(e){this.statistic._updated=e}},{key:"giftSpinsInProgress",get:function(){return this.statistic._giftSpinsInProgress},set:function(e){this.statistic._giftSpinsInProgress=e}},{key:"updateStatistic",value:function(e){var t;this.updated&&this.sessionId||(this.statistic.rounds++,this.updated=!0,0<this.statistic.rounds&&(t=this.getCurrentBet(),this.statistic.totalWin+=e,this.statistic.totalStake+=t,this.statistic.netWin=this.statistic.totalWin-this.statistic.totalStake),this._updateInLocalStorage())}},{key:"_updateInLocalStorage",value:function(){if(this.sessionId){var e,t=this._localStorageGet("InfoScreen.statistic"),n=t?JSON.parse(t):{};for(e in n)864e5<new Date-new Date(n[e]._timeEnter)&&delete n[e];n[this.sessionId]=this.statistic,this._localStorageSet("InfoScreen.statistic",JSON.stringify(n))}}},{key:"unlockStatistic",value:function(){this.updated&&(this.updated=!1,this._updateInLocalStorage())}},{key:"_setupStatistic",value:function(){var e;jsvars.session_id&&(this.sessionId=jsvars.session_id,c2d.eventManager.subscribe("UNLOCK_STATISTIC",this.unlockStatistic.bind(this)),(e=this._localStorageGet("InfoScreen.statistic"))&&(e=JSON.parse(e))[this.sessionId]&&(this.statistic=e[this.sessionId],this.statistic._timeEnter=new Date(this.statistic._timeEnter)))}},{key:"getCurrentBet",value:function(){var e=this.slotsModel.giftspins,e=e&&e.left,t=e||this.giftSpinsInProgress?0:this.slotsModel.bet;return this.giftSpinsInProgress=!!e,t}}]),l}(c2d.Model);n.default=l},{"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}],364:[function(e,t,n){"use strict";var l=e("@babel/runtime/helpers/interopRequireDefault"),i=(Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,l(e("@babel/runtime/helpers/classCallCheck"))),a=l(e("@babel/runtime/helpers/createClass")),r=l(e("@babel/runtime/helpers/assertThisInitialized")),o=l(e("@babel/runtime/helpers/inherits")),s=l(e("@babel/runtime/helpers/possibleConstructorReturn")),u=l(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);return e=l?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,e)}}l=function(e){(0,o.default)(n,e);var t=c(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this))._walks=[],e._reels=[],Object.seal((0,r.default)(e)),e}return(0,a.default)(n,[{key:"setData",value:function(e,t){e=e||[],this.reels=t,this._walks=e,this.hasWalks&&(console.log("new walks :"+this.newWalks.map(function(e){return"("+e.position.reelId+","+e.position.symId+")"})),console.log("old walks :"+this.oldWalks.map(function(e){return"("+e.position.reelId+","+e.position.symId+")"})),console.log("tired walks :"+this.tiredWalks.map(function(e){return"("+e.position.reelId+","+e.position.symId+")"})),console.log("gone walks :"+this.outWalks.map(function(e){return"("+e.position.reelId+","+e.position.symId+")"})))}},{key:"reels",set:function(e){this._reels=e}},{key:"hasWalks",get:function(){return 0<this._walks.length}},{key:"oldWalks",get:function(){return this._walks.filter(function(e){return e.from})}},{key:"newWalks",get:function(){return this._walks.filter(function(e){return!e.from}).exclude(this.tiredWalks)}},{key:"tiredWalks",get:function(){return this._walks.filter(function(e){return 0==e.hold}).exclude(this.outWalks)}},{key:"outWalks",get:function(){var t=this;return this._walks.filter(function(e){e=e.position;return e.reelId<0||e.reelId>=t._reels.length||e.symId<0||e.symId>=t._reels.first.symbols.length})}},{key:"getWalksInPosition",value:function(t,n){return this._walks.filter(function(e){return e.position.reelId==t&&e.position.symId==n})}},{key:"removeWalkById",value:function(t){this._walks=this._walks.filter(function(e){return e.id!=t})}},{key:"aliveWalks",get:function(){return this._walks.exclude(this.outWalks)}}]),n}(c2d.Model);n.default=l},{"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":19}]},{},[30]);